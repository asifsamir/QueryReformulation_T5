[{"bug_id": "112599", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/XMPPChatRoomContainer.java", "providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/XMPPChatRoomContainer.java"], "repo": "ecf", "reformed_query": "subject chat XMPP title updated updated xmpp updated xmpp Bug", "bug_title": " [XMPP] Room subject does not get updated in xmpp chat", "bug_description": "When updated remotely by xmpp server title of room does not get updated dynamically"}, {"bug_id": "125572", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/generic/ClientSOContainer.java", "framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/generic/ClientSOContainer.java"], "repo": "ecf", "reformed_query": "IConnectContext Message IConnection SOContainer running problem Context isConnected thread app", "bug_title": " ECF Generic provider thread interlock", "bug_description": "We see the following problem while running an ECF-based app that connects to an ECF-based server app using version 0.5 or version 0.6 ECF generic provider. From time to time two threads in a client app become interlocked on two mutexes: Thread [Thread-2] (Suspended) owns: Client  (id=136) waiting for: ClientSOContainer$Lock  (id=135) SyncSOClientContainer(ClientSOContainer).connect(ID, IConnectContext) line: 162 TimeSyncTask$TimeSyncInitiator.initSyncService() line: 48 TimeSyncTask.run() line: 133 Thread.run() line: not available Thread [Thread-3] (Suspended) owns: ClientSOContainer$Lock  (id=135) waiting for: Client  (id=136) Client.isConnected() line: 213 SyncSOClientContainer(SOContainer).killConnection(IConnection) line: 742 SyncSOClientContainer(ClientSOContainer).dispose() line: 79 TimeSyncTask$TimeSyncInitiator.closeSyncService() line: 77 TimeSyncTask$TimeSyncInitiator.sendTimeSyncMessage() line: 67 TimeSyncTask.run() line: 134 Thread.run() line: not available"}, {"bug_id": "134483", "ground_truth": ["framework/bundles/org.eclipse.ecf/src/org/eclipse/ecf/core/ContainerFactory.java"], "repo": "ecf", "reformed_query": "ExceptionInInitializerError eclipse eclipse getDefault version ECFPlugin Factory init Client references", "bug_title": " Standalone ClientApplication is breaks in line 137 since ContainerFactory uses ECFPlugin", "bug_description": "The standalone org.eclipse.ecf.provider.app.ClientApplication.init (line 72) throws an ExceptionInInitializerError, since the ContainerFactory references the ECFPlugin in the contructor. The ClientApplication is standalone (i.e  it doesn't not run in Eclipse or in an Eclipse Rich Client), so (I think) the ECFPlugin is never initialised and thus the \"ECFPlugin.getDefault()\" throws a NullPointerExcepton. A previous version of ECF (I think v0.62) worked ok, since in this version the ContainerFactory did not yet use the ECFPlugin."}, {"bug_id": "146622", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/generic/SOContainer.java"], "repo": "ecf", "reformed_query": "deserialize handleAsynchEvent processAsynch BinaryInputStream org read instance MessageReceiver classloader reset", "bug_title": " deserializeSharedObjectMessage with custom Class problem", "bug_description": "when sending a instance of a custom Class in a SharedObject, one get this Exception: java.io.EOFException at java.io.ObjectInputStream$PeekInputStream.readFully(Unknown Source) at java.io.ObjectInputStream$BlockDataInputStream.readShort(Unknown Source) at java.io.ObjectInputStream.readStreamHeader(Unknown Source) at java.io.ObjectInputStream.<init>(Unknown Source) at org.eclipse.ecf.core.util.IdentifiableObjectInputStream.<init>(IdentifiableObjectInputStream.java:31) at org.eclipse.ecf.provider.generic.SOContainer.deserializeSharedObjectMessage(SOContainer.java:1039) at org.eclipse.ecf.provider.generic.SOContainer.handleSharedObjectMessage(SOContainer.java:711) at org.eclipse.ecf.provider.xmpp.container.XMPPGroupChatSOContainer.handleContainerMessage(XMPPGroupChatSOContainer.java:132) at org.eclipse.ecf.provider.xmpp.container.XMPPClientSOContainer.processAsynch(XMPPClientSOContainer.java:346) at org.eclipse.ecf.provider.generic.SOContainer$MessageReceiver.handleAsynchEvent(SOContainer.java:194) ... after a look at source code, in org.eclipse.ecf.provider.generic.SOContainer line 1039, it seems that's the BinaryInputStream needs to be reset before trying deserialisation with the SharedObject classloader. a simple 'bins.reset()' corrects the problems. also the first error dump should not be dumped since this is a \"normal\" behavior. We do not want such stack trace for each custom object sent !"}, {"bug_id": "147269", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/generic/SOContainer.java"], "repo": "ecf", "reformed_query": "Shared createObject ECF launching Group Win Create findClass error", "bug_title": " The \"send file\" functionality fails and launches the exception org.eclipse.ecf.core.SharedObjectCreateException", "bug_description": ">>> Environment: WinXP + Java 1.5.0_06 + Eclipse 3.2 RC/ + EMF 2.2.0 RC7 + ECF 0.8.5  Furthermore,  we have downloaded from CVS the projects - org.eclipse.ecf - org.eclipse.ecf.discovery - org.eclipse.ecf.example.collab - org.eclipse.ecf.presence - org.eclipse.ecf.provider - org.eclipse.ecf.ui >>> Steps to reproduce:  - Start the ServerApplication: we have started the ServerApplication - BOTH from the projects in the workspace by the menu \u00e2\u20ac\u0153Run\u00e2\u20ac? AND from the installed package by command shell (once at a time, of course) and we have the above mentioned exception. - Start the clients: we have started - BOTH the client installed IN Eclipse AND the \u00e2\u20ac\u0153ECF Example Collab Client\u00e2\u20ac? once at a time and at the same time, on the same pc and on several pc, and we have the same exception. -  Start the collaboration: we select \u00e2\u20ac\u0153Connect Workspace (new Dialog)\u00e2\u20ac? from ECF menu and specify the protocol \u00e2\u20ac\u0153ECF Generic\u00e2\u20ac? and Group ID   \t      \u00e2\u20ac\u0153ecftcp://***.***.***.***:3282/server\u00e2\u20ac?. The connection and presence awareness work well. - Select \u00e2\u20ac\u0153send file\u00e2\u20ac?: Both \u00e2\u20ac\u0153Send file to X\u00e2\u20ac? and \u00e2\u20ac\u0153Send File\u00e2\u20ac? (to group) allow to choose the file and then they fail launching an exception (that follows) on the client who has requested to send the file. After the communication error, the client goes on (doesn\u00e2\u20ac\u2122t crash) while others clients don\u00e2\u20ac\u2122t notice anything. >>> The exception is the following: org.eclipse.ecf.core.SharedObjectCreateException: Container GUID[ea_dOe1hV.l_79dNeFQuDN0R9L0-] had exception creating shared object GUID[P9MuuQAIDVCBlkXh3fyhNCgVXP4-]: java.lang.ClassNotFoundException: org.eclipse.ecf.example.collab.share.io.EclipseFileTransfer at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:407) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:352) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:83) at java.lang.ClassLoader.loadClass(Unknown Source) at java.lang.ClassLoader.loadClassInternal(Unknown Source) at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Unknown Source) at org.eclipse.ecf.provider.generic.SOManager.loadSharedObject(SOManager.java:135) at org.eclipse.ecf.provider.generic.SOManager.createSharedObject(SOManager.java:171) at org.eclipse.ecf.example.collab.share.GenericSharedObject.createObject(GenericSharedObject.java:478) at org.eclipse.ecf.example.collab.share.EclipseCollabSharedObject.createObject(EclipseCollabSharedObject.java:1217) at org.eclipse.ecf.example.collab.ui.LineChatClientView.createObject(LineChatClientView.java:322) at org.eclipse.ecf.example.collab.ui.ChatComposite$37.run(ChatComposite.java:1126) - \tat java.lang.Thread.run(Unknown Source)"}, {"bug_id": "165815", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.remoteservice/src/org/eclipse/ecf/provider/remoteservice/generic/RegistrySharedObject.java"], "repo": "ecf", "reformed_query": "Local registered bugs Java length identical local Rem IRemote", "bug_title": " Local access to local remoteservicereference not implemented", "bug_description": "Hi Paul, Please file this as a bug.  The reason is simply that the local access to locally registered remoteservices (i.e. remoteContainerOne calling getRemoteServiceReferences for a remoteservice it has registered) is not yet implemented. I'll address the other issues in another posting. Scott Paul Woodward wrote: > Hi Rem, > > &gt; Paul Woodward wrote: > &gt; > // THIS TEST ALWAYS BREAKS - WHY? > &gt; > IRemoteServiceReference[] refsOne = > &gt; remoteContainerOne.getRemoteServiceReferences(null, > &gt; org.eclipse.ecf.tests.remoteservice.IConcat.class.getN > &gt; ame(), null); > &gt; >         assertTrue(refsOne.length > 0); > &gt; &gt; However, with regards to this test failure, can you > &gt; provide us with some &gt; additional information? Does the assertion just fail > &gt; and that's it? Does &gt; an exception get thrown? Are you using Java 1.6? The > &gt; issue may be &gt; identical to what's been reported at bug #161684. > &gt; &gt; https://bugs.eclipse.org/bugs/show_bug.cgi?id=161684 > &gt; > No exceptions, just the assertion that fails. I'm using Java 1.5. > > Cheers, Paul"}, {"bug_id": "168382", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice/src/org/eclipse/ecf/remoteservice/client/AbstractClientContainer.java"], "repo": "ecf", "reformed_query": "prepare report Tcp executor StandardContext AbstractBaseFragment core Util Filter BirtEngineServlet", "bug_title": " [Regression] Exception is thrown out when preview an old report design [0901]", "bug_description": "Description: Exception is thrown out when preview an old report design. Regression of bug #143126 Build number: 2.1.2.v20061215-0710 Steps to reproduce: 1. Open the report design. 2. Preview. Expected result: No exception is thrown out. Actual result: Exception is thrown out when preview the old report design. Error log: ReportDesign (id = 1): - Group \"NewTableGroup1\" used in column CUSTOMERNUMBER does not exist. data.engine.GroupNotExist ( 1 time(s) ) detail : org.eclipse.birt.data.engine.core.DataException: Group \"NewTableGroup1\" used in column CUSTOMERNUMBER does not exist. at org.eclipse.birt.data.engine.impl.PreparedQuery.prepare(PreparedQuery.java:166) at org.eclipse.birt.data.engine.impl.PreparedQuery.<init>(PreparedQuery.java:108) at org.eclipse.birt.data.engine.impl.PreparedSubquery.<init>(PreparedSubquery.java:79) at org.eclipse.birt.data.engine.impl.PreparedQuery.prepareGroup(PreparedQuery.java:241) at org.eclipse.birt.data.engine.impl.PreparedQuery.prepare(PreparedQuery.java:176) at org.eclipse.birt.data.engine.impl.PreparedQuery.<init>(PreparedQuery.java:108) at org.eclipse.birt.data.engine.impl.PreparedDataSourceQuery.<init>(PreparedDataSourceQuery.java:66) at org.eclipse.birt.data.engine.impl.PreparedOdaDSQuery.<init>(PreparedOdaDSQuery.java:60) at org.eclipse.birt.data.engine.impl.PreparedQueryUtil.newInstance(PreparedQueryUtil.java:94) at org.eclipse.birt.data.engine.impl.DataEngineImpl.prepare(DataEngineImpl.java:377) at org.eclipse.birt.report.engine.data.dte.DteDataEngine.doPrepareQuery(DteDataEngine.java:92) at org.eclipse.birt.report.engine.data.dte.AbstractDataEngine.prepare(AbstractDataEngine.java:185) at org.eclipse.birt.report.engine.executor.ReportExecutor.execute(ReportExecutor.java:99) at org.eclipse.birt.report.engine.internal.executor.l18n.LocalizedReportExecutor.execute(LocalizedReportExecutor.java:38) at org.eclipse.birt.report.engine.layout.html.HTMLReportLayoutEngine.layout(HTMLReportLayoutEngine.java:68) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.doRun(RunAndRenderTask.java:207) at org.eclipse.birt.report.engine.api.impl.RunAndRenderTask.run(RunAndRenderTask.java:143) at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source) at org.eclipse.birt.report.service.ReportEngineService.runAndRenderReport(Unknown Source) at org.eclipse.birt.report.service.BirtViewerReportService.runAndRenderReport(Unknown Source) at org.eclipse.birt.report.service.actionhandler.BirtRunAndRenderActionHandler.__execute(Unknown Source) at org.eclipse.birt.report.service.actionhandler.AbstractBaseActionHandler.execute(Unknown Source) at org.eclipse.birt.report.presentation.aggregation.layout.EngineFragment.doService(Unknown Source) at org.eclipse.birt.report.presentation.aggregation.AbstractBaseFragment.service(Unknown Source) at org.eclipse.birt.report.servlet.BirtEngineServlet.__doGet(Unknown Source) at org.eclipse.birt.report.servlet.BaseReportEngineServlet.doGet(Unknown Source) at javax.servlet.http.HttpServlet.service(HttpServlet.java:740) at org.apache.axis.transport.http.AxisServletBase.service(AxisServletBase.java:327) at javax.servlet.http.HttpServlet.service(HttpServlet.java:853) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:247) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:193) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:256) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) at org.apache.catalina.valves.CertificatesValve.invoke(CertificatesValve.java:246) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at org.apache.catalina.core.StandardContext.invoke(StandardContext.java:2422) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:180) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) at org.apache.catalina.valves.ErrorDispatcherValve.invoke(ErrorDispatcherValve.java:171) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641) at org.eclipse.tomcat.internal.EclipseErrorReportValve.invoke(EclipseErrorReportValve.java:153) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:641) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:174) at org.apache.catalina.core.StandardPipeline$StandardPipelineValveContext.invokeNext(StandardPipeline.java:643) at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:480) at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:995) at org.apache.coyote.tomcat4.CoyoteAdapter.service(CoyoteAdapter.java:199) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:828) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:700) at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:584) at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683) at java.lang.Thread.run(Unknown Source)"}, {"bug_id": "172958", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc/src/org/eclipse/ecf/internal/provider/irc/container/IRCRootContainer.java", "providers/bundles/org.eclipse.ecf.provider.irc/src/org/eclipse/ecf/internal/provider/irc/container/IRCRootContainer.java"], "repo": "ecf", "reformed_query": "patch containers Channel mode Patch mode Root command Root Container", "bug_title": " [IRC][Patch] New / commands for Root & Channel Containers", "bug_description": "/ commands now work in the Channel Container and I setup a /op command for both containers. If this patch is acceptable I'll continue and write out all the /mode related commands for the ui. Thanks, Mark"}, {"bug_id": "174480", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc/src/org/eclipse/ecf/internal/provider/irc/Messages.java"], "repo": "ecf", "reformed_query": "IRCRoot exe Sun Bug eclipse log Microsystems build arch Connecting", "bug_title": " Missing NLS message using 1.0.0", "bug_description": "I got this warning in the .log file after restarting my workspace with ECF 1.0.0 installed. NLS missing message: IRCRootContainer_Exception_Connecting in: org.eclipse.ecf.internal.provider.irc.messages Startup info: eclipse.buildId=I20070213-0907 java.version=1.6.0_01-ea java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_CA Framework arguments:  -launcher D:\\eclipse\\I0213\\eclipse\\eclipse.exe -name Eclipse -startup D:\\eclipse\\I0213\\eclipse\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070208a.jar -showlocation Command-line arguments:  -os win32 -ws win32 -arch x86 -launcher D:\\eclipse\\I0213\\eclipse\\eclipse.exe -name Eclipse -startup D:\\eclipse\\I0213\\eclipse\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070208a.jar -debug -consolelog -console -showlocation"}, {"bug_id": "183492", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/.classpath", "framework/bundles/org.eclipse.ecf.provider/.settings/org.eclipse.jdt.core.prefs", "framework/bundles/org.eclipse.ecf.provider/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.identity/src/org/eclipse/ecf/internal/core/identity/Activator.java"], "repo": "ecf", "reformed_query": "ECF", "bug_title": " [generic] 'ECF Server Application' launch config will not run", "bug_description": ""}, {"bug_id": "192573", "ground_truth": ["examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/LineChatView.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/actions/OpenSharedEditorAction.java"], "repo": "ecf", "reformed_query": "action Communications Invoking action Send open Bug soandso resources ECF", "bug_title": " Send Request to Open Resource fails with incorrect message", "bug_description": "Just installing ECF as part of Europa adds a \"Communications\" context menu to all of my resources with a \"Send Request to Open Resource\" action.  Invoking it opens a dialog saying \"Project 'soandso' not connected to any collaboration groups.  To connect, open context menu for resource and ECF->Join ECF Collaboration...\".  There's no such property page on either the file or the dynamic web project containing it."}, {"bug_id": "192574", "ground_truth": ["framework/bundles/org.eclipse.ecf.ui/src/org/eclipse/ecf/internal/ui/CategoryPreferencePage.java"], "repo": "ecf", "reformed_query": "affect settings isn Apply Bug preference affect Defaults empty Communications", "bug_title": " Communications preference page isn't empty enough", "bug_description": "The Restore Defaults and Apply buttons are there, but have no settings to affect."}, {"bug_id": "192756", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/plugin.properties", "framework/bundles/org.eclipse.ecf.presence.ui/plugin.xml", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/Messages.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/messages.properties", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/preferences/ChatRoomPreferencePage.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/preferences/PreferenceConstants.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/preferences/PreferenceInitializer.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java"], "repo": "ecf", "reformed_query": "ton big messages tab entry entered spam spam server ton", "bug_title": " [IRC] On channel join, get rid of 'entered' spam in", "bug_description": "If you join a big channel, you get a ton of \"xxx entered\". I think on channel entry, we don't show these messages. We should show these messages in maybe the 'server tab', ie., irc.freenode.net, similar to how other IRC clients do it."}, {"bug_id": "193415", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/MultiRosterView.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/ChatComposite.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/TeamChat.java"], "repo": "ecf", "reformed_query": "disconnect press Account Contacts menu logged view view entries menu", "bug_title": " [UI] Contacts view menu entries should be disabled when we aren't logged in", "bug_description": "If you aren't logged in, you can press the chevron in the contacts view to do various things 'Add Account', disconnect all accounts, etc... these shouldn't be shown or at least be disabled if we aren't logged into anything."}, {"bug_id": "195275", "ground_truth": ["protocols/bundles/org.eclipse.ecf.protocol.msn/src/org/eclipse/ecf/protocol/msn/NotificationSession.java"], "repo": "ecf", "reformed_query": "contact Bounds occurred login Client lang Contact occurred create Bug", "bug_title": " can't connect to MSN", "bug_description": "can't connect to msn with an email address not ended with \"@hotmail.com\". i have this log : !ENTRY org.eclipse.core.jobs 4 2 2007-07-03 16:35:05.058 !MESSAGE An internal error occurred during: \"Container connect\". !STACK 0 java.lang.StringIndexOutOfBoundsException: String index out of range: -1 at java.lang.String.substring(String.java:1938) at org.eclipse.ecf.internal.provider.msn.MSNID.<init>(MSNID.java:33) at org.eclipse.ecf.internal.provider.msn.MSNNamespace.createInstance(MSNNamespace.java:26) at org.eclipse.ecf.internal.provider.msn.MSNRosterEntry.<init>(MSNRosterEntry.java:53) at org.eclipse.ecf.internal.provider.msn.MSNContainer$3.contactAdded(MSNContainer.java:175) at org.eclipse.ecf.protocol.msn.ContactList.fireContactAdded(ContactList.java:73) at org.eclipse.ecf.protocol.msn.ContactList.addContact(ContactList.java:133) at org.eclipse.ecf.protocol.msn.ContactList.internalAddContact(ContactList.java:118) at org.eclipse.ecf.protocol.msn.NotificationSession.retrieveBuddyList(NotificationSession.java:157) at org.eclipse.ecf.protocol.msn.NotificationSession.login(NotificationSession.java:114) at org.eclipse.ecf.protocol.msn.MsnClient.connect(MsnClient.java:147) at org.eclipse.ecf.internal.provider.msn.MSNContainer.connect(MSNContainer.java:299) at org.eclipse.ecf.ui.actions.AsynchContainerConnectAction$AsynchActionJob.run(AsynchContainerConnectAction.java:127) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "195824", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "arg Property setting getServiceInfo Properties serviceResolved JMDNSDiscovery service resolved registered", "bug_title": " JMDNSDiscoveryContainer$1 doesn't forward getProperty()?", "bug_description": "I had a piece of code in the service resolved which was printing out a property public void serviceResolved(IServiceEvent arg0) { System.out.println(\"Resolved service \" + arg0 + \"\\n\" + arg0.getServiceInfo().getServiceProperties().getProperty(\"RandomName\")); } This was returning null, despite me setting it when I registered the service (via new ServiceProperties). To avoid user idiociy (well, I had to rule that out first), I debugged it and the value was there. Turns out getServiceProperties().getStringProperty(\"RandomName\") gives me a value, but getProperty(\"RandomName\") gives null. I wonder if there's a missing forward? It's in the JMDNSDiscoveryContainer$1 class, which is likely to be the IServicePRoperties implementation in the JMDNSDiscoveryContainer class, I'm guessing."}, {"bug_id": "196298", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/smack/ECFConnection.java", "providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/provider/xmpp/XMPPSContainer.java", "providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/Messages.java", "providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/messages.properties", "providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/provider/xmpp/XMPPContainer.java", "providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/provider/xmpp/XMPPSContainer.java"], "repo": "ecf", "reformed_query": "talk actual services services provide joe separately googlemail Jabber separately", "bug_title": " [xmpp] Google talk provider hobbled by existence of 'gmail.com' string", "bug_description": "The GoogleTAlk XMPP(s) assume that the user is always @gmail.com, when that isn't the case. For example, in the UK, @googlemail.co.uk is common (or is it googlemail.com?) and other countries may have other suffixes. Not only that, but the actual talk server is talk.google.com, which may be specified in a number of clients (including other Jabber ones) separately to the user identifier. This may be an issue for others using googledomain, where joe@bloggs.com may want to connect to talk.google.com for its communication services. Thus two things are needed; 1) To ensure that there's a separate way of specifying the username from the jabber host 2) To ensure that other variants of Google are recognised and/or provide for a way for a user to override the server (e.g. joe@bloggs.com@talk.google.com)."}, {"bug_id": "196541", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.msn.ui/src/org/eclipse/ecf/internal/provider/msn/ui/MSNConnectWizardPage.java", "providers/bundles/org.eclipse.ecf.provider.xmpp.ui/src/org/eclipse/ecf/internal/provider/xmpp/ui/wizards/XMPPConnectWizardPage.java", "providers/bundles/org.eclipse.ecf.provider.xmpp.ui/src/org/eclipse/ecf/internal/provider/xmpp/ui/wizards/XMPPSConnectWizardPage.java"], "repo": "ecf", "reformed_query": "moment user text user cache text cleared cache cleared start", "bug_title": " [wizards] Passwords get reset upon user input in the username field", "bug_description": "The password text field appears to be cleared once you start changing the contents of the username text field if it can't load one from the cache. I have noticed this behaviour in the MSN and XMPP wizards and not in IRC. I'm not sure about the other providers at the moment."}, {"bug_id": "197049", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/handlers/BrowseDialog.java"], "repo": "ecf", "reformed_query": "presence org Exception lang Filtered Contact java communications ecf assist", "bug_title": " NPE in contacts browse dialogt", "bug_description": "Getting the following NPE when 1) Open 'Open Contact' dialog (via communications perspective toolbar icon or key assist) 2) Start typing in 'Select a contact to message' Get in Error Log java.lang.NullPointerException at org.eclipse.ecf.internal.presence.ui.handlers.BrowseDialog.fillContentProvider(BrowseDialog.java:105) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog$FilterJob.filterContent(FilteredItemsSelectionDialog.java:2059) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog$FilterJob.internalRun(FilteredItemsSelectionDialog.java:2001) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog$FilterJob.doRun(FilteredItemsSelectionDialog.java:1973) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog$FilterJob.run(FilteredItemsSelectionDialog.java:1960) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "19733", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/Messages.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/messages.properties"], "repo": "ecf", "reformed_query": "Code Mistyping Mistyping character select Visual correct Visual select content", "bug_title": " [content assist] Code assist closes when the list would filter to 0 items", "bug_description": "Code assist closes when the list would filter to 0 items.  This means, for example, that mistyping a method name will close code assist forcing you to reopen it after backspacing over the incorrect character. A better approach would be to jump to the entries in the list as you type instead of filtering the list.  This would have the following advantages: 1) Mistyping does not close code assist.  Simply backspace and type the correct charater and code assist will continue to follow. 2) If you begin typing something (a method name for example) then realize that you don't remember the name of what you are looking for, you can just scroll through the list.  Currently, you have to completely backspace over what you typed (to restore all filtered items) and then scroll through the list. 3) Should also be faster as eclipse does not have to keep regenerating the list -- it only has to select the first item that matches what you have typed so far. This is how Visual Studio 6 implements code assist, which I have found to be very useful and unobtrusive."}, {"bug_id": "197604", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc/src/org/eclipse/ecf/internal/provider/irc/container/IRCRootContainer.java"], "repo": "ecf", "reformed_query": "version HEAD parse unban IRC kick version version test commands", "bug_title": " [IRC] kick, ban, unban, op, deop commands cause parse error.", "bug_description": "Please see the attached test... IRC version from HEAD."}, {"bug_id": "198012", "ground_truth": ["examples/bundles/org.eclipse.ecf.example.collab/launchconfigs/ECF Example Collab 1.launch", "examples/bundles/org.eclipse.ecf.example.collab/launchconfigs/ECF Example Collab 2.launch", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/actions/JoinGroupWizardAction.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/JoinGroupWizard.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/JoinGroupWizardPage.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/hyperlink/ECFGenericHyperlink.java"], "repo": "ecf", "reformed_query": "hyperlink current connect ECF server", "bug_title": " [ui] generic provider connect id does not receive value from hyperlink", "bug_description": "For ECF hyperlinks of the form: ecftcp://localhost:3282/server The hyperlink activation should 1) Open the connect dialog 2) Set the connect ID to:  ecftcp://localhost:3282/server The current behavior does 1, but not 2."}, {"bug_id": "198043", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/handlers/BrowseDialog.java"], "repo": "ecf", "reformed_query": "dialog recognize entries recognizer", "bug_title": " [ui] open contacts dialog doesn't recognize users in groups", "bug_description": "When using open contacts, contacts list entries that are in groups are not found by recognizer."}, {"bug_id": "198161", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java"], "repo": "ecf", "reformed_query": "latest HEAD participants broken Type channel channel IRC tab completion", "bug_title": " [IRC] <tab> name completion broken", "bug_description": "The IRC name completion seems to be broken. To repro: 0) Get/build/run latest from HEAD (7/27/2007) 1) Go into IRC channel 2) Type first letter of channel participants 3) hit <tab> 4) name is not completed as it was in ECF 1.0.1."}, {"bug_id": "198193", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc/src/org/eclipse/ecf/internal/provider/irc/identity/IRCNamespace.java"], "repo": "ecf", "reformed_query": "URI irc irc connecting chars special parsing connection irc characters", "bug_title": " [IRC] support special characters when connecting to IRC server", "bug_description": "In the irc connection dialog, didn't get error for special chars nick (ie: ]-[appy), but when connecting the URI parsing failed. I created patch for this \"bug\"."}, {"bug_id": "198334", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/MessagesView.java"], "repo": "ecf", "reformed_query": "doesn messages CTab Chat Folders Created settings", "bug_title": " messages view CTabFolders doesn't follow the appearance settings", "bug_description": "In the Messages view CTabFolders doesn't follow the appearance settings. Created patch based on ChatRoomManagerView."}, {"bug_id": "198731", "ground_truth": ["framework/bundles/org.eclipse.ecf.ui/src/org/eclipse/ecf/ui/hyperlink/AbstractURLHyperlinkDetector.java"], "repo": "ecf", "reformed_query": "hyperlink Steps Bug   problem", "bug_title": " Wrong underline in hyperlink recognition", "bug_description": "Build ID: I20070625-1500 Steps To Reproduce: 1. Open an IRC Chatroom 2. Type \"irc://foobar.com/#channel irc://foobar.com\" 3. Ctrl + move mouse over the second irc:// 4. Part of the first irc:// is underlined instead of the second irc:// Ctrl + click in the second irc:// works fine, the problem is only in the text which is underlined. More information:"}, {"bug_id": "199309", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc.ui/src/org/eclipse/ecf/internal/irc/ui/hyperlink/IRCHyperlink.java"], "repo": "ecf", "reformed_query": "Steps Wizard problems hyperlink problems irc Bug freenode Wizard Reproduce", "bug_title": " [IRC] Wrong connection id after click on hyperlink", "bug_description": "Build ID: I20070625-1500 Steps To Reproduce: 1. Open an editor or chatroom 2. Write: irc://foobar@freenode.net/#eclipse-bugs 3. <Ctrl> + Click 4. IRC Connection Wizard shows as connection id: \"modlost@freenode.net/\" instead of \"irc://foobar@freenode.net/#eclipse-bugs\" More information: This problems appears only if '#' is used to specify the channel."}, {"bug_id": "199336", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java"], "repo": "ecf", "reformed_query": "opened tab user join Reproduce wrong Unable chatroom fixes expert", "bug_title": " [IRC] Unable to close chatroom tab after wrong join command", "bug_description": "Build ID: I20070625-1500 Steps To Reproduce: 1. Connect to an IRC server 2. Type command '/join foobar' 3. A new tab is opened and after a few seconds you'll get a connect error message. 4. Now, you won't be able to close the chatroom tab. I'm not an expert IRC user and sometimes I forget to use '#'. Other IRC clients prepend '#' if the user made such mistake, so, it would be nice if IRC provider fixes the user input."}, {"bug_id": "199366", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerUI.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java", "providers/bundles/org.eclipse.ecf.provider.irc.ui/src/org/eclipse/ecf/internal/irc/ui/IRCUI.java", "providers/bundles/org.eclipse.ecf.provider.irc.ui/src/org/eclipse/ecf/internal/irc/ui/wizards/IRCConnectWizardPage.java"], "repo": "ecf", "reformed_query": "Bug wizard Wizard   reconnect connect", "bug_title": " IRC Connection Wizard filters out # character", "bug_description": "When using the ECF connection wizard to connect to the IRC channel, I type a connect ID of konigsberg@irc.freenode.net/#eclipse. When I go back to reconnect, it displays as konigsberg@irc.freenode.net/eclipse, without the #."}, {"bug_id": "200630", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc/src/org/eclipse/ecf/internal/provider/irc/container/IRCRootContainer.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/Messages.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/internal/presence/ui/messages.properties", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerUI.java", "framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java"], "repo": "ecf", "reformed_query": "messages confirm handled", "bug_title": " [IRC] Private messages are not being handled", "bug_description": "This is rather disturbing but it seems to me that private messages aren't being handled. Can anyone else confirm this?"}, {"bug_id": "202772", "ground_truth": ["examples/bundles/org.eclipse.ecf.example.pubsub/src/org/eclipse/ecf/example/pubsub/PubSubView.java"], "repo": "ecf", "reformed_query": "pubsub broken CollabClient statement pubsub Bug Broken compile Broken pubsub", "bug_title": " Broken import statement in pubsub", "bug_description": "Hi, the CollabClient import in pubsub is broken and causes compile errors."}, {"bug_id": "202958", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java"], "repo": "ecf", "reformed_query": "root IRC freenode Expected select Select text Select net container", "bug_title": " [ui] irc channel output copy/select all works incorrectly", "bug_description": "Enter IRC channel (e.g. #eclipse-dev). Right click on the chat output text area to bring up Copy/Clear/Select All menu. Choose Select All. Expected:  That channel's text would be selected. Actual:  The root container's (irc.freenode.net) output is selected rather than the channel's output."}, {"bug_id": "204329", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.remoteservice/src/org/eclipse/ecf/provider/remoteservice/generic/RegistrySharedObject.java"], "repo": "ecf", "reformed_query": "registry Remote contents container Service updated", "bug_title": " [remoteservice] registry not updated if adapter accessed after connect", "bug_description": "If the remote services adapter is accessed *before* container connect, then all is well with the replication of a remote registry.  If, however, the adapter is first accessed *after* the container connect, then remote replica contents are not automatically distributed and won't appear. so, this works: final IRemoteServiceContainerAdapter remoteContainerTwo = (IRemoteServiceContainerAdapter) clientTwo.getAdapter(IRemoteServiceContainerAdapter.class); clientTwo.connect(serverID, null); Thread.sleep(1000); final IRemoteServiceReference[] refs = remoteContainerTwo.getRemoteServiceReferences(null, IConcat.class.getName(), null); while this does not: clientTwo.connect(serverID, null); final IRemoteServiceContainerAdapter remoteContainerTwo = (IRemoteServiceContainerAdapter) clientTwo.getAdapter(IRemoteServiceContainerAdapter.class); Thread.sleep(1000); final IRemoteServiceReference[] refs = remoteContainerTwo.getRemoteServiceReferences(null, IConcat.class.getName(), null); because of the ordering of the getAdapter and connect calls."}, {"bug_id": "207530", "ground_truth": ["framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/IdentityMapping.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/DocShare.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/cola/ColaSynchronizer.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/cola/TransformationStrategy.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/ECFStart.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/menu/DocShareRosterMenuContributionItem.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/messages/UpdateMessage.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/messages.properties", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/SynchronizationStrategy.java", "framework/bundles/org.eclipse.ecf.docshare/plugin.properties", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/cola/ColaReplacement.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/cola/ColaUpdateMessage.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/Messages.java", "framework/bundles/org.eclipse.ecf.docshare/about.html", "framework/bundles/org.eclipse.ecf.docshare/plugin.xml", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/cola/ColaInsertion.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/DocshareDebugOptions.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/docshare/cola/ColaDeletion.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/Activator.java", "framework/bundles/org.eclipse.ecf.docshare/.options"], "repo": "ecf", "reformed_query": "clipboard texts Editor sites deletion Editor remote discard units receipt", "bug_title": " [Collab] Cola - Real-Time Shared Editor does not support multi-character operations", "bug_description": "Cola is operating on single character insertions and deletions as atomic modification units. It does not support the insertion of multiple characters (via the clipboard) at once. The same applies to other multi-character operations such as deletion of text > single character by for instance marking a section of text and hitting \"Delete/Backspace\". If an editing session participant executes an unsupported modification of this kind on her/his local document, remote sites discard the modification upon receipt - essentially resulting in documents being out-of-sync. Cola should be extended/adapted to allow for insertions and deletions of texts greater than a single character in length."}, {"bug_id": "207670", "ground_truth": ["protocols/bundles/org.eclipse.ecf.protocol.msn/src/org/eclipse/ecf/protocol/msn/NotificationSession.java"], "repo": "ecf", "reformed_query": "UTF command CHG event error error StringIndexOutOfBoundsException IllegalArgumentException event CHG", "bug_title": " [msn] NotificationSession throws IllegalArgumentException for NLN notifications", "bug_description": "Build ID:  M20070921-1145 ECF     :  1.20v20071019-1300 Steps To Reproduce: Doesn't seem to happen in the ECF chat perspective but does reliably occur with a chatbot. The easiest way to repeat it is to split out NotificationSession.read() event parsing code into a seperate method and get the method to parse the following notification: NLN NLN xxxx.yyyyyyyyyy@hotmail.com Xxxx 512 0 More information: This specific error occurs because the event parser in NotificationSession.read() picks up NLN at any place in the input string and not just at the beginning of a line. However, it looks like the event parser has a more general problem - for example, it will pick up MSN protocol commands encapsulated in a MSG or in fragments of another command or notification. e.g. Parsing the following received message: MSG Hotmail Hotmail 289 Content-Type:text/x-msmsgsinitialmdatanotification;charset=UTF-8 Mail-Data:<MD><E><I>0</I><IU>0</IU><O>0</O><OU>0</OU></E><Q><QTM>409600</QTM><QNM>204800</QNM></Q></MD Inbox-URL: /cgi-bin/HoTMaiL                                           Folders-URL: /cgi-bin/folders                                           Post-URL: http://www.hotmail.com CHG 6 NLN 268435488 throws a StringIndexOutOfBoundsException."}, {"bug_id": "208667", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.msn/src/org/eclipse/ecf/internal/provider/msn/MSNContainer.java"], "repo": "ecf", "reformed_query": "msn presence Presence NullPointerException variable instance Message eclipse disconnect presence", "bug_title": " [msn] MSNContainer.sendPresenceUpdate throws NullPointerException for UNAVAILABLE", "bug_description": "Invoking org.eclipse.ecf.internal.provider.msn.MSNContainer.sendPresenceUpdate with a presence of type IPresence.Type.UNAVAILABLE causes a call to disconnect() in which the 'client' instance variable is set to null. The 'client' instance variable is subsequently used in the same method: client.setPersonalMessage(presence.getStatus()); without a check for null."}, {"bug_id": "209410", "ground_truth": ["applications/kosmos/bundles/org.eclipse.ecf.presence.bot.kosmos/src/org/eclipse/ecf/internal/presence/bot/kosmos/ChatRoomMessageHandler.java", "applications/kosmos/bundles/org.eclipse.ecf.presence.bot.kosmos/src/org/eclipse/ecf/internal/presence/bot/kosmos/CustomMessages.java", "applications/kosmos/bundles/org.eclipse.ecf.presence.bot.kosmos/src/org/eclipse/ecf/internal/presence/bot/kosmos/custom.properties", "applications/kosmos/bundles/org.eclipse.ecf.presence.bot.kosmos/src/org/eclipse/ecf/internal/presence/bot/kosmos/ChatRoomMessageHandler.java", "applications/kosmos/bundles/org.eclipse.ecf.presence.bot.kosmos/src/org/eclipse/ecf/internal/presence/bot/kosmos/custom.properties"], "repo": "ecf", "reformed_query": "handling HTMLified Bug comments properties bot file TODOs Bug documentation", "bug_title": " [bot] improve documentation/feedback & error handling", "bug_description": "Created attachment 82602 [details] misc fixes This is for improved i/o with the bot, HTMLified commands, and using the commands themselves as regexes instead of simply as comments in the properties file. See also comments / TODOs in attached patch."}, {"bug_id": "211585", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/identity/JMDNSServiceTypeID.java", "framework/bundles/org.eclipse.ecf.discovery/src/org/eclipse/ecf/discovery/identity/ServiceTypeID.java", "tests/bundles/org.eclipse.ecf.tests.discovery/src/org/eclipse/ecf/tests/discovery/identity/ServiceIDTest.java"], "repo": "ecf", "reformed_query": "parsing Discovery authority naming stumbles parser Discovery type code parser", "bug_title": " [Discovery][JMDNS] parsing problem if service type defines a naming authority", "bug_description": "The parser code stumbles if a naming authority is set."}, {"bug_id": "218027", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.provider.jslp/src/org/eclipse/ecf/tests/provider/jslp/JSLPDiscoveryTest.java", "tests/bundles/org.eclipse.ecf.tests.provider.jslp/src/org/eclipse/ecf/tests/provider/jslp/JSLPTestComparator.java", "providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/Activator.java", "providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/ServiceURLAdapter.java", "providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/provider/jslp/container/JSLPDiscoveryContainer.java", "providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/provider/jslp/identity/JSLPNamespace.java", "providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/provider/jslp/identity/JSLPServiceTypeID.java"], "repo": "ecf", "reformed_query": "Discovery handle handle Bug SLP services SLP Discovery handle scope", "bug_title": " [Discovery][jSLP] Provider doesn't handle scope correctly", "bug_description": "Discovered services don't have the scope set correctly"}, {"bug_id": "221053", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/XMPPContainerPresenceHelper.java"], "repo": "ecf", "reformed_query": "error Type Type form handle Bug packet thread fromID type", "bug_title": " The message from the XMPP Server is not displayed.", "bug_description": "I use Openfire 3.4.5 server. The message from the XMPP Server is not displayed. On XMPPContainerPresenceHelper.handleMessageEvent(), fromID is null. org.jivesoftware.smack.packet.Message body\t\"000\\n\" error\tnull ==>\tfrom\t\"w2k-tw\" packetExtensions\tnull packetID\t\"ID_NOT_AVAILABLE\" properties\tnull subject\tnull thread\tnull to\tnull type\tMessage$Type  (ID=1014) It is because there is no the from field in the form of user@server."}, {"bug_id": "221139", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.msn.ui/src/org/eclipse/ecf/internal/provider/msn/ui/MSNConnectWizardPage.java", "providers/bundles/org.eclipse.ecf.provider.xmpp.ui/src/org/eclipse/ecf/internal/provider/xmpp/ui/wizards/XMPPConnectWizardPage.java", "providers/bundles/org.eclipse.ecf.provider.xmpp.ui/src/org/eclipse/ecf/internal/provider/xmpp/ui/wizards/XMPPSConnectWizardPage.java"], "repo": "ecf", "reformed_query": "wizards XMPP", "bug_title": " [wizards] Weak e-mail address validation in User ID field", "bug_description": "In the MSN, XMPP, XMPPS connection wizards there is very weak e-mail address validation. It is only checked if \"@\" is inserted in to the User ID form."}, {"bug_id": "222824", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/smack/ECFConnection.java"], "repo": "ecf", "reformed_query": "Bug port talk Host gmail Bug Google host port gmail", "bug_title": " XMPP doesn't work on a different port that 5222 throughout Google Talk Host", "bug_description": "When the user is using Google talk host (for example: user@gmail.com), the default port (5222) is catch, so if user puts the ID user@gmail.com:443, XMPP provider ignores the 443 port."}, {"bug_id": "222864", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/chatroom/ChatRoomManagerView.java"], "repo": "ecf", "reformed_query": "widgets Chat Tab handleEvent Chat rootChannelTab access presence Chat room", "bug_title": " If the room tab is clicked, the NullPointerException occurred.", "bug_description": "Build ID: 2.0.0.v20080310-1643 Steps To Reproduce: 1. Connect XMPP Server 2. Open Chat room 1 3. Open Chat room 2 4. Click the room tab of \"Chat room 1\" More information: java.lang.NullPointerException at org.eclipse.ecf.presence.ui.chatroom.ChatRoomManagerView$ChatRoomTab.access$0(ChatRoomManagerView.java:115) at org.eclipse.ecf.presence.ui.chatroom.ChatRoomManagerView$15.widgetSelected(ChatRoomManagerView.java:775) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) --- ChatRoomManagerView.java (level 1.41), line=775: if (itemSelected == rootChannelTab.tabItem) rootChannelTab is null !"}, {"bug_id": "222865", "ground_truth": ["examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/messages.properties", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/JoinGroupWizardPage.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/Messages.java"], "repo": "ecf", "reformed_query": "Collaboration Nickname Collaboration Connect connect Connect Collaboration Nickname collaboration Click", "bug_title": " Possible to connect the collaboration though nickname is empty.", "bug_description": "Build ID: 2.0.0.v20080310-1643 Steps To Reproduce: 1. Click Collaboration button in the toolbar 2. Nickname is not specified in the Collaboration Connect dialog, and click Finish button"}, {"bug_id": "222868", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.msn.ui/src/org/eclipse/ecf/internal/provider/msn/ui/MSNConnectWizardPage.java"], "repo": "ecf", "reformed_query": "MSN wizard password mail Build", "bug_title": " [MSN] When E-mail is not specified and the password is entered, the Finish button can be clicked.", "bug_description": "Build ID: 2.0.0.v20080310-1643 Steps To Reproduce: 1. Open connection wizard 2. Select MSN 3. The password is entered only More information:"}, {"bug_id": "222878", "ground_truth": ["examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/ChatComposite.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/MessageLoader.properties"], "repo": "ecf", "reformed_query": "Bug Collaboration close View Close close Formatted Confirm getString getFormattedString", "bug_title": " \"Confirm Close Collaboration\" dialog is wrong", "bug_description": "Build ID:  2.0.0.v20080310-1643 A) Quotation mark (\") includes in the title. [MessageLoader.properties] LineChatClientView.contextmenu.closeMessageTitle=\"Confirm Close Collaboration for Project\" B) The message definition is not appropriate to externalization. Wrong: [ChatComposite.java] if (MessageDialog.openConfirm(null, MessageLoader.getString(\"LineChatClientView.contextmenu.closeMessageTitle\"), MessageLoader.getString(\"LineChatClientView.contextmenu.closeMessageMessage\") + this.view.name + \"'?\")) { [MessageLoader.properties] LineChatClientView.contextmenu.closeMessageMessage=Are you sure you want to close collaboration for ' Correct: [ChatComposite.java] if (MessageDialog.openConfirm(null, MessageLoader.getString(\"LineChatClientView.contextmenu.closeMessageTitle\"), MessageLoader.getFormattedString (\"LineChatClientView.contextmenu.closeMessageMessage\", this.view.name))) { [MessageLoader.properties] LineChatClientView.contextmenu.closeMessageMessage=Are you sure you want to close collaboration for ''{0}''?"}, {"bug_id": "224095", "ground_truth": ["framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/FileTransferInfo.java"], "repo": "ecf", "reformed_query": "behaviour Transfer shares instances FileTransferInfo pointing ends instance theory instance", "bug_title": " FileTransferInfo shares its properties with other instances", "bug_description": "If you create a FileTransferInfo without specifying any properties, it ends up pointing its preferences at a static Map implementation instance. So in theory, various instances of FileTransferInfo could be sharing the same Map. This doesn't sound like the expected behaviour to me."}, {"bug_id": "227939", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.msn.ui/src/org/eclipse/ecf/internal/provider/msn/ui/MSNConnectWizardPage.java"], "repo": "ecf", "reformed_query": "Password password patch Wizard MSN error ocurrs", "bug_title": " [wizards] While restoring password a Stack Overflow error ocurrs", "bug_description": "Build ID: I20080330-1350 Steps To Reproduce: 1. Login to a MSN account 2. Logout 3. Open MSN Wizard again 4. Password won't be restored 5. Try to write your password or rewrite your e-mail 6. An Stack Overflow error will ocurr More information: This issue is fixed as part of the last patch on bug #196295"}, {"bug_id": "229237", "ground_truth": ["framework/bundles/org.eclipse.ecf.presence.ui/src/org/eclipse/ecf/presence/ui/MultiRosterView.java"], "repo": "ecf", "reformed_query": "adds getActivePage Viewer container IPresence connect effects connection account executed", "bug_title": " [presence][ui] xmpps accounts can appear twice in contacts list", "bug_description": "When creating a connection to (e.g.) the XMPPS provider for the first time, when the contacts list view has not yet been shown, the same account (e.g. slewis@ecf.eclipse.org) can be added twice (MultiRosterView.addContainer called twice). When the connect ui opens the view i.e. in XMPPConnectWizard.performFinish (this block is executed via Display.asyncExec()) private void openView() { try { final MultiRosterView view = (MultiRosterView) workbench.getActiveWorkbenchWindow().getActivePage().showView(MultiRosterView.VIEW_ID); view.addContainer(container); } catch (final PartInitException e) { e.printStackTrace(); } } When showView(MultiRosterView.VIEW_ID) is called the first time, this triggers the MultiRosterView.setupTreeViewer, which calls MultiRosterView.retrieveServices(). In MRV.retrieveServices is a block that looks for IPresenceServices and if found adds the associated container via MRV.addContainer: private void retrieveServices() { IPresenceService[] services = Activator.getDefault().getPresenceServices(); for (int i = 0; i < services.length; i++) { IContainer container = (IContainer) services[i].getAdapter(IContainer.class); if (container != null && container.getConnectedID() != null) { addContainer(container); } } } Because the openView block is run asynchronously, retrieveServices can find the newly connected container exposed as an IPresenceService...immediately after the container connect notification (in xmpp provider).  Then, the \t\t\tview.addContainer(container) call is *also* made (via openView()), and the same container/account is added twice. Remy what do you think is the appropriate fix?  It's not changing the asyncExec to a syncExec (this can/does result in deadlock).  It could be 1) removing retrieveServices() (but would this have other negative side effects?) 2) Adding a check in addContainer for the prior existence of a given container and not adding it if already present?"}, {"bug_id": "229921", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.provider.jslp/.settings/org.eclipse.jdt.core.prefs", "framework/bundles/org.eclipse.ecf.discovery/.settings/org.eclipse.jdt.core.prefs", "framework/bundles/org.eclipse.ecf.discovery/src/org/eclipse/ecf/discovery/IServiceProperties.java", "providers/bundles/org.eclipse.ecf.provider.discovery/.settings/org.eclipse.jdt.core.prefs", "tests/bundles/org.eclipse.ecf.tests.discovery/.settings/org.eclipse.jdt.core.prefs", "tests/bundles/org.eclipse.ecf.tests.discovery/src/org/eclipse/ecf/tests/discovery/DiscoveryTest.java", "providers/bundles/org.eclipse.ecf.provider.jslp/.settings/org.eclipse.jdt.core.prefs"], "repo": "ecf", "reformed_query": "eclipse javadoc", "bug_title": " Missing javadoc statements may cause an (compiler) error", "bug_description": "https://bugs.eclipse.org/bugs/show_bug.cgi?id=228882#c10"}, {"bug_id": "233808", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.discovery/src/org/eclipse/ecf/tests/discovery/AbstractDiscoveryTest.java"], "repo": "ecf", "reformed_query": "discovery Test Service eclipse Discovery", "bug_title": " [Discovery][SLP]org.eclipse.ecf.tests.discovery.DiscoveryTest.testAddServiceListenerIServiceTypeIDIServiceListener() fails for SLP provider", "bug_description": "org.eclipse.ecf.tests.discovery.DiscoveryTest.testAddServiceListenerIServiceTypeIDIServiceListener() fails for SLP provider with \"Test listener didn't receive discovery\""}, {"bug_id": "234342", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/retrieve/UrlConnectionRetrieveFileTransfer.java"], "repo": "ecf", "reformed_query": "Bug resort retrieval Transfer resolves HttpCLientConnectionRetrieveFileTransfer cases UrlConnectionRetrieveFileTransfer Transfer resolved", "bug_title": " Improved retrieval of remote filename", "bug_description": "This patch will make the UrlConnectionRetrieveFileTransfer use the URL of the resolved connection as the last resort. This is different from the original URL since the connection in some cases automatically resolves redirects. This fix will make the UrlConnectionRetrieveFileTransfer behave the same as the HttpCLientConnectionRetrieveFileTransfer."}, {"bug_id": "234803", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.discovery/src/org/eclipse/ecf/tests/discovery/AbstractDiscoveryTest.java", "tests/bundles/org.eclipse.ecf.tests.discovery/src/org/eclipse/ecf/tests/discovery/AbstractDiscoveryTest.java", "providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/ServiceURLAdapter.java", "providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/provider/jslp/container/JSLPServiceInfo.java"], "repo": "ecf", "reformed_query": "pass jSLP path correctly supported path path ECF correctly URI", "bug_title": " [Discovery][jSLP] path is not supported", "bug_description": "ECF discovery does not correctly pass the URI path to jSLP"}, {"bug_id": "236812", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "Bug IConnect Context provider JMDNS connect eclipse eclipse Container ecf", "bug_title": " [Discovery][JMDNS] connect swallows root (JMDNS) exception", "bug_description": "Don't swallow root exception in org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.connect(ID, IConnectContext)"}, {"bug_id": "236828", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.provider.discovery/src/org/eclipse/ecf/tests/provider/discovery/CompositeDiscoveryContainerTest.java", "tests/bundles/org.eclipse.ecf.tests.provider.discovery/src/org/eclipse/ecf/tests/provider/discovery/TestDiscoveryContainer.java", "providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/internal/provider/discovery/Messages.java", "providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "services register providers container registered composite", "bug_title": " [Discovery] Composite container may register previously registered services with new providers", "bug_description": "If a discovery provider is dynamically added the composite discovery container may register all previously registered services with this new provider"}, {"bug_id": "237726", "ground_truth": ["protocols/bundles/org.jivesoftware.smack/src/org/jivesoftware/smackx/provider/VCardProvider.java"], "repo": "ecf", "reformed_query": "DocumentBuilder Impl Provider implicitly jivesoftware parse xml XML parseIQ XML", "bug_title": " [patch] Smack in ECF discards non-ASCII VCard data", "bug_description": "The VCard provider has an XML handling bug for the poor people with names and data outside US-ASCII. It's classical abuse of String.getBytes(). How I wish that method was deprecated! A Java string containing international characters is converted to bytes (implicitly using the \"native\" encoding, perhaps an 8-bit SBCS charset like ISO-8859-15), and is then parsed using XML without the XML declaration which then defaults to UTF-8, and gets the 8 bit SBCS bytes wrong and complains. When this happens, the entire address book of the user I'm logging in as is silently dropped! [Fatal Error] :1:20: Invalid byte 1 of 1-byte UTF-8 sequence. org.xml.sax.SAXParseException: Invalid byte 1 of 1-byte UTF-8 sequence. at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:264) at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:292) at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:98) at org.jivesoftware.smackx.provider.VCardProvider._createVCardFromXml(VCardProvider.java:84) at org.jivesoftware.smackx.provider.VCardProvider.parseIQ(VCardProvider.java:76) at org.jivesoftware.smack.PacketReader.parseIQ(PacketReader.java:603) at org.jivesoftware.smack.PacketReader.parsePackets(PacketReader.java:289) at org.jivesoftware.smack.PacketReader.access$0(PacketReader.java:280) at org.jivesoftware.smack.PacketReader$1.run(PacketReader.java:63) [Fatal Error] :1:20: Invalid byte 1 of 1-byte UTF-8 sequence. The patch: It merely converts the XML string to UTF-8 (if available) instead of the native encoding. Hope this gets in the release, since it really messes up a lot of people. The snag is that the bug is in the Smack code. Is that an issue, IP wise?"}, {"bug_id": "238970", "ground_truth": ["protocols/bundles/org.eclipse.ecf.protocol.msn/src/org/eclipse/ecf/protocol/msn/Session.java"], "repo": "ecf", "reformed_query": "guess wait process MSN chosen Java connect component", "bug_title": " [MSN] CPU usage increases significantly after connecting for a while", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1. connect to MSN 2. wait ~30 seconds 3. CPU goes 100% for Eclipse process 4. it stays for at least an hour 5. disconnect, and CPU goes normal in few seconds More information: ECF: 2.0.0v20080623-0046 Java: java-6-sun-1.6.0.06 OS: Ubuntu 8.04 32 bit (component chosen for the bug report was a guess ...)"}, {"bug_id": "238976", "ground_truth": ["framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/provisional/docshare/DocShare.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/provisional/docshare/menu/DocShareRosterMenuHandler.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/Messages.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/messages.properties", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/provisional/docshare/DocShare.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/provisional/docshare/menu/DocShareRosterMenuHandler.java", "providers/bundles/org.eclipse.ecf.provider.datashare/src/org/eclipse/ecf/internal/provider/datashare/Activator.java", "providers/bundles/org.eclipse.ecf.provider.datashare/src/org/eclipse/ecf/provider/datashare/SharedObjectDatashareContainerAdapter.java"], "repo": "ecf", "reformed_query": "remote Bug shared side originator editor disconnected shared side broken", "bug_title": " Shared Editor: No notification for connect / disconnect / connection break", "bug_description": "There is no notification when a session through the shared editor is initiated, closed, or broken (remote side disconnected). This is especially annoying for the client side, where future modifications can be made to the source code, without getting back to the originator."}, {"bug_id": "240926", "ground_truth": ["framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/Messages.java", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/messages.properties", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/provisional/docshare/DocShare.java"], "repo": "ecf", "reformed_query": "improper editor sender improper editor shared closed properly leave clean", "bug_title": " [docshare] insufficient cleanup on editor closing", "bug_description": "If a shared editor is closed without previously stopping shared editing it can leave the sender and/or the receiver in an improper state. Logic should be added to clean up properly when a shared editor is closed."}, {"bug_id": "242950", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc/src/org/eclipse/ecf/internal/provider/irc/container/IRCChannelContainer.java"], "repo": "ecf", "reformed_query": "connecting doPartChannel connecting eclipse root NPE IRCChannel Event version provider", "bug_title": " IRCChannelContainer throws NPE during disconnect if the connection timeouts", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: When connecting to an IRC server timeouts, and a 'TimeoutException' is thrown in 'IRCChannelContainer#connect()', the 'targetID' variable remains 'null'. The function 'IRCChannelContainer#disconnect()' is throwing a NPE when trying to refer to the name of 'targetID'. I have the following version of the plugin installed: org.eclipse.ecf.provider.irc_1.3.0.v20080623-0046.jar More information: public void disconnect() { fireContainerEvent(...); rootContainer.doPartChannel(targetID.getName());  // NPE fireContainerEvent(...); }"}, {"bug_id": "252002", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/provider/filetransfer/httpclient/HttpClientOptions.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/provider/filetransfer/httpclient/NTLMProxyDetector.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/internal/provider/filetransfer/httpclient/HttpClientProxyCredentialProvider.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/provider/filetransfer/httpclient/HttpClientFileSystemBrowser.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/browse/AbstractFileSystemBrowser.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/provider/filetransfer/httpclient/HttpClientRetrieveFileTransfer.java"], "repo": "ecf", "reformed_query": "filetransfer bug provider org", "bug_title": " [filetransfer] support NTLMv2 authentication with httpclient provider", "bug_description": "As per the discussion starting with comment 23 on bug 220240 https://bugs.eclipse.org/bugs/show_bug.cgi?id=220240#c23 The httpclient 3.0.1-based provider has some difficulties with NTLMv2 provider (see discussion on 220240).  This bug is to track further work on NTLMv2 support."}, {"bug_id": "254687", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/Activator.java"], "repo": "ecf", "reformed_query": "Windows registry EclipseAppLauncher Bundle Internal App EclipseAppHandle jslp Launcher", "bug_title": " [Discovery][SLP] ClassCircularityError during bundle activation", "bug_description": "!ENTRY org.eclipse.osgi 4 0 2008-11-08 17:23:34.500 !MESSAGE An error occurred while automatically activating bundle org.eclipse.ecf.provider.jslp (27). !STACK 0 org.osgi.framework.BundleException: Exception in org.eclipse.ecf.internal.provider.jslp.Activator.start() of bundle org.eclipse.ecf.provider.jslp. at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:1028) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:984) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:265) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:400) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:427) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:193) at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:368) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:444) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:397) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:385) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:87) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.framework.internal.core.BundleLoader.loadClass(BundleLoader.java:313) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:227) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1274) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160) at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:867) at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243) at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51) at org.eclipse.ecf.internal.core.identity.Activator.addNamespaceExtensions(Activator.java:218) at org.eclipse.ecf.internal.core.identity.Activator.setupNamespaceExtensionPoint(Activator.java:261) at org.eclipse.ecf.internal.core.identity.Activator.start(Activator.java:115) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:1009) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:1003) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:984) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:265) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:400) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:427) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:193) at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:368) at org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:441) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:397) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:385) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:87) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) at org.eclipse.ecf.internal.core.ECFPlugin.start(ECFPlugin.java:330) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:1009) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:1003) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:984) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:346) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:265) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:400) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:427) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:193) at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:368) at org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:441) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:397) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:385) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:87) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) at org.eclipse.ecf.discovery.ui.views.DiscoveryView.initializeDiscoveryContainer(DiscoveryView.java:143) at org.eclipse.ecf.discovery.ui.views.DiscoveryView.createPartControl(DiscoveryView.java:89) at org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:371) at org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:230) at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:594) at org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive(WorkbenchPage.java:4169) at org.eclipse.ui.internal.WorkbenchPage$17.runWithException(WorkbenchPage.java:3234) at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:133) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3800) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3425) at org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:803) at org.eclipse.ui.internal.Workbench$27.runWithException(Workbench.java:1361) at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:133) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3800) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3425) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2293) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2198) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:493) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:488) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:386) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236) at org.eclipse.equinox.launcher.Main.main(Main.java:1212) Caused by: java.lang.ClassCircularityError: org/eclipse/ecf/core/identity/IIdentifiable at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:165) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:554) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:524) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:455) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:443) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:423) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:193) at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:368) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:444) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:397) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:385) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:87) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:165) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:554) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:524) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:455) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:443) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:423) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:193) at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:368) at org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:441) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:397) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:385) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:87) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:165) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:554) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:524) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:455) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:443) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:423) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:193) at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:368) at org.eclipse.osgi.framework.internal.core.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:441) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:397) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:385) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:87) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:165) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:554) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:524) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:455) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:443) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:423) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:193) at org.eclipse.osgi.framework.internal.core.BundleLoader.findLocalClass(BundleLoader.java:368) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClassInternal(BundleLoader.java:444) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:397) at org.eclipse.osgi.framework.internal.core.BundleLoader.findClass(BundleLoader.java:385) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:87) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:169) at org.eclipse.ecf.internal.provider.jslp.Activator.start(Activator.java:113) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:1009) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:1003) ... 99 more"}, {"bug_id": "254833", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/Activator.java"], "repo": "ecf", "reformed_query": "resources delayed jslp start eclipse handle consumer container Discovery Context", "bug_title": " [Discovery][SLP] org.eclipse.ecf.internal.provider.jslp.Activator.start(BundleContext) may not activate jSLP eagerly", "bug_description": "org.eclipse.ecf.internal.provider.jslp.Activator.start(BundleContext) eagerly gets ch.ethz.iks.slp.Locator and ch.ethz.iks.slp.Advertiser. To better handle system resources, this should be delayed until the first consumer accesses the service/container."}, {"bug_id": "255191", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice.ui/src/org/eclipse/ecf/remoteservices/ui/MethodInvocationDialog.java"], "repo": "ecf", "reformed_query": "cell column Invocation Parameter attached RemoteServices Remote hard details Dialog", "bug_title": " [RemoteServices][UI] MethodInvocationDialog's parameter setting is clumsy and unwieldy", "bug_description": "Created attachment 117783 [details] Patch to make the cell editing selection only require one click. Right now, it seems you have to click on the left column ('Parameter'), then after you've selected the parameter, you have to click on the right column ('Value'), to edit it. This is very unwieldy and hard to use. Please see the attached patch for a suggested fix."}, {"bug_id": "255347", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/provider/jslp/identity/JSLPNamespace.java"], "repo": "ecf", "reformed_query": "Service isn discovery SLP fine optional IService fall Service identity", "bug_title": " [Discovery][SLP] (optional) IServiceID.getServiceName isn't set on service discovery nor registration", "bug_description": "org.eclipse.ecf.discovery.identity.IServiceID.getServiceName() gets ignored and falls back to he hostname of the service instead. While the fall back is fine. getServiceName() should be used if != null."}, {"bug_id": "255352", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "IService IServiceInfo IServiceInfo IService jmdns provider create provider createServiceInfoFromIServiceInfo IServiceInfo", "bug_title": " [Discovery][JMDNS] JMDNS exchanges priority and weight", "bug_description": "JMDNS exchanges priority and weight in org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.createServiceInfoFromIServiceInfo(IServiceInfo)"}, {"bug_id": "256580", "ground_truth": ["framework/bundles/org.eclipse.ecf/src/org/eclipse/ecf/core/ContainerFactory.java"], "repo": "ecf", "reformed_query": "getContainer Factory hang core Container org Bug", "bug_title": " org.eclipse.ecf.core.ContainerFactory.getContainer(ID) never returns and causes caller to hang indefinitely", "bug_description": "org.eclipse.ecf.core.ContainerFactory.getContainer(ID) never reaches the break condition"}, {"bug_id": "256767", "ground_truth": ["framework/bundles/org.eclipse.ecf.discovery.ui/src/org/eclipse/ecf/internal/discovery/ui/views/DiscoveryView.java", "framework/bundles/org.eclipse.ecf.discovery.ui/META-INF/MANIFEST.MF"], "repo": "ecf", "reformed_query": "Hashlookup StructuredViewer handling StructuredViewer instance view StructuredViewer Bug Hashlookup modify", "bug_title": " Discovery view may be incapable of handling duplicate elements", "bug_description": "If there are identical elements within the viewer, update and refresh requests will not work properly because it will only modify the first element that is found. Invoking setUseHashlookup(true) on the StructuredViewer instance should resolve this."}, {"bug_id": "256853", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.remoteservice/src/org/eclipse/ecf/provider/remoteservice/generic/RegistrySharedObject.java"], "repo": "ecf", "reformed_query": "requests removeRequest request Call requests Response cleanup remove removeRequest Registry", "bug_title": " [remoteservices] insufficient cleanup in RegistrySharedObject.handleCallResponse", "bug_description": "In RegistrySharedObject class the handling of the request/response protocol for remote method invocation does insufficient clean up of requests.  Specifically, it does not call removeRequest(request) in handleCallResponse and it should."}, {"bug_id": "256980", "ground_truth": ["examples/bundles/org.eclipse.ecf.example.collab/META-INF/MANIFEST.MF", "examples/bundles/org.eclipse.ecf.example.collab/plugin.xml", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/example/collab/share/EclipseCollabSharedObject.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/example/collab/share/RosterListener.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/presence/PresenceContainer.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/presence/PresenceContainerAdapterFactory.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/presence/RosterManager.java", "examples/bundles/org.eclipse.ecf.example.collab/src/org/eclipse/ecf/internal/example/collab/ui/SharedObjectContainerUI.java"], "repo": "ecf", "reformed_query": "ecf presence contribute collab contributions", "bug_title": " o.e.ecf.example.collab should contribute a presence container", "bug_description": "It is annoying to have to contribute new menu items to consider the users that are created by the example.collab project when we should be able to reuse the same contributions for the presence containers."}, {"bug_id": "256985", "ground_truth": ["framework/bundles/org.eclipse.ecf.ui/src/org/eclipse/ecf/ui/screencapture/ShowImageShell.java"], "repo": "ecf", "reformed_query": "Shell called leak ShowImageShell Shell Bug Image Shell Image Bug", "bug_title": " ShowImageShell appears to leak an Image", "bug_description": "In the showImage() method, a new Image object is allocated but it doesn't look like dispose() is ever called."}, {"bug_id": "257926", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/provider/jslp/container/JSLPServiceInfo.java"], "repo": "ecf", "reformed_query": "Info SecurityException Security ecf Exception JSLPServiceInfo JSLPServiceInfo doesn org org", "bug_title": " [Discovery][SLP] JSLPServiceInfo(IServiceInfo) doesn't need to throw SecurityException", "bug_description": "org.eclipse.ecf.provider.jslp.container.JSLPServiceInfo.JSLPServiceInfo(IServiceInfo) doesn't need to throw java.lang.SecurityException"}, {"bug_id": "258916", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/ServicePropertiesAdapter.java"], "repo": "ecf", "reformed_query": "property SLP reserved service star", "bug_title": " [Discover][SLP] \"_\" is an invalid char for service property keys in SLP", "bug_description": "attr-tag \t\t= 1*safe-tag; safe-tag \t\t= %x20 / %x22-27 / %x2B    / %x2D-3B / %x3F-5B / %x5D-5E / %x60-7D; #Any character except reserved, star and bad-tag. reserved \t\t= \"(\" / \")\" / \",\" / \"\\\" / \"!\"  / \"<\" / \"=\" / \">\" / \"~\" / CTL; escape-val \t\t= \"\\\" HEXDIG HEXDIG; bad-tag \t\t= CR / LF / HTAB / \"_\";"}, {"bug_id": "259072", "ground_truth": ["protocols/bundles/ch.ethz.iks.r_osgi.remote/src/main/java/ch/ethz/iks/r_osgi/types/ServiceUIComponent.java"], "repo": "ecf", "reformed_query": "imports awt violates osgi ethz UIComponent iks ethz osgi ethz", "bug_title": " [Remotesvcs][R-OSGi] ServiceUIComponent violates Foundation 1.0", "bug_description": "ch.ethz.iks.r_osgi.types.ServiceUIComponent imports java.awt.Panel which apparently isn't part of Foundation 1.0 which is the EE set for R-OSGi."}, {"bug_id": "259233", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "Discovery discovery JMDNS path JMDNS lost Discovery JMDNS URI segment", "bug_title": " [Discovery][JMDNS] URI path is lost over discovery", "bug_description": "URI path segment is lost over discovery"}, {"bug_id": "259273", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/identity/JMDNSNamespace.java", "providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "versa Bug translate authority Discovery JMDNS doesn", "bug_title": " [Discovery][Zeroconf] JMDNS doesn't translate default scope, protocols and naming authority to internal and vice versa", "bug_description": "jSLP doesn't translate default scope, protocols and naming authority to internal and vice versa: ECF default scope -> Zeroconf: \"local\" ECF default protocol -> Zeroconf: \"tcp\" ECF default NA -> Zeroconf: \"iana\""}, {"bug_id": "259471", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/identity/JMDNSNamespace.java"], "repo": "ecf", "reformed_query": "Exception Main runBare Trace testServiceIDFactory provider Execution JMDNSService Eclipse createInstance", "bug_title": " [Discovery][JMDNS] JMDNSServiceIDTest#testServiceIDFactory2 fails", "bug_description": "-- Error Log from JUnit -- Class: org.eclipse.ecf.tests.provider.jmdns.identity.JMDNSServiceIDTest Method: testServiceIDFactory2 Actual: null Expected: null Stack Trace: org.eclipse.ecf.core.identity.IDCreateException: ecf.namespace.jmdns createInstance() at org.eclipse.ecf.provider.jmdns.identity.JMDNSNamespace.createInstance(JMDNSNamespace.java:68) at org.eclipse.ecf.core.identity.IDFactory.createID(IDFactory.java:201) at org.eclipse.ecf.discovery.identity.ServiceIDFactory.createServiceID(ServiceIDFactory.java:33) at org.eclipse.ecf.tests.discovery.identity.ServiceIDTest.testServiceIDFactory2(ServiceIDTest.java:165) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at junit.framework.TestCase.runTest(TestCase.java:164) at junit.framework.TestCase.runBare(TestCase.java:130) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:120) at junit.framework.TestSuite.runTest(TestSuite.java:230) at junit.framework.TestSuite.run(TestSuite.java:225) at junit.framework.TestSuite.runTest(TestSuite.java:230) at junit.framework.TestSuite.run(TestSuite.java:225) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:574) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:195) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:386) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236) at org.eclipse.equinox.launcher.Main.main(Main.java:1212) Caused by: org.eclipse.ecf.core.identity.IDCreateException: First parameter cannot be cast to String at org.eclipse.ecf.provider.jmdns.identity.JMDNSNamespace.createInstance(JMDNSNamespace.java:65) ... 42 more"}, {"bug_id": "259917", "ground_truth": ["protocols/bundles/org.eclipse.ecf.protocol.bittorrent/src/org/eclipse/ecf/protocol/bittorrent/internal/encode/Decode.java"], "repo": "ecf", "reformed_query": "org Format remove baree bencoded explicit call head bDecode single", "bug_title": " Bittorrent bencode decoder cannot parse dictionary or list with value of 1", "bug_description": "Build ID: M20080911-1700 Steps To Reproduce: For dictionary: 1. Create a bencoded string representing a dictionary containing a value consisting of the single character 1 (Ex. d3:foo1:13:bar1:1e) 2. In a class that has access to the org.eclipse.ecf.protocol.bittorrent.internal.encode.Decode class, call Decode.bDecode(\"d3:foo1:13:bar1:1e\"); 3. A NumberFormatException will be thrown. For list: 1. Create a bencoded string representing a dictionary containing a list value with an element consisting of the single character 1 (Ex. d4:listl3:foo1:13:baree) 2. In a class that has access to the org.eclipse.ecf.protocol.bittorrent.internal.encode.Decode class, call Decode.bDecode(\"d4:listl3:foo1:13:baree\"); 3. The  method will never return as it will go into an infinite loop More information: This bug is due to the same parsing logic flaw in two different places in the Decode class and only occurs when the value is 1.  The problem code is: string = string.substring(string.indexOf(value) + value.length()); on lines 98-99 and 131-132 of org.eclipse.ecf.protocol.bittorrent.internal.encode.Decode The string the logic is trying to remove from the head of the string is 1:1, which is the bencoded representation of the string 1. The correct logic at these lines should be either: string = string.substring(string.indexOf(value, 1) + value.length()); or string = string.substring(string.indexOf(value, string.indexOf(':')) + value.length()); The former will work for all cases I can think of.  The latter is less efficient but more explicit."}, {"bug_id": "261438", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/internal/provider/filetransfer/Activator.java"], "repo": "ecf", "reformed_query": "extension extension Contributors add Transfer Dorg org property system defeat", "bug_title": " [filetransfer] add way to defeat protocol factory extension contributions", "bug_description": "In the filetransfer provider are extension points browseFileTransferProtocolFactory, sendFileTransferProtocolFactory, retrieveFileTransferProtocolFactory, that allow plugins to insert themselves into the browse, send, retrieve calls. Occasionally, it would be useful to be able to specify plugins to exclude from contributing browse, send, or retrieve factories. We should add a system property:  org.eclipse.ecf.provider.filetransfer.excludeContributors that allows contributors to be excluded from adding protocol factories.  For example: -Dorg.eclipse.ecf.provider.filetransfer.excludeContributors=org.eclipse.ecf.provider.filetransfer.httpclient should prevent the httpclient provider from adding any of it's contributions to the protocol factories."}, {"bug_id": "263613", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrieveTestWithCustomJob.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/events/socket/SocketCreatedEvent.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/events/socket/ISocketCreatedEvent.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/internal/provider/filetransfer/httpclient/ConnectingSocketMonitor.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/provider/filetransfer/httpclient/HttpClientFileSystemBrowser.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/internal/provider/filetransfer/httpclient/ECFHttpClientSecureProtocolSocketFactory.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/.settings/org.eclipse.jdt.core.prefs", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/events/socket/SocketEventSource.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/events/socket/ISocketClosedEvent.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/retrieve/AbstractRetrieveFileTransfer.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/.classpath", "providers/bundles/org.eclipse.ecf.provider.filetransfer/.settings/org.eclipse.jdt.core.prefs", "releng/org.eclipse.ecf.releng/projectSet-anonymous.psf", "providers/bundles/org.eclipse.ecf.provider.filetransfer/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/IRemoteFileSystemRequest.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrieveTest.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/provider/filetransfer/httpclient/HttpClientRetrieveFileTransfer.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/events/socket/AbstractSocketWrapper.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/FileTransferListenerWrapper.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLBrowseTest.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/provider/filetransfer/httpclient/HttpClientDefaultSSLSocketFactoryModifier.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/SocketEventTestUtil.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/JobChangeTraceListener.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrieveTestWithConnectJob.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/events/socketfactory/INonconnectedSocketFactory.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/util/PollingInputStream.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrieveTestUnknownHost.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/outgoing/AbstractOutgoingFileTransfer.java", "tests/bundles/org.eclipse.ecf.tests.apache.httpclient.server/src/org/apache/commons/httpclient/server/SimpleHttpServer.java", "framework/bundles/org.eclipse.ecf.filetransfer/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/events/socket/ISocketEventSource.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/internal/provider/filetransfer/httpclient/ISocketConnectionCallback.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/FileTransferJob.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/AbstractFileTransferTestCase.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/events/IFileTransferConnectStartEvent.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLPartialRetrieveTest.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/retrieve/UrlConnectionRetrieveFileTransfer.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer.httpserver/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient.ssl/src/org/eclipse/ecf/internal/provider/filetransfer/httpclient/ssl/SSLSocketFactoryModifier.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/Trace.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/provider/filetransfer/httpclient/SslProtocolSocketFactory.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/events/socket/SocketEventCreateUtil.java", "tests/bundles/org.eclipse.ecf.tests.apache.httpclient.server/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/events/socket/SocketClosedEvent.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/internal/provider/filetransfer/httpclient/ISSLSocketFactoryModifier.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/AbstractBrowseTestCase.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrieveTestProxy.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrieveTestCancelConnectJob.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/events/socket/ISocketListener.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient/src/org/eclipse/ecf/internal/provider/filetransfer/httpclient/ECFHttpClientProtocolSocketFactory.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/browse/AbstractFileSystemBrowser.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/internal/filetransfer/Messages.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/internal/filetransfer/messages.properties", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/events/socket/AbstractSocketEvent.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/events/socket/SocketConnectedEvent.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/AbstractRetrieveTestCase.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/events/socket/ISocketConnectedEvent.java", "framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/events/socket/ISocketEvent.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer.httpserver/src/org/eclipse/ecf/internal/tests/filetransfer/httpserver/SimpleServer.java", "framework/bundles/org.eclipse.ecf.ssl/src/org/eclipse/ecf/internal/ssl/ECFSSLSocketFactory.java", "tests/bundles/org.eclipse.ecf.tests.filetransfer.httpserver/src/org/eclipse/ecf/internal/tests/filetransfer/httpserver/ITestServer.java"], "repo": "ecf", "reformed_query": "releasing networking job don Eclipse Expected cancelled Update Milestone releasing", "bug_title": " [transport] Update site contacting / downloading is not cancelable", "bug_description": "3.5M5 If an unresponsive update site is enabled (e.g. the main Eclipse site after releasing a Milestone), the \"Install New Software\" or \"Update\" actions don't complete. Cancelling the jobs in the Progress view does mark them as cancelled, however, the jobs take a long time to actually finish. Expected behavior: any networking job should immediately respond to a cancellation."}, {"bug_id": "264242", "ground_truth": ["framework/bundles/org.eclipse.ecf/src/org/eclipse/ecf/core/util/Event.java"], "repo": "ecf", "reformed_query": "eclipse Event ecf util interfac", "bug_title": " Remove extends Serializable from org.eclipse.ecf.core.util.Event interfac", "bug_description": "Currently, the org.eclipse.ecf.core.util.Event interface extends Serializable.  This should be removed so Event does not extend Serializable...to allow for subclasses to not be Serializable."}, {"bug_id": "264963", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/JSLPDiscoveryJob.java"], "repo": "ecf", "reformed_query": "runtime JSLPDiscovery runProtected Expected equinox Plugin provider Starter invoke didn", "bug_title": " Name resolution gets confused by typedef", "bug_description": "-- Error Log from JUnit -- Class: org.eclipse.ecf.tests.provider.jslp.JSLPDiscoveryTest Method: testAddServiceTypeListener Actual: null Expected: null Stack Trace: junit.framework.AssertionFailedError: Test listener didn't receive discovery at junit.framework.Assert.fail(Assert.java:47) at junit.framework.Assert.assertTrue(Assert.java:20) at junit.framework.Assert.assertNotNull(Assert.java:217) at org.eclipse.ecf.tests.discovery.DiscoveryTest.testAddServiceTypeListener(DiscoveryTest.java:464) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at junit.framework.TestCase.runTest(TestCase.java:164) at junit.framework.TestCase.runBare(TestCase.java:130) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:120) at junit.framework.TestSuite.runTest(TestSuite.java:230) at junit.framework.TestSuite.run(TestSuite.java:225) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:574) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:556) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:511) at org.eclipse.equinox.launcher.Main.run(Main.java:1270) at org.eclipse.equinox.launcher.Main.main(Main.java:1246)"}, {"bug_id": "265010", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/internal/provider/discovery/CompositeServiceID.java"], "repo": "ecf", "reformed_query": "eclipse DelegatingMethodAccessorImpl internal pde TestResult invokeFramework provider Discovery Composite", "bug_title": " [Discovery][Composite] junit.framework.AssertionFailedError: Self registered service not found", "bug_description": "-- Error Log from JUnit -- Class: org.eclipse.ecf.tests.provider.discovery.CompositeDiscoveryContainerTest Method: testRegisterService Actual: null Expected: null Stack Trace: junit.framework.AssertionFailedError: Self registered service not found at junit.framework.Assert.fail(Assert.java:47) at org.eclipse.ecf.tests.discovery.DiscoveryTest.testRegisterService(DiscoveryTest.java:301) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at junit.framework.TestCase.runTest(TestCase.java:164) at junit.framework.TestCase.runBare(TestCase.java:130) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:120) at junit.framework.TestSuite.runTest(TestSuite.java:230) at junit.framework.TestSuite.run(TestSuite.java:225) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:574) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:556) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:511) at org.eclipse.equinox.launcher.Main.run(Main.java:1270) at org.eclipse.equinox.launcher.Main.main(Main.java:1246)"}, {"bug_id": "265269", "ground_truth": ["framework/bundles/org.eclipse.ecf.discovery.ui.model/src/org/eclipse/ecf/discovery/ui/model/resource/ServiceResource.java"], "repo": "ecf", "reformed_query": "Foundation changing org EMF replace core EMF Foundation rmi vodagent", "bug_title": " ServiceTypeID to EMF URI conversion broken", "bug_description": "Hi ! In the class org.eclipse.ecf.discovery.ui.model.resource.ServiceResource the conversion of ServiceTypeID to EMF URI is broken. A ServiceTypeID like 'odbms._vodagent._rmi.default._versant' is now converted to 'ecf://odbms/vodagent/rmi.default/versant' instead of 'ecf://odbms/vodagent/rmi/default/versant' This seems to come from changing the 'org.eclipse.ecf.discovery.ui.model' plugin to CDC-1.1/Foundation-1.1,J2SE-1.4 For that change the java.lang.String.replaceFirst(..) and java.lang.String.replaceAll(..) has been replaced by the org.eclipse.ecf.core.util.StringUtils.replaceFirst(..) and org.eclipse.ecf.core.util.StringUtils.replaceAll(..) But is seems that these Methods doesn't support regex, which are used here in ServiceResource. Attached is the simplest solution by changing ServiceResource to not use a regex. ( the regex was originaly required because '.' is a key for regex, so it had to be quoted)"}, {"bug_id": "265412", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "nested signals ecf unset discovery Composite Container signals targetID target", "bug_title": " [Discovery][Composite] Clear all nested discovery containers and unset targetID when CompositeDiscoveryContainer gets disposed", "bug_description": "org.eclipse.ecf.provider.discovery.CompositeDiscoveryContainer does not clear the list of nested discovery containers. Nor does it unset the targetId that signals disposition."}, {"bug_id": "265413", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java", "providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "DNS issues JMDNSDiscovery ecf lock Bug ecf dead JMDNS JMDNS", "bug_title": " [Discovery][JMDNS] Intermittent dead-lock issues in JMDNSDiscoveryContainer", "bug_description": "org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer must not use the same lock objects between threads that make calls on javax.jmdns.JmDNS and calls originating from javax.jmdns.JmDNS."}, {"bug_id": "265551", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrievePauseResumeTest.java"], "repo": "ecf", "reformed_query": "resume reason URLRetrievePauseResumeTest changed pause TIME fails test fail URLRetrieve", "bug_title": " pause reads entire resource for HttpClient provider", "bug_description": "I noticed this while working on URLRetrievePauseResumeTest. See attached patch. I noticed that when I changed PAUSE_TIME, that the tests sometimes did not resume. I changed the tests to fail in that case. I found that the reason for this is that when the transfer is paused the entire resource was still read. If the resume comes before that happened then the test fails."}, {"bug_id": "266118", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "listener Composite basicRun discovery Error equinox Type Stacktrace event", "bug_title": " [Discover][Composite] Test listener received more than expected discovery event expected:<2> but was:<1>", "bug_description": "Error Message Test listener received more than expected discovery event expected:<2> but was:<1> Stacktrace at org.eclipse.ecf.tests.discovery.DiscoveryTest.testAddServiceTypeListener(DiscoveryTest.java:234) at org.pluginbuilder.autotestsuite.application.AutoTestRunner.run(AutoTestRunner.java:115) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runAllJUnit3Tests(AutoTestApplication.java:159) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runAllJUnitTests(AutoTestApplication.java:142) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runHeadless(AutoTestApplication.java:132) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.run(AutoTestApplication.java:78) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.start(AutoTestApplication.java:52) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:556) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:511) at org.eclipse.equinox.launcher.Main.run(Main.java:1270) at org.eclipse.equinox.launcher.Main.main(Main.java:1246) at org.eclipse.core.launcher.Main.main(Main.java:30)"}, {"bug_id": "266120", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "service getServiceTypeIDs Type JmDNS Zeroconf IService IService authority don Discovery", "bug_title": " [Discovery][JmDNS] IServiceTypeID has always default naming authority set", "bug_description": "Zeroconf service types don't include the naming authority. Thus, for ECF, it is transfered as part of the service properties. This causes servicetypes returned by getServiceTypeIDs to always have the default naming authority set."}, {"bug_id": "266262", "ground_truth": ["protocols/bundles/ch.ethz.iks.slp/src/main/java/ch/ethz/iks/slp/ServiceURL.java"], "repo": "ecf", "reformed_query": "Discovery parse parse slp string error URL Format lang parse", "bug_title": " [Discovery][SLP] Improve robustness against broken SLP devices", "bug_description": "Length of SRVTYPERPLY - xid=27122, locale=en, errorCode 0, ServiceTypeCount 2, ServiceTypes [service:KMRealTWScan0300.KONICAMINOLTA, service:KMHDDTWScan0300.KONICAMINOLTA] should be 97, read 96 Length of SRVTYPERPLY - xid=27121, locale=en, errorCode 0, ServiceTypeCount 2, ServiceTypes [service:KMRealTWScan0300.KONICAMINOLTA, service:KMHDDTWScan0300.KONICAMINOLTA] should be 97, read 96 Exception in thread \"Thread-20\" java.lang.NumberFormatException: For input string: \"KONICA MINOLTA bizhub C451\" at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48) at java.lang.Integer.parseInt(Integer.java:447) at java.lang.Integer.parseInt(Integer.java:497) at ch.ethz.iks.slp.ServiceURL.parse(ServiceURL.java:182) at ch.ethz.iks.slp.ServiceURL.fromBytes(ServiceURL.java:394) at ch.ethz.iks.slp.impl.ServiceReply.<init>(ServiceReply.java:87) at ch.ethz.iks.slp.impl.SLPMessage.parse(SLPMessage.java:280) at ch.ethz.iks.slp.impl.SLPCore$2.run(SLPCore.java:976) Exception in thread \"Thread-15\" java.lang.NumberFormatException: For input string: \"KONICA MINOLTA bizhub C451\" at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48) at java.lang.Integer.parseInt(Integer.java:447) at java.lang.Integer.parseInt(Integer.java:497) at ch.ethz.iks.slp.ServiceURL.parse(ServiceURL.java:182) at ch.ethz.iks.slp.ServiceURL.fromBytes(ServiceURL.java:394) at ch.ethz.iks.slp.impl.ServiceReply.<init>(ServiceReply.java:87) at ch.ethz.iks.slp.impl.SLPMessage.parse(SLPMessage.java:280) at ch.ethz.iks.slp.impl.SLPCore$2.run(SLPCore.java:976)"}, {"bug_id": "266539", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/internal/provider/jmdns/JMDNSPlugin.java", "providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/internal/provider/jmdns/Messages.java", "providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/internal/provider/jmdns/messages.properties", "providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java", "framework/bundles/org.eclipse.ecf.discovery.ui.model/src/org/eclipse/ecf/discovery/ui/model/resource/Messages.java", "framework/bundles/org.eclipse.ecf.discovery.ui.model/src/org/eclipse/ecf/discovery/ui/model/resource/ServiceResource.java", "framework/bundles/org.eclipse.ecf.discovery.ui.model/src/org/eclipse/ecf/discovery/ui/model/resource/messages.properties"], "repo": "ecf", "reformed_query": "error zeroconf model error resource info Tunes error services notices", "bug_title": " [Discovery][ui] zeroconf services not being shown in ui", "bug_description": "With latest from head, I'm not seeing some iTunes services shown in the discovery ui.  I also happen to see these info notices in the error log: !ENTRY org.eclipse.ecf.discovery.model 1 0 2009-02-27 10:31:50.984 !MESSAGE Cannot create a resource for 'ecf://192.168.100.11:80/tcp/local/iana'; a registered resource factory is needed I'm not sure if this is related, but it seems that it could be."}, {"bug_id": "267035", "ground_truth": ["framework/bundles/org.eclipse.ecf.sharedobject/src/org/eclipse/ecf/core/sharedobject/ReplicaSharedObjectDescription.java"], "repo": "ecf", "reformed_query": "tyQMDnXR Cvll StringBuilder safe Shared ReplicaSharedObjectDescription Replica checkForComodification Executor", "bug_title": " ReplicaSharedObjectDescription#toString() is not thread safe", "bug_description": "Build ID: M20080911-1700 Steps To Reproduce: Primary(GUID[Cq+I8tyQMDnXR9gyzYuCvllUYz4=]; org.acoveo.ecf.monitoringTool.AgentGroupInformation) says Hello java.util.ConcurrentModificationException at java.util.LinkedList$ListItr.checkForComodification(LinkedList.java:761) at java.util.LinkedList$ListItr.next(LinkedList.java:696) at java.util.AbstractCollection.toString(AbstractCollection.java:421) at java.lang.String.valueOf(String.java:2827) at java.lang.StringBuilder.append(StringBuilder.java:115) at java.util.AbstractMap.toString(AbstractMap.java:490) at java.lang.String.valueOf(String.java:2827) at java.lang.StringBuffer.append(StringBuffer.java:219) at org.eclipse.ecf.core.sharedobject.ReplicaSharedObjectDescription.toString(ReplicaSharedObjectDescription.java:108) at java.lang.String.valueOf(String.java:2827) at java.lang.StringBuffer.append(StringBuffer.java:219) at org.eclipse.ecf.provider.generic.SOContext.sendCreate(SOContext.java:188) at org.eclipse.ecf.core.sharedobject.BaseSharedObject.replicateToRemoteContainers(BaseSharedObject.java:569) at org.acoveo.ecf.BaseReflectionSharedObject.access$2(BaseReflectionSharedObject.java:1) at org.acoveo.ecf.BaseReflectionSharedObject$1.processEvent(BaseReflectionSharedObject.java:271) at org.eclipse.ecf.core.sharedobject.BaseSharedObject.fireEventProcessors(BaseSharedObject.java:185) at org.eclipse.ecf.core.sharedobject.BaseSharedObject.handleEvent(BaseSharedObject.java:122) at org.eclipse.ecf.provider.generic.SOWrapper.svc(SOWrapper.java:229) at org.eclipse.ecf.provider.generic.SOWrapper$2.run(SOWrapper.java:190) at org.eclipse.ecf.provider.generic.SOContainer$SharedObjectJobRunnable.run(SOContainer.java:142) at org.eclipse.equinox.internal.util.impl.tpt.threadpool.Executor.run(Executor.java:70) More information: toString should be synchronized"}, {"bug_id": "267481", "ground_truth": ["server-side/bundles/org.eclipse.ecf.server.generic/src/org/eclipse/ecf/server/generic/AbstractGenericServer.java"], "repo": "ecf", "reformed_query": "Container container container container Server ecf GenericServerContainer org include GenericServerContainer", "bug_title": " [server] supporrt remoteservice container adapter in generic server", "bug_description": "The AbstractGenericServer class does not support the IRemoteServiceContainerAdapter, because the GenericServerContainer is an inner, protected class...and the plugin.xml in org.eclipse.ecf.server.generic does not include an adapter factory for IRemoteServiceContainerAdapter. To support this adapter 1) Move GenericServerContainer into a top-level class 2) Add markup to plugin.xml to support an adapter factory for IRemoteServiceContainerAdapter"}, {"bug_id": "268281", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "discovery incorrectly String pending discovery uriProtocol committing Protocol String doesn", "bug_title": " [Discovery][jmdns] protocol incorrectly set to uri protocol", "bug_description": "In JMDNSDiscoveryContainer line 407 is this: final String proto = (uriProtocol == null) ? serviceInfo.getProtocol() : uriProtocol; This should be this: final String proto = serviceInfo.getProtocol(); As for jmdns the uriProtocol doesn't necessarily match the discovery protocol. Fix is pending.  I'll be committing to HEAD shortly."}, {"bug_id": "269612", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainer.java", "providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainerInstantiator.java"], "repo": "ecf", "reformed_query": "CDC interfaces IDCA list design design IDCA problem providers implement", "bug_title": " [Discovery][Composite] CDC does not add container ending with \".locator\" to its list", "bug_description": "CDC filters out containers whose name end in \".locator\". With the old design (IDCA) this has not been a problem (the container ended up in the internal list anyway, since it was also an IDA). But new providers might only implement one of the interfaces."}, {"bug_id": "270332", "ground_truth": ["framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/Activator.java"], "repo": "ecf", "reformed_query": "Remy Doc Created handling subject subject fixed details docshare attachment", "bug_title": " put() is called twice for DocShares due to ECF Generic group handling", "bug_description": "Created attachment 130146 [details] proposed patch v2009032-0800 Remy found that the subject Hashtable never has put() called on it, meaning there's no adding of docshare channels for reference later.  This causes strange problems fixed with the attached patch."}, {"bug_id": "270516", "ground_truth": ["framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/IRemoteFileInfo.java"], "repo": "ecf", "reformed_query": "Info getLastModified wrong getLastModified Bug getLastModified Bug IRemoteFileInfo wrong computed", "bug_title": " IRemoteFileInfo.getLastModified doesn't behave as specified", "bug_description": "IRemoteFileInfo.getLastModified says it returns -1 if the file does not exist or last modified could not be computed. This does not match all the implementations I see in ECF, which return 0 in case of failure. This is because they use URLConnection.getLastModified() and java.io.File.lastModified(), both of which return 0 in case of failure rather than -1. It looks like either the spec or all implementations are wrong."}, {"bug_id": "272317", "ground_truth": ["framework/bundles/org.eclipse.ecf.identity/src/org/eclipse/ecf/core/identity/URIID.java"], "repo": "ecf", "reformed_query": "ecf net Illegal URIID compare execution BaseID method setting reference", "bug_title": " Illegal reference to URI.compareTo(URI) in org.eclipse.ecf.identity", "bug_description": "Looking at the last N-build results, I saw: The method java.net.URI.compareTo(URI) referenced in org.eclipse.ecf.core.identity.URIID.namespaceCompareTo(BaseID) is not defined in bundle's required execution environment: J2SE-1.4 Indeed java.net.URI.compareTo(URI) is not defined in a J2SE1.4. It is only defined in 1.5 and above. You could get such binaries if you build org.eclipse.ecf.identity on a 1.5 VM even if you are setting the compiler settings to 1.4. That bundle must be built using a 1.4 libraries."}, {"bug_id": "273135", "ground_truth": ["framework/bundles/org.eclipse.ecf.identity/src/org/eclipse/ecf/core/util/SystemLogService.java"], "repo": "ecf", "reformed_query": "implementation LogService LogService parameter implementation Log StringBuffer LogService String println", "bug_title": " LogService implementation misses details when logging", "bug_description": "The implementation invokes println on the String 'message' parameter instead of the constructed StringBuffer."}, {"bug_id": "273138", "ground_truth": ["framework/bundles/org.eclipse.ecf.docshare/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.docshare/src/org/eclipse/ecf/internal/docshare/ECFStart.java"], "repo": "ecf", "reformed_query": "removeMember Share handle fireDisposables dec ECFStart security main core invoke", "bug_title": " NPE thrown when shutting down Eclipse without connection to a provider", "bug_description": "1. Launch a second Eclipse instance with XMPP and DocShare. 2. Select the provider connection icon and select 'XMPP'. 3. The wizard appears. Close it. 4. Shutdown Eclipse. 5. An NPE is logged. org.eclipse.core.runtime.Status[plugin=org.eclipse.ecf;code=4;message=container dispose error;severity4;exception=java.lang.NullPointerException;children=[]] java.lang.NullPointerException at org.eclipse.ecf.internal.docshare.ECFStart$1.handleEvent(ECFStart.java:34) at org.eclipse.ecf.core.AbstractContainer.fireContainerEvent(AbstractContainer.java:62) at org.eclipse.ecf.provider.generic.SOContainer.notifySharedObjectDeactivated(SOContainer.java:792) at org.eclipse.ecf.provider.generic.SOWrapper.deactivated(SOWrapper.java:94) at org.eclipse.ecf.provider.generic.SOContainerGMM.removeSharedObject(SOContainerGMM.java:216) at org.eclipse.ecf.provider.generic.SOContainer.destroySharedObject(SOContainer.java:420) at org.eclipse.ecf.provider.generic.SOContainerGMM.removeSharedObjects(SOContainerGMM.java:274) at org.eclipse.ecf.provider.generic.SOContainerGMM.removeSharedObjects(SOContainerGMM.java:258) at org.eclipse.ecf.provider.generic.SOContainerGMM.removeMember(SOContainerGMM.java:73) at org.eclipse.ecf.provider.generic.SOContainerGMM.removeAllMembers(SOContainerGMM.java:104) at org.eclipse.ecf.provider.generic.SOContainerGMM.removeAllMembers(SOContainerGMM.java:87) at org.eclipse.ecf.provider.generic.SOContainer.dispose(SOContainer.java:264) at org.eclipse.ecf.provider.generic.ClientSOContainer.dispose(ClientSOContainer.java:80) at org.eclipse.ecf.provider.xmpp.XMPPContainer.dispose(XMPPContainer.java:224) at org.eclipse.ecf.core.ContainerFactory$1.dispose(ContainerFactory.java:86) at org.eclipse.ecf.internal.core.ECFPlugin.fireDisposables(ECFPlugin.java:108) at org.eclipse.ecf.internal.core.ECFPlugin.stop(ECFPlugin.java:356) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:840) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:833) at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:474) at org.eclipse.osgi.framework.internal.core.AbstractBundle.suspend(AbstractBundle.java:546) at org.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1098) at org.eclipse.osgi.framework.internal.core.StartLevelManager.decFWSL(StartLevelManager.java:593) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:261) at org.eclipse.osgi.framework.internal.core.StartLevelManager.shutdown(StartLevelManager.java:216) at org.eclipse.osgi.framework.internal.core.InternalSystemBundle.suspend(InternalSystemBundle.java:266) at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:685) at org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:583) at org.eclipse.core.runtime.adaptor.EclipseStarter.shutdown(EclipseStarter.java:409) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:200) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1287) at org.eclipse.equinox.launcher.Main.main(Main.java:1263)"}, {"bug_id": "273343", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.datashare/src/org/eclipse/ecf/provider/datashare/SharedObjectDatashareContainerAdapter.java"], "repo": "ecf", "reformed_query": "Shared Channel channel Shared Adapter bug Datashare IChannel channel bug", "bug_title": " SharedObjectDatashareContainerAdapter does not dispose IChannel when removeChannel(ID) is called", "bug_description": "The channel needs to be disposed when it is removed. See bug 273342."}, {"bug_id": "273718", "ground_truth": ["framework/bundles/org.eclipse.ecf.sync/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.sync/src/org/eclipse/ecf/internal/sync/doc/cola/ColaDocumentChangeMessage.java"], "repo": "ecf", "reformed_query": "Change Document Bug ColaDocumentChangeMessage accident constants field isDeletion accident code", "bug_title": " ColaDocumentChangeMessage should use constants instead of hard-coded integers", "bug_description": "The 'transformType' field appears to be an accident waiting to happen. Sample snippet of some code below. public boolean isInsertion() { return (transformType == 0); } public boolean isDeletion() { return (transformType == 1); } public boolean isReplacement() { return (transformType == 2); }"}, {"bug_id": "273819", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc.ui/src/org/eclipse/ecf/internal/irc/ui/Activator.java", "providers/bundles/org.eclipse.ecf.provider.irc.ui/src/org/eclipse/ecf/internal/irc/ui/wizards/IRCConnectWizard.java", "providers/bundles/org.eclipse.ecf.provider.xmpp.ui/src/org/eclipse/ecf/internal/provider/xmpp/ui/wizards/XMPPConnectWizard.java"], "repo": "ecf", "reformed_query": "time container bug container Bug wizard dialog user dialog user", "bug_title": " Containers are instantiated every time a wizard opens", "bug_description": "Somehow, this feels kind of wrong. The container is also not disposed when the wizard closes (if the user cancels the dialog). Should it? Currently, every time the wizard is opened and closed, a thread is started (per bug 266817) and as far as I can tell, runs forever."}, {"bug_id": "273823", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.irc/src/org/eclipse/ecf/internal/provider/irc/container/IRCRootContainer.java"], "repo": "ecf", "reformed_query": "IRC fire Connecting provider IContainerConnectingEvents IContainerDisconnectingEvents", "bug_title": " IRC provider doesn't fire IContainerDisconnectingEvents", "bug_description": "It does at least fire IContainerConnectingEvents though."}, {"bug_id": "274604", "ground_truth": ["framework/bundles/org.eclipse.ecf.sync/src/org/eclipse/ecf/internal/sync/doc/cola/ColaSynchronizationStrategy.java"], "repo": "ecf", "reformed_query": "ColaSynchronizationStrategy reason Cola reason instantiated Strategy primitives objects instantiated existing", "bug_title": " ColaSynchronizationStrategy instantiates new Booleans unnecessarily", "bug_description": "The getInstanceFor(ID, boolean) method has the following: Boolean existingStrategyIsInitiator = new Boolean(existingStrategy.isInitiator); if (existingStrategyIsInitiator.equals(new Boolean(isInitiator))) { return existingStrategy; } There seems to no reason to why new Boolean objects need to be instantiated when the boolean primitives could be compared directly."}, {"bug_id": "274613", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.irc/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.irc.ui/src/org/eclipse/ecf/internal/irc/ui/wizards/IRCConnectWizard.java"], "repo": "ecf", "reformed_query": "clients container sense typed chatroom Wizard eclipse Bug", "bug_title": " Wizard handling of IRC IDs fundamentally wrong due to special chatroom handling code", "bug_description": "Currently, the IRC connection wizard asks for a URI-ish input that includes the channels that the user wishes to join upon successfully connecting to the server. This causes grave problems for different container instances that are talking to each other because remote container identification is not possible via the user's nickname. In datashare, messages are sent out to remote clients based on their IDs. It is not possible to guess a remote peer's ID because while we may know someone's nickname and the IRC server they're on (presumably the same one we're on), we do not know what they inserted into the wizard in the beginning. They may have typed in #eclipse in the beginning but then five minutes later they joined #eclipse-dev too but that doesn't mean their IDs have changed to \"../#eclipse,#eclipse-dev\", the ID is _still_ just \"../#eclipse\". As IDs are supposed to be immutable, updating them whenever a user joins/leaves a channel does not make sense."}, {"bug_id": "275722", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.remoteservice.rest/.project", "tests/bundles/org.eclipse.ecf.tests.remoteservice.rest/build.properties", "tests/bundles/org.eclipse.ecf.tests.remoteservice.rest/src/org/eclipse/ecf/tests/remoteservice/rest/RestResourceTest.java", "framework/bundles/org.eclipse.ecf.remoteservice.rest/.project", "framework/bundles/org.eclipse.ecf.remoteservice.rest/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.remoteservice.rest/META-INF/dspresent.xml", "framework/bundles/org.eclipse.ecf.remoteservice.rest/build.properties", "framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/internal/remoteservice/rest/Activator.java", "framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/internal/remoteservice/rest/ResourceRepresentationFactory.java", "framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/IRestResourceRepresentationFactory.java", "framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/RestService.java", "framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/util/DSPresent.java", "framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/util/DSUtil.java", "framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/util/IDSPresent.java"], "repo": "ecf", "reformed_query": "org gsoc", "bug_title": " [rest] REST abstraction for ECF", "bug_description": "This bug acts as the main bug for the gsoc 2009 project \"REST abstraction for ECF\". See http://wiki.eclipse.org/REST_abstraction_for_ECF for more details"}, {"bug_id": "277176", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/fragment.xml", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/plugin.properties", "server-side/examples/bundles/org.eclipse.ecf.examples.remoteservices.client/fragment.xml", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/.classpath", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/.project", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/.settings/org.eclipse.jdt.core.prefs", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/.settings/org.eclipse.pde.core.prefs", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/build.properties", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/fragment.xml", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/plugin.properties", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/src/org/eclipse/ecf/remoteservice/ui/dosgi/handlers/DOSGiReflectiveRemoteServiceHandler.java", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/src/org/eclipse/ecf/remoteservice/ui/dosgi/handlers/Messages.java", "framework/bundles/org.eclipse.ecf.remoteservice.ui.dosgi/src/org/eclipse/ecf/remoteservice/ui/dosgi/handlers/messages.properties", "framework/bundles/org.eclipse.ecf.remoteservice.ui/plugin.xml", "framework/bundles/org.eclipse.ecf.remoteservice.ui/plugin.xml", "framework/bundles/org.eclipse.ecf.remoteservice.ui/src/org/eclipse/ecf/internal/remoteservices/ui/handlers/ReflectiveRemoteServiceHandler.java"], "repo": "ecf", "reformed_query": "Service remotesvcs ECF   Neighborhood", "bug_title": " Service Discovery view not working with osgiservices", "bug_description": "When I bring up the Service Discovery view in the client, I see my machine under Neighborhood, and under my machine, I have osgiservices [tcp]:iana.  When I run the ECF examples, I see remotesvcs [tcp]:iana. When I right-click on osgiservices [tcp]:iana, I'm not getting the connect menu option."}, {"bug_id": "278222", "ground_truth": ["framework/bundles/org.eclipse.ecf/src/org/eclipse/ecf/core/ContainerFactory.java"], "repo": "ecf", "reformed_query": "Exception ContainerCreateException error ContainerTypeDescription accurate Container Exception error type current", "bug_title": " [core] improve error message when container type not found", "bug_description": "The current error message for when a container type not found is: org.eclipse.ecf.core.ContainerCreateException: ContainerTypeDescription cannot be null at This should be improved to give more accurate information."}, {"bug_id": "280601", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/XMPPContainerPresenceHelper.java"], "repo": "ecf", "reformed_query": "remove listener call add IPresence remove details XMPPContainerPresenceHelper Bug Manager", "bug_title": " removePresenceListener adds the listener instead of removing it", "bug_description": "Created attachment 139414 [details] proposed patch In XMPPContainerPresenceHelper, the IRosterManager implementation adds the again listener instead of removing it in removePresenceListener: public void removePresenceListener(IPresenceListener listener) { synchronized (presenceListeners) { presenceListeners.add(listener); } } This method should call presenceListeners.remove instead. See attached patch."}, {"bug_id": "282667", "ground_truth": ["protocols/bundles/ch.ethz.iks.r_osgi.remote/src/main/java/ch/ethz/iks/r_osgi/impl/CodeAnalyzer.java"], "repo": "ecf", "reformed_query": "Analyzer named eclipse iks String bug model method addExtensionPoints type", "bug_title": " [remotesrvs][r-osgi] class name parsing exception in ch.ethz.iks.r_osgi.impl.CodeAnalyzer", "bug_description": "Hi, as described by Wojciech in bug 274982, we have some issues with CodeAnalyzer. I'll paste that comment in this bug, since I believe ECF bug is better place to discuss this than PDE bug :-) ------- Comment  #9 From Wojciech Galanciak  2009-07-07 06:17:47 -0400  [reply] ------- Ok, we've got an interesting issue :-) Our remote service interface contains a method like this: void addExtensionPoints(ExtensionPoint[] extensionPoints); and when we try to register it, we get to the point where r-OSGI is analyzing it (in ch.ethz.iks.r_osgi.impl.CodeAnalyzer.visit(String)) and is trying to find type ExtensionPoint[]. It's trying to open class file named \"[Lorg/eclipse/pde/internal/runtime/registry/model/ExtensionPoint.class\" - note the '[' at the beginning. This fails with IOException. Does this mean, that we should not use arrays in our services?"}, {"bug_id": "286934", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.provider.xmpp/META-INF/MANIFEST.MF", "tests/bundles/org.eclipse.ecf.tests.provider.xmpp/src/org/eclipse/ecf/tests/provider/xmpp/RosterTest.java", "providers/bundles/org.eclipse.ecf.provider.xmpp/src/org/eclipse/ecf/internal/provider/xmpp/XMPPContainerPresenceHelper.java"], "repo": "ecf", "reformed_query": "roster host IDs Bug generated appears roster resource Bug problem", "bug_title": " [xmpp] Disconnected users with resource IDs not removed from roster", "bug_description": "Created attachment 144809 [details] Test case Steps To Reproduce: 1. Connect a user with a resource ID (user@host/resource). 2. Disconnect the user. 3. Connect the same user with a different resource ID (user@host/resource2). => The user now appears twice in the roster, once with the old and once with the new resource. If resource IDs are generated randomly, this causes disconnected entries to be never removed. The attached patch contains a new test case that fails due to this problem."}, {"bug_id": "287666", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/browse/URLFileSystemBrowser.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/retrieve/UrlConnectionRetrieveFileTransfer.java"], "repo": "ecf", "reformed_query": "Bug HTTPConnection iHTTPConnection microedition Bug Bug HTTPConnection iHTTPConnection javax HTTPConnection", "bug_title": " [releng][filetransfer] Removed javax.microedition import", "bug_description": "Buckminster Build fails with \"The import javax.microedition cannot be resolved\". Thus removed import of javax.microedition by replacing iHTTPConnection.HTTP_NOT_FOUND with \"404\"."}, {"bug_id": "292972", "ground_truth": ["framework/bundles/org.eclipse.ecf.filetransfer/src/org/eclipse/ecf/filetransfer/FileTransferJob.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer.httpclient.ssl/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/outgoing/AbstractOutgoingFileTransfer.java", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/retrieve/AbstractRetrieveFileTransfer.java"], "repo": "ecf", "reformed_query": "filetransfer discuss patches", "bug_title": " [filetransfer] apply additions/changes/fixes from p2 genuitec patch", "bug_description": "On bug 291926, there are a number of patches for p2 from Genuitec.  This bug will be used to discuss and track application of the ECF filetransfer-relevant pieces of that patch."}, {"bug_id": "299849", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.remoteservice/src/org/eclipse/ecf/provider/remoteservice/generic/RegistrySharedObject.java"], "repo": "ecf", "reformed_query": "remoteServerID handle received handle Registration close remoteContainerID connected occur XMPPRemote", "bug_title": " [remotesvcs] RegistrySharedObject#handle* can throw NPE", "bug_description": "In this code: if (remoteContainerID == null || getLocalContainerID().equals(remoteContainerID)) { return; } XMPPRemoteServiceAdapterFactory#XMPPRegistrySharedObject#getLocalContainerID() returns container ID as connected ID: protected ID getLocalContainerID() { // For XMPP, the local container ID is its connected ID. return getContext().getConnectedID(); } this code returns XMPPContainer.remoteServerID But! If we will invoke method XMPPContainer.disconnect() then we will set remoteServerID to null and getLocalContainerID will return null. In RegistrySharedObject#handleAddRegistration we will have NPE. This situation can occur because we receive/handle packet in another (not main) thread. We can receive message in thread A, close connection in thread Main and begin handle received message in thread A. Therefore we can got NPE."}, {"bug_id": "302407", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.r_osgi/src/org/eclipse/ecf/internal/provider/r_osgi/RemoteServiceImpl.java"], "repo": "ecf", "reformed_query": "Service coconut Impl proxy Sync slp coconut Service Exception remote", "bug_title": " [remotesrvs][r-osgi] remote method invocation fails due to mismatch caused by parameter type inheritance in org.eclipse.ecf.internal.provider.r_osgi.RemoteServiceImpl.callSync(...)", "bug_description": "The nested exception is something along the lines of: java.lang.NoSuchMethodException: proxy.coconut_jchiff.ch.ethz.iks.slp.AdvertiserImpl.register(ch.ethz.iks.slp.ServiceURL, java.util.Hashtable). This exception does not happen if r-OSGi is used directly."}, {"bug_id": "303125", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/jmdns/javax/jmdns/impl/JmDNSImpl.java"], "repo": "ecf", "reformed_query": "JmDNS unregisterAllServices cancelled close Shutdown early start lang JmDNSImpl java", "bug_title": " [Discovery][JmDNS] Timer is canceled too early", "bug_description": "Exception in thread \"JmDNS.Shutdown\" java.lang.IllegalStateException: Timer already cancelled. at java.util.Timer.sched(Timer.java:354) at java.util.Timer.schedule(Timer.java:222) at javax.jmdns.impl.tasks.Canceler.start(Canceler.java:78) at javax.jmdns.impl.JmDNSImpl.unregisterAllServices(JmDNSImpl.java:702) at javax.jmdns.impl.JmDNSImpl.close(JmDNSImpl.java:1241) at javax.jmdns.impl.JmDNSImpl$Shutdown.run(JmDNSImpl.java:1171) at java.lang.Thread.run(Thread.java:619)"}, {"bug_id": "308908", "ground_truth": ["applications/kosmos/bundles/org.eclipse.ecf.presence.bot.kosmos/META-INF/MANIFEST.MF", "applications/kosmos/bundles/org.eclipse.ecf.presence.bot.kosmos/src/org/eclipse/ecf/internal/presence/bot/kosmos/ChatRoomMessageHandler.java"], "repo": "ecf", "reformed_query": "version version Bug preset commands org inert version regexps forgets", "bug_title": " [irc] [bot] Bot forgets preset commands if it fails to write browseable version", "bug_description": "org.eclipse.ecf.internal.presence.bot.kosmos.ChatRoomMessageHandler#ChatRoomMessageHandler() , after parsing the preset command regexps attempts to write out a HTML reference version to disk for later use.  If that write fails, it clears the list of known commands and renders the bot inert.  It should only clear the list if there's a problem in loading the commands."}, {"bug_id": "310554", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.remoteservice/src/org/eclipse/ecf/provider/remoteservice/generic/RegistrySharedObject.java"], "repo": "ecf", "reformed_query": "handle invoke caller serializable RegistrySharedObject serializable handleCallRequest Bug Object Registry", "bug_title": " [remoteservices] RegistrySharedObject.handleCallRequest", "bug_description": "In RegistrySharedObject.handleCallRequest, if the actual invoke throws an exception, that exception may not be serializable and will fail to be propogated back to caller."}, {"bug_id": "313029", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/client/RestClientService.java"], "repo": "ecf", "reformed_query": "ISO constant unreadable patch \u00c2\u00b1\u00c3 unreadable http Build Bug Prepare", "bug_title": " HttpClient gets http content in ISO-8859-1 instead UTF-8", "bug_description": "Build Identifier: HttpClient gets http content in its default encoding - ISO-8859-1. If page content contains do not ASCII symbols, they transform to unreadable symbols sequences, for example: \u00c3?&#159;\u00c3?\u00c2\u00be \u00c3?\u00c2\u00bf\u00c3\u2018&#128;\u00c3?\u00c2\u00be\u00c3\u2018&#129;\u00c3\u2018&#140;\u00c3?\u00c2\u00b1\u00c3?\u00c2\u00b0\u00c3?\u00c2\u00bc \u00c3\u2018&#135;\u00c3?\u00c2\u00b8\u00c3\u2018&#130;\u00c3?\u00c2\u00b0\u00c3\u2018&#130;\u00c3?\u00c2\u00b5\u00c3?\u00c2\u00bb\u00c3?\u00c2\u00b5\u00c3?\u00c2\u00b9. I made small patch - add in method createAndPrepareHttpMethod(...) of class RestClientService folows string: httpClient.getParams().setParameter(HttpMethodParams.HTTP_CONTENT_CHARSET, DEFAULT_HTTP_CONTENT_CHARSET); DEFAULT_HTTP_CONTENT_CHARSET is java constant: protected final static String DEFAULT_HTTP_CONTENT_CHARSET = \"UTF-8\"; //$NON-NLS-1$ Reproducible: Always"}, {"bug_id": "317919", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.dnssd/src/org/eclipse/ecf/provider/dnssd/DnsSdDiscoveryLocator.java"], "repo": "ecf", "reformed_query": "TestExecution Delegating TXT getServiceInfos Remote Result Locator framework Application eclipse", "bug_title": " [Discovery][DNS-SD] NPE when SRV record has no accompanying TXT records", "bug_description": "-- Error Log from JUnit -- Class: org.eclipse.ecf.tests.provider.dnssd.DnsSdDiscoveryServiceTestWithWildcards Method: testGetServices Actual: null Expected: null Stack Trace: java.lang.NullPointerException at org.eclipse.ecf.provider.dnssd.DnsSdDiscoveryLocator.getServiceInfos(DnsSdDiscoveryLocator.java:194) at org.eclipse.ecf.provider.dnssd.DnsSdDiscoveryLocator.getServices(DnsSdDiscoveryLocator.java:146) at org.eclipse.ecf.provider.dnssd.DnsSdDiscoveryLocator.getServices(DnsSdDiscoveryLocator.java:132) at org.eclipse.ecf.tests.discovery.DiscoveryTest.testGetServices(DiscoveryTest.java:139) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) at org.eclipse.equinox.launcher.Main.run(Main.java:1407) at org.eclipse.equinox.launcher.Main.main(Main.java:1383)"}, {"bug_id": "317931", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.dnssd/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.dnssd/src/org/eclipse/ecf/provider/dnssd/DnsSdDiscoveryException.java"], "repo": "ecf", "reformed_query": "DnsSdDiscoveryException Exception Discovery DnsSdDiscoveryException Dns DNS Discovery ECFRuntimeException subclass DNS", "bug_title": " [Discovery][DNS-SD] Make DnsSdDiscoveryException subclass of ECFRuntimeException", "bug_description": "Make DnsSdDiscoveryException subclass of ECFRuntimeException"}, {"bug_id": "318070", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.dnssd/src/org/eclipse/ecf/provider/dnssd/DnsSdDiscoveryLocator.java"], "repo": "ecf", "reformed_query": "Service internal launcher Launcher Dns Locator runTests basic Dns RemotePluginTestRunner", "bug_title": " [Discovery][DNS-SD] NPE when system sets no default search path", "bug_description": "-- Error Log from JUnit -- Class: org.eclipse.ecf.tests.provider.dnssd.DnsSdDiscoveryWithoutRegistration Method: testRegisterServiceWithNull Actual: null Expected: null Stack Trace: java.lang.NullPointerException at org.eclipse.ecf.provider.dnssd.DnsSdDiscoveryLocator.connect(DnsSdDiscoveryLocator.java:264) at org.eclipse.ecf.tests.discovery.DiscoveryTestsWithoutRegister.testConnect(DiscoveryTestsWithoutRegister.java:70) at org.eclipse.ecf.tests.discovery.DiscoveryTestsWithoutRegister.testRegisterServiceWithNull(DiscoveryTestsWithoutRegister.java:214) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) at org.eclipse.equinox.launcher.Main.run(Main.java:1407) at org.eclipse.equinox.launcher.Main.main(Main.java:1383)"}, {"bug_id": "318074", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.provider.dnssd/src/org/eclipse/ecf/tests/provider/dnssd/DnsSdAdvertiserComparator.java"], "repo": "ecf", "reformed_query": "Execution Service comparator DnsSdAdvertiserComparator EclipseAppContainer start Application runtime Accessor Remote", "bug_title": " [Discovery][DNS-SD] NPE in test comparator when expected property is missing", "bug_description": "-- Error Log from JUnit -- Class: org.eclipse.ecf.tests.provider.dnssd.DnsSdAdvertiserServiceTest Method: testRegisterService Actual: null Expected: null Stack Trace: java.lang.NullPointerException at org.eclipse.ecf.tests.provider.dnssd.DnsSdAdvertiserComparator.compare(DnsSdAdvertiserComparator.java:52) at org.eclipse.ecf.tests.provider.dnssd.DnsSdAdvertiserServiceTest.testRegisterService(DnsSdAdvertiserServiceTest.java:95) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) at org.eclipse.equinox.launcher.Main.run(Main.java:1407) at org.eclipse.equinox.launcher.Main.main(Main.java:1383)"}, {"bug_id": "318075", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.discovery/src/org/eclipse/ecf/tests/discovery/AbstractDiscoveryTest.java"], "repo": "ecf", "reformed_query": "Whitespaces Discovery property Discovery Discovery Property Discovery property IServiceProperty Discovery", "bug_title": " [Discovery] Whitespaces not allowed in property keys", "bug_description": "IServiceProperty keys must not contain Whitespaces"}, {"bug_id": "318086", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainer.java", "tests/bundles/org.eclipse.ecf.tests.discovery/src/org/eclipse/ecf/tests/discovery/DiscoveryTest.java", "tests/bundles/org.eclipse.ecf.tests.discovery/src/org/eclipse/ecf/tests/discovery/listener/TestServiceListener.java", "tests/bundles/org.eclipse.ecf.tests.provider.discovery/src/org/eclipse/ecf/tests/provider/discovery/CompositeDiscoveryContainerTest.java", "tests/bundles/org.eclipse.ecf.tests.provider.discovery/src/org/eclipse/ecf/tests/provider/discovery/CompositeDiscoveryServiceContainerTest.java", "releng/features/org.eclipse.ecf.tests-feature/feature.xml", "releng/features/org.eclipse.ecf.tests-feature/feature.xml"], "repo": "ecf", "reformed_query": "ecf discovery", "bug_title": " [Discovery] discovery tests take too long on build.ecf-project.org", "bug_description": "Disabling discovery related unit tests for the moment until I figure out what the problem is."}, {"bug_id": "319259", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/ServicePropertiesAdapter.java", "providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/ServicePropertiesAdapter.java"], "repo": "ecf", "reformed_query": "internal Headless PRIORITY autotestsuite identity plugin event SERVICEIDNAME equinox VRJLUzr", "bug_title": " [Discovery][jSLP] ServiceName might contain illegal characters", "bug_description": "Exception during sending of SRVREG - xid=15033, locale=en_US, url: service:osgiservices://osgiservices://140.211.166.119:3282/svc_bEU04VRJLUzrHobksW4CWT+Swas=, serviceType: service:osgiservices, scopeList: [default], attList: [(ecf.sp.cid=\\FF\\62\\33\\4a\\6e\\4c\\6d\\56\\6a\\62\\47\\6c\\77\\63\\32\\55\\75\\5a\\57\\4e\\6d\\4c\\6d\\4e\\76\\63\\6d\\55\\75\\61\\57\\52\\6c\\62\\6e\\52\\70\\64\\48\\6b\\75\\55\\33\\52\\79\\61\\57\\35\\6e\\53\\55\\51\\36\\5a\\57\\4e\\6d\\64\\47\\4e\\77\\4f\\69\\38\\76\\62\\47\\39\\6a\\59\\57\\78\\6f\\62\\33\\4e\\30\\4f\\6a\\4d\\79\\4f\\44\\49\\76\\63\\32\\56\\79\\64\\6d\\56\\79), (ecf.rsvc.id=\\FF\\4d\\54\\41\\35), (x-28392-PRIORITY=0), (x-28392-SERVICEIDNAME=svc_bEU04VRJLUzrHobksW4CWT+Swas=), (x-28392-WEIGHT=0), (ecf.sp.cns=org.eclipse.ecf.core.identity.StringID), (ecf.sp.esi=foobar), (ecf.rsvc.ns=ecf.namespace.generic.remoteservice), (ecf.sp.ect=ecf.generic.server), (osgi.remote.service.interfaces=org.eclipse.ecf.tests.remoteservice.IConcatService)] to ecf2/140.211.166.119:10427 Exception: java.net.SocketTimeoutException: Receive timed out [log;-0700 2010.07.08 04:33:18:818;ERROR;org.eclipse.ecf.osgi.services.discovery;org.eclipse.core.runtime.Status[plugin=org.eclipse.ecf.osgi.services.discovery;code=4;message=publishService:cannot register service;severity4;exception=org.eclipse.ecf.core.util.ECFRuntimeException: Receive timed out;children=[]]] org.eclipse.ecf.core.util.ECFRuntimeException: Receive timed out at org.eclipse.ecf.provider.jslp.container.JSLPDiscoveryContainer.registerService(JSLPDiscoveryContainer.java:190) at org.eclipse.ecf.provider.discovery.CompositeDiscoveryContainer.registerService(CompositeDiscoveryContainer.java:298) at org.eclipse.ecf.internal.osgi.services.discovery.ServicePublicationHandler.handleServicePublication(ServicePublicationHandler.java:322) at org.eclipse.ecf.internal.osgi.services.discovery.ServicePublicationHandler.addingService(ServicePublicationHandler.java:156) at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:896) at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:261) at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:233) at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:840) at org.eclipse.osgi.internal.serviceregistry.FilteredServiceListener.serviceChanged(FilteredServiceListener.java:104) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:933) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:227) at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:149) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:756) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:525) at org.eclipse.ecf.internal.osgi.services.distribution.EventHookImpl.publishRemoteService(EventHookImpl.java:268) at org.eclipse.ecf.internal.osgi.services.distribution.EventHookImpl.handleRegisteredServiceEvent(EventHookImpl.java:128) at org.eclipse.ecf.internal.osgi.services.distribution.EventHookImpl.event(EventHookImpl.java:62) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1143) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:743) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerService(AbstractDistributionTest.java:164) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerDefaultService(AbstractDistributionTest.java:174) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.registerWaitAndUnregister(AbstractRemoteServiceRegisterTest.java:42) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.testRegisterOnExistingServerWithMissingExportedIntents(AbstractRemoteServiceRegisterTest.java:145) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.pluginbuilder.autotestsuite.application.AutoTestRunner.run(AutoTestRunner.java:115) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runAllJUnit3Tests(AutoTestApplication.java:260) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runAllJUnitTestsOnUIThread(AutoTestApplication.java:175) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.runHeadless(AutoTestApplication.java:159) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.run(AutoTestApplication.java:96) at org.pluginbuilder.autotestsuite.application.AutoTestApplication.start(AutoTestApplication.java:69) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) at org.eclipse.equinox.launcher.Main.run(Main.java:1407) at org.eclipse.equinox.launcher.Main.main(Main.java:1383) Exception in Multicast Receiver Thread ch.ethz.iks.slp.ServiceLocationException: extra data found 54\\45\\77),(x-28392-PRIORITY=0),(x-28392-SERVICEIDNAME=svc_Ec ^ E.g. \"=\" is not allowed within String service properties."}, {"bug_id": "320799", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.provider.discovery/org.eclipse.ecf.tests.provider.discovery.launch", "providers/bundles/org.eclipse.ecf.provider.jmdns/jmdns/javax/jmdns/impl/JmDNSImpl.java", "tests/bundles/org.eclipse.ecf.tests.provider.jmdns/org.eclipse.ecf.tests.provider.jmdns.launch"], "repo": "ecf", "reformed_query": "mdns loopback fail JmDNS prevents jmdns send bound binding top", "bug_title": " [Discovery][JmDNS] JmDNS does not allow binding loopback interface", "bug_description": "javax.jmdns.impl.JmDNSImpl.JmDNSImpl() explicitly prevents the loopback interface from being bound to. Even if net.mdns.interface is set. On top of that, JREs < 1.6 fail to send multicast messages over the loopback interface even if the socket is bound to it."}, {"bug_id": "321354", "ground_truth": ["examples/bundles/org.eclipse.ecf.examples.loadbalancing.servicehost/META-INF/MANIFEST.MF", "examples/bundles/org.eclipse.ecf.examples.loadbalancing.servicehost/src/org/eclipse/ecf/internal/examples/loadbalancing/servicehost/DataProcessorServiceHostApplication.java", "examples/bundles/org.eclipse.ecf.examples.loadbalancing.consumer/src/org/eclipse/ecf/internal/examples/loadbalancing/consumer/DataProcessorConsumerApplication.java", "examples/bundles/org.eclipse.ecf.examples.loadbalancing.servicehost/products/Data Processor Service Host (activemq).product", "examples/bundles/org.eclipse.ecf.examples.loadbalancing.consumer/META-INF/MANIFEST.MF"], "repo": "ecf", "reformed_query": "properly connect jms connect order examples provider timing registration bug", "bug_title": " [jms] connect sequence timing problem", "bug_description": "There is a connect sequence timing problem in the JMS provider that is causing the remote services load balancing examples to fail to work properly. The bug is that on the service host, the add registration message (sent upon new client connection request) is sent out of order to the new client, meaning that the client does not get it, meaning that subsequent remote service lookups on the client (for that registration) fail. The fix is to manage the timing of the connect sequence appropriately."}, {"bug_id": "323208", "ground_truth": ["compendium/bundles/org.eclipse.ecf.osgi.services.distribution/src/org/eclipse/ecf/internal/osgi/services/distribution/Activator.java"], "repo": "ecf", "reformed_query": "machine Impl Service DefaultClassLoader Manager multiple host notifyDiscoveredServiceTrackers bundle fireServiceDiscovered", "bug_title": " Distribution Provider exceeds startup time limit (5 sec) if existing services are present", "bug_description": "Created attachment 177060 [details] testcase I'm using Eclipse 3.6 with ECF 3.3 I was trying to reproduce the problem I encountered with multiple hosts on the same machine with zookeeper when I ran into an exception when using jmdns.  To reproduce, unzip the attached workspace, run the consumer, run the first host, then run the second host.  You should get the following exception: !MESSAGE While loading class \"org.eclipse.ecf.internal.osgi.services.distribution.DiscoveredServiceTrackerImpl$DiscoveredEndpointEvent\", thread \"Thread[JMDNS Discovery Thread,5,main]\" timed out waiting (5000ms) for thread \"Thread[Start Level Event Dispatcher,5,main]\" to finish starting bundle \"org.eclipse.ecf.osgi.services.distribution_1.2.0.v20100615-1451 [21]\". To avoid deadlock, thread \"Thread[JMDNS Discovery Thread,5,main]\" is proceeding but \"org.eclipse.ecf.internal.osgi.services.distribution.DiscoveredServiceTrackerImpl$DiscoveredEndpointEvent\" may not be fully initialized. !STACK 0 org.osgi.framework.BundleException: State change in progress for bundle \"initial@reference:file:../../workspaces/osgi-remote-services/.metadata/.plugins/org.eclipse.pde.core/.bundle_pool/plugins/org.eclipse.ecf.osgi.services.distribution_1.2.0.v20100615-1451.jar/\" by thread \"Start Level Event Dispatcher\". at org.eclipse.osgi.framework.internal.core.AbstractBundle.beginStateChange(AbstractBundle.java:1071) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:281) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440) at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:265) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:106) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:453) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:393) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:469) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:422) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:410) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107) at java.lang.ClassLoader.loadClass(ClassLoader.java:248) at org.eclipse.ecf.internal.osgi.services.distribution.DiscoveredServiceTrackerImpl.serviceChanged(DiscoveredServiceTrackerImpl.java:151) at org.eclipse.ecf.internal.osgi.services.discovery.ServicePublicationHandler.notifyDiscoveredServiceTrackers(ServicePublicationHandler.java:103) at org.eclipse.ecf.internal.osgi.services.discovery.ServicePublicationHandler.serviceDiscovered(ServicePublicationHandler.java:73) at org.eclipse.ecf.discovery.AbstractDiscoveryContainerAdapter.fireServiceDiscovered(AbstractDiscoveryContainerAdapter.java:120) at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.fireDiscovered(JMDNSDiscoveryContainer.java:366) at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer$2.run(JMDNSDiscoveryContainer.java:327) at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer$1.run(JMDNSDiscoveryContainer.java:125) at java.lang.Thread.run(Thread.java:637) Caused by: org.eclipse.osgi.framework.internal.core.AbstractBundle$BundleStatusException ... 21 more Root exception: org.eclipse.osgi.framework.internal.core.AbstractBundle$BundleStatusException at org.eclipse.osgi.framework.internal.core.AbstractBundle.beginStateChange(AbstractBundle.java:1071) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:281) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:440) at org.eclipse.osgi.internal.loader.BundleLoader.setLazyTrigger(BundleLoader.java:265) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:106) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:453) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:216) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:393) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:469) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:422) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:410) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:107) at java.lang.ClassLoader.loadClass(ClassLoader.java:248) at org.eclipse.ecf.internal.osgi.services.distribution.DiscoveredServiceTrackerImpl.serviceChanged(DiscoveredServiceTrackerImpl.java:151) at org.eclipse.ecf.internal.osgi.services.discovery.ServicePublicationHandler.notifyDiscoveredServiceTrackers(ServicePublicationHandler.java:103) at org.eclipse.ecf.internal.osgi.services.discovery.ServicePublicationHandler.serviceDiscovered(ServicePublicationHandler.java:73) at org.eclipse.ecf.discovery.AbstractDiscoveryContainerAdapter.fireServiceDiscovered(AbstractDiscoveryContainerAdapter.java:120) at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.fireDiscovered(JMDNSDiscoveryContainer.java:366) at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer$2.run(JMDNSDiscoveryContainer.java:327) at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer$1.run(JMDNSDiscoveryContainer.java:125) at java.lang.Thread.run(Thread.java:637)"}, {"bug_id": "326033", "ground_truth": ["protocols/bundles/ch.ethz.iks.r_osgi.remote/src/main/java/ch/ethz/iks/r_osgi/impl/RemoteOSGiServiceImpl.java"], "repo": "ecf", "reformed_query": "String handling Synchronous Topics Method Trackers numbers security STACK java", "bug_title": " ClassCastException handling of r_osgi event handler topics", "bug_description": "Hi, In the /ch.ethz.iks.r_osgi.remote/src/main/java/ch/ethz/iks/r_osgi/impl/RemoteOSGiServiceImpl.setupTrackers() there is an assumption that all event handlers have assigned a topic of String[]. According to OSGi specs the topic of interests can be a String or a String[] This leads to r_osgi crashing. I propose the following change which has been tested by us: public Object addingService( final ServiceReference reference) { final String[] theTopics; Object topics = reference.getProperty(EventConstants.EVENT_TOPIC); if (topics instanceof String) theTopics = new String[] { (String) topics }; else theTopics = (String[]) reference.getProperty(EventConstants.EVENT_TOPIC); ================================= STACKTRACE (line numbers could be slightly different from the currennt impl) ================================= !ENTRY org.eclipse.osgi 4 0 2010-09-23 13:16:37.555 !MESSAGE An unexpected runtime error has occurred. !STACK 0 java.lang.ClassCastException: java.lang.String cannot be cast to [Ljava.lang.String; at ch.ethz.iks.r_osgi.impl.RemoteOSGiServiceImpl$1.addingService(RemoteOSGiServiceImpl.java:1130) at org.osgi.util.tracker.ServiceTracker$Tracked.customizerAdding(ServiceTracker.java:896) at org.osgi.util.tracker.AbstractTracked.trackAdding(AbstractTracked.java:261) at org.osgi.util.tracker.AbstractTracked.track(AbstractTracked.java:233) at org.osgi.util.tracker.ServiceTracker$Tracked.serviceChanged(ServiceTracker.java:840) at org.eclipse.osgi.internal.serviceregistry.FilteredServiceListener.serviceChanged(FilteredServiceListener.java:104) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:933) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:227) at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:149) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:756) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:525) at com.remainsoftware.gravity.event.dispatcher.Activator.start(Activator.java:29) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(BundleContextImpl.java:783) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActivator(BundleContextImpl.java:774) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:755) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:370) at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(AbstractBundle.java:374) at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Framework.java:1067) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:561) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBundles(StartLevelManager.java:546) at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(StartLevelManager.java:459) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:243) at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEvent(StartLevelManager.java:440) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:227) at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:337)"}, {"bug_id": "327060", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/core/AdvertisedService.java"], "repo": "ecf", "reformed_query": "URI eclipse location zookeeper service   bug", "bug_title": " [discovery][zookeeper] location URI should include port", "bug_description": "As described in ecf-dev mailing list posting http://dev.eclipse.org/mhonarc/lists/ecf-dev/msg04290.html the zookeeper location URI should include the port of interest for a given service. Note as described in bug 327034 comment 3 this bug provides part of the solution to the problem described on the mailing list."}, {"bug_id": "327582", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.r_osgi/src/org/eclipse/ecf/internal/provider/r_osgi/R_OSGiRemoteServiceContainer.java"], "repo": "ecf", "reformed_query": "Filter osgi unnecessary osgi incorrect Filter References incorrect Bug removed", "bug_title": " [r-osgi]simplify implementation of getRemoteServiceReferences(ID[]...)", "bug_description": "Currently, the r-osgi implementation of getRemoteServiceReferences(ID[],String,String) does an incorrect and unnecessary thing.  This should be simplified/removed to ignore the ID[] idFilter parameter. Also getRemoteServiceReferences(ID,ID[],String,String) similarly should be simplified."}, {"bug_id": "327749", "ground_truth": ["protocols/bundles/ch.ethz.iks.r_osgi.remote/src/main/java/ch/ethz/iks/r_osgi/impl/TCPChannelFactory.java"], "repo": "ecf", "reformed_query": "Service Release Remoting Build Backend NPE problematic Helios Helios remoting", "bug_title": " [r-OSGi] NPE on shutdown (in TCPChannelFactory)", "bug_description": "Build Identifier: Helios Service Release 1 - 20100917-0705 Seems to be a revival of BUG 234444... https://bugs.eclipse.org/bugs/show_bug.cgi?format=multiple&id=234444 ch.ethz.iks.r_osgi.remote_1.0.0.RC4_v20100913-1814) which is installed together with the current ECF version seems to still contain the problematic code: ch.ethz.iks.r_osgi.impl.TCPChannelFactory.deactivate(TCPChannelFactory.java:96): thread.interrupt(); Instead it presumably should be: if (thread != null) { thread.interrupt(); } Reproducible: Always Steps to Reproduce: 1. Create Project with R_OSGI-Remoting (In my case RCP-Client, OSGI-Backend with Hibernate and ECF with DS and R_OSGI remoting) 2. Exit Client after remoting is successfully working"}, {"bug_id": "327994", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.remoteservice.rest/src/org/eclipse/ecf/tests/remoteservice/rest/twitter/TwitterRemoteServiceTest.java"], "repo": "ecf", "reformed_query": "Service remoteservice testReport Twitter authentication testReport testReport Service TwitterRemoteServiceTest service", "bug_title": " [remoteservices][test] TwitterRemoteServiceTest failing to connect to twitter service", "bug_description": "The TwitterRemoteServiceTest is failing in automated builds...apparently because of some issue with accessing the twitter API/service (possibly authentication/account in automated test environment, perhaps something changed in twitter service, etc). For an example of the test failures, see https://build.ecf-project.org/hudson/job/C-HEAD-remoteservice.rest.feature/16/testReport/"}, {"bug_id": "328130", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.provider.dnssd/src/org/eclipse/ecf/tests/provider/dnssd/DnsSdDiscoveryServiceTest.java"], "repo": "ecf", "reformed_query": "Application Handle Error runProtected reflect dns tests app discovery type", "bug_title": " [DNS-SD] Tests fail due to missing listener implementation", "bug_description": "junit.framework.AssertionFailedError: No Services must be registerd at this point ServiceInfo[uri=http://www.ecf-project.org:80/;id=ServiceID[type=ServiceTypeID[typeName=_http._tcp.dns-sd.ecf-project.org._iana];location=http://www.ecf-project.org:80/;full=_http._tcp.dns-sd.ecf-project.org._iana@http://www.ecf-project.org:80/];priority=10;weight=0;props=ServiceProperties[{path=/, dns-sd.ptcl=http}]] at junit.framework.Assert.fail(Assert.java:47) at junit.framework.Assert.assertTrue(Assert.java:20) at org.eclipse.ecf.tests.discovery.DiscoveryServiceTest.testAddServiceListenerIServiceListenerOSGi(DiscoveryServiceTest.java:61) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) at org.eclipse.equinox.launcher.Main.run(Main.java:1407) at org.eclipse.equinox.launcher.Main.main(Main.java:1383) For 3.4 listener tests will be deactivated for DNS-SD."}, {"bug_id": "328542", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/generic/TCPServerSOContainer.java"], "repo": "ecf", "reformed_query": "getCanonicalHostName Canonical InetAddress localhost Address", "bug_title": " [RemoteSrvs][Generic] Change default to use InetAddress.getLocalHost().getCanonicalHostName() instead of \"localhost\"", "bug_description": "The generic providers selects \"localhost\" as the default hostname if not given explicitly. This fails for scenarios where services are to be remoted across different machines. Thus the default should be changed to use InetAddress.getLocalHost().getCanonicalHostName()."}, {"bug_id": "328772", "ground_truth": ["framework/bundles/org.eclipse.ecf/src/org/eclipse/ecf/core/status/SerializableStatus.java"], "repo": "ecf", "reformed_query": "Serializable checkForSerializable subsequently org exception initializes exception setException Bug Exception", "bug_title": " org.eclipse.ecf.core.status.SerializableStatus.OK_STATUS causes exception in org.eclipse.ecf.core.status.SerializableStatus.checkForSerializable(Throwable) due to null", "bug_description": "org.eclipse.ecf.core.status.SerializableStatus.OK_STATUS initializes with null which subsequently causes an exception when setting the exception (org.eclipse.ecf.core.status.SerializableStatus.setException(Throwable)). IMO org.eclipse.ecf.core.status.SerializableStatus.setException(Throwable) should exclude null from  org.eclipse.ecf.core.status.SerializableStatus.checkForSerializable(Throwable)."}, {"bug_id": "328998", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainerInstantiator.java", "providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainerInstantiator.java"], "repo": "ecf", "reformed_query": "Type add locator Composite ecf advertisers provider Container createInstance Type", "bug_title": " [Discovery][Composite] CompositeDiscoveryContainer uses advertisers when set to be a locator", "bug_description": "org.eclipse.ecf.provider.discovery.CompositeDiscoveryContainerInstantiator.createInstance(ContainerTypeDescription, Object[]) must not add advertisers to the CompositeDiscoveryContainer when CDC is set to be a locator (and vice versa)."}, {"bug_id": "328999", "ground_truth": ["framework/bundles/org.eclipse.ecf.discovery.ui.model/src/org/eclipse/ecf/discovery/ui/model/resource/ServiceResource.java"], "repo": "ecf", "reformed_query": "ecf model Bug Listener model ServiceDiscoveryListener exception ServiceDiscoveryListener discovery exception", "bug_title": " [Discovery] Make UI resilient against broken hostnames", "bug_description": "If org.eclipse.ecf.discovery.ui.model.resource.ServiceResource.ServiceDiscoveryListener.getInetAddress(URI) cannot resolve the hostname provided by ECF discovery, the UI will crash with a NPE exception. Thus services with broken hostnames should just be ignored."}, {"bug_id": "329054", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainer.java", "providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/provider/discovery/CompositeDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "ContainerConnectExceptions connect ContainerConnectExceptions IConnectContext providers ecf Exception Container discovery containers", "bug_title": " [Discovery][Composite] org.eclipse.ecf.provider.discovery.CompositeDiscoveryContainer.connect(ID, IConnectContext) should handle ContainerConnectExceptions in nested discovery providers", "bug_description": "org.eclipse.ecf.provider.discovery.CompositeDiscoveryContainer.connect(ID, IConnectContext) connects nested containers/discovery providers. If a nested provider fails to connect with a org.eclipse.ecf.core.ContainerConnectException, it will prevent other containers from registering with CDC successfully. Thus CDC must handle the CCE."}, {"bug_id": "329247", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.dnssd/src/org/eclipse/ecf/provider/dnssd/DnsSdDiscoveryContainerAdapter.java"], "repo": "ecf", "reformed_query": "NPE provider provider SRVRecord record NPE NPE Dns Comparator ecf", "bug_title": " [Discovery][DNS-SD] NPE in org.eclipse.ecf.provider.dnssd.DnsSdDiscoveryContainerAdapter.getSRVRecord(Lookup, Comparator) when record not PTR or SRV record", "bug_description": "[Discovery][DNS-SD] NPE in org.eclipse.ecf.provider.dnssd.DnsSdDiscoveryContainerAdapter.getSRVRecord(Lookup, Comparator) when record not PTR or SRV record"}, {"bug_id": "331740", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/internal/provider/discovery/Activator.java"], "repo": "ecf", "reformed_query": "Composite misses Container Discovery", "bug_title": " [Discovery][Composite] CompositeDiscoveryContainer misses out on DiscoveryContainers", "bug_description": "CompositeDiscoveryContainer misses out on DiscoveryContainers if new CompositeDiscoveryContainer() causes the instantiation of new DiscoveryContainers."}, {"bug_id": "331878", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/core/internal/Configuration.java"], "repo": "ecf", "reformed_query": "tests version Data error zookeeper Severe Container Server Worker prevent", "bug_title": " [Discovery][Zookeeper] Zookeeper unit tests crash the VM with system exit 10 due to FileNotFoundException", "bug_description": "2010-12-05 20:32:05,033 - FATAL [pool-1-thread-3:ZooKeeperServer@262] - Severe unrecoverable error, exiting java.io.FileNotFoundException: /tmp/zookeeperData/version-2/snapshot.0 (No such file or directory) at java.io.FileOutputStream.open(Native Method) at java.io.FileOutputStream.<init>(FileOutputStream.java:179) at java.io.FileOutputStream.<init>(FileOutputStream.java:131) at org.apache.zookeeper.server.persistence.FileSnap.serialize(FileSnap.java:224) at org.apache.zookeeper.server.persistence.FileTxnSnapLog.save(FileTxnSnapLog.java:211) at org.apache.zookeeper.server.ZooKeeperServer.takeSnapshot(ZooKeeperServer.java:260) at org.apache.zookeeper.server.ZooKeeperServer.loadData(ZooKeeperServer.java:255) at org.apache.zookeeper.server.ZooKeeperServer.startup(ZooKeeperServer.java:366) at org.eclipse.ecf.provider.zookeeper.core.ZooDiscoveryContainer.startStandAlone(ZooDiscoveryContainer.java:185) at org.eclipse.ecf.provider.zookeeper.core.ZooDiscoveryContainer$3.run(ZooDiscoveryContainer.java:164) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662) Calling System.exit() in org.apache.zookeeper.server.ZooKeeperServer.takeSnapshot() is IMO not appropriate for a library bundle. It might be best to prevent Zookeeper from exiting by setting a special security manager"}, {"bug_id": "332852", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/DiscoveryActivator.java"], "repo": "ecf", "reformed_query": "start BundleActivator start Activator Creating Slow Bundle ZooDiscoveryContainer Bug Discovery", "bug_title": " [Discovery][ZooDiscovery] Slow Zookeeper startup might cause timeout in BundleActivator.start()", "bug_description": "Creating the ZooDiscoveryContainer should thus be done asynchronously."}, {"bug_id": "336365", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/EndpointDescriptionReader.java"], "repo": "ecf", "reformed_query": "org Descriptions Descriptions osgi EndpointDescriptionReader IOException Endoint Endpoint Stream org", "bug_title": " [remoteserviceadmin] throw IOException in readEndointDescriptions if error on creation", "bug_description": "In org.eclipse.ecf.osgi.services.remoteserviceadmin.EndpointDescriptionReader.readEndpointDescriptions(InputStream) EndpointDescription creation currently does not throw an IOException (if construction fails).  It should throw in this case."}, {"bug_id": "337345", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/EndpointDescription.java"], "repo": "ecf", "reformed_query": "Filter uuid Container Service interfaces plugin debug node host rsFilter", "bug_title": " [remoteserviceadmin] Service Info is null. Cannot publish endpointDescription", "bug_description": "Comes up with a second remote service registerd (on host end). The first registration creates an r-osgi container, the second should then use this. No exception, difficult to debug for me. I was just starting to work on my consumer container selector due to special topology, but this ERROR comes on host end. I did not expect problems on this side... ----- Service Reference of lokal Service (to be 'remoted') --- [16.02.2011 19:15:56][devsosgi.osgi.services.remoteserviceadmin.topology.DEVSOSGiHostContainerSelector] DEBUG: {devsosgi.node.INode}={devsosgi.node.id=ecdd7af8-0743-404f-9c28-86ad58aedf5f, service.exported.configs=ecf.r_osgi.peer, service.exported.interfaces=*, service.id=59} ----- Containers (one was created) --- [16.02.2011 19:15:56][devsosgi.osgi.services.remoteserviceadmin.topology.DEVSOSGiHostContainerSelector] DEBUG: RemoteServiceContainer [containerID=r-osgi://jumper:9279, container=org.eclipse.ecf.internal.provider.r_osgi.R_OSGiRemoteServiceContainer@19d03a4e, containerAdapter=org.eclipse.ecf.internal.provider.r_osgi.R_OSGiRemoteServiceContainer@19d03a4e] ---- Service published ----- ZooDiscovery> Service Published: 16.02.2011 19:15:56. ServiceInfo[uri=ecf.osgirsvc://jumper:9279/osgirsvc_vPzl+b65eP4WlQ0B2fscwOFP4rw=;id=ServiceID[type=ServiceTypeID[typeName=_ecf.osgirsvc._default.default._iana];location=ecf.osgirsvc://jumper:9279/osgirsvc_vPzl+b65eP4WlQ0B2fscwOFP4rw=;full=_ecf.osgirsvc._default.default._iana@ecf.osgirsvc://jumper:9279/osgirsvc_vPzl+b65eP4WlQ0B2fscwOFP4rw=];priority=0;weight=0;props=ServiceProperties[{endpoint.service.id=60, devsosgi.node.id=ecdd7af8-0743-404f-9c28-86ad58aedf5f, objectClass=devsosgi.node.INode, endpoint.framework.uuid=1fe860fa-ec1b-422a-9b97-90823d440bb7, remote.intents.supported=passByValue exactlyOnce ordered, ecf.endpoint.id.ns=ecf.namespace.r_osgi, remote.configs.supported=ecf.r_osgi.peer, endpoint.id=r-osgi://jumper:9279, service.imported.configs=ecf.r_osgi.peer}]] ----- Another Service Reference (to be 'remoted') ----- [16.02.2011 19:16:05][devsosgi.osgi.services.remoteserviceadmin.topology.DEVSOSGiHostContainerSelector] DEBUG: {devsosgi.simulator.ISimulator, devsosgi.simulator.IAtomicSimulator}={devsosgi.model.component.id=devsosgi.model.crossing_0_0, devsosgi.node.id=ecdd7af8-0743-404f-9c28-86ad58aedf5f, service.exported.configs=ecf.r_osgi.peer, service.exported.interfaces=*, service.id=65} ----- Containers (still one, should be used) [16.02.2011 19:16:05][devsosgi.osgi.services.remoteserviceadmin.topology.DEVSOSGiHostContainerSelector] DEBUG: RemoteServiceContainer [containerID=r-osgi://jumper:9279, container=org.eclipse.ecf.internal.provider.r_osgi.R_OSGiRemoteServiceContainer@1286d597, containerAdapter=org.eclipse.ecf.internal.provider.r_osgi.R_OSGiRemoteServiceContainer@1286d597] -- ERROR --- [log;+0100 2011.02.16 19:16:05:882;ERROR;org.eclipse.ecf.osgi.services.remoteserviceadmin;org.eclipse.core.runtime.MultiStatus[plugin=org.eclipse.ecf.osgi.services.remoteserviceadmin;code=4;message=Advertise endpointDesription=EndpointDescription[containerID=r-osgi://jumper:9279,connectTargetID=null,idFilter=null,rsFilter=null,properties={devsosgi.model.component.id=devsosgi.model.crossing_0_0, devsosgi.node.id=ecdd7af8-0743-404f-9c28-86ad58aedf5f, ecf.endpoint.id.ns=ecf.namespace.r_osgi, endpoint.framework.uuid=1fe860fa-ec1b-422a-9b97-90823d440bb7, endpoint.id=r-osgi://jumper:9279, endpoint.service.id=66, objectClass=[Ljava.lang.String;@c7f5bf9, remote.configs.supported=[Ljava.lang.String;@52e3fda4, remote.intents.supported=[Ljava.lang.String;@7621447f, service.id=65, service.imported=true, service.imported.configs=[Ljava.lang.String;@52e3fda4}].  Problem in unadvertise;severity4;exception=null;children=[Status ERROR: org.eclipse.ecf.osgi.services.remoteserviceadmin code=0 Advertise endpointDescription=EndpointDescription[containerID=r-osgi://jumper:9279,connectTargetID=null,idFilter=null,rsFilter=null,properties={devsosgi.model.component.id=devsosgi.model.crossing_0_0, devsosgi.node.id=ecdd7af8-0743-404f-9c28-86ad58aedf5f, ecf.endpoint.id.ns=ecf.namespace.r_osgi, endpoint.framework.uuid=1fe860fa-ec1b-422a-9b97-90823d440bb7, endpoint.id=r-osgi://jumper:9279, endpoint.service.id=66, objectClass=[Ljava.lang.String;@c7f5bf9, remote.configs.supported=[Ljava.lang.String;@52e3fda4, remote.intents.supported=[Ljava.lang.String;@7621447f, service.id=65, service.imported=true, service.imported.configs=[Ljava.lang.String;@52e3fda4}].  Service Info is null.  Cannot publish endpointDescription=EndpointDescription[containerID=r-osgi://jumper:9279,connectTargetID=null,idFilter=null,rsFilter=null,properties={devsosgi.model.component.id=devsosgi.model.crossing_0_0, devsosgi.node.id=ecdd7af8-0743-404f-9c28-86ad58aedf5f, ecf.endpoint.id.ns=ecf.namespace.r_osgi, endpoint.framework.uuid=1fe860fa-ec1b-422a-9b97-90823d440bb7, endpoint.id=r-osgi://jumper:9279, endpoint.service.id=66, objectClass=[Ljava.lang.String;@c7f5bf9, remote.configs.supported=[Ljava.lang.String;@52e3fda4, remote.intents.supported=[Ljava.lang.String;@7621447f, service.id=65, service.imported=true, service.imported.configs=[Ljava.lang.String;@52e3fda4}] null]]]"}, {"bug_id": "337624", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/util/Logger.java"], "repo": "ecf", "reformed_query": "osgirsvc priority Deactivated silencing Zoo services osgi bundles System org", "bug_title": " [Discovery][ZooDiscovery] allow silencing of zookeeper startup, publish, shutdown", "bug_description": "Currently, when the zookeeper provider starts up and shuts down, it produces output to standard out...for example: ZooDiscovery> Discovery Service Activated. Feb 18, 2011 3:53:38 PM. ... log4j:WARN No appenders could be found for logger (org.apache.zookeeper.server.ZooKeeperServer). log4j:WARN Please initialize the log4j system properly. ZooDiscovery> Service Published: Feb 18, 2011 3:53:42 PM. ServiceInfo[uri=ecf.osgirsvc://localhost:9278/osgirsvc_YFsonK7gMRipiNY7mhngPWce4X8=;id=ServiceID[type=ServiceTypeID[typeName=_ecf.osgirsvc._default.default._iana];location=ecf.osgirsvc://localhost:9278/osgirsvc_YFsonK7gMRipiNY7mhngPWce4X8=;full=_ecf.osgirsvc._default.default._iana@ecf.osgirsvc://localhost:9278/osgirsvc_YFsonK7gMRipiNY7mhngPWce4X8=];priority=0;weight=0;props=ServiceProperties[{endpoint.service.id=58, endpoint.package.version.org.eclipse.ecf.examples.remoteservices.hello=3.0.0, objectClass=org.eclipse.ecf.examples.remoteservices.hello.IHello, endpoint.framework.uuid=00c93b4b-ba3b-0010-1045-97c48d87b8f2, remote.intents.supported=passByValue exactlyOnce ordered, ecf.endpoint.id.ns=ecf.namespace.r_osgi, remote.configs.supported=ecf.r_osgi.peer, endpoint.id=r-osgi://localhost:9278, service.imported.configs=ecf.r_osgi.peer}]] ... ... osgi> ZooDiscovery> Discovery Service Deactivated.Feb 18, 2011 3:57:27 PM. As well, the log4j initialization doesn't seem to be configured...i.e. log4j:WARN No appenders could be found for logger (org.apache.zookeeper.server.ZooKeeperServer). log4j:WARN Please initialize the log4j system properly. Would it be possible to turn off the ZooDiscovery startup, publish, and shutdown output?  If desired, ECF has a trivial OSGi LogService implementation (SystemLogService)...as well as a LogHelper classes and others to use.  One example usage is here: http://git.eclipse.org/c/ecf/org.eclipse.ecf.git/tree/osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/internal/osgi/services/remoteserviceadmin/Activator.java I'm not saying this LogService has to be used for addressing this bug, but it is available for use at no additional code cost and without additional dependencies.  Note also that the ECF util Trace class can also be used (for tracing/debug output)."}, {"bug_id": "337643", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice/src/org/eclipse/ecf/remoteservice/AbstractRemoteService.java"], "repo": "ecf", "reformed_query": "Context ServiceAImpl interfaces ServiceAImpl ATracker ServiceATracker getName Service ATracker Proxy", "bug_title": " [remoteserviceadmin] classloader for proxy creation must be able to access IRemoteServiceProxy", "bug_description": "Somehow the registration of remote services has changed. Now I don't have any service with the \"service.imported=*\" property set on consumer end! Something to do with the equals of EndpointDescription? ----- Provider Registration (Provider) final Properties propsA = new Properties(); propsA.put(\"service.exported.interfaces\", \"*\"); propsA.put(\"service.exported.configs\", \"ecf.r_osgi.peer\"); Activator.getContext().registerService(ServiceA.class.getName(), new ServiceAImpl(), propsA); ----- Consumer Tracker public class ServiceATracker extends ServiceTracker { public ServiceATracker() throws InvalidSyntaxException { super(Activator.getContext(), ServiceA.class.getName(), null); ----- Consumer Output (but nothing about the RS property!) test.service.ServiceA has come... ecf.rsvc.cid -> r-osgi://jumper:9279 ecf.rsvc.ranking -> 0 ecf.rsvc.id -> 57 service.uri -> r-osgi://jumper:9279#57 ecf.robjectClass -> [Ljava.lang.String;@23000bcf service.id -> 57 objectClass -> [Ljava.lang.String;@580754fc -----"}, {"bug_id": "338107", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/AbstractTopologyManager.java", "osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/build.properties"], "repo": "ecf", "reformed_query": "required security artLevelManager Error Internal incompatible invalid remoteserviceadmin Sun ator", "bug_title": " [remoteserviceadmin] org.eclipse.ecf.osgi.services.remoteserviceadmin sets jre.compilation.profile = J2SE-1.4 but uses 1.5 API", "bug_description": "This is with head project of master, if I use launch product it works and after a build (target platform 3.6.1) this Exception comes up. I have looked into the plugins directory and the bundle \"org.eclipse.ecf.osgi.services.remoteserviceadmin\" is there, so it should build, but the package folders inside \"org.eclipse.ecf.osgi.services.remoteserviceadmin\" jar are empty (so local build fails somehow, but now Error about this). ----- Build log ----- # 24.02.11 16:35:36 MEZ # Eclipse Compiler for Java(TM) 0.A68_R36x, 3.6.1, Copyright IBM Corp 2000, 2010. All rights reserved. Target level 'jsr14' is incompatible with source level '1.3'. A source level '1.5' or better is required ----- Exception ----- eclipse.buildId=unknown java.version=1.6.0_20 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=de_DE Command-line arguments:  -os win32 -ws win32 -arch x86_64 -clean -console -conso leLog !ENTRY org.eclipse.ecf.osgi.services.distribution 4 0 2011-02-24 15:53:15.624 !MESSAGE !STACK 0 org.osgi.framework.BundleException: Exception in org.eclipse.ecf.internal.osgi.s ervices.distribution.Activator.start() of bundle org.eclipse.ecf.osgi.services.d istribution. at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActiv ator(BundleContextImpl.java:806) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(Bund leContextImpl.java:755) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(Bundl eHost.java:370) at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(Abstra ctBundle.java:374) at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Frame work.java:1067) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBund les(StartLevelManager.java:561) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBund les(StartLevelManager.java:546) at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(St artLevelManager.java:459) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStart Level(StartLevelManager.java:243) at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEv ent(StartLevelManager.java:440) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventM anager.java:227) at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(Even tManager.java:337) Caused by: java.lang.NoClassDefFoundError: org/eclipse/ecf/osgi/services/remotes erviceadmin/AbstractTopologyManager at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClassCond(Unknown Source) at java.lang.ClassLoader.defineClass(Unknown Source) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass( DefaultClassLoader.java:188) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(Clas spathManager.java:580) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(Cl asspathManager.java:550) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassIm pl(ClasspathManager.java:481) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_L ockClassLoader(ClasspathManager.java:469) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(C lasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalCla ss(DefaultClassLoader.java:216) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLo ader.java:393) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(Bundl eLoader.java:469) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:422) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:410) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(De faultClassLoader.java:107) at java.lang.ClassLoader.loadClass(Unknown Source) at org.eclipse.ecf.internal.osgi.services.distribution.Activator.start(A ctivator.java:99) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(Bund leContextImpl.java:783) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActiv ator(BundleContextImpl.java:774) ... 11 more Caused by: java.lang.ClassNotFoundException: org.eclipse.ecf.osgi.services.remot eserviceadmin.AbstractTopologyManager at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(Bundl eLoader.java:506) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:422) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:410) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(De faultClassLoader.java:107) at java.lang.ClassLoader.loadClass(Unknown Source) ... 31 more Root exception: java.lang.NoClassDefFoundError: org/eclipse/ecf/osgi/services/remoteserviceadmin /AbstractTopologyManager at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClassCond(Unknown Source) at java.lang.ClassLoader.defineClass(Unknown Source) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass( DefaultClassLoader.java:188) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(Clas spathManager.java:580) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(Cl asspathManager.java:550) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassIm pl(ClasspathManager.java:481) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_L ockClassLoader(ClasspathManager.java:469) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(C lasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalCla ss(DefaultClassLoader.java:216) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLo ader.java:393) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(Bundl eLoader.java:469) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:422) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:410) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(De faultClassLoader.java:107) at java.lang.ClassLoader.loadClass(Unknown Source) at org.eclipse.ecf.internal.osgi.services.distribution.Activator.start(A ctivator.java:99) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$1.run(Bund leContextImpl.java:783) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.startActiv ator(BundleContextImpl.java:774) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(Bund leContextImpl.java:755) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(Bundl eHost.java:370) at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(Abstra ctBundle.java:374) at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Frame work.java:1067) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBund les(StartLevelManager.java:561) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBund les(StartLevelManager.java:546) at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(St artLevelManager.java:459) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStart Level(StartLevelManager.java:243) at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEv ent(StartLevelManager.java:440) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventM anager.java:227) at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(Even tManager.java:337) Caused by: java.lang.ClassNotFoundException: org.eclipse.ecf.osgi.services.remot eserviceadmin.AbstractTopologyManager at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(Bundl eLoader.java:506) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:422) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:410) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(De faultClassLoader.java:107) at java.lang.ClassLoader.loadClass(Unknown Source) ... 31 more !ENTRY org.eclipse.ecf.osgi.services.remoteserviceadmin 4 0 2011-02-24 15:53:15. 643 !MESSAGE !STACK 0 org.osgi.framework.BundleException: The activator org.eclipse.ecf.internal.osgi. services.remoteserviceadmin.Activator for bundle org.eclipse.ecf.osgi.services.r emoteserviceadmin is invalid at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleAct ivator(AbstractBundle.java:156) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(Bund leContextImpl.java:751) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(Bundl eHost.java:370) at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(Abstra ctBundle.java:374) at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Frame work.java:1067) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBund les(StartLevelManager.java:561) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBund les(StartLevelManager.java:546) at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(St artLevelManager.java:459) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStart Level(StartLevelManager.java:243) at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEv ent(StartLevelManager.java:440) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventM anager.java:227) at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(Even tManager.java:337) Caused by: java.lang.ClassNotFoundException: org.eclipse.ecf.internal.osgi.servi ces.remoteserviceadmin.Activator at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(Bundl eLoader.java:506) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:422) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:410) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(De faultClassLoader.java:107) at java.lang.ClassLoader.loadClass(Unknown Source) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader. java:338) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleH ost.java:232) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleAct ivator(AbstractBundle.java:149) ... 11 more Root exception: java.lang.ClassNotFoundException: org.eclipse.ecf.internal.osgi.services.remotes erviceadmin.Activator at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(Bundl eLoader.java:506) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:422) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader. java:410) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(De faultClassLoader.java:107) at java.lang.ClassLoader.loadClass(Unknown Source) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader. java:338) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleH ost.java:232) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleAct ivator(AbstractBundle.java:149) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(Bund leContextImpl.java:751) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(Bundl eHost.java:370) at org.eclipse.osgi.framework.internal.core.AbstractBundle.resume(Abstra ctBundle.java:374) at org.eclipse.osgi.framework.internal.core.Framework.resumeBundle(Frame work.java:1067) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBund les(StartLevelManager.java:561) at org.eclipse.osgi.framework.internal.core.StartLevelManager.resumeBund les(StartLevelManager.java:546) at org.eclipse.osgi.framework.internal.core.StartLevelManager.incFWSL(St artLevelManager.java:459) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStart Level(StartLevelManager.java:243) at org.eclipse.osgi.framework.internal.core.StartLevelManager.dispatchEv ent(StartLevelManager.java:440) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventM anager.java:227) at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(Even tManager.java:337) ZooDiscovery> Discovery Service Activated. 24.02.2011 15:53:15. !ENTRY org.eclipse.osgi 4 0 2011-02-24 15:53:15.984 !MESSAGE Bundle org.eclipse.ecf.osgi.services.distribution_2.0.0.201102241552 [1 8] is not active. !ENTRY org.eclipse.osgi 4 0 2011-02-24 15:53:15.986 !MESSAGE Bundle org.eclipse.ecf.osgi.services.remoteserviceadmin_1.0.0.201102241 552 [19] is not active."}, {"bug_id": "339024", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/core/internal/Configuration.java"], "repo": "ecf", "reformed_query": "ECF provider create Exception Listener Zoodiscovery Service eclipse View Zoodiscovery", "bug_title": " [Zoodiscovery] ArrayIndexOutOfBoundsException in ECF Discovery View", "bug_description": "java.lang.ArrayIndexOutOfBoundsException: 1 at org.eclipse.ecf.provider.zookeeper.core.internal.Configuration.<init>(Configuration.java:63) at org.eclipse.ecf.provider.zookeeper.core.internal.Configuration.<init>(Configuration.java:55) at org.eclipse.ecf.provider.zookeeper.core.internal.Configurator.createConfig(Configurator.java:41) at org.eclipse.ecf.provider.zookeeper.core.ZooDiscoveryContainer.init(ZooDiscoveryContainer.java:122) at org.eclipse.ecf.provider.zookeeper.core.ZooDiscoveryContainer.connect(ZooDiscoveryContainer.java:326) at org.eclipse.ecf.provider.discovery.CompositeDiscoveryContainer.connect(CompositeDiscoveryContainer.java:150) at org.eclipse.ecf.provider.discovery.SingletonDiscoveryContainer.connect(SingletonDiscoveryContainer.java:46) at org.eclipse.ecf.discovery.ui.model.resource.ServiceResource$ServiceDiscoveryListener.connect(ServiceResource.java:63) at org.eclipse.ecf.discovery.ui.model.resource.ServiceResource$1.run(ServiceResource.java:455) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)"}, {"bug_id": "339291", "ground_truth": ["server-side/bundles/org.eclipse.ecf.server.generic/META-INF/MANIFEST.MF", "server-side/bundles/org.eclipse.ecf.server.generic/src/org/eclipse/ecf/server/generic/IGenericServerContainerGroup.java"], "repo": "ecf", "reformed_query": "convenience add making Group api api API IGeneric createContainer createContainer", "bug_title": " [generic][server] add convenience api", "bug_description": "IGenericServerContainerGroup needs convenience API for making it easier to create a container (i.e. createContainer/2 and createContainer/1)."}, {"bug_id": "339616", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice/src/org/eclipse/ecf/remoteservice/client/AbstractClientContainer.java"], "repo": "ecf", "reformed_query": "adding listeners Client occur callables registerCallables listeners register AbstractClientContainer register", "bug_title": " [remoteservices] AbstractClientContainer registerCallables has problem", "bug_description": "In AbstractClientContainer.registerCallables the notification of listeners (of registration events, should occur *after* adding the callables to the registry.  Currently it occurs before."}, {"bug_id": "339790", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice/src/org/eclipse/ecf/remoteservice/client/RemoteServiceClientRegistry.java"], "repo": "ecf", "reformed_query": "remote Registry start registry eclipse nextServiceId starts client Registry nextServiceId", "bug_title": " [remoteservices][rest] rest registry should start remote service ids at 1", "bug_description": "Currently in org.eclipse.ecf.remoteservice.client.RemoteServiceClientRegistry the nextServiceId starts at 0, it should start at 1."}, {"bug_id": "341820", "ground_truth": ["framework/bundles/org.eclipse.ecf/src/org/eclipse/ecf/core/util/ContainerFactoryTracker.java", "framework/bundles/org.eclipse.ecf/META-INF/MANIFEST.MF"], "repo": "ecf", "reformed_query": "ContainerFactoryTracker ContainerFactoryTracker tracks Build IContainerManager Identifier Bug IContainer IContainer Bug", "bug_title": " ContainerFactoryTracker tracks wrong class", "bug_description": "Build Identifier: 3.1.200.v20110313-1843 ContainerFactoryTracker tracks IContainerManager instead of IContainerFactory.  See ContainerFactoryTracker line 25. Reproducible: Always"}, {"bug_id": "342002", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/client/RestClientService.java"], "repo": "ecf", "reformed_query": "body invokeRemoteCall Bug getDefault Build Reproduce stauts org POST Url", "bug_title": " RestClientService.invokeRemoteCall throws exception on successful HTTP operation that returns HTTP status other than 200", "bug_description": "Build Identifier: org.eclipse.ecf.remoteservice.rest_2.1.0.v20110313-1843 I use ECF's remote service API to access a remote REST service. New resources are created using a POST request. Upon successful creation of the remote resource the service returns HTTP stauts code 201 (Created) which falls into the \"Successful\" category of HTTP status codes. The invokeRemoteCall method in RestClientService only checks for HTTP status 200 though (line 70) and throws an exception for any other status code. This logic should be extended a bit to allow all other 2xx status codes. Reproducible: Always Steps to Reproduce: Sample code using a PUT method to a local couchdb: String dbUrl = COUCH_DB_URL + \"sample_database/\"; IContainerFactory containerFactory = Activator.getDefault().getContainerFactory(); IContainer container = containerFactory.createContainer(REST_CONTAINER_TYPE, dbUrl); IRemoteServiceClientContainerAdapter adapter  = (IRemoteServiceClientContainerAdapter) container.getAdapter(IRemoteServiceClientContainerAdapter.class); IRemoteCallParameter[] parameters = RemoteCallParameterFactory.createParameters(\"body\", null); HttpPutRequestType requestType = new HttpPutRequestType(HttpPutRequestType.STRING_REQUEST_ENTITY, \"text/plain\"); String uuid = \"/8f1f43ef03683be7b24b0de9db001632\"; IRemoteCallable callable = RestCallableFactory.createCallable(\"createDocument\", uuid, parameters, requestType); String[] serviceInterfaceNames = new String[] { ICouchDB.class.getName() }; IRemoteCallable[][] remoteCallables = new IRemoteCallable[][] { { callable } }; IRemoteServiceRegistration registration = adapter.registerCallables(serviceInterfaceNames, remoteCallables, null); IRemoteService remoteService = adapter.getRemoteService(registration.getReference()); Object[] callParameters = new Object[] { \"{ \\\"name\\\" : \\\"Dirk Olmes\\\" }\" }; IRestCall restCall = RestCallFactory.createRestCall(ICouchDB.class.getName() + \".createDocument\", callParameters ); Object result = remoteService.callSync(restCall); System.out.println(result);"}, {"bug_id": "342686", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/RemoteServiceAdmin.java"], "repo": "ecf", "reformed_query": "core GenericRemoteServiceRegisterTest Caused ServiceRegistry Registration Bug publish ServiceRegistry Endpoint runTest", "bug_title": " ClassCastException in RSA if intents not String[]", "bug_description": "!ENTRY org.eclipse.osgi 4 0 2011-04-13 11:04:18.584 !MESSAGE An unexpected runtime error has occurred. !STACK 0 java.lang.ClassCastException: java.lang.String cannot be cast to [Ljava.lang.String; at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.createExportEndpointDescriptionProperties(RemoteServiceAdmin.java:1263) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.exportService(RemoteServiceAdmin.java:1808) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.exportService(RemoteServiceAdmin.java:234) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleServiceRegistering(AbstractTopologyManager.java:305) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleEvent(AbstractTopologyManager.java:257) at org.eclipse.ecf.internal.osgi.services.distribution.BasicTopologyManager.event(BasicTopologyManager.java:87) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1143) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:743) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerService(AbstractDistributionTest.java:171) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerDefaultService(AbstractDistributionTest.java:181) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.registerWaitAndUnregister(AbstractRemoteServiceRegisterTest.java:51) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.testRegisterOnExistingServerWithIntents(AbstractRemoteServiceRegisterTest.java:130) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:620) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:575) at org.eclipse.equinox.launcher.Main.run(Main.java:1408) at org.eclipse.equinox.launcher.Main.main(Main.java:1384) !ENTRY org.eclipse.ecf.osgi.services.distribution 4 0 2011-04-13 11:04:18.592 !MESSAGE !STACK 0 org.osgi.framework.ServiceException: Exception in org.eclipse.ecf.internal.osgi.services.distribution.BasicTopologyManager.event() at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1152) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:743) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerService(AbstractDistributionTest.java:171) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerDefaultService(AbstractDistributionTest.java:181) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.registerWaitAndUnregister(AbstractRemoteServiceRegisterTest.java:51) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.testRegisterOnExistingServerWithIntents(AbstractRemoteServiceRegisterTest.java:130) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:620) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:575) at org.eclipse.equinox.launcher.Main.run(Main.java:1408) at org.eclipse.equinox.launcher.Main.main(Main.java:1384) Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to [Ljava.lang.String; at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.createExportEndpointDescriptionProperties(RemoteServiceAdmin.java:1263) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.exportService(RemoteServiceAdmin.java:1808) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.exportService(RemoteServiceAdmin.java:234) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleServiceRegistering(AbstractTopologyManager.java:305) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleEvent(AbstractTopologyManager.java:257) at org.eclipse.ecf.internal.osgi.services.distribution.BasicTopologyManager.event(BasicTopologyManager.java:87) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1143) ... 46 more ====starting org.eclipse.ecf.tests.osgi.services.distribution.generic.GenericRemoteServiceRegisterTest.testRegisterOnExistingServerWithMissingIntents==== !ENTRY org.eclipse.osgi 4 0 2011-04-13 11:04:22.645 !MESSAGE An unexpected runtime error has occurred. !STACK 0 java.lang.ClassCastException: java.lang.String cannot be cast to [Ljava.lang.String; at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.createExportEndpointDescriptionProperties(RemoteServiceAdmin.java:1263) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.exportService(RemoteServiceAdmin.java:1808) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.exportService(RemoteServiceAdmin.java:234) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleServiceRegistering(AbstractTopologyManager.java:305) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleEvent(AbstractTopologyManager.java:257) at org.eclipse.ecf.internal.osgi.services.distribution.BasicTopologyManager.event(BasicTopologyManager.java:87) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1143) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:743) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerService(AbstractDistributionTest.java:171) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerDefaultService(AbstractDistributionTest.java:181) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.registerWaitAndUnregister(AbstractRemoteServiceRegisterTest.java:51) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.testRegisterOnExistingServerWithMissingIntents(AbstractRemoteServiceRegisterTest.java:142) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:620) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:575) at org.eclipse.equinox.launcher.Main.run(Main.java:1408) at org.eclipse.equinox.launcher.Main.main(Main.java:1384) !ENTRY org.eclipse.ecf.osgi.services.distribution 4 0 2011-04-13 11:04:22.647 !MESSAGE !STACK 0 org.osgi.framework.ServiceException: Exception in org.eclipse.ecf.internal.osgi.services.distribution.BasicTopologyManager.event() at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1152) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEventPrivileged(ServiceRegistry.java:743) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.publishServiceEvent(ServiceRegistry.java:711) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistrationImpl.register(ServiceRegistrationImpl.java:130) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.registerService(ServiceRegistry.java:206) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.registerService(BundleContextImpl.java:507) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerService(AbstractDistributionTest.java:171) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractDistributionTest.registerDefaultService(AbstractDistributionTest.java:181) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.registerWaitAndUnregister(AbstractRemoteServiceRegisterTest.java:51) at org.eclipse.ecf.tests.osgi.services.distribution.AbstractRemoteServiceRegisterTest.testRegisterOnExistingServerWithMissingIntents(AbstractRemoteServiceRegisterTest.java:142) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at junit.framework.TestCase.runTest(TestCase.java:168) at junit.framework.TestCase.runBare(TestCase.java:134) at junit.framework.TestResult$1.protect(TestResult.java:110) at junit.framework.TestResult.runProtected(TestResult.java:128) at junit.framework.TestResult.run(TestResult.java:113) at junit.framework.TestCase.run(TestCase.java:124) at junit.framework.TestSuite.runTest(TestSuite.java:232) at junit.framework.TestSuite.run(TestSuite.java:227) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:620) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:575) at org.eclipse.equinox.launcher.Main.run(Main.java:1408) at org.eclipse.equinox.launcher.Main.main(Main.java:1384) Caused by: java.lang.ClassCastException: java.lang.String cannot be cast to [Ljava.lang.String; at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.createExportEndpointDescriptionProperties(RemoteServiceAdmin.java:1263) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.exportService(RemoteServiceAdmin.java:1808) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin.exportService(RemoteServiceAdmin.java:234) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleServiceRegistering(AbstractTopologyManager.java:305) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleEvent(AbstractTopologyManager.java:257) at org.eclipse.ecf.internal.osgi.services.distribution.BasicTopologyManager.event(BasicTopologyManager.java:87) at org.eclipse.osgi.internal.serviceregistry.ServiceRegistry.notifyEventHooksPrivileged(ServiceRegistry.java:1143) ... 46 more Paste stack traces into this console and follow hyperlinks to source code."}, {"bug_id": "342782", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/RemoteServiceAdmin.java"], "repo": "ecf", "reformed_query": "version version event RSA bundle event version properties Bug properties", "bug_title": " [TCK] RSA events set properties incorrectly", "bug_description": "According to the TCK and spec (122.7.7 p. 307), RSA has to set the event properties to the following keys: bundle, bundle.symbolicname, bundle.id, bundle.version"}, {"bug_id": "343780", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/DiscoveryActivator.java"], "repo": "ecf", "reformed_query": "service removedService recursive Object call Zookeeper java unbindLogService LogService removed", "bug_title": " Infinite recursive call in Zookeeper DiscoveryActivator", "bug_description": "Build Identifier: 1.0.100.v20110313-1843 See line 78: removedService(reference, service) 75: public void removedService(ServiceReference reference, 76:\t\tObject service) { 77:     Logger.unbindLogService((LogService) service); 78:     removedService(reference, service); 79:     super.removedService(reference, service); 80: } This leads to a StackOverflowError java.lang.StackOverflowError at org.eclipse.ecf.provider.zookeeper.util.Logger.unbindLogService(Logger.java:34) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:77) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:78) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:78) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:78) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:78) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:78) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:78) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:78) at org.eclipse.ecf.provider.zookeeper.DiscoveryActivator$2.removedService(DiscoveryActivator.java:78) Reproducible: Always"}, {"bug_id": "348487", "ground_truth": ["framework/bundles/org.eclipse.ecf.sharedobject/src/org/eclipse/ecf/core/sharedobject/util/SimpleFIFOQueue.java"], "repo": "ecf", "reformed_query": "Shouln org SimpleFIFOQueue FIFOQueue appears shutdown Parallel waiting Spot MultiThreadedHttpConnectionManager", "bug_title": " JMDNS Discovery Thread is slowing down shutdown", "bug_description": "I noticed that after Eclipse appears to have shutdown it takes a long time for the Java process to exit. Looking at a thread dump all remaining threads are daemon threads except for JMDNS Discovery Thread. Shouln't this be marked as a daemon thread as well and/or shutdown when the bundle is stopped that started it? Full thread dump Java HotSpot(TM) Server VM (16.3-b01 mixed mode): \"MultiThreadedHttpConnectionManager cleanup\" daemon prio=10 tid=0x0b4aa800 nid=0xd6e in Object.wait() [0xc0f76000] java.lang.Thread.State: WAITING (on object monitor) at java.lang.Object.wait(Native Method) - waiting on <0xd71f4800> (a java.lang.ref.ReferenceQueue$Lock) at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118) - locked <0xd71f4800> (a java.lang.ref.ReferenceQueue$Lock) at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134) at org.apache.commons.httpclient.MultiThreadedHttpConnectionManager$ReferenceQueueThread.run(MultiThreadedHttpConnectionManager.java:1122) \"Thread-4\" daemon prio=10 tid=0xc32f8800 nid=0xcb3 in Object.wait() [0xc06fe000] java.lang.Thread.State: TIMED_WAITING (on object monitor) at java.lang.Object.wait(Native Method) - waiting on <0xd71012c8> (a org.apache.commons.httpclient.util.IdleConnectionTimeoutThread) at org.apache.commons.httpclient.util.IdleConnectionTimeoutThread.run(IdleConnectionTimeoutThread.java:108) - locked <0xd71012c8> (a org.apache.commons.httpclient.util.IdleConnectionTimeoutThread) \"JMDNS Discovery Thread\" prio=10 tid=0xc0db9000 nid=0xcaa in Object.wait() [0xc02fe000] java.lang.Thread.State: WAITING (on object monitor) at java.lang.Object.wait(Native Method) - waiting on <0xd62fd768> (a org.eclipse.ecf.internal.provider.jmdns.SimpleFIFOQueue) at java.lang.Object.wait(Object.java:485) at org.eclipse.ecf.internal.provider.jmdns.SimpleFIFOQueue.peekQueue(SimpleFIFOQueue.java:53) - locked <0xd62fd768> (a org.eclipse.ecf.internal.provider.jmdns.SimpleFIFOQueue) at org.eclipse.ecf.internal.provider.jmdns.SimpleFIFOQueue.dequeue(SimpleFIFOQueue.java:41) - locked <0xd62fd768> (a org.eclipse.ecf.internal.provider.jmdns.SimpleFIFOQueue) at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer$1.run(JMDNSDiscoveryContainer.java:121) at java.lang.Thread.run(Thread.java:619) \"Low Memory Detector\" daemon prio=10 tid=0xc6f16c00 nid=0xc70 runnable [0x00000000] java.lang.Thread.State: RUNNABLE \"CompilerThread1\" daemon prio=10 tid=0xc6f14c00 nid=0xc6f waiting on condition [0x00000000] java.lang.Thread.State: RUNNABLE \"CompilerThread0\" daemon prio=10 tid=0xc6f12c00 nid=0xc6e waiting on condition [0x00000000] java.lang.Thread.State: RUNNABLE \"Signal Dispatcher\" daemon prio=10 tid=0xc6f11400 nid=0xc6d waiting on condition [0x00000000] java.lang.Thread.State: RUNNABLE \"Finalizer\" daemon prio=10 tid=0xc6f00800 nid=0xc6c in Object.wait() [0xc70f3000] java.lang.Thread.State: WAITING (on object monitor) at java.lang.Object.wait(Native Method) - waiting on <0xd3969058> (a java.lang.ref.ReferenceQueue$Lock) at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118) - locked <0xd3969058> (a java.lang.ref.ReferenceQueue$Lock) at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134) at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159) \"Reference Handler\" daemon prio=10 tid=0x096e0c00 nid=0xc6b in Object.wait() [0xc7144000] java.lang.Thread.State: WAITING (on object monitor) at java.lang.Object.wait(Native Method) - waiting on <0xd3981908> (a java.lang.ref.Reference$Lock) at java.lang.Object.wait(Object.java:485) at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116) - locked <0xd3981908> (a java.lang.ref.Reference$Lock) \"main\" prio=10 tid=0x09640800 nid=0xc65 waiting on condition [0xf6992000] java.lang.Thread.State: RUNNABLE at java.lang.Shutdown.halt0(Native Method) at java.lang.Shutdown.halt(Shutdown.java:95) - locked <0xd3837c70> (a java.lang.Shutdown$Lock) at java.lang.Shutdown.exit(Shutdown.java:169) - locked <0xc7b25238> (a java.lang.Class for java.lang.Shutdown) at java.lang.Runtime.exit(Runtime.java:90) at java.lang.System.exit(System.java:904) at org.eclipse.equinox.launcher.Main.main(Main.java:1394) \"VM Thread\" prio=10 tid=0x096de000 nid=0xc6a runnable \"GC task thread#0 (ParallelGC)\" prio=10 tid=0x09647800 nid=0xc66 runnable \"GC task thread#1 (ParallelGC)\" prio=10 tid=0x09649000 nid=0xc67 runnable \"GC task thread#2 (ParallelGC)\" prio=10 tid=0x0964a800 nid=0xc68 runnable \"GC task thread#3 (ParallelGC)\" prio=10 tid=0x0964bc00 nid=0xc69 runnable \"VM Periodic Task Thread\" prio=10 tid=0xc6f18800 nid=0xc71 waiting on condition"}, {"bug_id": "358317", "ground_truth": ["server-side/bundles/org.eclipse.ecf.server.generic/META-INF/MANIFEST.MF", "server-side/bundles/org.eclipse.ecf.server.generic/src/org/eclipse/ecf/internal/server/generic/Activator.java"], "repo": "ecf", "reformed_query": "NullPointerException LifecycleSupport STACK BridgeServlet runtime ERROR Framework equinox Access Container", "bug_title": " [generic server] bundle shutdown can throw NPE", "bug_description": "Under some conditions, the bundle Activator can throw an NPE in the org.eclipse.ecf.server.generic bundle: !ENTRY org.eclipse.ecf.server.generic 4 0 2011-09-20 15:48:47.724 !MESSAGE FrameworkEvent ERROR !STACK 0 org.osgi.framework.BundleException: Exception in org.eclipse.ecf.internal.server.generic.Activator.s top() of bundle org.eclipse.ecf.server.generic. at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:79 1) at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:510) at org.eclipse.osgi.framework.internal.core.AbstractBundle.suspend(AbstractBundle.java:565) at org.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1160) at org.eclipse.osgi.framework.internal.core.StartLevelManager.decFWSL(StartLevelManager.java :595) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelMana ger.java:257) at org.eclipse.osgi.framework.internal.core.StartLevelManager.shutdown(StartLevelManager.jav a:215) at org.eclipse.osgi.framework.internal.core.InternalSystemBundle.suspend(InternalSystemBundl e.java:284) at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:690) at org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:597) at org.eclipse.core.runtime.adaptor.EclipseStarter.shutdown(EclipseStarter.java:390) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.servletbridge.FrameworkLauncher.stop(FrameworkLauncher.java:690) at org.eclipse.equinox.servletbridge.BridgeServlet.destroy(BridgeServlet.java:77) at org.apache.catalina.core.StandardWrapper.unload(StandardWrapper.java:1393) at org.apache.catalina.core.StandardWrapper.stop(StandardWrapper.java:1738) at org.apache.catalina.core.StandardContext.stop(StandardContext.java:4509) at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:924) at org.apache.catalina.startup.HostConfig.undeployApps(HostConfig.java:1191) at org.apache.catalina.startup.HostConfig.stop(HostConfig.java:1162) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:313) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117) at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1086) at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1098) at org.apache.catalina.core.StandardEngine.stop(StandardEngine.java:448) at org.apache.catalina.core.StandardService.stop(StandardService.java:584) at org.apache.catalina.core.StandardServer.stop(StandardServer.java:744) at org.apache.catalina.startup.Catalina.stop(Catalina.java:628) at org.apache.catalina.startup.Catalina$CatalinaShutdownHook.run(Catalina.java:671) Caused by: java.lang.NullPointerException at org.osgi.util.tracker.ServiceTracker.<init>(ServiceTracker.java:197) at org.eclipse.ecf.internal.server.generic.Activator.getContainerManager(Activator.java:56) at org.eclipse.ecf.server.generic.GenericServerContainerGroup.removeContainerFromContainerMa nager(GenericServerContainerGroup.java:97) at org.eclipse.ecf.server.generic.GenericServerContainerGroup.close(GenericServerContainerGr oup.java:161) at org.eclipse.ecf.internal.server.generic.GenericServerContainerGroupFactory.close(GenericS erverContainerGroupFactory.java:85) at org.eclipse.ecf.internal.server.generic.Activator.stop(Activator.java:126) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:7 71) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:76 4) ... 31 more Root exception: java.lang.NullPointerException at org.osgi.util.tracker.ServiceTracker.<init>(ServiceTracker.java:197) at org.eclipse.ecf.internal.server.generic.Activator.getContainerManager(Activator.java:56) at org.eclipse.ecf.server.generic.GenericServerContainerGroup.removeContainerFromContainerMa nager(GenericServerContainerGroup.java:97) at org.eclipse.ecf.server.generic.GenericServerContainerGroup.close(GenericServerContainerGr oup.java:161) at org.eclipse.ecf.internal.server.generic.GenericServerContainerGroupFactory.close(GenericS erverContainerGroupFactory.java:85) at org.eclipse.ecf.internal.server.generic.Activator.stop(Activator.java:126) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:7 71) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:76 4) at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:510) at org.eclipse.osgi.framework.internal.core.AbstractBundle.suspend(AbstractBundle.java:565) at org.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1160) at org.eclipse.osgi.framework.internal.core.StartLevelManager.decFWSL(StartLevelManager.java :595) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelMana ger.java:257) at org.eclipse.osgi.framework.internal.core.StartLevelManager.shutdown(StartLevelManager.jav a:215) at org.eclipse.osgi.framework.internal.core.InternalSystemBundle.suspend(InternalSystemBundl e.java:284) at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:690) at org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:597) at org.eclipse.core.runtime.adaptor.EclipseStarter.shutdown(EclipseStarter.java:390) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.servletbridge.FrameworkLauncher.stop(FrameworkLauncher.java:690) at org.eclipse.equinox.servletbridge.BridgeServlet.destroy(BridgeServlet.java:77) at org.apache.catalina.core.StandardWrapper.unload(StandardWrapper.java:1393) at org.apache.catalina.core.StandardWrapper.stop(StandardWrapper.java:1738) at org.apache.catalina.core.StandardContext.stop(StandardContext.java:4509) at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:924) at org.apache.catalina.startup.HostConfig.undeployApps(HostConfig.java:1191) at org.apache.catalina.startup.HostConfig.stop(HostConfig.java:1162) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:313) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117) at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1086) at org.apache.catalina.core.ContainerBase.stop(ContainerBase.java:1098) at org.apache.catalina.core.StandardEngine.stop(StandardEngine.java:448) at org.apache.catalina.core.StandardService.stop(StandardService.java:584) at org.apache.catalina.core.StandardServer.stop(StandardServer.java:744) at org.apache.catalina.startup.Catalina.stop(Catalina.java:628) at org.apache.catalina.startup.Catalina$CatalinaShutdownHook.run(Catalina.java:671)"}, {"bug_id": "369023", "ground_truth": ["framework/bundles/org.eclipse.ecf.identity/src/org/eclipse/ecf/core/util/Trace.java"], "repo": "ecf", "reformed_query": "methodName src ecf option Exception Trace print pluginId Identifier framework", "bug_title": " NullPointerException when tracing in org.eclipse.ecf.core.util.Trace#catching", "bug_description": "Build Identifier: ECF Version:  3.5.2.v20110829-0349 this method dies with an NPE if throwable is null public static void catching(String pluginId, String option, Class clazz, String methodName, Throwable throwable) { if (shouldTrace(pluginId, option)) { if (throwable != null) { ... } ... throwable.printStackTrace(System.err); } } Reproducible: Always Steps to Reproduce: Enable tracing, do crazy stuff like me. code looks to still be in latest http://git.eclipse.org/c/ecf/org.eclipse.ecf.git/tree/framework/bundles/org.eclipse.ecf.identity/src/org/eclipse/ecf/core/util/Trace.java"}, {"bug_id": "371768", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/node/internal/WatchManager.java"], "repo": "ecf", "reformed_query": "watchmanager thrown unpublish unpublish Harmless needed Bug thrown service unpublishing", "bug_title": " [Zoodiscovery] NPE when unpublishing a service", "bug_description": "Harmless but annoying NPE is thrown when watchmanager needed to unpublish a service."}, {"bug_id": "384431", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/generic/ClientSOContainer.java"], "repo": "ecf", "reformed_query": "message msg send lists sendSynch unnecessarily SOContainer ecf ClientSOContainer send", "bug_title": " Generic Provider prints error message to log unnecessarily under some conditions", "bug_description": "As described in this posting http://dev.eclipse.org/mhonarc/lists/ecf-dev/msg05980.html Under some conditions the ECF generic remote services provider presents unnecessary error output to the log. The IStatus.ERROR in this line (ClientSOContainer:450) should be changed to WARNING ProviderPlugin.getDefault().log(new Status(IStatus.ERROR, ProviderPlugin.PLUGIN_ID, IStatus.ERROR, \"disconnect.sendSynch\", e)); //$NON-NLS-1$ e.g. ProviderPlugin.getDefault().log(new Status(IStatus.WARNING, ProviderPlugin.PLUGIN_ID, IStatus.WARNING, \"disconnect.sendSynch\", e)); //$NON-NLS-1$"}, {"bug_id": "385395", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "Impl impl Discovery join javax JMDNSDiscovery Discovery HudsonDiscovery bug join", "bug_title": " JMDNS provider shutdown fails with NPE if connect was not successful", "bug_description": "Connect: org.eclipse.ecf.core.ContainerConnectException: Cannot create JmDNS instance at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.connect(JMDNSDiscoveryContainer.java:108) at org.eclipse.mylyn.internal.hudson.ui.HudsonDiscovery.start(HudsonDiscovery.java:138) at org.eclipse.mylyn.internal.hudson.ui.HudsonStartup.lazyStartup(HudsonStartup.java:43) at org.eclipse.mylyn.internal.builds.ui.BuildsUiPlugin$UiStartupExtensionPointReader$1.run(BuildsUiPlugin.java:159) ... Caused by: java.net.SocketException: No such device at java.net.PlainDatagramSocketImpl.join(Native Method) at java.net.PlainDatagramSocketImpl.join(PlainDatagramSocketImpl.java:181) at java.net.MulticastSocket.joinGroup(MulticastSocket.java:277) at javax.jmdns.impl.JmDNSImpl.openMulticastSocket(JmDNSImpl.java:263) at javax.jmdns.impl.JmDNSImpl.init(JmDNSImpl.java:234) at javax.jmdns.impl.JmDNSImpl.<init>(JmDNSImpl.java:180) at javax.jmdns.JmDNS.create(JmDNS.java:32) at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.connect(JMDNSDiscoveryContainer.java:100) ... 85 more On disconnect the following NPE occurs: java.lang.NullPointerException at org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer.disconnect(JMDNSDiscoveryContainer.java:153) at org.eclipse.mylyn.internal.hudson.ui.HudsonDiscovery.stop(HudsonDiscovery.java:151) at org.eclipse.mylyn.internal.hudson.ui.HudsonStartup.stop(HudsonStartup.java:54) at org.eclipse.mylyn.internal.hudson.ui.HudsonUiPlugin.stop(HudsonUiPlugin.java:30) More context is on bug 383316."}, {"bug_id": "397877", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/LocatorDecoratorImpl.java"], "repo": "ecf", "reformed_query": "LocatorDecoratorImpl getServiceURLs implementation provider detection exception SLP blocking type discovery", "bug_title": " [slp] Invalid service type causes unhandled exception to be thrown", "bug_description": "An invalid service type (e.g. not starting with service://) causes the jSLP implementation to choke essentially blocking service discovery.  Thus, an invalid service type should simply be discarded inorg.eclipse.ecf.internal.provider.jslp.LocatorDecoratorImpl.getServiceURLs(String, List) upon detection."}, {"bug_id": "406064", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/node/internal/ReadRoot.java", "providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/node/internal/ReadRoot.java", "providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/node/internal/ReadRoot.java", "providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/node/internal/ReadRoot.java"], "repo": "ecf", "reformed_query": "zookeeper Zoo percentage", "bug_title": " [Discovery][ZooDiscovery] high cpu percentage on server and client zookeeper", "bug_description": "We observe a high CPU percentage for zoodiscovery processes on the client and on the server."}, {"bug_id": "408030", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/client/RestClientService.java"], "repo": "ecf", "reformed_query": "Call remoteservice prepare encoding UTF Method defined Request encoding RestClientService", "bug_title": " RestClientService ignores content encoding", "bug_description": "org.eclipse.ecf.remoteservice.rest.client.RestClientService.prepare*Method(String, IRemoteCall, IRemoteCallable) ignores the user defined content encoding, even if consumer explicitly sets content encoding via new HttpPostRequestType(..., \"UTF-8\") during creation of org.eclipse.ecf.remoteservice.client.IRemoteCallable."}, {"bug_id": "408185", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/RemoteServiceAdmin.java"], "repo": "ecf", "reformed_query": "logic TCK tests ECF testExportImportManually osgi common version Service Export", "bug_title": " [TCK] Bug in handling of multiple versioned exports of a single package", "bug_description": "In the TCK, the manifest for the test bundle exports version 1.0.0 and 2.0.0 of the org.osgi.tests.remoteserviceadmin.common package.  The ECF RSA logic does not properly account for this possibility and this results in a failed test RemoteServiceAdminTest.testExportImportManually"}, {"bug_id": "411543", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/META-INF/MANIFEST.MF", "osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/EndpointDescriptionLocator.java"], "repo": "ecf", "reformed_query": "Endpoint remoteserviceadmin xml references services Description   Bug", "bug_title": " Imports of org.xml.* and javax.xml need to be added to manifest", "bug_description": "In this class:  org.eclipse.ecf.internal.osgi.services.remoteserviceadmin.EndpointDescriptionParser there are references to classes in packages javax.xml.parser.* and org.xml.sax.*.  These packages should be explicitly imported in the manifest (even though they are dynamically imported successfully, it is best to import them explicitly)."}, {"bug_id": "411935", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrievePauseResumeTest.java"], "repo": "ecf", "reformed_query": "AbstractBuildExecution testReceiveFile Monitor Local Pause doRun Running InterruptedException Object timed", "bug_title": " [filetransfer][httpclient] Timeout in unit test org.eclipse.ecf.tests.filetransfer.URLRetrievePauseResumeTest.testReceiveFile", "bug_description": "INFO:  Running test org.eclipse.ecf.tests.filetransfer.URLRetrievePauseResumeTest.testReceiveFile... Build timed out (after 60 minutes). Marking the build as aborted. FATAL: java.lang.InterruptedException java.lang.RuntimeException: java.lang.InterruptedException at hudson.plugins.buckminster.EclipseBuckminsterBuilder.perform(EclipseBuckminsterBuilder.java:265) at hudson.plugins.templateproject.ProxyBuilder.perform(ProxyBuilder.java:87) at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:19) at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:802) at hudson.model.Build$BuildExecution.build(Build.java:199) at hudson.model.Build$BuildExecution.doRun(Build.java:160) at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:584) at hudson.model.Run.execute(Run.java:1575) at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:46) at hudson.model.ResourceController.execute(ResourceController.java:88) at hudson.model.Executor.run(Executor.java:237) Caused by: java.lang.InterruptedException at java.lang.Object.wait(Native Method) at java.lang.Object.wait(Object.java:485) at java.lang.UNIXProcess.waitFor(UNIXProcess.java:165) at hudson.Proc$LocalProc.join(Proc.java:319) at hudson.plugins.buckminster.EclipseBuckminsterBuilder.perform(EclipseBuckminsterBuilder.java:261) ... 10 more"}, {"bug_id": "411936", "ground_truth": ["tests/bundles/org.eclipse.ecf.tests.filetransfer/src/org/eclipse/ecf/tests/filetransfer/URLRetrieveTest.java"], "repo": "ecf", "reformed_query": "failNotEquals testReceive runApplication Eclipse framework Reference Assertion runApplication expected URLRetrieveTestWithConnectJob", "bug_title": " [filetransfer][httpclient] Test failures in org.eclipse.ecf.tests.filetransfer.[URLRetrieveTest|URLRetrieveTestWithConnectJob].testFTPReceiveFile", "bug_description": "INFO:  Running test org.eclipse.ecf.tests.filetransfer.URLRetrieveTestWithConnectJob.testFTPReceiveFile... INFO:    ...Failure [0.195s] WARN:  junit.framework.AssertionFailedError: expected:<1> but was:<0> at junit.framework.Assert.fail(Assert.java:57) at junit.framework.Assert.failNotEquals(Assert.java:329) at junit.framework.Assert.assertEquals(Assert.java:78) at junit.framework.Assert.assertEquals(Assert.java:234) at junit.framework.Assert.assertEquals(Assert.java:241) at junit.framework.TestCase.assertEquals(TestCase.java:409) at org.eclipse.ecf.tests.filetransfer.AbstractRetrieveTestCase.assertHasEventCount(AbstractRetrieveTestCase.java:228) at org.eclipse.ecf.tests.filetransfer.AbstractRetrieveTestCase.assertHasEvent(AbstractRetrieveTestCase.java:214) at org.eclipse.ecf.tests.filetransfer.URLRetrieveTest.testReceive(URLRetrieveTest.java:136) at org.eclipse.ecf.tests.filetransfer.URLRetrieveTest.testFTPReceiveFile(URLRetrieveTest.java:219) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:592) at junit.framework.TestCase.runTest(TestCase.java:176) at junit.framework.TestCase.runBare(TestCase.java:141) at org.eclipse.ecf.tests.filetransfer.AbstractFileTransferTestCase.runBare(AbstractFileTransferTestCase.java:38) at junit.framework.TestResult$1.protect(TestResult.java:122) at junit.framework.TestResult.runProtected(TestResult.java:142) at junit.framework.TestResult.run(TestResult.java:125) at junit.framework.TestCase.run(TestCase.java:129) at junit.framework.TestSuite.runTest(TestSuite.java:255) at junit.framework.TestSuite.run(TestSuite.java:250) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:131) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:592) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:592) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426) ============================ INFO:  Running test org.eclipse.ecf.tests.filetransfer.URLRetrieveTest.testFTPReceiveFile... INFO:    ...Failure [0.144s] WARN:  junit.framework.AssertionFailedError: expected:<1> but was:<0> at junit.framework.Assert.fail(Assert.java:57) at junit.framework.Assert.failNotEquals(Assert.java:329) at junit.framework.Assert.assertEquals(Assert.java:78) at junit.framework.Assert.assertEquals(Assert.java:234) at junit.framework.Assert.assertEquals(Assert.java:241) at junit.framework.TestCase.assertEquals(TestCase.java:409) at org.eclipse.ecf.tests.filetransfer.AbstractRetrieveTestCase.assertHasEventCount(AbstractRetrieveTestCase.java:228) at org.eclipse.ecf.tests.filetransfer.AbstractRetrieveTestCase.assertHasEvent(AbstractRetrieveTestCase.java:214) at org.eclipse.ecf.tests.filetransfer.URLRetrieveTest.testReceive(URLRetrieveTest.java:136) at org.eclipse.ecf.tests.filetransfer.URLRetrieveTest.testFTPReceiveFile(URLRetrieveTest.java:219) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:592) at junit.framework.TestCase.runTest(TestCase.java:176) at junit.framework.TestCase.runBare(TestCase.java:141) at org.eclipse.ecf.tests.filetransfer.AbstractFileTransferTestCase.runBare(AbstractFileTransferTestCase.java:38) at junit.framework.TestResult$1.protect(TestResult.java:122) at junit.framework.TestResult.runProtected(TestResult.java:142) at junit.framework.TestResult.run(TestResult.java:125) at junit.framework.TestCase.run(TestCase.java:129) at junit.framework.TestSuite.runTest(TestSuite.java:255) at junit.framework.TestSuite.run(TestSuite.java:250) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:131) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:592) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:592) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426)"}, {"bug_id": "414337", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice.rest/src/org/eclipse/ecf/remoteservice/rest/identity/RestNamespace.java", "framework/bundles/org.eclipse.ecf.remoteservice.rest/META-INF/MANIFEST.MF"], "repo": "ecf", "reformed_query": "subclasses Form Object RestNamespace getInitFromExternalForm Form subclasses getInitFromExternalForm Bug reuse", "bug_title": " RestNamespace.getInitFromExternalForm should be protected rather than private", "bug_description": "The method RestNamespace.getInitFromExternalForm(Object[] args) is currently private.  For reuse by subclasses, it should be protected instead."}, {"bug_id": "414448", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/RemoteServiceAdmin.java"], "repo": "ecf", "reformed_query": "returns create find importService error publish Admin configs registration configs", "bug_title": " Make RemoteServiceAdmin.importService more robust in face of no matching configs", "bug_description": "Currently, if RemoteServiceAdmin.importService cannot find any valid/matching imported configs, it returns null.  Rather, it should create and publish an error registration."}, {"bug_id": "418684", "ground_truth": ["server-side/bundles/org.eclipse.ecf.server.generic/src/org/eclipse/ecf/server/generic/GenericServerContainerGroupFactory.java"], "repo": "ecf", "reformed_query": "Java bundle server API Server BREE lang isSSLTransportSpecified Bug eclipse", "bug_title": " org.eclipse.ecf.server.generic.GenericServerContainerGroupFactory.isSSLTransportSpecified(Map) uses API not compatible with bundle's BREE", "bug_description": "org.eclipse.ecf.server.generic.GenericServerContainerGroupFactory.isSSLTransportSpecified(Map) uses java.lang.Boolean.parseBoolean(String) only available with Java 1.5."}, {"bug_id": "419902", "ground_truth": ["protocols/bundles/ch.ethz.iks.r_osgi.remote/src/main/java/ch/ethz/iks/r_osgi/impl/ChannelEndpointImpl.java"], "repo": "ecf", "reformed_query": "Bug ethz Topics Bug subsequent Impl Channel topicsAdded iks Topics", "bug_title": " [r-OSGi] NPE ch.ethz.iks.r_osgi.impl.ChannelEndpointImpl.updateTopics(String[], String[])", "bug_description": "ch.ethz.iks.r_osgi.impl.ChannelEndpointImpl.updateTopics(String[], String[]) potentially causes a subsequent NPE if the String[] of topicsAdded is null."}, {"bug_id": "420433", "ground_truth": ["protocols/bundles/ch.ethz.iks.r_osgi.remote/src/main/java/ch/ethz/iks/r_osgi/impl/ChannelEndpointImpl.java"], "repo": "ecf", "reformed_query": "SERVICE impl Endpoint handle handle received Message osgi RemoteOSGiMessage Remote", "bug_title": " [r-OSGi] NPE in ch.ethz.iks.r_osgi.impl.ChannelEndpointImpl.handleMessage(RemoteOSGiMessage) when SERVICE_MODIFIED received before SERVICE_ADDED", "bug_description": "If r-OSGi receives a SERVICE_MODIFIED for service X before it knows about X (SERVICE_ADDED) do not try updating the local service instance."}, {"bug_id": "420897", "ground_truth": ["protocols/bundles/ch.ethz.iks.r_osgi.remote/src/main/java/ch/ethz/iks/r_osgi/impl/ChannelEndpointImpl.java"], "repo": "ecf", "reformed_query": "eventmgr dispatch uninstall STACK service remoteserviceadmin Pointer plugin RemoteOSGiServiceImpl unget", "bug_title": " [r-OSGi] NPE when trying to uninstall the proxy bundle", "bug_description": "!ENTRY org.eclipse.ecf.osgi.services.remoteserviceadmin 4 0 2013-10-29 08:36:12.047 !MESSAGE org.eclipse.core.runtime.Status[plugin=org.eclipse.ecf.osgi.services.remoteserviceadmin;code=4;message=org.eclipse.ecf.osgi.services.remoteserviceadmin.EndpointDescriptionLocator:dispatchEvent:Exception in EndpointListener listener=org.eclipse.ecf.internal.osgi.services.distribution.BasicTopologyManagerImpl@429a9a6e description=ECFEndpointDescription[id=r-osgi://build.vogella.com:9278;endpoint.service.id=8617;frameworkid=205b39f8-f63f-0013-1fec-b26a4693aed7] matchingFilter=(&(!(endpoint.framework.uuid=60e603bd-6940-0013-1ab3-a36f183bb5d3))(ecf.endpoint.id.ns=*));severity4;exception=java.lang.NullPointerException;children=[]] !STACK 0 java.lang.NullPointerException at ch.ethz.iks.r_osgi.impl.ChannelEndpointImpl.ungetRemoteService(ChannelEndpointImpl.java:965) at ch.ethz.iks.r_osgi.impl.RemoteOSGiServiceImpl.ungetRemoteService(RemoteOSGiServiceImpl.java:1349) at org.eclipse.ecf.internal.provider.r_osgi.R_OSGiRemoteServiceContainer.ungetRemoteService(R_OSGiRemoteServiceContainer.java:440) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin$ImportEndpoint.close(RemoteServiceAdmin.java:822) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin$ImportReference.close(RemoteServiceAdmin.java:988) at org.eclipse.ecf.osgi.services.remoteserviceadmin.RemoteServiceAdmin$ImportRegistration.close(RemoteServiceAdmin.java:909) at org.eclipse.ecf.osgi.services.remoteserviceadmin.AbstractTopologyManager.handleECFEndpointRemoved(AbstractTopologyManager.java:269) at org.eclipse.ecf.internal.osgi.services.distribution.BasicTopologyManagerImpl.endpointRemoved(BasicTopologyManagerImpl.java:138) at org.eclipse.ecf.osgi.services.remoteserviceadmin.EndpointDescriptionLocator$1.dispatchEvent(EndpointDescriptionLocator.java:159) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230) at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:340)"}, {"bug_id": "425868", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.filetransfer/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.filetransfer/src/org/eclipse/ecf/provider/filetransfer/retrieve/AbstractRetrieveFileTransfer.java"], "repo": "ecf", "reformed_query": "internal ECF lang Monitor java ssl Input FileTransferJob attempts Exception", "bug_title": " NullPointerException in PollingInputStream.readPendingInput()", "bug_description": "Occasionally I get a NullPointerException in PollingInputStream.readPendingInput(): java.lang.NullPointerException at org.eclipse.ecf.provider.filetransfer.util.PollingInputStream.readPendingInput(PollingInputStream.java:234) at org.eclipse.ecf.provider.filetransfer.util.PollingInputStream.close(PollingInputStream.java:104) at org.eclipse.ecf.provider.filetransfer.retrieve.AbstractRetrieveFileTransfer$1.performFileTransfer(AbstractRetrieveFileTransfer.java:185) at org.eclipse.ecf.filetransfer.FileTransferJob.run(FileTransferJob.java:73) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:53) After many debug attempts with a conditional breakpoint in the constructor of PollingInputStream I was finally able to see why it's null: Thread [Worker-0] (Suspended (breakpoint at line 80 in PollingInputStream)) PollingInputStream.<init>(InputStream, int, IProgressMonitor, String, String) line: 80 UrlConnectionRetrieveFileTransfer(AbstractRetrieveFileTransfer).wrapTransferReadInputStream(InputStream, IProgressMonitor) line: 140 AbstractRetrieveFileTransfer$1.performFileTransfer(IProgressMonitor) line: 168 FileTransferJob.run(IProgressMonitor) line: 73 Worker.run() line: 53 The involved ECF versions are: org.eclipse.ecf.discovery.source_4.0.0.v20131027-1505.jar org.eclipse.ecf.discovery_4.0.0.v20131027-1505.jar org.eclipse.ecf.filetransfer.source_5.0.0.v20131027-1505.jar org.eclipse.ecf.filetransfer_5.0.0.v20131027-1505.jar org.eclipse.ecf.identity.source_3.2.0.v20131027-1505.jar org.eclipse.ecf.identity_3.2.0.v20131027-1505.jar org.eclipse.ecf.provider.discovery.source_2.1.200.v20131027-1505.jar org.eclipse.ecf.provider.discovery_2.1.200.v20131027-1505.jar org.eclipse.ecf.provider.filetransfer.httpclient4.source_1.0.300.v20131027-1505.jar org.eclipse.ecf.provider.filetransfer.httpclient4.ssl.source_1.0.0.v20131027-1505.jar org.eclipse.ecf.provider.filetransfer.httpclient4.ssl_1.0.0.v20131027-1505.jar org.eclipse.ecf.provider.filetransfer.httpclient4_1.0.300.v20131027-1505.jar org.eclipse.ecf.provider.filetransfer.source_3.2.0.v20131027-1505.jar org.eclipse.ecf.provider.filetransfer.ssl.source_1.0.0.v20131027-1505.jar org.eclipse.ecf.provider.filetransfer.ssl_1.0.0.v20131027-1505.jar org.eclipse.ecf.provider.filetransfer_3.2.0.v20131027-1505.jar org.eclipse.ecf.provider.jmdns.source_4.1.0.v20131027-1505.jar org.eclipse.ecf.provider.jmdns_4.1.0.v20131027-1505.jar org.eclipse.ecf.source_3.2.0.v20131027-1505.jar org.eclipse.ecf.ssl.source_1.1.0.v20131027-1505.jar org.eclipse.ecf.ssl_1.1.0.v20131027-1505.jar org.eclipse.ecf_3.2.0.v20131027-1505.jar org.eclipse.equinox.p2.transport.ecf.source_1.1.0.v20131211-1531.jar org.eclipse.equinox.p2.transport.ecf_1.1.0.v20131211-1531.jar"}, {"bug_id": "426423", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/generic/SSLServerSOContainerGroup.java"], "repo": "ecf", "reformed_query": "SSLServerSOContainerGroup creates Socket putOnTheAir SSLServer SOContainer close Bug Group takeOffTheAir", "bug_title": " SSLServerSOContainerGroup does not close ServerSocket on disposing", "bug_description": "SSLServerSOContainerGroup creates a ServerSocket but it never closes it (in SSLServerSOContainerGroup#putOnTheAir()). The ServerSocket should be closed in SSLServerSOContainerGroup#takeOffTheAir()"}, {"bug_id": "426497", "ground_truth": ["framework/bundles/org.eclipse.ecf.discovery/src/org/eclipse/ecf/internal/discovery/DiscoveryServiceListener.java"], "repo": "ecf", "reformed_query": "typed wildcards Discovery Service type Bug Service discovery IServiceTyped discovery", "bug_title": " org.eclipse.ecf.internal.discovery.DiscoveryServiceListener may register non-IServiceTyped listener if given type is all wildcards", "bug_description": "org.eclipse.ecf.internal.discovery.DiscoveryServiceListener may register non-typed listener if given type is all wildcards"}, {"bug_id": "447633", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.filetransfer.scp/src/org/eclipse/ecf/internal/provider/filetransfer/scp/ScpFileSystemBrowser.java"], "repo": "ecf", "reformed_query": "executes thought initial list filenames command directory SCP modify directory", "bug_title": " The SCP file browse capability will not return files beginning with '.'", "bug_description": "The SCP file browser executes a bash command remotely to list the properties of all files in a directory.  This command effectively is: \"for file in <directory>/*; do stat --format='%F|%s|%Y|%n' $file; done\" Unfortunately, this will not return files that begin with the '.' character, and it does not work with filenames containing spaces. My initial thought is to modify the command to cover the '.' issue: \"for file in <directory>/*.*; do stat --format='%F|%s|%Y|%n' $file; done\" and adding documentation for the issue with spaces in files."}, {"bug_id": "463008", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.r_osgi/src/org/eclipse/ecf/internal/provider/r_osgi/R_OSGiContainerInstantiator.java", "providers/bundles/org.eclipse.ecf.provider.r_osgi/META-INF/MANIFEST.MF"], "repo": "ecf", "reformed_query": "OSGIContainerInstantiator usage misconfigured getLocalHost Canonical Hostname getCanonicalHostName environments usage OSGi", "bug_title": " [r-OSGi] add system property to prevent usage of InetAddress.getLocalHost().getCanonicalHostname()", "bug_description": "Currently in R_OSGIContainerInstantiator is this code for getting the localhost name: final String localHost = InetAddress.getLocalHost().getCanonicalHostName(); With some LAN/network configurations, this system call will block for a significant length of time (> 15 seconds) because the nameserver is absent or misconfigured.  It would be useful to have a system property to prevent calling this method...and using the string 'localhost' for such environments."}, {"bug_id": "464701", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.zookeeper/src/org/eclipse/ecf/provider/zookeeper/node/internal/ReadRoot.java"], "repo": "ecf", "reformed_query": "discovery Client cases creates startConnect read OSGI process ClientCnxn Root", "bug_title": " [Discovery][Zookeeper] Auto reconnect issue", "bug_description": "In our client-server OSGI application we are using ECF Zoodiscovery provider (v.1.0.100) for remote services discovery. When testing the application resiliency, we noticed that when unplugging/plugging back the network cable, the client in some cases doesn\u00e2\u20ac\u2122t get back remote OSGI services from the server. I started debugging this use case and found out that in case of read timeout both Zookeeper internally and Zoodiscovery try reconnecting simultaneously: 1) Zookeeper internally: in ClientCnxn.SendThread.run() in case of SessionTimeoutException it closes socket connection in cleanup(), sends the disconnect event to watchers and reconnects in startConnect(). 2) Zoodiscovery: ReadRoot.process receives the disconnect event from Zookeeper and invokes connect() which closes the existing Zookeeper connection and creates a new one. This results in a connect-disconnect-connect operation (since Zoodiscovery closes the just reopened by Zookeeper connection and creates a new one) instead of just connect and an inconsistent client state \u00e2\u20ac\u201c connection finally gets re-established, but the client doesn\u00e2\u20ac\u2122t ask the server for the remote services. I think that Zoodiscovery should not trigger disconnect/connect in cases when Zookeeper does it on his own."}, {"bug_id": "471213", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.datashare/src/org/eclipse/ecf/internal/provider/datashare/Activator.java"], "repo": "ecf", "reformed_query": "provider datashare datashare datashare ecf Exception bug registry provider NullPointerException", "bug_title": " bug in Activator when no registry present", "bug_description": "When no registry present there is a NullPointerException in the org.eclipse.ecf.provider.datashare Activator class."}, {"bug_id": "471541", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.remoteservice/src/org/eclipse/ecf/provider/remoteservice/generic/RegistrySharedObject.java"], "repo": "ecf", "reformed_query": "remote failing call code find JUnit trace JVM effects small", "bug_title": " ClassCastException in JUnit integration tests", "bug_description": "Created attachment 254869 [details] typical CCE for this problem We switched our remote services from RMI to ECF and now we get strange errors in JUnit tests. We are using JUnit for integration tests. That means we start client and server code inside the unit test and run the full business logic there. We also use \"real\" remote services; that means we call ECF in a way that we get a remote proxy and do a remote call, the same way as if the server would run in a separate JVM. This gives us the possibility to find serialization problems. It also happens very often that the implementation of a remote service calls another remote service. And now we come to the problem. Our integration tests (a few thousands) are grouped into about 100 tests suits. Every tests suite is executed in its own JVM, so they don't have any side effects on each other. In almost every run of the whole package, one ore two suites are failing with the same problem: the call of a remote service fails with an java.lang.ClassCastException. I attached the complete stack trace of such an exception. It is non-deterministic, which suite or test is failing and which service is called. Only a small number of tests are failing with this problem (about 1%). But the problem is always the same: the return type of the method is A, but the return object is of type B. So we get \"B cannot be cast to A\". The question is: where does the object of type B come from? Another observation is, that the problem occurs, if one remote service calls another one. Is it possible that the problem occurs because of the fact that we do remote calls, but caller and callee are in the same JVM? I wrote special unit tests to reproduce the problem, but was not able to do so. See also https://www.eclipse.org/forums/index.php/t/1067624/"}, {"bug_id": "472661", "ground_truth": ["framework/bundles/org.eclipse.ecf.identity/src/org/eclipse/ecf/core/util/Trace.java"], "repo": "ecf", "reformed_query": "core DebugOptions org util service util TRACEALL eclipse Bug service", "bug_title": " add TRACEALL option for debugging in non-equinox/non-DebugOptions frameworks", "bug_description": "Currently, the org.eclipse.ecf.core.util.Trace class depends upon the org.eclipse.osgi.service.debug.DebugOptions framework.   This means that tracing currently cannot be done successfully in non-equinox environments like Karaf-over-Felix."}, {"bug_id": "473443", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jslp/src/org/eclipse/ecf/internal/provider/jslp/ServicePropertiesAdapter.java", "providers/bundles/org.eclipse.ecf.provider.jslp/.settings/org.eclipse.jdt.core.prefs", "providers/bundles/org.eclipse.ecf.provider.jslp/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.jslp/build.properties"], "repo": "ecf", "reformed_query": "JSLP disambiguated unambiguously Properties refered ecf java disambiguated fine Base", "bug_title": " Base64 classname has to be disambiguated with Java8", "bug_description": "In java8 there is a Base64 class and the JSLP provider references Base64 on line 78 of ServiePropertiesAdapter class.  This was fine in Java7 as it refered to org.eclipse.ecf.util.Base64 unambiguously.  This reference in the jslp provider should be disambiguated to refer to org.eclipse.ecf.util.Base64 specifically."}, {"bug_id": "473558", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.jmdns/META-INF/MANIFEST.MF", "providers/bundles/org.eclipse.ecf.provider.jmdns/src/org/eclipse/ecf/provider/jmdns/container/JMDNSDiscoveryContainer.java"], "repo": "ecf", "reformed_query": "implementation org complex eclipse Bug unnecessarily eclipse Discovery jmdns org", "bug_title": " [Discovery][jmdns] JMDNSDiscoveryContainer implementation", "bug_description": "The class org.eclipse.ecf.provider.jmdns.container.JMDNSDiscoveryContainer is unnecessarily complex and can be simplified."}, {"bug_id": "476180", "ground_truth": ["framework/bundles/org.eclipse.ecf/src/org/eclipse/ecf/core/provider/BaseContainerInstantiator.java", "framework/bundles/org.eclipse.ecf/META-INF/MANIFEST.MF"], "repo": "ecf", "reformed_query": "parameters String utility Distribution isInstance Container Add getMapFromParameters key Add", "bug_title": " Add utility methods to BaseContainerInstantiator class", "bug_description": "The BaseContainerInstantiator class could use the following utility methods for dealing with Map parameters @SuppressWarnings(\"rawtypes\") protected Map getMapFromParameters(Object[] parameters) { if (parameters != null && parameters.length > 0) for (Object p : parameters) if (p instanceof Map) return (Map) p; return null; } /** * @since 3.6 */ @SuppressWarnings(\"unchecked\") protected <T> T getMapParameter(Object[] parameters, String key, Class<T> clazz, T def) { @SuppressWarnings(\"rawtypes\") Map m = getMapFromParameters(parameters); if (m != null) { Object o = m.get(key); if (clazz.isInstance(o)) return (T) o; } return def; } These methods will make it easier to create Remote Service Distribution Providers."}, {"bug_id": "478452", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/AbstractTopologyManager.java"], "repo": "ecf", "reformed_query": "abstracttopologymanager Topology timing conditions subclasses", "bug_title": " NPE in AbstractTopologyManager on shutdown", "bug_description": "Under some timing conditions, it's possible to have a NPE in abstracttopologymanager and any subclasses."}, {"bug_id": "479629", "ground_truth": ["framework/bundles/org.eclipse.ecf.remoteservice/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.remoteservice/src/org/eclipse/ecf/remoteservice/client/RemoteCallParameter.java"], "repo": "ecf", "reformed_query": "Remote String Workaround lost client Builder addParameter Parameter Parameter eclipse", "bug_title": " RemoteCallParameter.Builder does not preserve parameter order", "bug_description": "Remote callable parameter order is not preserved in org.eclipse.ecf.remoteservice.client.RemoteCallParameter.Builder: public static class Builder { private final Map<String, Object> nameDefaultValueMap; public Builder() { *****\t\t\tthis.nameDefaultValueMap = new HashMap<String, Object>(); ***** } public Builder addParameter(String name, Object defaultValue) { this.nameDefaultValueMap.put(name, defaultValue); return this; } The HashMap does not guarantee to preserve order, and the parameter order is lost. Workaround is to assemble the params array without RemoteCallParameter.Builder."}, {"bug_id": "482434", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/META-INF/MANIFEST.MF", "osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/RemoteServiceAdmin.java"], "repo": "ecf", "reformed_query": "version Bug type type version service service version exported calculated", "bug_title": " fix handling of exported service package version", "bug_description": "the package version for an exported service is calculated incorrectly if the service interface is implemented by a super class (rather than the service type class directly)."}, {"bug_id": "485482", "ground_truth": ["providers/bundles/org.eclipse.ecf.provider.discovery/src/org/eclipse/ecf/internal/provider/discovery/Activator.java"], "repo": "ecf", "reformed_query": "eclipse org discussed eclipse Bug implementations empty CompositeDiscoveryContainer OSGi OSGi", "bug_title": " remove code for org.eclipse.ecf.provider.discovery", "bug_description": "As discussed on ecf-dev, org.eclipse.ecf.provider.discovery (CompositeDiscoveryContainer) is obsolete given OSGi services and should be removed.  I think it would be useful to have a release which is present but empty before removing from the distribution, so it can replace existing implementations."}, {"bug_id": "486675", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/comm/tcp/Client.java"], "repo": "ecf", "reformed_query": "tcp Client Alive   handling", "bug_title": " [ecf.generic] Improve server-side keepAlive handling", "bug_description": "The keepAlive handing on the server-side of the connection is not done properly in the constructor of this class org.eclipse.ecf.provider.comm.tcp.Client"}, {"bug_id": "490090", "ground_truth": ["framework/bundles/org.eclipse.ecf.provider/META-INF/MANIFEST.MF", "framework/bundles/org.eclipse.ecf.provider/src/org/eclipse/ecf/provider/generic/SOContainerGroup.java"], "repo": "ecf", "reformed_query": "SOContainerGroup connect Exception ClassCastException TCPServerSOContainer patch Container SOContainerGroup Bug hard", "bug_title": " ClassCastException in SOContainerGroup when using SSLServerContainerGroup", "bug_description": "Created attachment 260446 [details] possible patch A ClassCastException occurs, when trying to connect a SSLClient (java.lang.ClassCastException: org.eclipse.ecf.provider.generic.SSLServerSOContainer cannot be cast to org.eclipse.ecf.provider.generic.TCPServerSOContainer). The problem is in line 153 of class SOContainerGroup: there is a hard cast from SOContainer to TCPServerSOContainer."}, {"bug_id": "496963", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/AbstractConsumerContainerSelector.java", "osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/META-INF/MANIFEST.MF"], "repo": "ecf", "reformed_query": "code current Consumer length Selector matchSupportedConfigs test Configs returns code", "bug_title": " AbstractConsumerContainerSelector.matchSupportedConfigs should test for both null and empty array", "bug_description": "The current code in AbstractConsumerContainerSelector.matchSupportedConfigs tests for null and returns false.  It should also check for array length 0 and also return false if array length is 0 but non-null."}, {"bug_id": "497876", "ground_truth": ["osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/META-INF/MANIFEST.MF", "osgi/bundles/org.eclipse.ecf.osgi.services.remoteserviceadmin/src/org/eclipse/ecf/osgi/services/remoteserviceadmin/RemoteServiceAdmin.java"], "repo": "ecf", "reformed_query": "assumes Collection remote Configs RSA", "bug_title": " remote exported configs can be String[] or Collection<String>", "bug_description": "Currently the code in RSA impl assumes that the type of the exporterSupportedConfigs edef property value assumes a type of String[].  It should allow Collection<String> and String in addition to String[]."}, {"bug_id": "104245", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/AST.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "nodes Bug node root node belongs paragraph Javadoc discussion AST", "bug_title": " AST.newCompilationUnit javadoc error", "bug_description": "The Javadoc for AST.newCompilationUnit contains the following second paragraph: \"Note that the new compilation unit is not automatically made the root node of this AST. This must be done explicitly by calling setRoot.\" But there is no method setRoot, at least no such public method. In fact, the abstract syntax \"tree\" is actually a forest, because there can be multiple nodes without parents. And calling the getRoot method on a particular node will actually return the root of the tree in the forest to which that node belongs. To make a node the only root of the AST, one must only make every other node children or descendents of it. Two suggested changes: (1) remove the second paragraph from newCompilationUnit javadoc and (2) include some discussion of what the \"root\" of an AST is in the Javadoc for the AST type."}, {"bug_id": "11076", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/NaiveASTFlattener.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/FieldDeclaration.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/MethodDeclaration.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTNode.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/TypeDeclaration.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/CompilationUnit.java"], "repo": "eclipse.jdt.core", "reformed_query": "configs list Add", "bug_title": " Deleted configs remain in favorite list", "bug_description": "Add some launch configuration to your favorites. Delete this configurations via the launch configuration dialog. The configurations remain listed in the favorites."}, {"bug_id": "124099", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/XLargeTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "UnconditionalFlowInfo wrong Inits flow fields test Initializations info remain lot", "bug_title": " [compiler] incorrect merge of flowInfo into UnconditionalFlowInfo#addInitializationsFrom in case of very long flow info", "bug_description": "Build id: I20051215-1506 When both the receiver and otherInits have extraDefiniteInits but the receiver ones are longer than otherInits ones, the receiver info is reset while it should remain unchanged. The test case is quite a bit long and is attached in a patch (need a lot of fields to get in the considered area). Crafted XLargeTest#test009, for which the compiler complains on l not being initialized, which is wrong. Added a suggested fix to the patch."}, {"bug_id": "126180", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/problem/ProblemReporter.java"], "repo": "eclipse.jdt.core", "reformed_query": "method String problem compiler field", "bug_title": " [1.5][compiler] NPE reporting invalid enclosing type", "bug_description": "Build 3.2m4 The problem below is causing a NPE to be raised by compiler. public class X { static String foo; public static void main(String[] args) { C2 c2 = null; C3 c3 = null; // method access m1(c2, c3).c1m1(); m1(c2, c3).i1m1(); m1(c2, c3).i2m1(); // field access int ic1 = m1(c2, c3).c1f1; int ii1 = m1(c2, c3).i1f1; int ii2 = m1(c2, c3).i2f1; // member type access Object oc1 = m1(c2, c3).new C1Member(); Object oi1 = m1(c2, c3).new I1Member(); Object oi2 = m1(c2, c3).new I2Member(); } public static <T> T m1(T t1, T t2) { return null; } class C1 { void c1m1() {} int c1f1 = 0; class C1Member {} } interface I1 { void i1m1(); int i1f1 = 1; class I1Member {} } interface I2 { void i2m1(); int i2f1 = 2; class I2Member {} } class C2 extends C1 implements I1, I2 { public void i1m1() { } public void i2m1() { } } class C3 extends C1 implements I1, I2 { public void i1m1() { } public void i2m1() { } } }"}, {"bug_id": "126914", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericTypeTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "bounded test type test valid error Type source Type compiler", "bug_title": " [1.5][compiler] extraneous bound mismatch error", "bug_description": "Build id: I20060131-1200 The following test case raises a bound mismatch error for X into Y declaration (all source in a single file): X.java [ interface I<T extends J<T,U>, U extends I<T,U>> { // empty } interface J<T extends J<T,U>, U extends I<T,U>> { // empty } abstract class X<T, U> implements J<X<T, U>, Y<T, U>> { // empty } final class Y<T, U> extends X<T, U> implements I<X<T, U>, Y<T, U>> { // empty } Bound mismatch: The type X<T,U> is not a valid substitute for the bounded parameter <T extends J<T,U>> of the type I<T,U> However, inverting X and Y declarations in the source file gets it to compile. See GenericTypeTest #903 and 904."}, {"bug_id": "145202", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullReferenceTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "raises raises Object reference negated raises println code positive println", "bug_title": " False positive in null reference analyzer after negated instanceof", "bug_description": "Null reference analyzer raises a false positive for the following code, saying that element value can't be null in line after negative instanceof public void aa(Object element) { if( !(element instanceof String) || element == null) {  // <-- false positive return; } System.err.println(element); }"}, {"bug_id": "148328", "ground_truth": ["org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/build/JdtApt.java"], "repo": "eclipse.jdt.core", "reformed_query": "build jdt Bug JdtApt eclipse HTML org XML defective apt", "bug_title": " javadoc contains nested unescaped XML tags", "bug_description": "The javadoc comment on class org.eclipse.jdt.apt.core.build.JdtApt contains nested XML tags that are not escaped.  The resulting javadoc HTML is defective."}, {"bug_id": "149562", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/EnumTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "problem bug val type enumerations complains initialized initialized enumeration Types", "bug_title": " Small problem with enumerations and switch statements", "bug_description": "Hi, I've got the folling source code : public class Test { enum Types {One, Two;} public static void main(String[] args) { int val; Types type = Types.One; switch (type) { case One: val = 1; break; case Two: val = 2; break; } System.out.println(val); } } Eclipse complains that the variable val might not be initialized, but the switch/case statement covers all possible values of the enumeration. Is this a bug ?"}, {"bug_id": "15036", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTNode.java"], "repo": "eclipse.jdt.core", "reformed_query": "post Children Simple Compilation Post node problems org dynamic", "bug_title": " ASTVisitor.preVisit and ASTVisitor.postVisit not called correctly", "bug_description": "I may be misunderstanding the model here, but preVisit and postVisit seem to be called incorrectly. 1. Create a one line java source file: package thepackage; 2. Run this code over it: // icu is an ICompilationUnit for the above file CompilationUnit cu = AST.parseCompilationUnit(icu, true); System.out.println(icu.getResource().getName()); cu.accept (new ASTVisitor() { public void preVisit(ASTNode node) { System.out.println(\"Pre:  \" + node.getClass()); } public void postVisit(ASTNode node) { System.out.println(\"Post: \" + node.getClass()); } }); Expected output is something like: Pre:  class org.eclipse.jdt.core.dom.CompilationUnit Pre:  class org.eclipse.jdt.core.dom.PackageDeclaration Pre:  class org.eclipse.jdt.core.dom.SimpleName ?? Post: class org.eclipse.jdt.core.dom.SimpleName ?? Post: class org.eclipse.jdt.core.dom.PackageDeclaration Post: class org.eclipse.jdt.core.dom.CompilationUnit Actual output is: Pre:  class org.eclipse.jdt.core.dom.CompilationUnit Pre:  class org.eclipse.jdt.core.dom.CompilationUnit Pre:  class org.eclipse.jdt.core.dom.PackageDeclaration Post: class org.eclipse.jdt.core.dom.PackageDeclaration Post: class org.eclipse.jdt.core.dom.CompilationUnit Post: class org.eclipse.jdt.core.dom.CompilationUnit I think the problems are in ASTNode.acceptChild and ASTNode.acceptChildren. E.g in ASTNode.getChild shouldn't // begin with the generic pre-visit visitor.preVisit(this); // dynamic dispatch to internal method for type-specific visit/endVisit child.accept0(visitor); // end with the generic post-visit visitor.postVisit(this); be // begin with the generic pre-visit ** for the child ** visitor.preVisit(child); // dynamic dispatch to internal method for type-specific visit/endVisit child.accept0(visitor); // end with the generic post-visit ** for the child ** visitor.postVisit(child); or, even simpler, // visit the child child.accept(visitor); and similarly in acceptChildren? Thanks Mark"}, {"bug_id": "150655", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/MethodVerifyTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Bug arguments JDK HEAD String java String choose choose Bug", "bug_title": " [1.5][compiler] compiler does not find correct (parameterized) version of overloaded method", "bug_description": "HEAD Eclipse gives a compile error for the class below; JDK 1.5.0_07 accepts it. import java.util.Random; public class Utils { public static String choose(String one, String two) { return Utils.<String>choose(one, two); // Error: \"The method choose(String, String) of type Utils is not generic; it // cannot be parameterized with arguments <String>\" } public static <T> T choose(T one, T two) { return new Random().nextBoolean() ? one : two; } }"}, {"bug_id": "158274", "ground_truth": ["org.eclipse.jdt.apt.ui/src/org/eclipse/jdt/apt/ui/internal/preferences/AptConfigurationBlock.java"], "repo": "eclipse.jdt.core", "reformed_query": "plugin nightly build relase apparent AptConfigurationBlock Dialog thought APT JDT", "bug_title": " Compile error in HEAD of AptConfigurationBlock", "bug_description": "I20060922-0010 AptConfigurationBlock uses JDT/UI's internal class ListDialogField, which has been changed to fix bug 157085. Consequently, you now have a compile error with APT and JDT from HEAD. I thought I'd better file this, since it will only become apparent tomorrow when nightly builds are restarted after the milestone builds are over. Please fix in HEAD and relase the plugin before the I-build on Tuesday (but not now, since that would interfere with the milestone :-)."}, {"bug_id": "162740", "ground_truth": ["org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/MatchLocator.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java", "org.eclipse.jdt.core.tests.model/workspace/JavaSearchBugs/lib/b306196.jar"], "repo": "eclipse.jdt.core", "reformed_query": "Bug org documents eclipse open   file", "bug_title": " Error on website", "bug_description": "main(dir-links.html): failed to open stream: No such file or directory in www.eclipse.org/html/equinox/documents/coding.php on line 138, referer: http://www.eclipse.org/equinox/documents/index.php"}, {"bug_id": "165346", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullReferenceTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "DSRG result eclipse Conditional conservative org Eclipse   Bug", "bug_title": " [compiler][null] org.eclipse.jdt.internal.compiler.ast.OperatorExpression.nullStatus(FlowInfo) too conservative", "bug_description": "During our exploration at the DSRG of integrating JML with Eclipse, we found that OperatorExpression.nullStatus(FlowInfo) should return NON_NULL instead of UNKNOWN: no operators other than the conditional operator can produce a null result, and that case is covered by an overriding method in ConditionalExpression."}, {"bug_id": "168331", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/InnerEmulationTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "IExtended args main compile   IExtendedListEntry", "bug_title": " [1.5][compiler] AbstractMethodError on interface method", "bug_description": "Build ID: I20061214-1445 Java Version: 6.0 Eclipse 3.3 M4 introduced a bug in the compiler, which results in an AbstractMethodError at runtime. However, the affected code worked before, and the compiler doesn't complain anything at compile time. The following code reproduces the error: package bugs; public class AbstractMethodErrorBug { public static interface IListEntry { } public static interface IExtendedListEntry extends IListEntry { } public static interface IList { IListEntry getEntry(int index); } public static interface IExtendedList extends IList { IExtendedListEntry getEntry(int index); } public static class ExtendedList implements IExtendedList { public IExtendedListEntry getEntry(int index) { return null; } } private IList list = new ExtendedList(); public AbstractMethodErrorBug() { } public void testAbstractMethodErrorBug() { list.getEntry(0); // causes an AbstractMethodError System.out.println(\"Bug has been fixed :-)\"); } public static void main(String[] args) { new AbstractMethodErrorBug().testAbstractMethodErrorBug(); } }"}, {"bug_id": "170843", "ground_truth": ["org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/util/FileSystemUtil.java"], "repo": "eclipse.jdt.core", "reformed_query": "Problems deleteDerivedResources Util projects ResourceException fixed throwing org Resources stack", "bug_title": " deleteDerivedResources should ignore ResourceException", "bug_description": "The FileSystemUtil.deleteDerivedResources() method is used to delete generated files.  It in turn calls IResource.delete(), and passes any resulting CoreException up the stack. We are getting occasional instances of \"org.eclipse.core.internal.resources.ResourceException: Problems encountered while deleting resources\", which appear to be due either to file locking or to simultaneous deletion of projects during testing. There does not seem to be any good reason to pass these exceptions up the stack - arguably we should log the failure, but we should not be throwing an exception. The problem is reported against 3.2.1, but it is not severe enough to warrant fixing in 3.2.2.  It should be fixed in 3.3."}, {"bug_id": "17531", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/BufferCache.java"], "repo": "eclipse.jdt.core", "reformed_query": "GlobalActions Bug Java plan", "bug_title": " [GlobalActions] File/Save As fails when entering valid file name", "bug_description": "build F1 -select a Java file A.java -select File/Save As -append a -CP to the file name, i.e., A-CP.java -select ok ->you will get an error message \"Save Problems: Could not save file Reason: Invalid name specified\" Apparently a refactoring rename is happening after the save as. The Save as to a file should not rename the class as a side effect of the save as. The Save as should not make any assumptions about what I plan to do with the new file."}, {"bug_id": "176320", "ground_truth": ["org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/processing/JobManager.java"], "repo": "eclipse.jdt.core", "reformed_query": "indexing SDK occurring reindexing progress jobs change dialog reporting reporting", "bug_title": " Non linear progress in open type dialog", "bug_description": "Build 20070228 When migrating to latest SDK, I got it all reindexing the workspace due to index format change (ok). What striked me is that when opening the type dialog, it rendered indexing progress in a strange way. It rushed to 50%, while accumulating more indexing jobs. Then it processed them down to 0, and then filled the rest of the progress in half a second. I think it should better deal with the situation where reindexing is occurring when reporting the progress, so it becomes more linear."}, {"bug_id": "176591", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericTypeTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Typed getTypedSet Reproduce mismatch empty type Java Object compliance Collections", "bug_title": " [1.5][compiler] Java compiler erroneously reports a type mismatch", "bug_description": "Build ID: Build id: M20070212-1330 Steps To Reproduce: With compiler compliance level 5.0, public Set<String> getTypedSet() { return true ? Collections.emptySet() : null; } leads to \"Type mismatch: cannot convert from Set<Object> to Set<String>\". More information: public Set<String> getTypedSet() { return Collections.emptySet(); } works."}, {"bug_id": "180169", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaElement.java", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaProject.java"], "repo": "eclipse.jdt.core", "reformed_query": "container returning Bug spec entries Add bug entries containers returning", "bug_title": " Add protection against missbehaving container (returning null entries)", "bug_description": "I20070327 As reported in bug 180112, some containers can return null entries (even if it is again the spec). We should protect ourselves and log the missbehaving container if in trace mode."}, {"bug_id": "181393", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/DefaultASTVisitor.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "Bug Annotation Annotation consequence consequence MarkerAnnotation visitNode doesn Visit methods", "bug_title": " DefaultASTVisitor doesn't override all methods", "bug_description": "I20070403 DefaultASTVisitor doesn't override all methods (e.g. it doesn't override visit(MarkerAnnotation). As a consequence, visitNode(ASTNode) and endVisitNode(ASTNode) are not called for all nodes in the AST."}, {"bug_id": "186457", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/MethodVerifyTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "complain Encoder error compareTo CharsetEncoder args inconsistency exe Object override", "bug_title": " Breaking inconsistency between java.nio.Charset in java and in Eclipse", "bug_description": "If the region between the stars (in the code below) is uncommented, Eclipse will not present a warning or error, but compiling the class with javac.exe will produce an error (java 1.4 will complain that it cannot override final method compareTo, and java 1.5 will complain that two compareTo methods have the same erasure). If the region between the stars is commented, Eclipse will give an error saying that compareTo must be defined, but javac.exe will give no warnings or errors. The bottom line is that there seems to be no way to build any project in Eclipse that contains a subclass of Charset!!! // Begin code for CharsetSub.java : import java.nio.charset.Charset; import java.nio.charset.CharsetDecoder; import java.nio.charset.CharsetEncoder; public class CharsetSub extends Charset { public CharsetSub(String name, String[] aliases) { super(name, aliases); } public CharsetEncoder newEncoder() { return null;  } public CharsetDecoder newDecoder() { return null;  } public boolean contains(Charset x) { return false; } //****************************** (the region between the stars) public int compareTo(Object obj) { return compareTo((Charset) obj); } //****************************** public static void main(String[] args) { new CharsetSub(\"test\", new String[] { \"test\" }); System.out.println(\"Compilation succeeded.\"); } }"}, {"bug_id": "190268", "ground_truth": ["org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/EncodedFileOutputStream.java"], "repo": "eclipse.jdt.core", "reformed_query": "setCharset Edit runtime Output Output File Output runtime charset setCharset", "bug_title": " Need to perform a validateEdit() before setting encoding", "bug_description": "If a project is checked into a read-only source control system like perforce or subversion, you get an exception like the following during annotation processing: org.eclipse.core.runtime.CoreException: File /wlwLabInventoryWar/.settings/org.eclipse.core.resources.prefs is read-only. at org.eclipse.core.internal.resources.ProjectPreferences$2.run(ProjectPreferences.java:556) at org.eclipse.core.internal.resources.ProjectPreferences.save(ProjectPreferences.java:577) at org.eclipse.core.internal.preferences.EclipsePreferences.flush(EclipsePreferences.java:352) at org.eclipse.core.internal.resources.ProjectPreferences.flush(ProjectPreferences.java:379) at org.eclipse.core.internal.preferences.EclipsePreferences.flush(EclipsePreferences.java:340) at org.eclipse.core.internal.resources.ProjectPreferences.flush(ProjectPreferences.java:379) at org.eclipse.core.internal.resources.CharsetManager.setCharsetFor(CharsetManager.java:281) at org.eclipse.core.internal.resources.File.setCharset(File.java:440) at org.eclipse.jdt.apt.core.internal.env.EncodedFileOutputStream.close(EncodedFileOutputStream.java:36) at sun.nio.cs.StreamEncoder$CharsetSE.implClose(StreamEncoder.java:431) at sun.nio.cs.StreamEncoder.close(StreamEncoder.java:160) at java.io.OutputStreamWriter.close(OutputStreamWriter.java:222) at java.io.PrintWriter.close(PrintWriter.java:287) at org.apache.beehive.netui.compiler.genmodel.GenStrutsApp.writeToFile(GenStrutsApp.java:358) Need to have a validateEdit() call on the resources.prefs file before setting the charset."}, {"bug_id": "193784", "ground_truth": ["org.eclipse.jdt.apt.core/src/com/sun/mirror/apt/AnnotationProcessors.java"], "repo": "eclipse.jdt.core", "reformed_query": "dtd reserved org PROPRIETARY Microsystems dtd source AnnotationProcessors code Processors", "bug_title": " Proprietary licenses", "bug_description": "Hi. Eclipse contains some proprietary files which are troublesome for distribution. First of all, in the source code: ./plugins/org.eclipse.jdt.apt.core/src/com/sun/mirror/apt/AnnotationProcessors.java: /** * @(#)AnnotationProcessors.java  1.2 04/06/21 * * Copyright 2004 Sun Microsystems, Inc. All rights reserved. * SUN PROPRIETARY/CONFIDENTIAL. Use is subject to license terms. */ And secondly the file: plugins/javax.servlet_2.4.0.v200705291052.jar contains ./javax/servlet/resources/web-app_2_3.dtd ./javax/servlet/resources/web-app_2_4.xsd ./javax/servlet/jsp/resources/web-jsptaglibrary_2_0.xsd that are all under a proprietary sun license."}, {"bug_id": "208186", "ground_truth": ["org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/env/EncodedFileOutputStream.java"], "repo": "eclipse.jdt.core", "reformed_query": "File difference EncodedFileOutputStream simply Encoded Don Stream EncodedFileOutputStream Stream File", "bug_title": " Don't set encoding of generated file unless it needs to change", "bug_description": "See bug 190268.  As a perf improvement and to deal with some remaining problems when the settings file is read-only, we should simply avoid setting the file encoding in EncodedFileOutputStream if setting it would make no difference."}, {"bug_id": "217002", "ground_truth": ["org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/util/AptPreferenceConstants.java"], "repo": "eclipse.jdt.core", "reformed_query": "string EDITOR AnnotationProcessorFactory processing javadoc Typo javadoc Preference Annotation Processors", "bug_title": " Typo in javadoc for AptPreferenceConstants.PROCESSING_IN_EDITOR_DISABLED_OPTION", "bug_description": "The javadoc for the string constant AptPreferenceConstants.PROCESSING_IN_EDITOR_DISABLED_OPTION reads \"Processors should report this option in {@link com.sun.mirror.apt.AnnotationProcessorFactory#supportedOptions()} in order to enable processing while editing, that is, during reconcile.  If this option is set, ie if processing is disabled, ...\" Instead of saying \"in order to enable\" it should read \"in order to disable\", as is suggested by the name of the option and by the second sentence of the javadoc."}, {"bug_id": "222080", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java"], "repo": "eclipse.jdt.core", "reformed_query": "workspace find file Bug find proposals Wrong Completion identity problem", "bug_title": " [assist] Wrong proposals order when completing on an item of an array", "bug_description": "Created attachment 92055 [details] Project to reproduce the problem Build I20080305-1100. Unzip the attached jar file, import the 'Completion' project in a workspace, open the class 'Test' and complete where indicated. You'll get a long list of proposals... The one I was looking for was 'type', and I'm really surprised to find it only near the end of the list. As I was in an identity test with ASTNode, I would not expect to see all 'int' proposals placed before the 'ASTNode' one..."}, {"bug_id": "228691", "ground_truth": ["org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/declaration/TypeDeclarationImpl.java"], "repo": "eclipse.jdt.core", "reformed_query": "attachment Bug project correctly autoboxing Enable Mirror meaning autoboxing mirror", "bug_title": " JDT impl of com.sun.mirror.util.Types.isAssignable() returns false for wrapper to primitive assignment", "bug_description": "Created attachment 97473 [details] Jar file with annotation processor. Build ID: M20080221-1800 Steps To Reproduce: 1. Enable annotation processing on a current project. 2. Add the attached jar file to the annotation processing path. 3. See the errors. 4. Run the same code with Sun's apt, which correctly allows wrapper to primitive assignment. More information: The issue here is that Types.isAssignable is returning false when passed a ClassType of \"java.lang.Integer\" and a PrimitiveType of Kind \"INT\", respectively.  Types should correspond to what's acceptable at the *source* level, not at the binary level for four reasons: 1.  The annotations occur in the source, and are annotating source transformations. 2.  According to the \"Overview\" section of he Mirror API, it's intended to model the language, as opposed to the VM structures.  At the language level, autoboxing and unboxing now allows both int -> Integer and Integer -> int (and of course, the other primitives as well).  Types.isAssignable() should allow that assignment. 3.  It's consistent with the reference APT implementation. 4.  Types.isSubtype() is an appropriate method to use when the opposite meaning is desired."}, {"bug_id": "23162", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/MethodDeclaration.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/QualifiedName.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/AST.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/DefaultBindingResolver.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/SimpleName.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/BindingResolver.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/Name.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ASTConverter.java", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ThisExpression.java"], "repo": "eclipse.jdt.core", "reformed_query": "modified modification walk AST modification don Bug DOM rewriting bindings", "bug_title": " DOM: clients should be able to control if bindings are available even if AST is modified", "bug_description": "2.x Now that we have AST rewriting we more and more start to modify existing ASTs. After the first modification all bindings associated with nodes are null. Since we want to walk the tree and modifiy it in parallel clients should be able to create an AST that keeps bindings even if the AST gets modified. New nodes simply don't return bindings."}, {"bug_id": "234074", "ground_truth": ["org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/Compliance_1_5.java"], "repo": "eclipse.jdt.core", "reformed_query": "compiler fails expected Bug depending error", "bug_title": " Compliance_1_5#test088 fails when launched with JRE 6 and -Dcompliance=1.5", "bug_description": "3.4 RC2 The expected compiler log is elaborated depending upon the current JRE instead of taking the current compliance into account, resulting into an error when those mismatch."}, {"bug_id": "24934", "ground_truth": ["org.eclipse.jdt.core.tests.model/workspace/JavaSearch/src/d1/X.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchTests.java", "org.eclipse.jdt.core.tests.model/workspace/JavaSearch/src/d2/Z.java", "org.eclipse.jdt.core.tests.model/workspace/JavaSearch/src/d2/Y.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/DeclarationOfReferencedTypesPattern.java"], "repo": "eclipse.jdt.core", "reformed_query": "imports top level Bug imports doesn unused imports level doesn", "bug_title": " Move top level doesn't optimize the imports[refactoring]", "bug_description": "After a Move to top level refactoring you end up with unused import errors."}, {"bug_id": "252556", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterCommentsBugsTest.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterBugsTests.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/Scribe.java", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/OptimizedReplaceEdit.java"], "repo": "eclipse.jdt.core", "reformed_query": "Bug compilation region formatted test Javadoc bug removed formatter formatter", "bug_title": " [formatter] Spaces removed before formatted region of a compilation unit.", "bug_description": "I20081027-1800 The test case from bug 228652 comment 0 still fails because spaces are removed before the region that is being formatted (the region being a Javadoc in this test case)."}, {"bug_id": "25377", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/Parser.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "array initializer empty build convert Error", "bug_title": " Error location is not correct for empty array initializer", "bug_description": "build 20021022 1) Create the following class ---------------------------- public class X { public void foo() { if(true) { } Object o = {}; } } ---------------------------- 2) Compile this class There 1 error \"Type mismatch: cannot convert from Object[] to Object\" 3) select this error in task view The selected text is : ---------------------------- { } Object o = {} ----------------------------"}, {"bug_id": "268802", "ground_truth": ["org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/compiler/parser/SourceTypeConverter.java"], "repo": "eclipse.jdt.core", "reformed_query": "Useless convertAnnotations annotation SourceTypeConverter SourceTypeConverter convertAnnotations Type convertAnnotations create SourceTypeConverter", "bug_title": " Useless call to getSource() in SourceTypeConverter", "bug_description": "build I20090311-0100 SourceTypeConverter#convertAnnotations() call SourceTypeConverter#getSource() to create annotation but getSource() is call even when there is no annotation. getSource() should be call only when necessary."}, {"bug_id": "277382", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/CompilationUnitResolver.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "open sample Exception team Saveable error Parser parse", "bug_title": " NPE and other failures in Parser", "bug_description": "I20090520-2000 I got into a strange state while viewing the class file org.eclipse.team.ui.synchronize.SaveableCompareEditorInput. I did not have this project in my workspace. In my workspace I have org.eclipse.jface, and various core/equinox projects. I also had several other text editors open on HTML doc files. I will attach the log file, but here is a sample error: java.lang.NullPointerException at org.eclipse.jdt.internal.compiler.parser.Parser.consumeClassHeaderName1(Parser.java:2258) at org.eclipse.jdt.internal.compiler.parser.Parser.consumeRule(Parser.java:5284) at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:9338) at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:9568) at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:9525)"}, {"bug_id": "28951", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchTests.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/SourceMapper.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/AttachSourceTests.java", "org.eclipse.jdt.core.tests.model/workspace/JavaSearch/.classpath"], "repo": "eclipse.jdt.core", "reformed_query": "field Bug restarting reason file longer restarting attachment Source created", "bug_title": " Source attachment rootpath field missing in UI", "bug_description": "In 2.1 M4 the source attachment no longer shows the field root path. For this reason, source attachment will not work. I had projects created with older version of Eclipse and those are functioning alright. I was reading in bug: 27018, that the UI field for rootpath is no longer necessary. With my source jar files it is still necessary. I edited the .classpath file manually to add the rootpath field, and after restarting Eclipse, I can see corectly the attachment. My source jar files have the rootpath src/java."}, {"bug_id": "29516", "ground_truth": ["org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/TypeReferencePattern.java"], "repo": "eclipse.jdt.core", "reformed_query": "Search", "bug_title": " SearchEngine regressions in 20030114", "bug_description": "(these regressions are responsible for failing refactoring tests in 20030107) package p; class A{ A A; A A(A A){ A: for (;;){ if (A.A(A)==A) break A; } return A; }; }"}, {"bug_id": "29621", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/ExclusionPatternsTests.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessor.java"], "repo": "eclipse.jdt.core", "reformed_query": "Adding resource icons Java folder fresh build Adding delta file", "bug_title": " Wrong Delta When Adding to Filtered Folder", "bug_description": "Build I20030115 1. Start fresh workspace 2. Add J project \"Test\" 3. Add source folder \"src\" 4. Add folder \"icons\" to \"src\" 5. Ensure only \"src\" is on the build path and exclude folder \"icons\" 6. Add file \"my.txt\" to \"icons\" folder ==> the delta which is sent out looks like: Java Model[*]: {CHILDREN} Test[*]: {CHILDREN} src/icons/my.txt[+]: {} There should be a resource delta."}, {"bug_id": "301894", "ground_truth": ["org.eclipse.jdt.apt.core/build_notes.html", "org.eclipse.jdt.apt.core/src/org/eclipse/jdt/apt/core/internal/APTDispatchRunnable.java"], "repo": "eclipse.jdt.core", "reformed_query": "APT issues Bug Reproducible running project annotations OutOfMemory", "bug_title": " OutOfMemory error when building a large project with annotations", "bug_description": "Build Identifier: 3.4.2 + R342patch_1.0.12 This bug is a follow-on to bug 288211, which appeared to fix some memory issues with APT. However our adopters product still sees issues with running out of memory when compiling large projects with APT enabled. Reproducible: Always"}, {"bug_id": "30516", "ground_truth": ["org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/model/org/eclipse/jdt/core/IPackageFragmentRoot.java"], "repo": "eclipse.jdt.core", "reformed_query": "Fragment IPackage Fragment Root Archive Archive Fragment typo isArchive typo", "bug_title": " typo in javadoc of IPackageFragmentRoot:isArchive", "bug_description": "\"package ragment\" should be \"package fragment\""}, {"bug_id": "31261", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/TypeDeclaration.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "errors compilation max build unit Bug", "bug_title": " Strange behavior when there is more errors than max errors per compilation unit", "bug_description": "1) Create a class X.java public class X { {#} // error 1 {#} // error 2 {#} // error 3 {#} // error 4 } 2) Limit the number of errors reported per compilation unti to 3 3) do a full build There is only 3 errors (as expected), but it is errors 1, 2 and 4. It should be errors 1, 2 and 3."}, {"bug_id": "327143", "ground_truth": ["org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/messages.properties", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/processing/JobManager.java"], "repo": "eclipse.jdt.core", "reformed_query": "consequence stops Restart failed stops failed thread waiting infinite thread", "bug_title": " IndexManager should not accept new jobs if the processing thread is null", "bug_description": "I ran into a case where a simulateExit() was called and the next touch(..) call failed. The consequence was that the simulateRestart() was never called. But a new jar file added ended up being added into the waiting jobs and the index manager was in an infinite loop and the number of awaiting jobs was always 1 and since the processing thread was null, that job was never run. So we must make sure that the index manager doesn't accept new jobs if the processing thread is null or if stops the loop when there is an awaiting job but the thread is null. Right now the loop never ends unless the number of awaiting jobs is 0."}, {"bug_id": "337415", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/core/JavaCore.java", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/ExternalFoldersManager.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "folder classpath Headless jdt dangerous runtimeData details ANT Verification Refresh", "bug_title": " External folders project is not created", "bug_description": "Created attachment 189164 [details] Workspace for recreation steps When the preferences and the project are imported using ANT script, the external folders project is not created causing potentially dangerous behavior (f.e. no delta can be computed, so each build is a full build). The steps to reproduce the behavior are: 1. Import the projects from attached zip file 2. Inside the Data project there are two launch configurations. 3. Execute the \"Headless Import\" 4. Refresh the Data project. runtimeData folder contains new workspace, check in the .metadata/.plugins/org.eclipse.jdt.core if the external folders project exists. Two other projects are ant tasks responsible for loading the preferences and importing the project. The second launch configuration (\"Verification\") launches Eclipse which uses the same workspace as the headless one, so it is possible to check if the classpath variable has been correctly loaded."}, {"bug_id": "341296", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaProject.java"], "repo": "eclipse.jdt.core", "reformed_query": "great entries front Build classpath Reproducible", "bug_title": " .classpath file is read-only, many modifications later and ok, can not write error", "bug_description": "Build Identifier: 20100917-0705 It would be great if instead of telling you at the end of modifying a 100 classpath entries and clicking ok and then ignoring all those changes it would either remind you up front or give you the option to overwrite. Reproducible: Always"}, {"bug_id": "341499", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/flow/UnconditionalFlowInfo.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "markAsDefinitelyNonNull UnconditionalFlowInfo released UnconditionalFlowInfo extra Flow allocate issue locals patch", "bug_title": " [compiler][null] allocate extra bits in all methods of UnconditionalFlowInfo", "bug_description": "The patch in bug 247564 contains a few fixes that are actually independent of the issue of field references: currently some methods in UnconditionalFlowInfo fail to allocate the extra bits used for handling more than 64 locals, namely: markAsDefinitelyNonNull markAsDefinitelyNull markAsDefinitelyUnknown IMO these fixes should be released for 3.7."}, {"bug_id": "357110", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/NameLookup.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/CompilationUnitProblemFinder.java"], "repo": "eclipse.jdt.core", "reformed_query": "refactor error referenced parse arises problem find message org Reproduce", "bug_title": " Problem with inner classes referenced from jars or class folders: \"The type ... cannot be resolved\"", "bug_description": "Build Identifier: I20110613-1736 The opened Java-Editor shows reproducable under some circumstances the (wrong) error message \"The type .. cannot be resolved. It is indirectly referenced from required .class files.\" However, the Package-Explorer does not show this error. The error is only displayed in the Editor. If the error happens the org.eclipse.jdt.core.dom.ASTParser is not able to parse this java file (which is called by a plugin of mine). I found no workaround for this but to refactor some classes not to be inner classes any more, but this is not really a good workaround. Reproducible: Always Steps to Reproduce: The error is reproduceable as follows: - Create a class A with a static inner Class I in the sourcefolder \"src\" with outputfolder \"bin\". - Create a class B beeing a subclass of I in the same project in another sourcefolder \"src2\". Let the outputfolder of \"src2\" be \"bin2\". - Create a class C beeing a subclass of B in the first source folder \"src\". - Now change the project settings by removing the sourcefolder \"src2\" and instead add the \"bin2\" folder to the libraries. By this the class B is now only available as a binary class file. - Open the Editor for the class C and find the error message describe above. The same problem arises reproducably, if the the class file of B is not in a classfolder but in a jar. There is no problem, if I is not an inner class but a normal class."}, {"bug_id": "363293", "ground_truth": ["org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/messages.properties", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.compiler.tool.tests/src/org/eclipse/jdt/compiler/tool/tests/CompilerInvocationTests.java", "org.eclipse.jdt.compiler.tool.tests/src/org/eclipse/jdt/compiler/tool/tests/CompilerToolTests.java", "org.eclipse.jdt.compiler.tool.tests/src/org/eclipse/jdt/compiler/tool/tests/AbstractCompilerToolTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "tool eclipse Manager justified eclipse justified test Bug Manager tests", "bug_title": " resource leaks in org.eclipse.jdt.compiler.tool.tests", "bug_description": "When compiled using 3.8M3 the test suite org.eclipse.jdt.compiler.tool.tests raises 8 warnings like \"Resource leak: 'fileManager' is never closed\". It seems that all these warnings are justified and should be fixed in the code."}, {"bug_id": "369381", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullReferenceTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/flow/UnconditionalFlowInfo.java", "org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/messages.properties", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/FieldReference.java"], "repo": "eclipse.jdt.core", "reformed_query": "compiler unexpected unexpected unexpected compiling compiler mark potential assertion compiler", "bug_title": " [null][compiler] 'Adding potential null mark in unexpected state' assertion while compiling", "bug_description": ""}, {"bug_id": "373953", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullReferenceTestAsserts.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ReferenceBinding.java", "org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/messages.properties", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "Bug core org eclipse Bug org eclipse bug core lang", "bug_title": " FUP of bug 127575: java.eclipse.core.runtime.Assert is being recognized as org.eclipse.core.runtime.Assert", "bug_description": "As part of bug 127575, special handling for null checks has been added for org.eclipse.core.runtime.Assert. This also works for java.eclipse.core.runtime.Assert and org.lang.core.runtime.Assert :)."}, {"bug_id": "380313", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/TryStatement.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/StackMapAttributeTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/Block.java", "org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/messages.properties", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/FlowAnalysisTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Xtext Bug eclipse   org php", "bug_title": " Inconsistent stack error when using Java 1.7", "bug_description": "please refer to this thread for details: http://www.eclipse.org/forums/index.php/mv/msg/277248/875304/#msg_875304 Seems that Xtext should support this functionality with the latest Java version. I'm using a Windows 7 64-bit machine. Please let me know if you need more information."}, {"bug_id": "385132", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/LambdaExpressionSyntaxTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/ReferenceExpressionSyntaxTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/parser14.rsc", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/parser20.rsc", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/parser7.rsc", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/parser8.rsc", "org.eclipse.jdt.core/grammar/java.g"], "repo": "eclipse.jdt.core", "reformed_query": "lines Syntax grammar compiler", "bug_title": " [1.8][compiler] syntax error says \"ARROW\" or \"COLON_COLON\" where it shouls say \"->\" or \"::\"", "bug_description": "If one of the new tokens '->' or '::' is misplaced the compiler currently reports Syntax error on token \"ARROW\", ... Syntax error on token \"COLON_COLON\", ... For all other tokens it shows the token verbatim, not by its name. I found that this is caused by failure to list these tokens in the $names section of the grammar (at the very bottom). Adding these lines fixes the issue: ARROW ::= '->' COLON_COLON ::= '::'"}, {"bug_id": "385293", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NegativeTypeAnnotationTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "arguments Bug references check silently Marker type", "bug_title": " [1.8][compiler] compiler accepts normal modifiers on type arguments", "bug_description": "Type references like T<final X> T<@Marker static X> are silently accepted. Parser.modifier is never read in this context. Either the grammar should be changed not to allow normal modifiers in this position or we need to check and report any stored modifiers."}, {"bug_id": "388634", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/Compliance_1_5.java"], "repo": "eclipse.jdt.core", "reformed_query": "compliance Bug Tests levels specific compiler expected log tests handle", "bug_title": " [1.8] Test failure in Compliance_1_5 at compliance 1.8", "bug_description": "When running tests Compliance_1_5 with -Dcompliance=1.8 a failure occurs in test088(). This is not currently detected during RunJDTCoreTests because 1.8 is not yet included on that route, but using explicit compliance gives a preview of what we'll get later. This test case chooses the expected compiler log from specific compliance levels and misses to handle F_1_8 ."}, {"bug_id": "391376", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/InterfaceMethodsTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/InterfaceMethodsTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/SourceTypeBinding.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/InterfaceMethodsTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/MethodVerifier15.java"], "repo": "eclipse.jdt.core", "reformed_query": "analysis fixed bugs verifier parts logic picture desired relevant fixed", "bug_title": " [1.8] check interaction of default methods with bridge methods and generics", "bug_description": "The failure reported in bug 382347 comment 6 showed that the method verifier made some assumptions regarding interface methods which no longer hold when default methods enter the picture. The immediate problem could be fixed via bug 390761 by cleanly filtering the bogus error messages, thus leaving the delicate parts of the logic unchanged, viz. code that handled corner cases involving generics and/or bridge methods. We should still check whether this logic produces the desired behavior if default methods meet those situations with generics/bridge methods. During analysis I found these bugs to be relevant: - bug 302358 - bug 194034"}, {"bug_id": "393356", "ground_truth": ["org.eclipse.jdt.compiler.tool.tests/src/org/eclipse/jdt/compiler/tool/tests/CompilerInvocationTests.java"], "repo": "eclipse.jdt.core", "reformed_query": "option Users tests Starter regression Location Directory setLocation compiler Handle", "bug_title": " Failures in CompilerInvocationTests in I20121031-2000", "bug_description": "The following test fails in the latest I build with the following trace: C:\\Users\\HUDSONBUILD\\AppData\\Local\\Temp\\comptest\\run.1351741384979\\regression\\bin: does not exist java.io.FileNotFoundException: C:\\Users\\HUDSONBUILD\\AppData\\Local\\Temp\\comptest\\run.1351741384979\\regression\\bin: does not exist at com.sun.tools.javac.file.JavacFileManager.getOutputDirectory(JavacFileManager.java:840) at com.sun.tools.javac.file.JavacFileManager.setLocation(JavacFileManager.java:820) at org.eclipse.jdt.compiler.tool.tests.CompilerInvocationTests.test004_no_dash_d_option(CompilerInvocationTests.java:391) at org.eclipse.jdt.core.tests.util.CompilerTestSetup.run(CompilerTestSetup.java:55) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:650) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:305) at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:36) at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:32) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414) at org.eclipse.core.launcher.Main.main(Main.java:34)"}, {"bug_id": "396139", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "point Bug process test version targeting members problem", "bug_title": " [1.8] define which JRE8 build we are targeting in BETA_JAVA8", "bug_description": "Various regressions in the BETA_JAVA8 branch are caused by incompatible changes in the lambda-enabled JRE8. Examples: JavadocTestForClass had to be change back-and-forth in commits cc1c110e9641a2cecfab702ac9383376aefe030a and 5da4268a6e911ad3865241747a8e9714544fc990. Manoj reported 103 test failures regarding the following types: - java.util.Fillable - java.util.functions.Mapper and sub-types - java.util.functions.* vs. java.util.function.* At a closer look this problem was caused by using a *newer* JRE8 than other team members. I can currently reproduce this kind of failure using a build 67 JRE. Since the download page of project lambda only offers the latest beta build at any point in time, it is difficult to reproduce the exact same environment of another team member, unless we coordinate this upgrade process. I propose to use this bug for tracking the current build version of the JRE8 against which all tests in BETA_JAVA8 should be green. In HEAD I observe that b50 is too old for the current state of JavadocTestForClass. OTOH, b67 is too new for the current state of many other tests. Unfortunately, I don't have the builds in between."}, {"bug_id": "396258", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullTypeAnnotationTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Annotation forces Type Annotation NonNull introduce NonNull annotations annotations kind", "bug_title": " [1.8] adopt new syntax for annotations on qualified type names in NullTypeAnnotationTest", "bug_description": "Bug 394356 had to simplify some tests in NullTypeAnnotationTest due to the spec change from '@NonNull java.lang.Object' to 'java.lang. @NonNull Object'. I should re-introduce some variance of this kind because the new syntax forces annotations to be interpreted as type annotations, where until now the syntax was ambiguous with SE7 annotations."}, {"bug_id": "399567", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AmbiguousMethodTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "parallelStream inherits bin code types Integer Ambiguous windows lines version", "bug_title": " [1.8] Different error message from the reference compiler", "bug_description": "[org.eclipse.jdt.core.tests.compiler.regression.AmbiguousMethodTest._test009()] Similar error message though, but different for the following code: import java.util.*; public class T { void test() { OrderedSet<String> os = null; os.add(\"hello\"); OrderedSet<Integer> os2 = null; os2.add(1); } }interface OrderedSet<E> extends List<E>, Set<E> { boolean add(E o); } JDT Core reports two errors and two warnings [b74 build] Errors for the last line: Multiple markers at this line - Duplicate methods named parallelStream with the parameters () and () are inherited from the types Set<E> and List<E> - implements java.util.List<E>.add - Duplicate methods named stream with the parameters () and () are inherited from the types Set<E> and List<E> Warnings for os(2).add lines: Null pointer access: The variable os can only be null at this location Null pointer access: The variable os2 can only be null at this location Reference compiler reports: $/lambda-8-b74-windows-x64-21_jan_2013/jdk1.8.0/bin/javac.exe T.java T.java:10: error: interface OrderedSet<E> inherits unrelated defaults for parallelStream() from types List and Set }interface OrderedSet<E> extends List<E>, Set<E> { ^ where E is a type-variable: E extends Object declared in interface OrderedSet 1 error $lambda-8-b74-windows-x64-21_jan_2013/jdk1.8.0/bin/javac.exe -version javac 1.8.0-ea"}, {"bug_id": "399769", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/ComplianceDiagnoseTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/CompilerInvocationTests.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/core/compiler/IProblem.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/Parser.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/problem/ProblemReporter.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/problem/messages.properties"], "repo": "eclipse.jdt.core", "reformed_query": "error identifier unambiguous identifier Bug error keyword diagnostic requires trigger", "bug_title": " [1.8][compiler] Use of '_' as identifier name should trigger a diagnostic.", "bug_description": "'_' is a reserved keyword in Java 8 and cannot be used as an identifier per 3.9 Keywords [Modified] of the proposed spec. 8b74 only issues a warning at this point, though the spec requires an unambiguous error. X.java:9: warning: '_' used as an identifier I  _ = null; ^ (use of '_' as an identifier might not be supported in future releases) 1 warning"}, {"bug_id": "401790", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NegativeLambdaExpressionsTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/AllocationExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ExplicitConstructorCall.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/FunctionalExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/LambdaExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/QualifiedAllocationExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ReferenceExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/Parser.java", "org.eclipse.jdt.core/eval/org/eclipse/jdt/internal/eval/CodeSnippetAllocationExpression.java", "org.eclipse.jdt.core/eval/org/eclipse/jdt/internal/eval/CodeSnippetMessageSend.java"], "repo": "eclipse.jdt.core", "reformed_query": "handled allocation sends updates sends Bug calls allocation address constructor", "bug_title": " [1.8][compiler] Follow up of bug 401610, explicit constructor calls and allocation expressions needs updates too.", "bug_description": "BETA_JAVA8: In bug 401610, I handled only message sends and overlooked explicit constructor calls and allocation expressions. I'll use this bug to address them."}, {"bug_id": "401848", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/rewrite/describing/ASTRewritingTypeDeclTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "rewrite Bug type ASTRewrite rewrite reproduce Annotation details error attachment", "bug_title": " ASTRewrite on type annotations adds an additional <CR>", "bug_description": "Created attachment 227640 [details] Testcase to reproduce the error A \"\\n\" introduced when an additional Annotation is added using rewrite"}, {"bug_id": "401989", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NegativeLambdaExpressionsTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "print type analyzeCode Local expressions missing compiler System lambda", "bug_title": " [1.8][compiler] hook lambda expressions into \"can be static\" analysis", "bug_description": "I was alerted by code in LocalDeclaration.analyzeCode() which relies on methodScope.referenceMethod() to perform \"can be static\" analysis, the latter method returning null within lambda expressions. While that particular piece of code might actually be OK, I noticed a problem with the following program: interface I { void make(); } public class Nesting { int val; private I test() { return () -> System.out.print(val); } public void call() { test().make(); } } When enabled, the following bogus warning is issued: The method test() from the type Nesting can be declared as static We should check what exactly is missing to let lambda expressions participate in this analysis."}, {"bug_id": "403036", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaElement.java"], "repo": "eclipse.jdt.core", "reformed_query": "Cases location click String handled attached url javadoc link accessible", "bug_title": " Wrong message is shown when there is no content for Javadoc", "bug_description": "1.Create a class: public class C1 { String s; } 2. Hover on 'String' and click on the link for 'java' package. The message shown in \"Note: The attached Javadoc could not be retrieved as the specified Javadoc location is either wrong or currently not accessible.\" The javadoc location is specified correctly and is accessible but for 'java' there is no javadoc available and hence no content can be retrieved. The message indicates a problem with the url even though it is correct. Cases for a wrong/Inaccessible url and a url where no content is available is not handled differently."}, {"bug_id": "403147", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullReferenceTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/AND_AND_Expression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/flow/LoopingFlowContext.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/MessageSend.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/DoStatement.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ExplicitConstructorCall.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ArrayReference.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/flow/FlowContext.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/AssertStatement.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ForStatement.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/OR_OR_Expression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/Expression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/flow/FinallyFlowContext.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/AllocationExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/QualifiedAllocationExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/WhileStatement.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/IfStatement.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ArrayAllocationExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/Assignment.java"], "repo": "eclipse.jdt.core", "reformed_query": "AST AST duplication correct simplify compiler consolidate FUP simplify create", "bug_title": " [compiler][null] FUP of bug 400761: consolidate interaction between unboxing, NPE, and deferred checking", "bug_description": "Bug 400761 has introduced some more diagnostics for NPE due auto-unboxing. This solution should be checked for completeness in two dimensions: - are all relevant AST nodes covered? - does the analysis create correct results within (nested) control structures that demand deferred checking? Hopefully, this will also simplify the code a bit, by reducing code duplication."}, {"bug_id": "403457", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullTypeAnnotationTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Bug compiler util Map Wildcard lang TYPE", "bug_title": " [1.8][compiler] NPE in WildcardBinding.signature", "bug_description": "BETA_JAVA8: The following program triggers an NPE: // --- //import java.util.Map; import java.lang.annotation.*; public class X { void foo(Map<@Marker ? super @Marker Object, @Marker ? extends @Marker String> m){} void goo(Map<@Marker ? extends @Marker Object, @Marker ? super @Marker String> m){} } @Target(ElementType.TYPE_USE) @interface Marker { } If the import is uncommented, it compiles OK."}, {"bug_id": "403705", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AmbiguousMethodTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericTypeTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/InterfaceMethodsTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/LookupTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/MethodVerifyTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "list list Investigate Bug Investigate List Bug Bug attachment List", "bug_title": " [1.8] Investigate failures against b81", "bug_description": "Created attachment 228605 [details] Failure List Attached list of failures for b81."}, {"bug_id": "405051", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/core/JavaCore.java", "org.eclipse.jdt.core/model/org/eclipse/jdt/core/JavaCore.java"], "repo": "eclipse.jdt.core", "reformed_query": "call classpath list IProgressMonitor newIndexURL returned list calling manager workspace", "bug_title": " JavaModel.refreshExternalArchives needs to happen before search is primed", "bug_description": "When the search engine is primed (as part of calling JavaCore.initializeAfterLoad(IProgressMonitor)) then it populates the index manager based on the information returned from IndexManager#computeIndexLocation(IPath containerPath).  If the underlying index is a pre-built index but it has been deleted from the file-system, then the index is re-created in the workspace metadata and not in the location specified by the INDEX_LOCATION_ATTRIBUTE_NAME classpath attribute.  This is because search has no concept of the classpath containers - it simply knows a list of project and the corresponding archive files. In JavaCore.initializeAfterLoad(IProgressMonitor) the call to refresh external archives (which populates the index manager with the correct classpath attribute information) happens after the search occurs.  Since the index has already been built from the search call then it ends up being used. There are two ways to fix this: 1) In JavaCore.initializeAfterLoad(IProgressMonitor), move the call to refresh the archives to happen BEFORE the search engine is primed. 2) In IndexManager#computeIndexLocation(IPath containerPath, final URL newIndexURL) added via bug 395897, if the existing URL is different from the new URL then the index needs to be rebuilt after it is removed. I think fix 1 makes more sense as, ideally, you want to know the latest archive state before a search is done.  This approach also ensures that the indexer manager is doing less work"}, {"bug_id": "405125", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests18.java"], "repo": "eclipse.jdt.core", "reformed_query": "member space assist Foo Bug suggested lambda Foo Anirban code", "bug_title": " [1.8][code assist] static members of an interface appearing after the declaration of a static member lambda expression are not being suggested.", "bug_description": "public interface Foo { int run(int s1, int s2); } interface X { static Foo f = (int s5, int s6) -> x<ctrl-space> static int x1 = 2; } x1 should have been suggested in assist; but not happening that way. Thanks Anirban"}, {"bug_id": "405889", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ClassFile.java"], "repo": "eclipse.jdt.core", "reformed_query": "getJavaLangInvokeMethodHandlesLookup Spawned Handles Method Invoke codegen Scope Lang", "bug_title": " [1.8][compiler][codegen] Resilience against NPE needed in Scope.getJavaLangInvokeMethodHandlesLookup", "bug_description": "BETA_JAVA8: Spawned from https://bugs.eclipse.org/bugs/show_bug.cgi?id=405066#c2 review comment 4."}, {"bug_id": "406396", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/ProblemTypeAndMethodTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "stems stems confused bunch don don Basically solace report Bug", "bug_title": " Method can be static analysis misses a bunch of cases...", "bug_description": "(1) In the following program, foo is not tagged as can be static, while goo is. Both can be static: // --- public class X  { int f; int foo() { int f = 0; return f; } int goo() { return 0; } } // --- Problem stems from the fact we do a look up for any existing f, to report hiding diagnostics. That look up is confused with a real field access. (2) See that in the following program we don't suggest that foo could be static when in fact it could be: // ---- public class X  { int f; void foo() { class Y { int p; { class Z { int f = p; } } }; } } Basically the analysis as is implemented is broken and I don't see any quick fixes. We can take solace that we are not meant to report every possible candidate, but what we report should be correct."}, {"bug_id": "409236", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/TypeAnnotationTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ClassFile.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/IntersectionCastTypeReference.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/TypeReference.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/util/ExtendedAnnotation.java"], "repo": "eclipse.jdt.core", "reformed_query": "constituents dropped generator org annotations type code types code JAVA", "bug_title": " [1.8][compiler] Type annotations on intersection cast types dropped by code generator", "bug_description": "BETA_JAVA8: See https://bugs.eclipse.org/bugs/show_bug.cgi?id=383624#c46, point (5): We are dropping type annotations on intersection cast constituents."}, {"bug_id": "409245", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/AllocationExpression.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ExplicitConstructorCall.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/MessageSend.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/QualifiedAllocationExpression.java", "org.eclipse.jdt.core/eval/org/eclipse/jdt/internal/eval/CodeSnippetAllocationExpression.java", "org.eclipse.jdt.core/eval/org/eclipse/jdt/internal/eval/CodeSnippetMessageSend.java"], "repo": "eclipse.jdt.core", "reformed_query": "point routed program\u00e2\u20ac\u2122s Bug routed dropped classfile bridge including Bug", "bug_title": " [1.8][compiler] Type annotations dropped when call is routed through a synthetic bridge method", "bug_description": "BETA_JAVA8: \"The Java compiler accepts type annotations and adds them to the program\u00e2\u20ac\u2122s AST. It writes them to the classfile, including accounting for synthetic methods (such as bridge methods) and optimizations\" ... At the moment type annotations are dropped if the call is routed through a synthetic method. See https://bugs.eclipse.org/bugs/show_bug.cgi?id=383624#c46, point 1 & 2."}, {"bug_id": "410402", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericTypeTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/VarargsTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "failures Bug Investigate Bug Bug Bug Investigate Investigate Bug Bug", "bug_title": " [1.8] Investigate failures against b92", "bug_description": ""}, {"bug_id": "412639", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/ResourceLeakTests.java"], "repo": "eclipse.jdt.core", "reformed_query": "callMethodWithException call regression regression AutoCloseable internal call closeable executeQuery Potential", "bug_title": " ResourceLeakTests.testBug381445_1b failed", "bug_description": "N20130709-2000. ResourceLeakTests.testBug381445_1b failed. http://download.eclipse.org/eclipse/downloads/drops4/N20130709-2000/testresults/html/org.eclipse.jdt.core.tests.compiler_linux.gtk.x86_6.0.html Invalid problem log . ----------- Expected ------------ ----------\\n 1. ERROR in Bug381445.java (at line 8)\\n ResultSet rset2 = stat.executeQuery(q2);\\n ^^^^^\\n Potential resource leak: 'rset2' may not be closed\\n ----------\\n ------------ but was ------------ ----------\\n 1. ERROR in Bug381445.java (at line 15)\\n Closeables.closeQuietly(rset2);\\n ^^^^^^^^^^^^\\n The method closeQuietly(AutoCloseable) from the type Closeables refers to the missing type AutoCloseable\\n ----------\\n 2. ERROR in Bug381445.java (at line 30)\\n public static void closeQuietly(java.lang.AutoCloseable closeable) {}\\n ^^^^^^^^^^^^^^^^^^^^^^^\\n java.lang.AutoCloseable cannot be resolved to a type\\n ----------\\n --------- Difference is ---------- expected:<...81445.java (at line [8)\\n ResultSet rset2 = stat.executeQuery(q2);\\n ^^^^^\\n Potential resource leak: 'rset2' may not be closed]\\n ----------\\n > but was:<...81445.java (at line [15)\\n Closeables.closeQuietly(rset2);\\n ^^^^^^^^^^^^\\n The method closeQuietly(AutoCloseable) from the type Closeables refers to the missing type AutoCloseable\\n ----------\\n 2. ERROR in Bug381445.java (at line 30)\\n public static void closeQuietly(java.lang.AutoCloseable closeable) {}\\n ^^^^^^^^^^^^^^^^^^^^^^^\\n java.lang.AutoCloseable cannot be resolved to a type]\\n ----------\\n > junit.framework.ComparisonFailure: Invalid problem log . ----------- Expected ------------ ----------\\n 1. ERROR in Bug381445.java (at line 8)\\n ResultSet rset2 = stat.executeQuery(q2);\\n ^^^^^\\n Potential resource leak: 'rset2' may not be closed\\n ----------\\n ------------ but was ------------ ----------\\n 1. ERROR in Bug381445.java (at line 15)\\n Closeables.closeQuietly(rset2);\\n ^^^^^^^^^^^^\\n The method closeQuietly(AutoCloseable) from the type Closeables refers to the missing type AutoCloseable\\n ----------\\n 2. ERROR in Bug381445.java (at line 30)\\n public static void closeQuietly(java.lang.AutoCloseable closeable) {}\\n ^^^^^^^^^^^^^^^^^^^^^^^\\n java.lang.AutoCloseable cannot be resolved to a type\\n ----------\\n --------- Difference is ---------- expected:<...81445.java (at line [8)\\n ResultSet rset2 = stat.executeQuery(q2);\\n ^^^^^\\n Potential resource leak: 'rset2' may not be closed]\\n ----------\\n > but was:<...81445.java (at line [15)\\n Closeables.closeQuietly(rset2);\\n ^^^^^^^^^^^^\\n The method closeQuietly(AutoCloseable) from the type Closeables refers to the missing type AutoCloseable\\n ----------\\n 2. ERROR in Bug381445.java (at line 30)\\n public static void closeQuietly(java.lang.AutoCloseable closeable) {}\\n ^^^^^^^^^^^^^^^^^^^^^^^\\n java.lang.AutoCloseable cannot be resolved to a type]\\n ----------\\n > at org.eclipse.jdt.core.tests.junit.extension.TestCase.assertStringEquals(TestCase.java:238) at org.eclipse.jdt.core.tests.junit.extension.TestCase.assertEquals(TestCase.java:214) at org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.checkCompilerLog(AbstractRegressionTest.java:873) at org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runTest(AbstractRegressionTest.java:2285) at org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runTest(AbstractRegressionTest.java:2120) at org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runNegativeTest(AbstractRegressionTest.java:1922) at org.eclipse.jdt.core.tests.compiler.regression.ResourceLeakTests.testBug381445_1b(ResourceLeakTests.java:4098) at org.eclipse.jdt.core.tests.util.CompilerTestSetup.run(CompilerTestSetup.java:55) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:655) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:310) at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:36) at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:32) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:109) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:80) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:372) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:226) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426) at org.eclipse.core.launcher.Main.main(Main.java:34)"}, {"bug_id": "412650", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NegativeLambdaExpressionsTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ReferenceExpression.java"], "repo": "eclipse.jdt.core", "reformed_query": "test mentioned Exception Bug mentioned thrown compiler bug Lambda compiling", "bug_title": " [1.8][compiler]Incongruent Lambda Exception thrown", "bug_description": "While compiling the Project mentioned in bug 412453 description. Will extract a small test case soon."}, {"bug_id": "412882", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/ClasspathEntry.java", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/ClasspathEntry.java"], "repo": "eclipse.jdt.core", "reformed_query": "closeZipFile Archive Entry Workspace jdt Library status executeOperation", "bug_title": " Unnecessary validation of optional library classpath entries.", "bug_description": "During the classpath validation first all the classpath entries are validated and then the validation status is not reported for the optional entries. Due to that when large number of optional entries existed on classpath a majority of portion is spent on their validation which is of no use. In a project with 12000+ optional library jars, setRawclaasspath is spending  more than 90% of time on this unnecessary validation. Here is the call tree captured with a profiler ... - 21,925 ms org.eclipse.jdt.internal.core.JavaProject.setRawClasspath - 21,925 ms org.eclipse.jdt.internal.core.JavaProject.setRawClasspath - 21,925 ms org.eclipse.jdt.internal.core.JavaModelOperation.runOperation - 21,675 ms org.eclipse.core.internal.resources.Workspace.run - 21,675 ms org.eclipse.jdt.internal.core.JavaModelOperation.run - 21,675 ms org.eclipse.jdt.internal.core.SetClasspathOperation.executeOperation - 20,500 ms org.eclipse.jdt.internal.core.ChangeClasspathOperation.classpathChanged - 20,376 ms org.eclipse.jdt.internal.core.ClasspathValidation.validate - 20,214 ms org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry - 20,214 ms org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspathEntry - 19,978 ms org.eclipse.jdt.internal.core.ClasspathEntry.validateLibraryEntry - 13,461 ms org.eclipse.jdt.internal.core.ClasspathEntry.validateLibraryContents - 13,461 ms org.eclipse.jdt.internal.core.JavaModelManager.verifyArchiveContent - 12,023 ms org.eclipse.jdt.internal.core.JavaModelManager.getZipFile - 12,006 ms java.util.zip.ZipFile.<init> - 5,511 \u00c2\u00b5s org.eclipse.core.internal.resources.Workspace.getRoot - 5,439 \u00c2\u00b5s org.eclipse.core.runtime.Path.toFile - 1,438 ms org.eclipse.jdt.internal.core.JavaModelManager.closeZipFile I am working on a patch to avoid this unncessery validation and will send it across soon."}, {"bug_id": "413083", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/builder/JavaBuilder.java"], "repo": "eclipse.jdt.core", "reformed_query": "user build Builder requesting full debug debug debug accuses Builder", "bug_title": " Builder debug info: wrongly accuses user of requesting a full build", "bug_description": "See bug 413067."}, {"bug_id": "413913", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/AbstractRegressionTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Investigate Bug Investigate Bug Bug Bug Investigate Bug Bug Bug", "bug_title": " [1.8] Investigate failures against b100", "bug_description": ""}, {"bug_id": "41554", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/SourceType.java", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/messages.properties"], "repo": "eclipse.jdt.core", "reformed_query": "Source hierarchy debugging failure jdt search SourceType internal assertion", "bug_title": " Assertion failure during search", "bug_description": "Build: I20030813 I am getting an assertion failure during search.  I am searching for references to a private field.  Searching in hierarchy or in workspace causes the same assertion failure.  Log file attached. Olivier: The assertion is in the constructor for jdt.internal.core.SourceType. If the assertion failure message included the name of the type, it would make debugging this case easier."}, {"bug_id": "415911", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/TypeAnnotationTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "lang JAVA type ElementType annotation Target java compiler method", "bug_title": " [1.8][compiler] NPE when TYPE_USE annotated method with missing return type", "bug_description": "BETA_JAVA8: // -- import java.lang.annotation.ElementType; import java.lang.annotation.Target; @Target(ElementType.TYPE_USE) @interface Marker { } public class X { @Marker foo(String s) { } } This snippet triggers an NPE on HEAD."}, {"bug_id": "416313", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/TypeIds.java"], "repo": "eclipse.jdt.core", "reformed_query": "eclipse picking Java cherry reassign JunitFrameworkAssert lookup picking Framework plausibly", "bug_title": " [1.8][compiler] Typeids are not unique - plausibly broken with cherry picking", "bug_description": "BETA_JAVA8: org.eclipse.jdt.internal.compiler.lookup.TypeIds.T_JavaLangFunctionalInterface & org.eclipse.jdt.internal.compiler.lookup.TypeIds.T_JunitFrameworkAssert both have the same type id 69 :) Possibly other cases too. Please sort and eliminate duplicates and reassign suitable values."}, {"bug_id": "417388", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ASTNode.java"], "repo": "eclipse.jdt.core", "reformed_query": "resolved parameter Bug Binding type Reference binding annotations", "bug_title": " TypeBinding on a TypeReference for parameter does not have type use annotations", "bug_description": "Here is a simple code: class X { public void foo(@Marker int p) {} } Now, for parameter 'p', Argument#type#resolvedType (which is a BaseTypeBinding)doesn't contain the type use annotations. Interestingly, Argument#binding#type (which is also a BaseTypeBinding) contains the annotations correctly. Ideally, they should be referencing the same object."}, {"bug_id": "417669", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/dom/ASTConverter18Test.java"], "repo": "eclipse.jdt.core", "reformed_query": "args appears SimpleType Marker Incorrect lang dom dialog Incorrect Element", "bug_title": " [1.8][dom]Incorrect source ranges for annotated SimpleType that is nested in a ParameterizedType", "bug_description": "Use the ASTView on the following code and get an error dialog about 'Bad AST Node structure. package p; public class X  { public static void main(String [] args) { W w = (@Marker W<String>) null; } } class W<T> { } @java.lang.annotation.Target (java.lang.annotation.ElementType.TYPE_USE) @interface Marker {} The problem appears that in this particular case the AnnotatableType (@Marker W<String>) doesn't include the annotation in it's source range."}, {"bug_id": "418843", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullAnnotationTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "jdt hovering Qualified Pointer fail code saving access text TestEnum", "bug_title": " NPE related to enum with missing contructor", "bug_description": "After upgrading to Kepler, I noticed some annoying NPE messages. Eclipse will throw NPEs when hovering over the flawed code, show error message boxes when saving, save actions will fail with another message box and hovering the Run-button will throw addition NPEs. Examples from the error log: \"Unhandled event loop exception\", \"Problems occurred when invoking code from plug-in: \"org.eclipse.jdt.ui\".\", \"Exception occurred during problem detection:\", and some more. Common to all is the following stack strace: java.lang.NullPointerException at org.eclipse.jdt.internal.compiler.ast.QualifiedAllocationExpression.resolveType(QualifiedAllocationExpression.java:274) at org.eclipse.jdt.internal.compiler.ast.FieldDeclaration.resolve(FieldDeclaration.java:237) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1121) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1286) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1084) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1295) at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:561) at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:920) at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:965) at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:203) at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:269) at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:190) at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:89) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:728) at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:788) at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1247) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:126) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.access$0(JavaReconcilingStrategy.java:108) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:89) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:87) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:151) at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86) at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:104) at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:77) at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:206) I was able to find the trigger: This works fine: enum TestEnum { TEST_FIEL(1); } Using a non-existent constructor results in the expected \"The constructor SpeedTest.TestEnum(int) is undefined\" This will throw NPEs: enum TestEnum { TEST_FIEL(1) {}; } Notice the empty anonymous class."}, {"bug_id": "418919", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/LookupEnvironment.java"], "repo": "eclipse.jdt.core", "reformed_query": "point UnannotatedTypeSystem source compiler carry Options defect bindings Annotations System", "bug_title": " [1.8][compiler][internal] Remove boolean forcing creation of annotated bindings.", "bug_description": "BETA_JAVA8: In LookupEnvironment::LookupEnvironment, we have this code: boolean stillTesting = true; if (this.globalOptions.sourceLevel >= ClassFileConstants.JDK1_8 && (stillTesting || this.globalOptions.storeAnnotations)) { this.typeSystem = new AnnotatableTypeSystem(this); } else { this.typeSystem = new UnannotatedTypeSystem(this); } At some suitable point, we should remove the boolean and let the other gating conditions decide whether bindings should carry annotations or not. Raising this defect so we don't drop this ball."}, {"bug_id": "420004", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/dom/TypeBindingTests308.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/AnnotationBinding.java"], "repo": "eclipse.jdt.core", "reformed_query": "Target don compiler Target Annotations getAnnotations getAnnotations annotation type properly", "bug_title": " [1.8][compiler] @Target meta annotations not restored properly on binary annotation types.", "bug_description": "BETA_JAVA8: When calling getAnnotations() on an annotation type, I don't see TYPE_USE and TYPE_PARAMETER targets being restored properly. Patch will follow shortly."}, {"bug_id": "421469", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests.java"], "repo": "eclipse.jdt.core", "reformed_query": "bug error java jsr Declaration foo codeassist Statements Declaration codeComplete", "bug_title": " [1.8][code assist] NPE in LocalDeclaration.resolve with anonymous class in lambda body", "bug_description": "BETA_JAVA8 NPE in LocalDeclaration.resolve when performing content assist with an anonymous class in a lambda body. Same problem with a local class. package jsr335; import java.util.function.IntFunction; public class Snippet { void foo() { IntFunction<String> toString = i -> { //<-- Ctrl+Space here new Runnable() { @Override public void run() { //<-- Ctrl+Space here } }.run(); return Integer.toString(i); }; } } java.lang.NullPointerException at org.eclipse.jdt.internal.compiler.ast.LocalDeclaration.resolve(LocalDeclaration.java:191) at org.eclipse.jdt.internal.compiler.ast.Block.resolve(Block.java:114) at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolveStatements(AbstractMethodDeclaration.java:620) at org.eclipse.jdt.internal.compiler.ast.MethodDeclaration.resolveStatements(MethodDeclaration.java:303) at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.resolve(AbstractMethodDeclaration.java:531) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1209) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.resolve(TypeDeclaration.java:1319) at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.resolve(CompilationUnitDeclaration.java:568) at org.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:1896) at org.eclipse.jdt.internal.core.Openable.codeComplete(Openable.java:130) at org.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:357) at org.eclipse.jdt.internal.core.CompilationUnit.codeComplete(CompilationUnit.java:345) at org.eclipse.jdt.internal.ui.text.java.JavaCompletionProposalComputer.internalComputeCompletionProposals(JavaCompletionProposalComputer.java:244) Stacktrace in bug 383096 looks similar, but that bug is about code with a syntax error."}, {"bug_id": "421711", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NegativeLambdaExpressionsTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/Parser.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/problem/ProblemReporter.java"], "repo": "eclipse.jdt.core", "reformed_query": "rejects ECJ discuss discuss rejected lambda behavioral bug warning code", "bug_title": " [1.8][compiler] '_' as identifier for a lambda parameter should be rejected", "bug_description": "At the moment, we issue a warning. Javac does it too, but when the identifier is  for a lambda parameter, Javac rejects the code. This bug is to discuss this behavioral difference between ECJ and Javac."}, {"bug_id": "421796", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/InterfaceMethodsTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "bridges https AbstractMethodError emitting program main play compiler String compiler", "bug_title": " [1.8][compiler] java.lang.AbstractMethodError executing default method code.", "bug_description": "BETA_JAVA8: // -- interface I  { void foo(); } interface J extends I { default void foo() { } } interface K extends J { } public class X implements K { public static void main(String argv[]) { X test = new X(); ((J)test).foo(); test.foo(); } } This program results in an AbstractMethodError  upon execution. I don't see javac emitting any bridges for this program while we do. I tested with 8b115. https://bugs.eclipse.org/bugs/show_bug.cgi?id=391376#c5 and https://bugs.eclipse.org/bugs/show_bug.cgi?id=404690 may have a role to play here."}, {"bug_id": "422107", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests18.java"], "repo": "eclipse.jdt.core", "reformed_query": "assist location template initialized Object assist snippet result Bug location", "bug_title": " [1.8][code assist] Invoking code assist just before and after a variable initialized using lambda gives different result", "bug_description": "Consider the below code snippet: import java.io.Serializable; interface I { void doit(); } public class X { // Invoke code assist<Ctrl+space> in this location gives 20+ suggestions Object o = (I & Serializable) () -> {}; // Invoke code assist<Ctrl+space> in this location gives just 4 template proposals } Invoking code assist just before and after a variable initialized using lambda gives different result."}, {"bug_id": "42243", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/ComplianceDiagnoseTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "keyword source misleading syntax compiled Build token error source token", "bug_title": " Incorrect syntax diagnosis for assert in source 1.3 mode", "bug_description": "Build 3.0M3 The following source compiled in 1.3 source mode is flagged with a syntax error as expected (assert isn't a keyword in 1.3 mode), but the error diagnosis is rather misleading. public class X { public static void main(String[] args) { assert true; } } --> Syntax error on token \"assert\", assert expected\t!?"}, {"bug_id": "423280", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaProjectTests.java"], "repo": "eclipse.jdt.core", "reformed_query": "assertResourcesEqual adaptor Handle callMethodWithException basic oject tests invoke assertResourcesEqual resources", "bug_title": " Failure in testAddNonJavaResourcePackageFragmentRoot (now disabled)", "bug_description": "BUILD ID: N20131204-2000 Test Results Location: http://download.eclipse.org/eclipse/downloads/drops4/N20131204-2000/testresults/html/org.eclipse.jdt.core.tests.model_win32.win32.x86_7.0.html testAddNonJavaResourcePackageFragmentRoot incorrect non java resources. ----------- Expected ------------ /JavaProjectTests/.classpath\\n /JavaProjectTests/.project\\n /JavaProjectTests/.settings\\n /JavaProjectTests/TestNonJavaResource.abc ------------ but was ------------ /JavaProjectTests/.classpath\\n /JavaProjectTests/.project\\n /JavaProjectTests/.settings --------- Difference is ---------- expected:<...ojectTests/.settings[\\n /JavaProjectTests/TestNonJavaResource.abc]> but was:<...ojectTests/.settings[]> junit.framework.ComparisonFailure: incorrect non java resources. ----------- Expected ------------ /JavaProjectTests/.classpath\\n /JavaProjectTests/.project\\n /JavaProjectTests/.settings\\n /JavaProjectTests/TestNonJavaResource.abc ------------ but was ------------ /JavaProjectTests/.classpath\\n /JavaProjectTests/.project\\n /JavaProjectTests/.settings --------- Difference is ---------- expected:<...ojectTests/.settings[\\n /JavaProjectTests/TestNonJavaResource.abc]> but was:<...ojectTests/.settings[]> at org.eclipse.jdt.core.tests.junit.extension.TestCase.assertStringEquals(TestCase.java:238) at org.eclipse.jdt.core.tests.junit.extension.TestCase.assertEquals(TestCase.java:214) at org.eclipse.jdt.core.tests.model.AbstractJavaModelTests.assertResourcesEqual(AbstractJavaModelTests.java:546) at org.eclipse.jdt.core.tests.model.JavaProjectTests.testAddNonJavaResourcePackageFragmentRoot(JavaProjectTests.java:426) at org.eclipse.jdt.core.tests.model.SuiteOfTestCases$Suite.runTest(SuiteOfTestCases.java:104) at org.eclipse.jdt.core.tests.model.SuiteOfTestCases$Suite.superRun(SuiteOfTestCases.java:88) at org.eclipse.jdt.core.tests.model.SuiteOfTestCases$1.protect(SuiteOfTestCases.java:76) at org.eclipse.jdt.core.tests.model.SuiteOfTestCases$Suite.run(SuiteOfTestCases.java:85) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:657) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:310) at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:36) at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:32) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:109) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:80) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:372) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:226) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426) at org.eclipse.core.launcher.Main.main(Main.java:34)"}, {"bug_id": "423409", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests2.java", "org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/ClasspathSourceDirectory.java"], "repo": "eclipse.jdt.core", "reformed_query": "refactoring Press project workspace matches Test Continuing fields Find Click", "bug_title": " [search] Search shows references to fields as potential matches", "bug_description": "Created attachment 238107 [details] Test project - Import the attached project in your workspace. - Find references of the constant field 'fi' of class Test2 via Ctrl+Shift+G. => Search view shows the references as potential matches instead of accurate matches. (As a result, in inline refactoring: - Press Alt+Shift+I on 'fi' declaration to inline all of its references and choose to delete the constant declaration. - Click OK : We get the message \"Inaccurate matches have been found...\". - Continuing deletes the declaration but the references are not inlined and we get compilation errors.)"}, {"bug_id": "424075", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_8.java"], "repo": "eclipse.jdt.core", "reformed_query": "String Bug args updates asList longer code pred longer Object", "bug_title": " [1.8] Compiler regression", "bug_description": "After latest updates to 400874 The following piece of code no longer compiles. (works fine with javac and eclipse 1.7) public static void main(String[] args) { Consumer<Object> c = null; Arrays.asList(pred(), c); } static <T> Predicate<T> pred() { return null; }"}, {"bug_id": "424591", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_8.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ConstraintTypeFormula.java"], "repo": "eclipse.jdt.core", "reformed_query": "reproduce array number Java Choose small inference JAVA directory Bug", "bug_title": " [1.8][inference] capture-of-array causes resolution error", "bug_description": "Created attachment 238533 [details] Screenshot of spurious errors With 4.3.1 + JAVA8_Beta (1.0.0.v20131221-0104_BETA_JAVA8), there are a number of spurious local variable resolution errors in the Graal project source code. Unfortunately I cannot reproduce a small test case. However, checking out the code and reproducing the problem is fairly straightforward: hg clone http://hg.openjdk.java.net/graal/graal/rev/72e2ec923b7b cd graal unzip eclipse-config.zip # attached to this bug report Start Eclipse (running on top of JDK8) with new workspace directory being graal. Configure a JavaSE-1.8 Execution Environment. File | Import... | General | Existing Projects into Workspace Choose graal/graal subdirectory and import all discovered projects. Once \"Building workspace\" completes, you should see about 33 errors in the Problems View, most of which are obviously spurious variable resolution errors. See attached screenshot."}, {"bug_id": "424718", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/TypeReference.java"], "repo": "eclipse.jdt.core", "reformed_query": "baseTypeReference Annotations ast AST request compilers dimAnnotations works TypeReference dimAnnotations", "bug_title": " [1.8][compiler] API backward compatibility AST.TypeReference", "bug_description": "There where some API changes for JDK 8, e.g. additional intermal parameters for the language changes. As an example for type annotations in org.eclipse.jdt.internal.compiler.ast.TypeReference changed the signature of the method: public static final TypeReference baseTypeReference(int baseType, int dim) to public static final TypeReference baseTypeReference(int baseType, int dim, Annotation [][] dimAnnotations) This breaks for instance the popular compiler extension lombok:   http://code.google.com/p/projectlombok/issues/detail?id=597 I suggest to add compatibility functions for this like e.g.: public static final TypeReference baseTypeReference(int baseType, int dim) { // compatibility function return  baseTypeReference(baseType, dim, null); } This here is just an example. These kind of compatibility functions are very simple and help to prevent the breaking of potentially many external plugins and rise the acceptance for the new eclipse version. I know this is an internal package, but you should be well aware that many external plugins around compilers and and languages (quite a popular topic nowadays) directly use your nice compiler APIs, especially the AST. I kindly request to add at least this function because lombok is very important and works fine with this additional method ;)"}, {"bug_id": "425493", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_8.java"], "repo": "eclipse.jdt.core", "reformed_query": "Attribute compiles piece regression Test require jan attribute code attribute", "bug_title": " [1.8] Compiler regression", "bug_description": "The following piece of code no longer compiles with latest snapshots (11-jan) public class Test { public void addAttribute(Attribute<?> attribute) { addAttribute(java.util.Objects.requireNonNull((Attribute) attribute, \"\"), attribute.getDefault()); } private <T> void addAttribute(Attribute<T> attribute, T defaultValue) {} static class Attribute<T> { T getDefault() { return null; } } }"}, {"bug_id": "426434", "ground_truth": ["org.eclipse.jdt.compiler.tool/src/org/eclipse/jdt/internal/compiler/tool/EclipseCompiler.java"], "repo": "eclipse.jdt.core", "reformed_query": "Eclipse care standard javadoc Compiler Compiler javadoc parameters Eclipse Compiler", "bug_title": " EclipseCompiler#run() crashes when null out/err passed by client", "bug_description": "EclipseCompiler#run() implements javax.tools.Tool#run(), which has following javadoc: * @param in \"standard\" input; use System.in if null * @param out \"standard\" output; use System.out if null * @param err \"standard\" error; use System.err if null EclipseCompiler doesn't take care of this, instead just passes along the parameters err and out. This needs to be fixed."}, {"bug_id": "426678", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/VarargsTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/Scope.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "vararg Follow compiler cgi compiler type issue bug shortly shortly", "bug_title": " [1.8][compiler] Another issue with vararg type element accessibility", "bug_description": "Follow up of https://bugs.eclipse.org/bugs/show_bug.cgi?id=426534: I see another problem with vararg accessibility: I'll shortly release a regression test showing the problem."}, {"bug_id": "427216", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "broke List BETA regular method args compiles Runtime wiki Bug", "bug_title": " [Java8] array to varargs regression", "bug_description": "I'm using the experimental Java 1.8 support via http://wiki.eclipse.org/JDT/Eclipse_Java_8_Support_(BETA) One of the daily updates this week broke basic array to vararg method calls: public class Test { public static void main(String[] args) { foo(args); // ok in 1.7 and 1.8 foo(java.util.Arrays.asList(\"1\").toArray(new String[0])); // broke in 1.8 somewhere this week } private static void foo(String... args) { } } Error message (there's only a Runtime error, it compiles fine): Exception in thread \"main\" java.lang.NoSuchMethodError: java.util.List.toArray([Ljava/lang/String;)Ljava/lang/String; at Test.main(Test.java:8) Workaround: Add a cast. E.g.: (String[]) in this case. I did regular updates last week, and this week only on Friday. So I unfortunately can't say which update caused the regression. It would be great if the 1.8 update channel kept older versions so people can downgrade again if necessary."}, {"bug_id": "427218", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/Scope.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/InferenceContext18.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_8.java"], "repo": "eclipse.jdt.core", "reformed_query": "snippet https https varargs bug snippet compiler Bug inference bugs", "bug_title": " [1.8][compiler] Verify error varargs + inference", "bug_description": "See https://bugs.eclipse.org/bugs/show_bug.cgi?id=427207#c8 for a snippet and crash info."}, {"bug_id": "429763", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/LambdaExpressionsTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "main compile stumbled Function Main type String Bug parameter stumbled", "bug_title": " [1.8][compiler] Incompatible type specified for lambda expression's parameter", "bug_description": "stumbled upon this one... public class Main { public static void main(String[] args) { // does not compile final int i = new Test<Integer>().test((Byte b) -> (int) b); } static class Test<R> { <T> R test(Function<T,R> f) { return null; } } }"}, {"bug_id": "429949", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/rewrite/ImportRewrite.java"], "repo": "eclipse.jdt.core", "reformed_query": "unit claim Note Compilation Note ICompilation Bug Compilation Rewrite subject", "bug_title": " Bad Javadoc link on ImportRewrite.create(ICompilationUnit, boolean)", "bug_description": "The Javadoc for ImportRewrite.create(ICompilationUnit, boolean) contains the self-referential line: \"Note that {@link #create(ICompilationUnit, boolean)} is more efficient than this method if an AST for the compilation unit is already available.\" The \"ICompilationUnit\" should be \"CompilationUnit\". See ImportRewrite.create(CompilationUnit, boolean), which makes the claim that it is more efficient than the subject method if an AST is already available."}, {"bug_id": "430451", "ground_truth": ["org.eclipse.jdt.compiler.tool.tests/src/org/eclipse/jdt/compiler/tool/tests/CompilerInvocationTests.java"], "repo": "eclipse.jdt.core", "reformed_query": "Invocation Invocation test test org file Bug custom Patch fixes", "bug_title": " Tests fail in org.eclipse.jdt.compiler.tool.tests.CompilerInvocationTests with JRE 1.8", "bug_description": "Created attachment 240928 [details] Patch to fix failing tests The following tests are failing with JRE 1.8. They fail because the in 1.8, Iterable.toString has a surrounding \"[]\". The patch fixes the failing ones: test002_dash_d_option test003_dash_d_option test005_dash_d_option_custom_file_manager"}, {"bug_id": "430987", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Foo compile create faced compileError create doSomethingWithFoo arguments clazz doSomethingWithFoo", "bug_title": " [1.8][compiler] Java 8 Compile Error with generic typed arguments", "bug_description": "While working with mockito I faced an Java 8 compile error for code that has worked with Java 7. I managed to create a standalone snippet to reproduce the code: public class Bug { public static interface Foo<T> { // no content } public void compileError() { doSomethingWithFoo( any( Foo.class ), any( Foo.class ) ); } public void noCompileError() { Foo foo = any( Foo.class ); doSomethingWithFoo( foo, foo ); } public <T> void  doSomethingWithFoo( Foo<T> foo, Foo<T> foo2 ) { // do something } public static <T> T any(Class<T> clazz) { return null; } } This snippet works with Java 6 and 7 but not with 8."}, {"bug_id": "431275", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/DeltaProcessingState.java"], "repo": "eclipse.jdt.core", "reformed_query": "Safe Container broadcastChanges Current broadcastPostChange setClasspath workbench Starter DeltaProcessor sun", "bug_title": " Deadlock in JavaModelManager$PerProjectInfo and DeltaProcessingState", "bug_description": "An adopter product (IBM) than runs in headless mode is hitting a deadlock with monitors org/eclipse/jdt/internal/core/JavaModelManager$PerProjectInfo and org/eclipse/jdt/internal/core/DeltaProcessingState. This product started to hit this deadlock with JDT 3.6.50.v_B79_R36x_J7 (org.eclipse.jdt.core_3.6.50.v_B79_R36x_J7.jar). They did not see this deadlock when they were using 3.6.4.v_A79_R36x (org.eclipse.jdt.core_3.6.4.v_A79_R36x). I noticed that the patch in bugzilla https://bugs.eclipse.org/bugs/show_bug.cgi?id=338006 was put into the stream between those two versions (although the bugzilla was targeted to 3.7. maybe was backported), and the code added there appears in all the stack traces I have collected (specifically, the call to the new method DeltaProcessor.addPackageFragmentRoot in DeltaProcessor.addToParentInfo). BTW, I compared the code with the latest code in master, and the code path involved in these stacks has not changed, so I believe this could happen in master as well. Below are the stack traces. Thread Name Worker-2 State Deadlock/Blocked Monitor Owns Monitor Lock on org/eclipse/jdt/internal/core/DeltaProcessingState@0x0000000007292CF8 Waiting for Monitor Lock on org/eclipse/jdt/internal/core/JavaModelManager$PerProjectInfo@0x000000001603D008 Java Stack at org/eclipse/jdt/internal/core/JavaProject.getResolvedClasspath(JavaProject.java:1956) at org/eclipse/jdt/internal/core/PackageFragmentRoot.getResolvedClasspathEntry(PackageFragmentRoot.java:563) at org/eclipse/jdt/internal/core/DeltaProcessor.addPackageFragmentRoot(DeltaProcessor.java:325) at org/eclipse/jdt/internal/core/DeltaProcessor.addToParentInfo(DeltaProcessor.java:297) at org/eclipse/jdt/internal/core/DeltaProcessor.elementAdded(DeltaProcessor.java:1156) at org/eclipse/jdt/internal/core/DeltaProcessor.updateCurrentDeltaAndIndex(DeltaProcessor.java:2483) at org/eclipse/jdt/internal/core/DeltaProcessingState.updateRoots(DeltaProcessingState.java:621) at org/eclipse/jdt/internal/core/DeltaProcessor.updateCurrentDeltaAndIndex(DeltaProcessor.java:2479) at org/eclipse/jdt/internal/core/DeltaProcessor.traverseDelta(DeltaProcessor.java:2206) at org/eclipse/jdt/internal/core/DeltaProcessor.processResourceDelta(DeltaProcessor.java:1894) at org/eclipse/jdt/internal/core/DeltaProcessor.resourceChanged(DeltaProcessor.java:2067) at org/eclipse/jdt/internal/core/DeltaProcessingState.resourceChanged(DeltaProcessingState.java:470) at org/eclipse/core/internal/events/NotificationManager$2.run(NotificationManager.java:291) at org/eclipse/core/runtime/SafeRunner.run(SafeRunner.java:42) at org/eclipse/core/internal/events/NotificationManager.notify(NotificationManager.java:285) at org/eclipse/core/internal/events/NotificationManager.broadcastChanges(NotificationManager.java:149) at org/eclipse/core/internal/resources/Workspace.broadcastPostChange(Workspace.java:327) at org/eclipse/core/internal/resources/Workspace.endOperation(Workspace.java:1181) at org/eclipse/core/internal/resources/Workspace.run(Workspace.java:1984) at org/eclipse/core/internal/events/NotificationManager$NotifyJob.run(NotificationManager.java:40) at org/eclipse/core/internal/jobs/Worker.run(Worker.java:54) Thread Name main State Deadlock/Blocked Monitor Owns Monitor Lock on org/eclipse/jdt/internal/core/JavaModelManager$PerProjectInfo@0x000000001603D008 Waiting for Monitor Lock on org/eclipse/jdt/internal/core/DeltaProcessingState@0x0000000007292CF8 Java Stack at org/eclipse/jdt/internal/core/JavaModelManager$PerProjectInfo.addClasspathChange(JavaModelManager.java:1209) at org/eclipse/jdt/internal/core/JavaModelManager$PerProjectInfo.setClasspath(JavaModelManager.java:1190) at org/eclipse/jdt/internal/core/JavaModelManager$PerProjectInfo.setResolvedClasspath(JavaModelManager.java:1229) at org/eclipse/jdt/internal/core/JavaProject.resolveClasspath(JavaProject.java:2859) at org/eclipse/jdt/internal/core/JavaProject.getResolvedClasspath(JavaProject.java:1991) at org/eclipse/jem/workbench/utility/JemProjectUtilities.collectClasspathURLs(JemProjectUtilities.java:452) at org/eclipse/jem/workbench/utility/JemProjectUtilities.getClasspathAsURLArray(JemProjectUtilities.java:436) ... (Adopter code) ... at org/eclipse/core/internal/resources/Workspace.run(Workspace.java:1975) at org/eclipse/core/internal/resources/Workspace.run(Workspace.java:1957) ... (Adopter code) ... at sun/reflect/NativeMethodAccessorImpl.invoke0(Native Method) at sun/reflect/NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:60) at sun/reflect/DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java/lang/reflect/Method.invoke(Method.java:611) at org/eclipse/equinox/internal/app/EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org/eclipse/equinox/internal/app/EclipseAppHandle.run(EclipseAppHandle.java:198) at org/eclipse/core/runtime/internal/adaptor/EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org/eclipse/core/runtime/internal/adaptor/EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org/eclipse/core/runtime/adaptor/EclipseStarter.run(EclipseStarter.java:369) ... (Adopter code)"}, {"bug_id": "431963", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/SingleVariableDeclaration.java"], "repo": "eclipse.jdt.core", "reformed_query": "foo method invoked Annotations type Nullable code returns varargs", "bug_title": " [1.8][DOM] Confusion about type annotations of varargs method parameter", "bug_description": "From bug 420116 comment 9, consider the below code snippet: interface A { int foo2C(Object @NonNull [] @Nullable... o2); } parameter#getTypeAnnotations() invoked on o2 returns only @NonNull annotation which results in: class C implements A { @Override public int foo2C(Object[] @NonNull... o2) { // @Nullable is missing // TODO Auto-generated method stub return 0; } }"}, {"bug_id": "432603", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Entry http base fromNullable javac fromNullable common general stackoverflow Entry", "bug_title": " [compile][1.7] ecj reports an Error while javac doesn't", "bug_description": "Problem has been reported and discussed on Stackoverflow: http://stackoverflow.com/questions/23006777/eclipse-fails-to-compile-generic-code-but-mvn-compile-works In general ECJ reports and error where Javac does not and code runs succefully without any problems. {code} package testit; import java.util.Map; import java.util.Map.Entry; import com.google.common.base.Optional; public class Test { private static final Object NO_VALUE = new Object(); public void method(Map<String, ?> map) { for (Entry<String, ?> entry : map.entrySet()) { Optional.fromNullable(entry.getValue()).or(NO_VALUE); //                                                  ^^ error here } } } {code}"}, {"bug_id": "434630", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ClassScope.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/Scope.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/CompilationUnitScope.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/TypeReference.java"], "repo": "eclipse.jdt.core", "reformed_query": "bug code project mismatch generics work mismatch attached nested type", "bug_title": " [1.5][generics] Unexpected type mismatch error with nested types and generics", "bug_description": "Created attachment 242956 [details] The project to reproduce the issue After switching to 3.10.0.v20140501-0200 we got type mismatch errors for the code which is used to work. The project to reproduce the issue is attached to the bug."}, {"bug_id": "435397", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NegativeLambdaExpressionsTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "javac buildId ambiguous Ambiguous note module module javac problem lazy", "bug_title": " [1.8][compiler] Ambiguous method while using Lambdas", "bug_description": "Created attachment 243343 [details] Ambiguous method JDT 8 Given: public interface B {} public interface Config {} public interface M { void configure(B binder); } public class M2 implements M { public M2(final Config conf) { } @Override public void configure(final B binder) { } } // BootModule public class BaseModule implements M { // eager module creation public BaseModule module(final M m) { return this; } // lazy module creation public BaseModule module(final Function<Config, M> cons) { return this; } @Override public void configure(final B binder) { } } // Client with error public class M1 extends BaseModule { public static void main(final String[] args) { new M1() .module((c) -> new M2()); ^^^^^^^ // The method module(M) is ambiguous for the type M1 } } The line .module((c) -> new M2()); cause the The method module(M) is ambiguous for the type M1 error. The problem (not sure) seems to be in the M.configure(B) interface. If I removed the configure method from it, the error goes away. Also, note that javac compiles the code without problem. Environment: MACOSX Java 8 eclipse.buildId=4.3.2.M20140221-1700 Eclipse JDT Patch with Java 8 support (for Kepler SR2)\t1.0.0.v20140317-1956"}, {"bug_id": "438875", "ground_truth": ["org.eclipse.jdt.apt.core/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.core/model/org/eclipse/jdt/core/util/IConstantPoolEntry2.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullReferenceTest.java", "org.eclipse.jdt.core.tests.compiler/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.core.tests.builder/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.core.tests.model/workspace/Formatter/test607/A_out.java", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/util/Disassembler.java", "org.eclipse.jdt.core.tests.model/workspace/Formatter/test607/A_in.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterBugsTests.java", "org.eclipse.jdt.core/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.compiler.tool.tests/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.annotation_v1/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.apt.pluggable.core/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/dom/TypeBindingTests308.java", "org.eclipse.jdt.compiler.apt.tests/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.core/dom/org/eclipse/jdt/internal/core/dom/SourceRangeVerifier.java", "org.eclipse.jdt.annotation/.settings/org.eclipse.jdt.core.prefs", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/MethodVerifier15.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/NamingConventionTests.java", "org.eclipse.jdt.core.tests.model/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.annotation/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.annotation_v1/.settings/org.eclipse.jdt.core.prefs", "org.eclipse.jdt.core.tests.performance/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.core.tests.performance/src/org/eclipse/jdt/core/tests/performance/FullSourceWorkspaceTests.java", "org.eclipse.jdt.apt.tests/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.apt.ui/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.compiler.apt.tests/apttestprocessors8.jardesc", "org.eclipse.jdt.core.tests.model/workspace/Formatter/test608/A_in.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/parser/TypeAnnotationSyntaxTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/InstanceofExpressionTest.java", "org.eclipse.jdt.compiler.apt.tests/.settings/org.eclipse.core.runtime.prefs", "org.eclipse.jdt.compiler.apt/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.core.tests.model/workspace/Formatter/test608/A_out.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NegativeTypeAnnotationTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullAnnotationTest.java", "org.eclipse.jdt.compiler.tool/forceQualifierUpdate.txt", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterRegressionTests.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/InvocationSite.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/RecoveredElement.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/MatchingRegionsTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/ParameterizedQualifiedTypeReference.java", "org.eclipse.jdt.apt.pluggable.tests/.settings/org.eclipse.core.resources.prefs", "org.eclipse.jdt.compiler.tool/.settings/org.eclipse.core.resources.prefs"], "repo": "eclipse.jdt.core", "reformed_query": "file files org UTF project eclipse jdt projects comment org", "bug_title": " Set correct project/file encodings and use Unix line delimiter", "bug_description": "The org.eclipse.jdt.core project doesn't specify a file encoding, and different files in the project already use different encodings. All projects should use UTF-8, see bug 399451 comment 4."}, {"bug_id": "439431", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ClassFile.java"], "repo": "eclipse.jdt.core", "reformed_query": "Safe jface Mono completeCodeAttribute TypeDeclaration generateRuntimeTypeAnnotations Attribute generateTypeAnnotation", "bug_title": " [compiler][1.8] AIOOBE in ClassFile#dumpTargetTypeContents()", "bug_description": "All of a sudden my workspace stopped building and I keep getting \"Building workspace has encountered a problem. Errors occured during the build.\" errors. The stack trace is: java.lang.ArrayIndexOutOfBoundsException: 3000 at org.eclipse.jdt.internal.compiler.ClassFile.dumpTargetTypeContents(ClassFile.java:2279) at org.eclipse.jdt.internal.compiler.ClassFile.generateTypeAnnotation(ClassFile.java:4682) at org.eclipse.jdt.internal.compiler.ClassFile.generateRuntimeTypeAnnotations(ClassFile.java:3876) at org.eclipse.jdt.internal.compiler.ClassFile.generateTypeAnnotationsOnCodeAttribute(ClassFile.java:1449) at org.eclipse.jdt.internal.compiler.ClassFile.completeCodeAttribute(ClassFile.java:1391) at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode(AbstractMethodDeclaration.java:338) at org.eclipse.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode(AbstractMethodDeclaration.java:270) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:566) at org.eclipse.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:635) at org.eclipse.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode(CompilationUnitDeclaration.java:368) at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:935) at org.eclipse.jdt.internal.compiler.Compiler.resolve(Compiler.java:974) at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:205) at org.eclipse.jdt.internal.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:271) at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:191) at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:90) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:729) at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:789) at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1247) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:126) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.access$0(JavaReconcilingStrategy.java:108) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:89) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:87) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:151) at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.reconcile(CompositeReconcilingStrategy.java:86) at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile(JavaCompositeReconcilingStrategy.java:104) at org.eclipse.jface.text.reconciler.MonoReconciler.process(MonoReconciler.java:77) at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:206)"}, {"bug_id": "441338", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullTypeAnnotationTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "annotation Type substitution NonNull eager ArrayList getU Main Type Nullable", "bug_title": " [1.8][null] better combine null type annotations on substitution of parameterized type", "bug_description": "Function TypeBinding.unannotated(boolean) from 438458 is over-eager as can be shown by this test: interface I2<T,U extends List<T>> { @NonNull U getU(); } class Main { static String test (I2<@Nullable String, @Nullable ArrayList<@Nullable String>> i2) { return i2.getU().get(0).toUpperCase(); } } While '@NonNull U' overrides the '@Nullable' annotation on the ArrayList type argument for I2, the detail '@Nullable String' must be kept to produce the proper error against the final toUpperCase(). IOW, the return type of i2.getU() must be: @NonNull ArrayList<@Nullable String> the inner @Nullable is currently dropped."}, {"bug_id": "442245", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullTypeAnnotationTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/ConstraintTypeFormula.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/TypeBound.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/BoundSet.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/GenericsRegressionTest_1_8.java"], "repo": "eclipse.jdt.core", "reformed_query": "compiler copied eclipse Bug   Created", "bug_title": " [1.8][compiler?] These source files lead eclipse to hang (even just on copy/paste)", "bug_description": "Created attachment 246188 [details] Source files which cause the problem These two files lead eclipse to hang when building the workspace. Even if automatic build is turned off and a portion of text is copied to the clipboard within the java editor, eclipse hangs. Project setup: - please create a new Java project, source level: java 8 - copy the attached files to src/test Thanks for your help, Daniel"}, {"bug_id": "448043", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/RecoveredUnit.java"], "repo": "eclipse.jdt.core", "reformed_query": "Unit Compilation Initializer org Block Imports dom syso Completion Initializer", "bug_title": " IllegalStateException: Bad AST node structure at ASTConverter", "bug_description": "package p2; public class MainScreen { public MainScreen() {} /** * m1 */ void m1() {} syso//this.m2(); } void m2() {} } ---------------------------------------- In the above example, press Ctrl+space after \"syso\" and press Enter. We get the following exception: java.lang.IllegalStateException: Bad AST node structure: - parent [176, 177] org.eclipse.jdt.core.dom.Initializer body [-1, -1] org.eclipse.jdt.core.dom.Block ----------------------------------- SOURCE BEGIN ------------------------------------- package p2; public class MainScreen { public MainScreen() {} /** * m1 */ void m1() {} private void syso() { // TODO Auto-generated method stub }//this.m2(); } void m2() {} } ----------------------------------- SOURCE END ------------------------------------- at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1421) at org.eclipse.jdt.core.dom.CompilationUnitResolver.convert(CompilationUnitResolver.java:292) at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:1209) at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:809) at org.eclipse.jdt.core.dom.rewrite.ImportRewrite.rewriteImports(ImportRewrite.java:1051) at org.eclipse.jdt.internal.ui.text.java.JavaTypeCompletionProposal.apply(JavaTypeCompletionProposal.java:116) at org.eclipse.jdt.internal.ui.text.java.AbstractJavaCompletionProposal.apply(AbstractJavaCompletionProposal.java:497) ..."}, {"bug_id": "448800", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/lookup/CaptureBinding.java"], "repo": "eclipse.jdt.core", "reformed_query": "Srikanth Variable working Variable lowerBound Capture eclipse created fresh handles", "bug_title": " [1.8][compiler] CaptureBinding.substituteInferenceVariable may need some changes", "bug_description": "From https://bugs.eclipse.org/bugs/show_bug.cgi?id=437444#c48 CaptureBinding: Own version of substituteInferenceVariable() no longer handles superclass & superInterfaces (nor lowerBound, which we didn't handle before, either). Question: can we assert that the fresh CaptureBinding created here gets initializeBounds called when needed? Could we end up working with an insufficiently initialized CaptureBinding downstream? => @Srikanth, please comment. This needs follow up."}, {"bug_id": "451660", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullReferenceTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "removed variable pointer access bugreports bugreports println String access Wrong", "bug_title": " [compiler][null] Wrong \"Null pointer access: The variable can only be null at this location\" warning", "bug_description": "This example gives a \"Null pointer access: The variable s can only be null at this location\" warning for \"s.toString()\": public static void main(String[] args) { String s = null; for(; true;) // ok with \"while(true)\" { switch(0) { default: s = \"Hello!\"; case 1: System.out.println(s.toString()); } return; } } But of course this prints a friendly \"Hello!\". This is a minimal testcase as far as I can see. If anything is removed, there's no warning anymore. There are a couple similar open bugreports, but they seem to be about different issues."}, {"bug_id": "451677", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/LambdaRegressionTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "operation ArrayList missing works type List inference Integer test Object", "bug_title": " [1.8][compiler] missing type inference", "bug_description": "This works in javac but not in Eclipse: import java.util.ArrayList; import java.util.function.Function; public class Test { public static void test() { operationOnCreated( create(123, size -> new ArrayList<Integer>(size)), l -> l.size() // works with: (ArrayList<Integer> l) -> l.size() ); } public static <R, A> R create(A arg, Function<A, R> factory) { return factory.apply(arg); } public static <R, A> R operationOnCreated(A created, Function<A, R> function) { return function.apply(created); } } The type for \"l\" should be inferred to be \"ArrayList<Integer>\", but it's \"Object\"."}, {"bug_id": "455042", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaModelManager.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/NameLookupTests2.java"], "repo": "eclipse.jdt.core", "reformed_query": "Enable archive errors timestamp Enable jars cache recover archive model", "bug_title": " Enable the Java model caches to recover from IO errors", "bug_description": "The invalid archive cache is now evicted too infrequently. Since jars can come from network drives and be subject to transient I/O errors, it should be cleared on every build. As it stands now, the previously invalid jar will only get reevaluated if its timestamp changes or if the classpath is modified."}, {"bug_id": "456395", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/LambdaExpressionsTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "String Bug Map code Type", "bug_title": " can't compile the Java8 code", "bug_description": "Created attachment 249670 [details] code sample Type mismatch: cannot convert from Map<Object,Set<Object>> to Map<String,Set<String>>"}, {"bug_id": "460465", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/JavaSearchBugsTests.java"], "repo": "eclipse.jdt.core", "reformed_query": "references classes type search Project imports doesn\u00c2\u00b4t Test", "bug_title": " [search] references in workspace of enum type not found when statically importing enum constant", "bug_description": "Created attachment 250978 [details] Test Project containing an TestEnum and one class with static imports and one without When searching for references in workspace (Ctrl+Shift+G) of an enum type it doesn\u00c2\u00b4t find classes that only contain static imports of an enum constant of the enum type."}, {"bug_id": "46084", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/parser/Parser.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "parser Recovery System error Java Build basicBuild Auto DiagnoseParser", "bug_title": " ArrayIndexOutOfBoundsException in compiler after feeding with non-real java code", "bug_description": "3.0 M4 i fed the compiler with some java code with 'const' annotations (which makes it not java anymore). It made the compiler crash. Not severe but might be a usecase. Code attached. java.lang.ArrayIndexOutOfBoundsException at java.lang.System.arraycopy(Native Method) at org.eclipse.jdt.internal.compiler.parser.Scanner.getCurrentTokenSource(Scanner.java:361) at org.eclipse.jdt.internal.compiler.parser.diagnose.LexStream.readTokenFromScanner(LexStream.java:84) at org.eclipse.jdt.internal.compiler.parser.diagnose.LexStream.token(LexStream.java:137) at org.eclipse.jdt.internal.compiler.parser.diagnose.LexStream.kind(LexStream.java:177) at org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.secondaryPhase(DiagnoseParser.java:1552) at org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.errorRecovery(DiagnoseParser.java:453) at org.eclipse.jdt.internal.compiler.parser.diagnose.DiagnoseParser.diagnoseParse(DiagnoseParser.java:358) at org.eclipse.jdt.internal.compiler.parser.Parser.reportSyntaxErrorsForSkippedMethod(Parser.java:5686) at org.eclipse.jdt.internal.compiler.parser.Parser.reportSyntaxErrors(Parser.java:5665) at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5642) at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5953) at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:5925) at org.eclipse.jdt.internal.compiler.parser.Parser.dietParse(Parser.java:4672) at org.eclipse.jdt.internal.compiler.Compiler.beginToCompile(Compiler.java:279) at org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:314) at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:201) at org.eclipse.jdt.internal.core.builder.AbstractImageBuilder.compile(AbstractImageBuilder.java:151) at org.eclipse.jdt.internal.core.builder.IncrementalImageBuilder.build(IncrementalImageBuilder.java:112) at org.eclipse.jdt.internal.core.builder.JavaBuilder.buildDeltas(JavaBuilder.java:222) at org.eclipse.jdt.internal.core.builder.JavaBuilder.build(JavaBuilder.java:150) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:475) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1018) at org.eclipse.core.runtime.Platform.run(Platform.java:461) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:130) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:156) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:182) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1018) at org.eclipse.core.runtime.Platform.run(Platform.java:461) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:185) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:219) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:247) at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:76) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:109) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:62)"}, {"bug_id": "464570", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java"], "repo": "eclipse.jdt.core", "reformed_query": "Visible jdt ClassFile visible lastEntryPC Array JDT Type System Generated", "bug_title": " [compiler][codegen] race condition on static field CodeStream.noVisibleLocals in method CodeStream.init()", "bug_description": "weblogic make use of JDT to compile the translated java source from jsp files to java bytecode with multi-threads, ArrayIndexOutOfBoundsException occurs intermittently as following stack showing (weblogic repackaged the jdt jar for avoiding potential class conflict): java.lang.ArrayIndexOutOfBoundsException at java.lang.System.arraycopy(Native Method) at com.bea.core.repackaged.jdt.internal.compiler.codegen.CodeStream.init(CodeStream.java:4114) at com.bea.core.repackaged.jdt.internal.compiler.codegen.StackMapFrameCodeStream.init(StackMapFrameCodeStream.java:426) at com.bea.core.repackaged.jdt.internal.compiler.codegen.TypeAnnotationCodeStream.init(TypeAnnotationCodeStream.java:149) at com.bea.core.repackaged.jdt.internal.compiler.codegen.CodeStream.reset(CodeStream.java:6665) at com.bea.core.repackaged.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode(AbstractMethodDeclaration.java:330) at com.bea.core.repackaged.jdt.internal.compiler.ast.AbstractMethodDeclaration.generateCode(AbstractMethodDeclaration.java:281) at com.bea.core.repackaged.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:567) at com.bea.core.repackaged.jdt.internal.compiler.ast.TypeDeclaration.generateCode(TypeDeclaration.java:636) at com.bea.core.repackaged.jdt.internal.compiler.ast.CompilationUnitDeclaration.generateCode(CompilationUnitDeclaration.java:368) at com.bea.core.repackaged.jdt.internal.compiler.Compiler.process(Compiler.java:814) at com.bea.core.repackaged.jdt.internal.compiler.Compiler.processCompiledUnits(Compiler.java:488) at com.bea.core.repackaged.jdt.internal.compiler.Compiler.compile(Compiler.java:453) at weblogic.jsp.internal.java.JDTJavaCompiler.generateByteCode(JDTJavaCompiler.java:137) at weblogic.jsp.internal.java.JavaSourceFile._codeGen(JavaSourceFile.java:211) at weblogic.jsp.internal.java.JavaSourceFile.codeGen(JavaSourceFile.java:201) at weblogic.jsp.internal.ProxySourceFile.compileGeneratedFiles(ProxySourceFile.java:330) at weblogic.jsp.internal.ProxySourceFile.codeGen(ProxySourceFile.java:258) at weblogic.jsp.internal.SourceFile.codeGen(SourceFile.java:327) at weblogic.jsp.internal.client.ClientUtilsImpl$CodeGenJob.run(ClientUtilsImpl.java:622) at weblogic.jsp.internal.client.Job.performJob(Job.java:85) at weblogic.jsp.internal.client.ThreadPool$WorkerThread.run(ThreadPool.java:219) This AIOOBE should be caused by race-condition on the shared static field org.eclipse.jdt.internal.compiler.codegen.CodeStream.noVisibleLocals, it's easy to figure out a case which can reproduce such AIOOBE, one of the possible fixes may be: index 8a1c987..58e40b7 100644 --- a/org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java +++ b/org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/codegen/CodeStream.java @@ -4108,29 +4108,37 @@ public void init(ClassFile targetClassFile) { this.pcToSourceMapSize = 0; this.lastEntryPC = 0; int length = this.visibleLocals.length; +       LocalVariableBinding[] noVisibleLocals = this.noVisibleLocals; if (noVisibleLocals.length < length) { noVisibleLocals = new LocalVariableBinding[length]; +               this.noVisibleLocals = noVisibleLocals; } System.arraycopy(noVisibleLocals, 0, this.visibleLocals, 0, length); this.visibleLocalsCount = 0; length = this.locals.length; +       LocalVariableBinding[] noLocals = this.noLocals; if (noLocals.length < length) { noLocals = new LocalVariableBinding[length]; +               this.noLocals = noLocals; } System.arraycopy(noLocals, 0, this.locals, 0, length); this.allLocalsCounter = 0; length = this.exceptionLabels.length; +       ExceptionLabel[] noExceptionHandlers = this.noExceptionHandlers; if (noExceptionHandlers.length < length) { noExceptionHandlers = new ExceptionLabel[length]; +               this.noExceptionHandlers = noExceptionHandlers; } System.arraycopy(noExceptionHandlers, 0, this.exceptionLabels, 0, length); this.exceptionLabelsCounter = 0; length = this.labels.length; +       BranchLabel[] noLabels = this.noLabels; if (noLabels.length < length) { noLabels = new BranchLabel[length]; +               this.noLabels = noLabels; } System.arraycopy(noLabels, 0, this.labels, 0, length); this.countLabels = 0;"}, {"bug_id": "467618", "ground_truth": ["org.eclipse.jdt.core.tests.model/workspace/FormatterJSR308/testLambda/A_out.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterBugsTests.java", "org.eclipse.jdt.core.tests.model/workspace/FormatterJSR335/testLambda/A_out.java", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/linewrap/WrapExecutor.java", "org.eclipse.jdt.core.tests.model/workspace/FormatterJSR335/testLambdaOptions/A_out.java"], "repo": "eclipse.jdt.core", "reformed_query": "Bug affect didn formatter comment formater leads wrapped split Attempts", "bug_title": " [formater] Empty lines should not affect indentation of wrapped elements", "bug_description": "The old formatter's implementation didn't indent wrapped elements if they were preceded with an empty line (except for elements wrapped with \"force split\" wrapping policy). Attempts have been made to duplicate this behavior, but it leads to some problems - more details in bug 458208 comment 34. With this and the fact that it's probably not a desired feature anyway, let's change the formatter to always properly indent wrapped elements."}, {"bug_id": "470535", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/UserLibrary.java"], "repo": "eclipse.jdt.core", "reformed_query": "Bug length Code eclipse Code Code User UserLibrary git array", "bug_title": " Bug in UserLibrary.hashCode()", "bug_description": "http://git.eclipse.org/c/jdt/eclipse.jdt.core.git/tree/org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/UserLibrary.java#n97 calls hashCode() on the entries array each time, should be: for (int i= 0; i < this.entries.length; i++) { hashCode= hashCode * 17 + this.entries[i].hashCode(); }"}, {"bug_id": "471034", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/ExternalAnnotations18Test.java"], "repo": "eclipse.jdt.core", "reformed_query": "completion array org ExternalNullAnnotationChangeProposals annotate ExternalAnnotationUtil dry External command ParameterAnnotationRewriteProposal", "bug_title": " Error creating external annotation on array parameter in \"Type name[]\" format", "bug_description": "The Ctrl+1 external annotation command fails when a method parameter is defined with array brackets after the parameter name instead of the type. For example, in java.lang.Thread#enumerate: public static int enumerate(Thread tarray[]) Pressing Ctrl+1 with the cursor on the brackets has no effect, while pressing it with the cursor on the type causes the following error in the Error Log: Error computing completion proposals. java.lang.IllegalArgumentException: Mismatching type structures [Ljava/lang/Thread; vs L1java/lang/Thread; at org.eclipse.jdt.core.util.ExternalAnnotationUtil.match(ExternalAnnotationUtil.java:471) at org.eclipse.jdt.core.util.ExternalAnnotationUtil.updateType(ExternalAnnotationUtil.java:426) at org.eclipse.jdt.core.util.ExternalAnnotationUtil.annotateParameterType(ExternalAnnotationUtil.java:687) at org.eclipse.jdt.internal.corext.fix.ExternalNullAnnotationChangeProposals$ParameterAnnotationRewriteProposal.dryRun(ExternalNullAnnotationChangeProposals.java:263) at org.eclipse.jdt.internal.corext.fix.ExternalNullAnnotationChangeProposals$SignatureAnnotationChangeProposal.initializeOperation(ExternalNullAnnotationChangeProposals.java:148) at org.eclipse.jdt.internal.corext.fix.ExternalNullAnnotationChangeProposals$ProposalCreator.create(ExternalNullAnnotationChangeProposals.java:462) at org.eclipse.jdt.internal.corext.fix.ExternalNullAnnotationChangeProposals.createProposalsForType(ExternalNullAnnotationChangeProposals.java:516) at org.eclipse.jdt.internal.corext.fix.ExternalNullAnnotationChangeProposals.collectExternalAnnotationProposals(ExternalNullAnnotationChangeProposals.java:411) at org.eclipse.jdt.internal.ui.text.correction.ExternalNullAnnotationQuickAssistProcessor.computeQuickAssistProposals(ExternalNullAnnotationQuickAssistProcessor.java:91) at org.eclipse.jface.text.quickassist.QuickAssistAssistant$ContentAssistProcessor.computeCompletionProposals(QuickAssistAssistant.java:75) at org.eclipse.jface.text.contentassist.ContentAssistant$5.run(ContentAssistant.java:1904) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) ..."}, {"bug_id": "471062", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterCommentsBugsTest.java", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/CommentsPreparator.java"], "repo": "eclipse.jdt.core", "reformed_query": "Format comment formatter installed inserted formatter Preserve Mars Formatter github", "bug_title": " Formatter inserts space before line comment", "bug_description": "Every time I edit a source file, all my line comments have an extra space inserted between the semicolon and the double slash. This is causing havoc with my github repo. Checked items in the formatter: Enable line comment formatting Format line comments on first column Preserve white space between code and line comments Never join lines This only started to happen after I installed Mars."}, {"bug_id": "472815", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterBugsTests.java", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/LineBreaksPreparator.java", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/Token.java", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/linewrap/WrapPreparator.java"], "repo": "eclipse.jdt.core", "reformed_query": "indented formatter formatter doesn consisting doesn consisting empty consisting body", "bug_title": " [formatter] 'Indent Empty lines' option doesn't work inside empty blocks", "bug_description": "New in Mars: If I create a new class or interface the class body (consisting of one empty line so far) is not indented."}, {"bug_id": "474762", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/LambdaExpressionsTest.java"], "repo": "eclipse.jdt.core", "reformed_query": "Container runConformTest Methods runtime drops CoreTestApplication EclipseAppLauncher runtime binds basic", "bug_title": " LambdaExpressionsTest.test447119d - 1.8 fails", "bug_description": "I20150811-1400 and next N-build too. Fails since we switched to JRE 8 on the Mac OS X platform. LambdaExpressionsTest.test447119d - 1.8 http://download.eclipse.org/eclipse/downloads/drops4/I20150811-1400/testresults/html/org.eclipse.jdt.core.tests.compiler_macosx.cocoa.x86_64_8.0.html Unexpected output running resulting class file for X.java: --[START]-- Lambda binds to: X.lambda$0 Methods (with generics): - java.util.List<java.lang.String> lambda$0(java.util.List<java.lang.String>) - java.util.List<java.lang.String> noop(java.util.List<java.lang.String>) ---[END]--- junit.framework.AssertionFailedError: Unexpected output running resulting class file for X.java: --[START]-- Lambda binds to: X.lambda$0 Methods (with generics): - java.util.List<java.lang.String> lambda$0(java.util.List<java.lang.String>) - java.util.List<java.lang.String> noop(java.util.List<java.lang.String>) ---[END]--- at org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runTest(AbstractRegressionTest.java:2558) at org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runTest(AbstractRegressionTest.java:2298) at org.eclipse.jdt.core.tests.compiler.regression.AbstractRegressionTest.runConformTest(AbstractRegressionTest.java:1365) at org.eclipse.jdt.core.tests.compiler.regression.LambdaExpressionsTest.test447119d(LambdaExpressionsTest.java:4988) at org.eclipse.jdt.core.tests.util.CompilerTestSetup.run(CompilerTestSetup.java:56) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:692) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:319) at org.eclipse.test.CoreTestApplication.runTests(CoreTestApplication.java:36) at org.eclipse.test.CoreTestApplication.run(CoreTestApplication.java:32) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:587) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:198) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:388) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:243) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:669) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:608) at org.eclipse.equinox.launcher.Main.run(Main.java:1515) at org.eclipse.equinox.launcher.Main.main(Main.java:1488) at org.eclipse.core.launcher.Main.main(Main.java:34)"}, {"bug_id": "476859", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/TypeDeclaration.java", "org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/LambdaExpressionsTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/CompilationUnitDeclaration.java"], "repo": "eclipse.jdt.core", "reformed_query": "jdk internal compiled fine code method enclosing EJC works test", "bug_title": " enclosing method not found error when EJC compiled, works fine with oracle jdk compiler", "bug_description": "Created attachment 256434 [details] class, unit test, failure traces See the attached class and the corresponding unit tests. All tests pass when run on command line with oracle jdk 1.8.0_60 . Running them inside eclipse there are 2 internal errors and 2 failures, see attachment for code and error traces."}, {"bug_id": "478427", "ground_truth": ["org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/Main.java", "org.eclipse.jdt.core/batch/org/eclipse/jdt/internal/compiler/batch/messages.properties"], "repo": "eclipse.jdt.core", "reformed_query": "annotationManager logIncorrectVMVersionForAnnotationProcessing Batch programmatically Compiler internal jar Illegal NLS Instantiation", "bug_title": " org.eclipse.jdt.internal.compiler.batch.Main.initializeAnnotationProcessorManager() consumes ClassNotFoundException", "bug_description": "In org.eclipse.jdt.internal.compiler.batch.Main.initializeAnnotationProcessorManager() the following code is present: protected void initializeAnnotationProcessorManager() { try { Class c = Class.forName(\"org.eclipse.jdt.internal.compiler.apt.dispatch.BatchAnnotationProcessorManager\"); //$NON-NLS-1$ AbstractAnnotationProcessorManager annotationManager = (AbstractAnnotationProcessorManager) c.newInstance(); annotationManager.configure(this, this.expandedCommandLine); annotationManager.setErr(this.err); annotationManager.setOut(this.out); this.batchCompiler.annotationProcessorManager = annotationManager; } catch (ClassNotFoundException e) { // ignore } catch (InstantiationException e) { // should not happen throw new org.eclipse.jdt.internal.compiler.problem.AbortCompilation(); } catch (IllegalAccessException e) { // should not happen throw new org.eclipse.jdt.internal.compiler.problem.AbortCompilation(); } catch(UnsupportedClassVersionError e) { // report a warning this.logger.logIncorrectVMVersionForAnnotationProcessing(); } } If someone calls the eclipse compiler programmatically or from command line, and does not have the org.eclipse.jdt.compiler.apt on the classpath, the compiler simply ignores annotation processors without a single output or error message. This happens even if the user defines the \"-processors\" argument. What I would expect: If there is any annotation processor on the classpath and/or \"-processors\" is given and the org.eclipse.jdt.compiler.apt jar is missing, the compilation should fail."}, {"bug_id": "479474", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterCommentsBugsTest.java", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/DefaultCodeFormatter.java"], "repo": "eclipse.jdt.core", "reformed_query": "idea declaration javadoc body nodes formatter leads bug good assumes", "bug_title": " [formatter] Problems when doc.comment.support=disabled", "bug_description": "The formatter assumes that javadoc nodes are always attached to their corresponding body declaration nodes. It is not true with preference org.eclipse.jdt.core.compiler.doc.comment.support=disabled. This leads to problems like one reported in bug 471364 comment 17. After reading bug 52264 and bug 51529 I'm still not sure how important this setting is. I think the formatter can just override this setting when it initializes its parser, but I'd like someone to confirm if this is a good idea and would not cause any unexpected problems."}, {"bug_id": "480029", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/formatter/FormatterCommentsBugsTest.java", "org.eclipse.jdt.core/formatter/org/eclipse/jdt/internal/formatter/CommentsPreparator.java"], "repo": "eclipse.jdt.core", "reformed_query": "statement submit formatting ticket https bit start separate issue cgi", "bug_title": " [formatter] Comments indentation error in javadoc @return statements", "bug_description": "Created attachment 257331 [details] Class file and formatter to reproduce this issue Hello, To demand, I separate my previous bug submit into individual substitutions, original ticket: https://bugs.eclipse.org/bugs/show_bug.cgi?id=479958 In the javadoc formatting, when a @return statement start with a tag, indentation is wrong in this case. In the ZIP file, there is the class file to reproduce the bug, with formatter settings. My configuration: * Windows 10 * Eclipse 4.5.1 64-bit * JDK 1.8 update 60 Tested with these builds, same result for all these builds (fresh install, no plug-in): * Eclipse 4.5.1 64-bit * Eclipse 4.6 M2 64-bit * eclipse-SDK-M20151014-1000-win32-x86_64.zip * eclipse-SDK-I20151014-1100-win32-x86_64.zip Best regards,"}, {"bug_id": "483467", "ground_truth": ["org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/LambdaExpression.java"], "repo": "eclipse.jdt.core", "reformed_query": "Synchronizer LambdaExpression Overflow EclipseAppLauncher reflect Error runAsyncMessages org Application Errors", "bug_title": " Stackoverflow on autocomplete with lambdas", "bug_description": "org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.StackOverflowError) at org.eclipse.swt.SWT.error(SWT.java:4491) at org.eclipse.swt.SWT.error(SWT.java:4406) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:138) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4155) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3772) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$4.run(PartRenderingEngine.java:1127) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1018) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:156) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:654) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:598) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:139) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:669) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:608) at org.eclipse.equinox.launcher.Main.run(Main.java:1515) Caused by: java.lang.StackOverflowError at org.eclipse.jdt.internal.compiler.ast.LambdaExpression.tagAsHavingErrors(LambdaExpression.java:1030) .... at org.eclipse.jdt.internal.compiler.ast.LambdaExpression.tagAsHavingErrors(LambdaExpression.java:1030)"}, {"bug_id": "483690", "ground_truth": ["org.eclipse.jdt.apt.pluggable.core/src/org/eclipse/jdt/internal/apt/pluggable/core/filer/IdeJavaSourceOutputStream.java"], "repo": "eclipse.jdt.core", "reformed_query": "Stream write Stream character write discards IdeJavaSourceOutputStream charset Writer Ide", "bug_title": " IdeJavaSourceOutputStream always uses default charset", "bug_description": "IdeJavaSourceOutputStream always uses default charset via the inherited ByteArrayOutputStream#toString() call in line 68: \"this.toString()\". That discards all character encoding used via the IdeOutputJavaFileObject#openOutputStream() method, like: new OutputStreamWriter(openOutputStream(), encoding); Possible solution: write the collected bytes \"as is\" to the file?"}, {"bug_id": "483895", "ground_truth": ["org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/impl/AssistOptions.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/RunCompletionModelTests.java"], "repo": "eclipse.jdt.core", "reformed_query": "Disable bugs content bug substring substring assist fixed assist substring", "bug_title": " [content assist] Disable and remove substring completion from Preferences", "bug_description": "Disable and remove substring code completion from Preferences until dependent bugs like bug 470203, bug 483511, bug 483512 and bug 483888 are fixed."}, {"bug_id": "485302", "ground_truth": ["org.eclipse.jdt.core.tests.compiler/src/org/eclipse/jdt/core/tests/compiler/regression/NullTypeAnnotationTest.java", "org.eclipse.jdt.core/compiler/org/eclipse/jdt/internal/compiler/ast/NullAnnotationMatching.java"], "repo": "eclipse.jdt.core", "reformed_query": "Bug annotations", "bug_title": " [1.8][null]Missing warnings when using Wildcards with null annotations", "bug_description": ""}, {"bug_id": "488461", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/core/compiler/CompilationParticipant.java"], "repo": "eclipse.jdt.core", "reformed_query": "APIs isAnnotationProcessor Context Returns interested Participant Annotation calling processAnnotations Processor", "bug_title": " Javadoc for CompilationParticipant.isAnnotationProcessor() is not accurate", "bug_description": "Javadoc for CompilationParticipant#isAnnotationProcessor() is not accurate. It says: Returns whether this participant is interested in only Annotations. but that's not what it does. It only tells whether annotations are processed by calling CompilationParticipant#processAnnotations(BuildContext[]). Other APIs of the CompilationParticipant are not affected."}, {"bug_id": "488888", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/core/compiler/CompilationParticipant.java"], "repo": "eclipse.jdt.core", "reformed_query": "PDECore mistake Participants execute build intended operation Bug CompareEditorInput checkbox", "bug_title": " Resource '/ ' does not exist", "bug_description": "I20160223-0800 With this build, I often see such unacceptable log entries that don't identify themselves: !ENTRY org.eclipse.core.resources 4 368 2016-03-01 11:26:40.577 !MESSAGE Resource '/ ' does not exist. I tracked them down to this stack trace: at org.eclipse.core.internal.runtime.Log.log(Log.java:65) at org.eclipse.pde.internal.core.PDECore.log(PDECore.java:96) at org.eclipse.pde.internal.core.PDECore.log(PDECore.java:108) at org.eclipse.pde.internal.core.natures.PDE.hasPluginNature(PDE.java:32) at org.eclipse.pde.ds.internal.annotations.DSAnnotationCompilationParticipant.isActive(DSAnnotationCompilationParticipant.java:94) at org.eclipse.jdt.internal.core.JavaModelManager$CompilationParticipants.getCompilationParticipants(JavaModelManager.java:421) at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.notifyParticipants(ReconcileWorkingCopyOperation.java:239) at org.eclipse.jdt.internal.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:95) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:724) at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:790) at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1250) at org.eclipse.jdt.internal.core.CompilationUnit.reconcile(CompilationUnit.java:1211) at org.eclipse.jdt.internal.corext.util.JavaModelUtil.reconcile(JavaModelUtil.java:609) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createFakeCompiltationUnit(CompilationUnitDocumentProvider.java:1142) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createFakeCompiltationUnit(CompilationUnitDocumentProvider.java:1055) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.connect(CompilationUnitDocumentProvider.java:1280) at org.eclipse.ui.texteditor.AbstractTextEditor.doSetInput(AbstractTextEditor.java:4178) at org.eclipse.ui.texteditor.StatusTextEditor.doSetInput(StatusTextEditor.java:229) at org.eclipse.ui.texteditor.AbstractDecoratedTextEditor.doSetInput(AbstractDecoratedTextEditor.java:1466) at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.internalDoSetInput(JavaEditor.java:2557) at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSetInput(JavaEditor.java:2544) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSetInput(CompilationUnitEditor.java:1399) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer$CompilationUnitEditorAdapter.doSetInput(JavaMergeViewer.java:613) at org.eclipse.ui.texteditor.AbstractTextEditor$5.run(AbstractTextEditor.java:3154) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:435) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:351) at org.eclipse.ui.internal.WorkbenchWindow$14.run(WorkbenchWindow.java:2181) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2177) at org.eclipse.ui.texteditor.AbstractTextEditor.internalInit(AbstractTextEditor.java:3172) at org.eclipse.ui.texteditor.AbstractTextEditor.init(AbstractTextEditor.java:3197) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer.getSourceViewerConfiguration(JavaMergeViewer.java:276) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer.configureTextViewer(JavaMergeViewer.java:215) at org.eclipse.compare.contentmergeviewer.TextMergeViewer.configureSourceViewer(TextMergeViewer.java:3047) at org.eclipse.compare.contentmergeviewer.TextMergeViewer.updateContent(TextMergeViewer.java:2988) at org.eclipse.compare.contentmergeviewer.ContentMergeViewer.internalRefresh(ContentMergeViewer.java:788) at org.eclipse.compare.contentmergeviewer.ContentMergeViewer.inputChanged(ContentMergeViewer.java:688) at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:286) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer.setInput(JavaMergeViewer.java:152) at org.eclipse.compare.CompareViewerSwitchingPane.setInput(CompareViewerSwitchingPane.java:277) at org.eclipse.compare.internal.CompareContentViewerSwitchingPane.setInput(CompareContentViewerSwitchingPane.java:191) at org.eclipse.compare.CompareEditorInput.internalSetContentPaneInput(CompareEditorInput.java:845) at org.eclipse.compare.CompareEditorInput.access$7(CompareEditorInput.java:843) at org.eclipse.compare.CompareEditorInput$11.run(CompareEditorInput.java:779) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.compare.CompareEditorInput.feed1(CompareEditorInput.java:773) at org.eclipse.compare.CompareEditorInput.feedInput(CompareEditorInput.java:751) at org.eclipse.compare.CompareEditorInput.createContents(CompareEditorInput.java:555) at org.eclipse.compare.internal.CompareEditor.createCompareControl(CompareEditor.java:462) at org.eclipse.compare.internal.CompareEditor.access$6(CompareEditor.java:422) at org.eclipse.compare.internal.CompareEditor$3.run(CompareEditor.java:378) at org.eclipse.ui.internal.UILockListener.doPendingWork(UILockListener.java:162) at org.eclipse.ui.internal.UISynchronizer$3.run(UISynchronizer.java:154) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:182) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4167) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3783) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$4.run(PartRenderingEngine.java:1118) ... To reproduce in master (with bug 488464 fixed), you have to enable open \"Preferences > DS Annotations\" and check the checkbox. Then select a *.java file in a repository and open an old version from the history. The fake compilation unit for such a file is in the non-existing Java project called \" \". * Problem 1: org.eclipse.pde.internal.core.PDECore#log(Throwable) violates the Javadoc of CoreException#getStatus(), which explains why the result of that call must not be used for logging. This is a very common mistake all over PDE. * Problem 2: PDE#hasPluginNature(IProject) is apparently not intended to be called with a non-existing project. I'm not sure that was a good idea, but I don't have time to check all callers of PDE#has*Nature(..) methods. I'll push a fix for these problems. Peter: Please make sure you avoid the anti-pattern in Problem 1 in new code, and use Activator#log(Throwable) in the future."}, {"bug_id": "55930", "ground_truth": ["org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/EncodingTests.java"], "repo": "eclipse.jdt.core", "reformed_query": "encoding IProgressMonitor execute File Working encoding File Working File Operation", "bug_title": " File encoding should be used on save", "bug_description": "I200403240800 File encoding should be used in Buffer.save(IProgressMonitor, boolean) and CommitWorkingCopyOperation.executeOperation()."}, {"bug_id": "65738", "ground_truth": ["org.eclipse.jdt.core/search/org/eclipse/jdt/internal/core/search/matching/JavaSearchNameEnvironment.java"], "repo": "eclipse.jdt.core", "reformed_query": "project Eclipse builder Bug", "bug_title": " [builder] Build automatically happens only on every other save", "bug_description": "After about the 2nd or 3rd time doing a save after starting Eclipse, I notice that automatic builds only happen every other time that I do a save. So, if I make a change to a CU, and save, an automatic build occurs.  If I then make a change to the same or another CU (regardless of whether in the same project), a build does not occur.  Making a third change to a CU (again, regardless of which one), causes a build to occur for both the second and third CU. I'm running RC1."}, {"bug_id": "69658", "ground_truth": ["org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ClassInstanceCreation.java"], "repo": "eclipse.jdt.core", "reformed_query": "sense JLS Creation existed existed Instance JLS Creation ClassInstanceCreation existed", "bug_title": " typo in javadoc of ClassInstanceCreation", "bug_description": "latest of 1_5 i see this in ClassInstanceCreation * (Note also that the first form became possible as of JLS2; only the second * form existed in JLS2.) it does not seem to make sense"}, {"bug_id": "70665", "ground_truth": ["org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/MethodDeclaration.java"], "repo": "eclipse.jdt.core", "reformed_query": "missing definition JLS eclipse parameters AST MethodDeclaration MethodDeclaration constructor javadoc", "bug_title": " [DOM/AST] missing type parameters for constructor declaration in JLS3", "bug_description": "In the javadoc of the class org.eclipse.jdt.core.dom.MethodDeclaration, in the JLS3 section, the type parameters are missing inside the definition of a constructor declaration. It is ok for the method declaration."}, {"bug_id": "79809", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/TagElement.java"], "repo": "eclipse.jdt.core", "reformed_query": "children returns elements complicated parameter SimpleName Type tags param Javadoc", "bug_title": " [1.5][dom][javadoc] Need better support for type parameter Javadoc tags", "bug_description": "20041130 To document a type parameter, the normal @param tag is used, but with angle brackets. /** * @param <X> */ <X> void foo() { } The AST currently just returns a TagElement with a sigle children Name 'X' and is currently not distinguishable from a normal parameter. Either text elements '<' and '>' are inserted or we use a SimpleType node instead of the SimpleName. The first suggestion would make the accessing of tag names more complicated. The drawback of the second suggestion is that it does not include the source ranges for the open and closing angle brackets, but users can use the scanner as soon as they see the SimpleType instead of the SimpleName. The deluxe solution would be a new node type that includes the bracket and has a simple name."}, {"bug_id": "83297", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/ITypeBinding.java"], "repo": "eclipse.jdt.core", "reformed_query": "declared array bindings Declared ITypeBinding Annot empty", "bug_title": " [1.5] Annotation bindings don't provide their declared elements/methods", "bug_description": "I20050118-1015 @Annot(value=\"Hello\", count=-1) @interface Annot { String value(); int count(); } The ITypeBinding for @Annot does not provide the declared elements/methods. #getDeclaredMethods() returns an empty array, instead of method bindings for value() and count()."}, {"bug_id": "85384", "ground_truth": ["org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests_1_5.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "assist method content", "bug_title": " [1.5][assist] \"extends\" not proposed when writing method declarations", "bug_description": "I20050215-2300 \"extends\" is not proposed by content assist when writing method declarations."}, {"bug_id": "88757", "ground_truth": ["org.eclipse.jdt.core/dom/org/eclipse/jdt/core/dom/SwitchStatement.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "doesn list ordered statements method list ordered Returns list clarified", "bug_title": " [API] SwitchStatement.statements() returns list of SwitchGroups", "bug_description": "In latest, the statements() method returns a list of SwitchGroups, but SwitchGroups doesn't exist. /** * Returns the live ordered list of statements for this switch statement. * Within this list, <code>SwitchCase</code> nodes mark the start of * the switch groups. * * @return the live list of switch group nodes *    (element type: <code>SwitchGroups</code>) */ public List statements() { return this.statements; } Right now statements() returns a list of Statement. This needs to be clarified for M6."}, {"bug_id": "90612", "ground_truth": ["org.eclipse.jdt.core/model/org/eclipse/jdt/core/JavaCore.java", "org.eclipse.jdt.core.tests.model/src/org/eclipse/jdt/core/tests/model/CompletionTests2.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html", "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/impl/AssistOptions.java", "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/impl/Engine.java", "org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/CompletionEngine.java", "org.eclipse.jdt.core/model/org/eclipse/jdt/internal/core/JavaCorePreferenceInitializer.java"], "repo": "eclipse.jdt.core", "reformed_query": "classpath Forbidden Forbidden popup assist Bug classpath Bug Code assist", "bug_title": " Forbidden types must not be available in Code Assist", "bug_description": "Types that are not accessible and are forbidden on a project's classpath must not be available as choices in the code assist popup."}, {"bug_id": "92005", "ground_truth": ["org.eclipse.jdt.core/codeassist/org/eclipse/jdt/internal/codeassist/complete/CompletionParser.java", "org.eclipse.jdt.core/buildnotes_jdt-core.html"], "repo": "eclipse.jdt.core", "reformed_query": "Delegating handleEvent resumeOnSyntaxError showPossibleCompletions internal launcher Control Assist executeCommand Accessor", "bug_title": " AIOBE during content assist", "bug_description": "I20050414-1107 Sun JDK 1.5.0-b64 Tried using content assist in the Display view (while debugging). Didn't work, got the following exception. Sorry, don't know how to reproduce. Will add more details if I have any. !ENTRY org.eclipse.ui 4 4 2005-04-19 17:56:32.501 !MESSAGE Unhandled event loop exception !ENTRY org.eclipse.ui 4 0 2005-04-19 17:56:32.501 !MESSAGE -1 !STACK 0 java.lang.ArrayIndexOutOfBoundsException: -1 at org.eclipse.jdt.internal.compiler.parser.Parser.getUnspecifiedReference(Parser.java:7893) at org.eclipse.jdt.internal.codeassist.complete.CompletionParser.buildMoreCompletionContext(CompletionParser.java:466) at org.eclipse.jdt.internal.codeassist.complete.CompletionParser.attachOrphanCompletionNode(CompletionParser.java:356) at org.eclipse.jdt.internal.codeassist.complete.CompletionParser.updateRecoveryState(CompletionParser.java:3291) at org.eclipse.jdt.internal.compiler.parser.Parser.resumeOnSyntaxError(Parser.java:9173) at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:8355) at org.eclipse.jdt.internal.codeassist.impl.AssistParser.parseBlockStatements(AssistParser.java:1215) at org.eclipse.jdt.internal.codeassist.impl.Engine.parseBlockStatements(Engine.java:193) at org.eclipse.jdt.internal.codeassist.impl.Engine.parseBlockStatements(Engine.java:141) at org.eclipse.jdt.internal.codeassist.CompletionEngine.parseSnippeInitializer(CompletionEngine.java:1021) at org.eclipse.jdt.internal.codeassist.CompletionEngine.complete(CompletionEngine.java:930) at org.eclipse.jdt.internal.core.SourceType.codeComplete(SourceType.java:105) at org.eclipse.jdt.internal.core.SourceType.codeComplete(SourceType.java:75) at org.eclipse.jdt.internal.debug.ui.display.DisplayCompletionProcessor.computeCompletionProposals(DisplayCompletionProcessor.java:170) at org.eclipse.jdt.internal.debug.ui.display.DisplayCompletionProcessor.computeCompletionProposals(DisplayCompletionProcessor.java:143) at org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1470) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:256) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$7(CompletionProposalPopup.java:253) at org.eclipse.jface.text.contentassist.CompletionProposalPopup$1.run(CompletionProposalPopup.java:216) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:211) at org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions(ContentAssistant.java:1319) at org.eclipse.jface.text.source.SourceViewer.doOperation(SourceViewer.java:713) at org.eclipse.jdt.internal.debug.ui.display.DisplayViewAction.run(DisplayViewAction.java:51) at org.eclipse.jdt.internal.debug.ui.display.DisplayView$3.execute(DisplayView.java:273) at org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:108) at org.eclipse.core.commands.Command.execute(Command.java:312) at org.eclipse.core.commands.ParameterizedCommand.execute(ParameterizedCommand.java:396) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:452) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:741) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:784) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:543) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:486) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:110) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:777) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:841) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:866) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:851) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:879) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:875) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1182) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3125) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3028) at org.eclipse.swt.widgets.Display.windowProc(Display.java:3467) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1629) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2526) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:316) at org.eclipse.core.launcher.Main.basicRun(Main.java:269) at org.eclipse.core.launcher.Main.run(Main.java:948) at org.eclipse.core.launcher.Main.main(Main.java:932)"}, {"bug_id": "10009", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIDebugUIPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "debug create descriptor shutdown jdt InternalPlatform runtime Current Current Internal", "bug_title": " Creating image descriptor registry on shutdown", "bug_description": "The JDIDebugUIPlugin is incorrectly triggering the creation of the image descriptor registry at shutdown. Current Java thread: at org.eclipse.swt.internal.motif.OS.XtOpenDisplay(Native Method) at org.eclipse.swt.widgets.Display.createDisplay(Display.java:442) at org.eclipse.swt.widgets.Display.create(Display.java:403) at org.eclipse.swt.graphics.Device.<init>(Device.java:104) at org.eclipse.swt.widgets.Display.<init>(Display.java:305) at org.eclipse.swt.widgets.Display.<init>(Display.java:302) at org.eclipse.swt.widgets.Display.getDefault(Display.java:679) at org.eclipse.jdt.internal.debug.ui.JDIDebugUIPlugin.getStandardDisplay (JDIDebugUIPlugin.java:305) at org.eclipse.jdt.internal.debug.ui.ImageDescriptorRegistry.<init> (ImageDescriptorRegistry.java:30) at org.eclipse.jdt.internal.debug.ui.JDIDebugUIPlugin.getImageDescriptorRegistry (JDIDebugUIPlugin.java:291) at org.eclipse.jdt.internal.debug.ui.JDIDebugUIPlugin.shutdown (JDIDebugUIPlugin.java:206) at org.eclipse.core.internal.plugins.PluginRegistry$2.run(PluginRegistry.java:268) at org.eclipse.core.internal.runtime.InternalPlatform.run (InternalPlatform.java:817) at org.eclipse.core.internal.plugins.PluginRegistry$1.visit (PluginRegistry.java:281) at org.eclipse.core.internal.plugins.PluginRegistry.accept(PluginRegistry.java:45) at org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins (PluginRegistry.java:284) at org.eclipse.core.internal.plugins.PluginRegistry.shutdown (PluginRegistry.java:250)"}, {"bug_id": "10096", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/sourcelookup/JavaSourceLocator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Generational classpath instance Parser   build JRockit", "bug_title": " Eclipse not aware of launched JVM (JRockit 3.1.3)", "bug_description": "When installing JRockit 3.1.3 (http://www.jrockit.com/download/) as JRE, and launching Java applications in Eclipse (stable build 20020214), Eclipse never understands that the JVM is launched. This worked well in the previous stable build. It also works well with older versions of JRockit. The problems demonstrates itself in the following ways: * When pressing the \"Running man\" button, and starting the run wizard, after clicking Finish the following happens: - The program starts - The run wizard flashes briefly, but stays at the last page. Each press on \"Finish\" starts a new instance of the program. - The program does not show up in the debug view. * When relaunching a program from the Run History with the JRE set to JRockit 3.1.3, the program starts, but it does not show up in the debug view. As suggested by Darin Swanson, I tried copying the command line for the working JRockit 2.2, modifying it for JRockit 3.1.3, and running it with cmd.exe. That succeeded without problems, after I had \"\" around the command name due to spaces in the path, and changed from javaw.exe to java.exe for getting better feedback. (I've also tried renaming javaw.exe to force Eclipse to use java.exe - - perhaps it should be possible to specify the executable more explicitly in the JRE settings?) Resulting output for JRockit 2.2: L:\\>\"C:\\Program Files\\JRockit\\JRE_1.3.1\\bin\\java.exe\" -classpath C:\\Workspace\\Sl ask;C:\\Workspace\\ToolsConsole;C:\\Workspace\\JUnit;C:\\Workspace\\ToolsCommon;C:\\Wor kspace\\Xerces;C:\\Workspace\\Xerces\\xercesImpl.jar;C:\\Workspace\\Xerces\\xmlParserAP Is.jar;C:\\Workspace\\JFreeChart;C:\\Workspace\\JavaMail;C:\\Workspace\\JavaMail\\imap. jar;C:\\Workspace\\JavaMail\\mail.jar;C:\\Workspace\\JavaMail\\mailapi.jar;C:\\Workspac e\\JavaMail\\pop3.jar;C:\\Workspace\\JavaMail\\smtp.jar;C:\\Workspace\\JavaMail\\activat ion.jar net.ihse.test.RunAndQuit JRockit build 2.2.1-EXCELSIOR-20011023-1345, Thin Threads, Generational Concurre nt Garbage Collector, started. L:\\> Resulting output for JRockit 3.1.3: L:\\>\"C:\\Program Files\\JRockit\\JRE\\1.3.1 noWin\\bin\\java.exe\" -classpath C:\\Worksp ace\\Slask;C:\\Workspace\\ToolsConsole;C:\\Workspace\\JUnit;C:\\Workspace\\ToolsCommon; C:\\Workspace\\Xerces;C:\\Workspace\\Xerces\\xercesImpl.jar;C:\\Workspace\\Xerces\\xmlPa rserAPIs.jar;C:\\Workspace\\JFreeChart;C:\\Workspace\\JavaMail;C:\\Workspace\\JavaMail \\imap.jar;C:\\Workspace\\JavaMail\\mail.jar;C:\\Workspace\\JavaMail\\mailapi.jar;C:\\Wo rkspace\\JavaMail\\pop3.jar;C:\\Workspace\\JavaMail\\smtp.jar;C:\\Workspace\\JavaMail\\a ctivation.jar net.ihse.test.RunAndQuit JRockit build 3.1.3-CROSIS-20020207-1213, Native Threads, Generational Concurren t Garbage Collector, started. L:\\>"}, {"bug_id": "101118", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Job NullPointerException ThreadJob STACK org Formatter core Formatters resolveFormatter jobs", "bug_title": " eclipse-SDK-3.1RC3-win32 - Exception processing async thread queue", "bug_description": "Hi, Using eclipse-SDK-3.1RC3-win32 in a multithreaded application. Have problem when trying debug the source code. Have tried with older version of Eclipse (RC1 and M7) but nothing changed. !SESSION 2005-06-21 20:52:46.761 ----------------------------------------------- eclipse.buildId=I20050617-1618 java.version=1.5.0_02 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=sv_SE Command-line arguments:  -os win32 -ws win32 -arch x86 !ENTRY org.eclipse.jdt.debug 4 120 2005-06-21 21:05:22.147 !MESSAGE Exception processing async thread queue !SUBENTRY 1 org.eclipse.jdt.debug 4 120 2005-06-21 21:05:22.147 !MESSAGE Exception processing async thread queue !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.getJavaProject(JavaDetailFormattersManager.java:206) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.getCompiledExpression(JavaDetailFormattersManager.java:312) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.resolveFormatter(JavaDetailFormattersManager.java:156) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.access$0(JavaDetailFormattersManager.java:149) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager$4.run(JavaDetailFormattersManager.java:137) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2446) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76) !ENTRY org.eclipse.jdt.debug 4 120 2005-06-21 21:23:40.206 !MESSAGE Exception processing async thread queue !SUBENTRY 1 org.eclipse.jdt.debug 4 120 2005-06-21 21:23:40.206 !MESSAGE Exception processing async thread queue !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.getJavaProject(JavaDetailFormattersManager.java:206) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.getCompiledExpression(JavaDetailFormattersManager.java:312) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.resolveFormatter(JavaDetailFormattersManager.java:156) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.access$0(JavaDetailFormattersManager.java:149) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager$4.run(JavaDetailFormattersManager.java:137) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2446) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)"}, {"bug_id": "102427", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/SourceBasedSourceGenerator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "error method type", "bug_title": " Cannot inspect/display static import methods", "bug_description": "Consider: --- public class Helper { public static int getValue() {...} } --- import static Helper.*; public class Doer { public void doit() { int i = getValue(); } } --- When debugging, if you select 'getValue()' in the method 'doit' and execute display (or inspect) you get an error indicating that the method 'getValue()' is not undefined for type Doer."}, {"bug_id": "103700", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/ValueImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "check lang Interpreter Bug Impl JDILocal breakpoint setJDIValue Type checkReferenceType", "bug_title": " ClassCastException when evaluating assigment of array of interfaces", "bug_description": "import java.util.List; public class Test { public static void main(String[] args) { List[] l= new List[1]; System.out.println();   // <-- breakpoint here } } At the breakpoint, try to evaluate 'l= new List[0]'. An error occurs: java.lang.ClassCastException: org.eclipse.jdi.internal.InterfaceTypeImpl at org.eclipse.jdi.internal.ValueImpl.checkReferenceType(ValueImpl.java:220) at org.eclipse.jdi.internal.ValueImpl.checkReferenceType(ValueImpl.java:203) at org.eclipse.jdi.internal.ValueImpl.checkValue(ValueImpl.java:183) at org.eclipse.jdi.internal.StackFrameImpl.setValue(StackFrameImpl.java:174) at org.eclipse.jdt.internal.debug.core.model.JDILocalVariable.setJDIValue(JDILocalVariable.java:84) at org.eclipse.jdt.internal.debug.core.model.JDILocalVariable.setValue(JDILocalVariable.java:179) at org.eclipse.jdt.internal.debug.eval.ast.instructions.AssignmentOperator.execute(AssignmentOperator.java:66) at org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute(Interpreter.java:50) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1$EvaluationRunnable.run(ASTEvaluationEngine.java:355) at org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation(JDIThread.java:565) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run(ASTEvaluationEngine.java:389) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2446) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:76)"}, {"bug_id": "105573", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugOptionsManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "stack Runnable compilation location uncaught externalized trace location warning uncaught", "bug_title": " suspend at uncaught exception shows compiler warning", "bug_description": "If there is a compiler warning at the same location as an uncaught exception, the stack trace shows the compiler warning (thinks it is a compiler error that caused the suspension). We should only consider compilation problems with an error severity in this case: Example program: public class ExTest { /** * @param args */ public static void main(String[] args) { new ExTest().foo(); } public void foo() { new Runnable() { public void run() { throw new NullPointerException(\"BOOM\"); } }.run(); } } stack trace: Thread [main] (Suspended (Non-externalized string literal; it should be followed by //$NON-NLS-<n>$)) ExTest$1.run() line: 23 ExTest.foo() line: 27 ExTest.main(String[]) line: 15"}, {"bug_id": "10811", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "launch notifications debug Java HCR launch Deregistered send JavaHCRManager listens", "bug_title": " Deregistered launches not removed by JavaHCRManager", "bug_description": "The JavaHCRManager listens to launches being added/removed, but it does nothing when a launch is removed. In the case where a launch is deregistered without properly terminating in the debug model (via TerminateAndRemove), this means that the HCRManager keeps trying to send HCR notifications to the dead VM."}, {"bug_id": "10817", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "selected location disallow configs resources output disallow shared disallow disallow", "bug_title": " configs in java packages get copied to output folder", "bug_description": "When a config is shared in a java package, it is copied to the output folder, and shows up twice in the launch config dialog. Is there a way that we can disallow copying selected resources to the output location?"}, {"bug_id": "108473", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugOptionsManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "problem fine dependent debug launcher running Sun", "bug_title": " [Performance] The performance of eclipse severely degrades over time", "bug_description": "Same as [Bug 67259] on an other platform. We are having the same problem on Windows XP. So it may not be OS dependent. System: Windows XP JDK: Sun 1.4.2_08 or 1.5.0_04 Eclipse: 3.1.0 We are running Tomcat from Eclipse using the Sysdeo launcher. After running Tomcat several times, there is a huge slow down in Tomcat: Almost all the CPU time (more than 80%) is allocated to a thread in Eclipse, Tomcat itself is not consuming much CPU time (less than 1%) but is not responding correctly at all. Tomcat process is run in debug mode. If we stop Tomcat and run it again without debug mode, then it runs fine. To have the debug mode running correctly again, we have to restart Eclipse."}, {"bug_id": "109392", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "overridden overridden options Containers VMDefinitions JUnit IClasspath initialize Unfortunatly resolve", "bug_title": " JavaRuntime.detectDefaultVM changes my options", "bug_description": "20050913 When I run a JUnit plugin test case, all the JavaCore options (including the JRE compliance) are set in the setUp method. Unfortunatly these settings are overridden again by JavaRuntime.detectDefaultVM. - All my other options are overridden: Bug is probbaly that JavaRuntime.detectDefaultVM uses JavaCore.getDefaultOptions() - The timing seems to be very late. Maybe we in JavaUI should force the initialization with an earlier call. JavaCore.setOptions(Hashtable) line: 4087 JavaRuntime.detectDefaultVM() line: 1555 JavaRuntime.detectAndSaveVMDefinitions() line: 1566 JavaRuntime.initializeVMConfiguration() line: 1391 JavaRuntime.initializeVMTypes() line: 290 JavaRuntime.getDefaultVMId() line: 468 JavaRuntime.getDefaultVMInstall() line: 415 JREContainerInitializer.resolveVM(IPath) line: 75 JREContainerInitializer.initialize(IPath, IJavaProject) line: 49 JavaModelManager.initializeContainer(IJavaProject, IPath) line: 1591 JavaModelManager.initializeAllContainers(IJavaProject, IPath) line: 1551 JavaModelManager.getClasspathContainer(IPath, IJavaProject) line: 1038 JavaCore.getClasspathContainer(IPath, IJavaProject) line: 1326 JavaProject.getResolvedClasspath(IClasspathEntry[], IPath, boolean, boolean, Map) line: 2046 ClasspathEntry.validateClasspath(IJavaProject, IClasspathEntry[], IPath) line: 1273 SetClasspathOperation.verify() line: 831 SetClasspathOperation(JavaModelOperation).runOperation(IProgressMonitor) line: 771 JavaProject.setRawClasspath(IClasspathEntry[], IPath, IProgressMonitor, boolean, IClasspathEntry[], boolean, boolean) line: 2846 JavaProject.setRawClasspath(IClasspathEntry[], IProgressMonitor) line: 2862 SerialVersionQuickFixTest.setUp() line: 113"}, {"bug_id": "110074", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/AutomatedSuite.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/ui/BreakpointWorkingSetTests.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/ui/ImportBreakpointsTest.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/ui/AbstractBreakpointWorkingSetTest.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Breakpoints working breakpoint", "bug_title": " Breakpoints are not added to default breakpoint working set", "bug_description": "I20050920 * create two breakpoint working sets * set one as default * create a new breakpoint -> The breakpoint is placed in the \"others (no working set)\" category rather than the default set"}, {"bug_id": "112503", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaLogicalStructuresPreferencePage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/display/DisplayViewerConfiguration.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersPreferencePage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetViewerConfiguration.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/EditLogicalStructureDialog.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDISourceViewer.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/display/DisplayView.java"], "repo": "eclipse.jdt.debug", "reformed_query": "black highlighting java bright text background type java text windows", "bug_title": " Cannot change the background color of the 'Display' view", "bug_description": "I have my main Java coloring set to a black background and bright text. Unfortunately, the 'Display' tab won't let me set the background color, it just defaults to whatever windows uses. However, it follows the syntax-highlighting colors from the java pane, so most of the text I type in there is thus unreadable..."}, {"bug_id": "112613", "ground_truth": ["org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/ActionFilterAdapterFactory.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ToggleBreakpointAdapter.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIDebugUIPlugin.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/MemberActionFilter.java"], "repo": "eclipse.jdt.debug", "reformed_query": "basically clicking doesn stuff editor remote write view watchpoint work", "bug_title": " Debug's Breakpoint actions act on remote stuff", "bug_description": "I2051012-1200 Some Breakpoint actions (e.g. toggle watchpoint) work on remote files which are open in the editor. Those breakpoints appear in the Breakpoints view but are basically useless and clicking on them in the Breakpoints view doesn't navigate to the remote file. The actions should not operate on such files, not write to the log but instead show a dialog similar to what all other JDT UI actions do: Title: Cannot Perform Operation Message: \"The resource is not on the build path of a Java project.\" Please do not display the element or file name: we are currently investigating to create a dummy working copy for remote files in order to provide a Java Outline for it. If you show the name in the dialog it would look ugly."}, {"bug_id": "112670", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JavaDebugUtils.java"], "repo": "eclipse.jdt.debug", "reformed_query": "treeitems Bug", "bug_title": " Can't toggle selection of treeitem in variables view", "bug_description": "CTRL+SPACE should toggle the selection of treeitems in the variables view. Instead, it invokes content assist which blocks normal windows keystrokes in a platform widget. Commands in the details pane should only be active when it has focus."}, {"bug_id": "114589", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/contentassist/CurrentValueContext.java"], "repo": "eclipse.jdt.debug", "reformed_query": "WorkbenchKeyboard Completions showProposals variables selected send computeProposals lang DispatchMessageW", "bug_title": " NPE invoking content assist in var view", "bug_description": "I20051101-0010 I selected an array in the variables view, typed \"for\" and then invoked code assist expecting to get a template for a for loop. Caused NPE: java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.contentassist.JavaDebugContentAssistProcessor .computeCompletionProposals(JavaDebugContentAssistProcessor.java:114) at org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposal s(ContentAssistant.java:1566) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals (CompletionProposalPopup.java:447) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$15 (CompletionProposalPopup.java:444) at org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run (CompletionProposalPopup.java:379) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals (CompletionProposalPopup.java:373) at org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions (ContentAssistant.java:1414) at org.eclipse.jface.text.source.SourceViewer.doOperation (SourceViewer.java:719) at org.eclipse.ui.console.actions.TextViewerAction.run (TextViewerAction.java:68) at org.eclipse.jface.action.Action.runWithEvent(Action.java:996) at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:182) at org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute (LegacyHandlerWrapper.java:108) at org.eclipse.core.commands.Command.execute(Command.java:287) at org.eclipse.core.commands.ParameterizedCommand.execute (ParameterizedCommand.java:401) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand (WorkbenchKeyboard.java:459) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press (WorkbenchKeyboard.java:781) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent (WorkbenchKeyboard.java:828) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings (WorkbenchKeyboard.java:550) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3 (WorkbenchKeyboard.java:493) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent (WorkbenchKeyboard.java:117) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:975) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:895) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:920) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:905) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:933) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:929) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1243) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3241) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3142) at org.eclipse.swt.widgets.Display.windowProc(Display.java:3908) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1703) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2854) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1774) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1738) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench (Workbench.java:376) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106) at org.eclipse.core.internal.runtime.PlatformActivator$1.run (PlatformActivator.java:226) at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:376) at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:165) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:85) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:58) at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:60) at java.lang.reflect.Method.invoke(Method.java:391) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338) at org.eclipse.core.launcher.Main.basicRun(Main.java:282) at org.eclipse.core.launcher.Main.run(Main.java:977) at org.eclipse.core.launcher.Main.main(Main.java:952)"}, {"bug_id": "11947", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/JavaUISourceLocator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Form getSourceElement JavaUISourceLocator ASTAPIEvaluationEngine Element JavaLineBreakpoint getSource breakpoint debugging remote", "bug_title": " NPE in JavaUISourceLocator when remote debugging", "bug_description": "When remote debugging to a conditional breakpoint, I get the following NPE from the JavaUISourceLocator. This only occurs when I have the wrong project selected in my launch configuration. java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.JDIDebugUIPlugin.getActiveWorkbenchShell(JDIDebugUIPlugin.java:147) at org.eclipse.jdt.debug.ui.JavaUISourceLocator.showDebugSourcePage(JavaUISourceLocator.java:142) at org.eclipse.jdt.debug.ui.JavaUISourceLocator.getSourceElement(JavaUISourceLocator.java:124) at org.eclipse.jdt.internal.debug.eval.ASTCodeSnippetToCuMapper.getSourceFormFrame(ASTCodeSnippetToCuMapper.java:136) at org.eclipse.jdt.internal.debug.eval.ASTCodeSnippetToCuMapper.getSource(ASTCodeSnippetToCuMapper.java:113) at org.eclipse.jdt.internal.debug.eval.ASTAPIEvaluationEngine.evaluate(ASTAPIEvaluationEngine.java:118) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.handleBreakpointEvent(JavaLineBreakpoint.java:329) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleEvent(JavaBreakpoint.java:232) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:97) at org.eclipse.jdt.internal.debug.core.EventDispatcher.run(EventDispatcher.java:142) at java.lang.Thread.run(Thread.java:536)"}, {"bug_id": "120170", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ToggleBreakpointAdapter.java"], "repo": "eclipse.jdt.debug", "reformed_query": "archives enabled workspace ruler workspace editor breakpoints Notice Toggle Notice", "bug_title": " Cannot set breakpoints in external source", "bug_description": "The fix to bug 112613 has broken breakpoints in external archives. For example, debug a program with a JRE that is not part of a workspace buildpath. Step into a class file from the jar (no ruler in editor). Notice the \"Toggle Line Breakpoint\" action in the top level Run menu is not enabled."}, {"bug_id": "120651", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/contentassist/CurrentValueContext.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Variables Array System assist View bring content Bug Array println", "bug_title": " Display and Content Assist do not work consistently in Variables View", "bug_description": "1.  From the Variables View, select \"list\" 2.  From the details pane, type \"this.\" and CTRL+Space to bring up content assist.  Content assist does not work in this case. 3.  Change to \"list.\" and CTRL+Space to bring up content assist.  Content assist works this time. 4.  Select \".size\" from content assist. 5.  Select the resulting string and type \"CTRL+Shift+D\" to display the string. 6.  Resulted in the error that \"list\" cannot be resolved. I have to change the text back to \"this.size\" to display the value.  It seems that content assist and display is not getting context for evaluation consistently. Testcase: ArrayList list = new ArrayList(); list.add(\"one\"); list.add(\"one\"); list.add(\"two\"); list.add(\"three\"); System.out.println(list);"}, {"bug_id": "12300", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.properties", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractJavaLaunchConfigurationDelegate.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/JavaMainTab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/JavaApplicationAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIDebugUIPlugin.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/IJavaLaunchConfigurationConstants.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/JavaJRETab.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "grayed locally difficult reason launch launch configuration JRE Build JRE", "bug_title": " Sharing launch config difficult because of VM_INSTALL_ID", "bug_description": "Build: 20020321 When trying to execute a launch configuration that someone else in the team has created, the Run/Debug button is grayed out for a reason that is hard to find: The VM_INSTALL_ID does not match any locally installed JRE. It is not trivial to figure out that the Environment -> JRE tabs must be edited."}, {"bug_id": "124147", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/LauncherMessages.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/JREMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/JREsPreferencePage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/JREMessages.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/LauncherMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/SWTUtil.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/JREsComboBlock.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaJRETab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "complicance preference discover jres Bug complicance warning start doesn Compiler", "bug_title": " [jres] Changing installed JRE doesn't warn when compiler compliance is not compatible", "bug_description": "R3.2M4 If I start eclipse with a 1.5 JRE and initialize the Java environment the global compiler compliance preference is set to 5.0 If I now add a 1.4 JRE to the list of installed JRE's and make it the default I don't get any warning that the compiler compliance is set to build classes that won't run on the selected JRE.    Only at runtime will I discover the problem. There is a warning/link on the Java->Compiler->JDK complicance preference to the installed JRE's when the user selects 5.0 compliance. One fix could be to reduce the compliance to the max supported by the selected JRE or a warning/link to the compiler compliance could be shown to alert the user to the potential problem."}, {"bug_id": "124203", "ground_truth": ["org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/ContextView.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/AutomatedSuite.java", "org.eclipse.jdt.debug.tests/plugin.xml", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/ui/ViewMangementTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "API management debug", "bug_title": " View management with respect to debug context manager", "bug_description": "In 3.2, the debug view is no longer the global debug context provider. A debug context manager has been introduced as internal API as part of the flexible debug platform. View management should be based on the active debug context rather than the lanuch view."}, {"bug_id": "124522", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/display/DisplayView.java"], "repo": "eclipse.jdt.debug", "reformed_query": "View perspective Display undo perspective functionality view Undo Bug functionality", "bug_title": " Display View - No Undo available", "bug_description": "The display view in the debug perspective has no undo functionality."}, {"bug_id": "125196", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/InstalledJREsBlock.java"], "repo": "eclipse.jdt.debug", "reformed_query": "layout Installed left Move Java problems left Installed problems Build", "bug_title": " Installed JREs preference page layout problems", "bug_description": "Build: I20060124-1115 Open the Java > Installed JREs preference page. Move the sash between the tree view on the left and the preference page on the right. -> The dialog gets wider.  Each time you move the sash the whole dialog resizes."}, {"bug_id": "125771", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ToggleBreakpointAdapter.java"], "repo": "eclipse.jdt.debug", "reformed_query": "breakpoint method breakpoints created siganture", "bug_title": " unable to create method breakpoints in external source", "bug_description": "When double-clicking on a method in external source a breakpoint is not created. It appears we are not retrieving the method siganture properly."}, {"bug_id": "125868", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java"], "repo": "eclipse.jdt.debug", "reformed_query": "result getVariableImage Labels Adapter access Thread getVariableImage java Debug getImageDescriptorRegistry", "bug_title": " Invalid Thread Access when launching", "bug_description": "Running HEAD. 1.  restart eclipse 2.  start a jdt debug session and resulted in this exception It seems to only happen on the first launch.  Subsequent launches do not result in exceptions. org.eclipse.swt.SWTException: Invalid thread access at java.lang.Throwable.<init>(Throwable.java) at java.lang.Throwable.<init>(Throwable.java) at org.eclipse.swt.SWTException.<init>(SWTException.java:87) at org.eclipse.swt.SWT.error(SWT.java:3283) at org.eclipse.swt.SWT.error(SWT.java:3206) at org.eclipse.swt.SWT.error(SWT.java:3177) at org.eclipse.swt.widgets.Display.error(Display.java:974) at org.eclipse.swt.widgets.Display.checkDevice(Display.java) at org.eclipse.swt.widgets.Display.disposeExec(Display.java:919) at org.eclipse.jdt.internal.ui.viewsupport.ImageDescriptorRegistry.hookDisplay(ImageDescriptorRegistry.java:85) at org.eclipse.jdt.internal.ui.viewsupport.ImageDescriptorRegistry.<init>(ImageDescriptorRegistry.java:48) at org.eclipse.jdt.internal.ui.viewsupport.ImageDescriptorRegistry.<init>(ImageDescriptorRegistry.java:36) at org.eclipse.jdt.internal.ui.JavaPlugin.internalGetImageDescriptorRegistry(JavaPlugin.java:861) at org.eclipse.jdt.internal.ui.JavaPlugin.getImageDescriptorRegistry(JavaPlugin.java:337) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getJavaElementImageRegistry(JDIModelPresentation.java:1881) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getVariableImage(JDIModelPresentation.java:870) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getImage(JDIModelPresentation.java:658) at org.eclipse.debug.internal.ui.LazyModelPresentation.getImage(LazyModelPresentation.java:106) at org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage(DelegatingModelPresentation.java:141) at org.eclipse.debug.internal.ui.views.launch.DebugElementHelper.getImageDescriptor(DebugElementHelper.java:55) at org.eclipse.debug.internal.ui.elements.adapters.AsynchronousDebugLabelAdapter.getImageDescriptors(AsynchronousDebugLabelAdapter.java:85) at org.eclipse.debug.internal.ui.viewers.provisional.AsynchronousLabelAdapter.computeLabels(AsynchronousLabelAdapter.java:81) at org.eclipse.debug.internal.ui.elements.adapters.AsynchronousDebugLabelAdapter.computeLabels(AsynchronousDebugLabelAdapter.java) at org.eclipse.debug.internal.ui.viewers.provisional.AsynchronousLabelAdapter$2.run(AsynchronousLabelAdapter.java:48) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)"}, {"bug_id": "12633", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/ASTEvaluationEngine.java"], "repo": "eclipse.jdt.debug", "reformed_query": "ASTEvaluation evaluate Selection EvaluationSourceGenerator Eclipse java handle EvaluateAction Plugin NullPointerException", "bug_title": " NPE evaluating in static context", "bug_description": "Breakpoint on line 58 Use source in bug 12452. In the variables view detail pane, inspect \"InnerAnon.this.description\" java.lang.NullPointerException at org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationSourceGenerator.getTypeFromProject(EvaluationSourceGenerator.java:211) at org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationSourceGenerator.getSource(EvaluationSourceGenerator.java:129) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression(ASTEvaluationEngine.java:188) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.evaluate(ASTEvaluationEngine.java:70) at org.eclipse.jdt.internal.debug.ui.actions.EvaluateAction.run(EvaluateAction.java:248) at org.eclipse.jdt.internal.debug.ui.actions.InspectAction.run(InspectAction.java:79) at org.eclipse.jdt.internal.debug.ui.actions.EvaluateAction.run(EvaluateAction.java:550) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:204) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407) at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361) at org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:75) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1420) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1208) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:755) at org.eclipse.ui.internal.Workbench.run(Workbench.java:738) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:777) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:319) at EclipseRuntimeLauncher.main(EclipseRuntimeLauncher.java:14)"}, {"bug_id": "12636", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/ScrapbookLauncher.java", "org.eclipse.jdt.debug.ui/snippetsupport.jar", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/ScrapbookMain.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Java Unable Bug context evaluation Java Unable Scrapbook reproduce Scrapbook", "bug_title": " Unable to get evaluation context for Scrapbook pages", "bug_description": "Several users from the newsgroup have indicated that they can never use the Java scrapbook as it always fails to retrieve an evaluation context. I cannot reproduce the problem but am working with an individual to work out what is going wrong."}, {"bug_id": "12640", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "call Target bug created JavaBreakpoint workspace Java", "bug_title": " Workspace runnable not run correctly", "bug_description": "In JavaBreakpoint#removeFromTarget, a workspace runnable is created and run directly - it should call #run(IWorkspaceRunnable) rather than invoking the runnable directly. Check all runnables in breakpoints for same bug."}, {"bug_id": "126437", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractJavaLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Directory Delegate path incorrectly Bug Delegate Directory AbstractJavaLaunchConfigurationDelegate verify reporting", "bug_title": " Incorrect error reporting in AbstractJavaLaunchConfigurationDelegate", "bug_description": "AbstractJavaLaunchConfigurationDelegate.verifyWorkingDirectory incorrectly reports the error on the path variable (which is null)."}, {"bug_id": "12665", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/ReferenceTypeImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Debug JDI error Add Bug", "bug_title": " ClassNotLoaded JDI exception during conditional breakpoint", "bug_description": "Build: 20020402 Follow these steps: 1. New workbench 2. Import all plugins using the plugin import wizard (copy all plugins into the workspace) 3. Add a breakpoint to org.eclipse.ui.internal.Workbench.run(Object) line 731. 4. Set the following conditional on the breakpoint System.out.println(System.currentTimeMillis()) 5. Debug using the Run-time workbench launcher 6. An error dialog will pop up claiming to have compilation problems"}, {"bug_id": "12695", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "hidden thread thread breakpoint spot Java ignore ignore creating suspend", "bug_title": " Need to get full set of breakpoints hit from thread.", "bug_description": "When creating super adapters on top of the Java debug adapter we set hidden temporary breakpoints in order to control the Java debug adapter.  If the user also sets a breakpoint at the same spot as one of our temporary breakpoints then when we get a suspend event due to a breakpoint from the Java thread we need to be able to ask the thread for the list of breakpoints that were hit.  Currently we can only get one breakpoint from the thread.  If we only see our temporary breakpoint which we might choose to ignore and don't see the user breakpoint then we will run away."}, {"bug_id": "127195", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/LaunchConfigurationProjectMainTypeChange.java"], "repo": "eclipse.jdt.debug", "reformed_query": "read Type ide Decorations LaunchConfiguration main DebugUITools internal", "bug_title": " Problems after project rename", "bug_description": "I ran a program using a shared configuration set to be favorite stored in its project called Java5.0. I left the terminated launch in the debug view. I then renamed the project to Java5.0a Problems: Launch config is no longer available in the Run drop down / gone as a favorite Launch config does not show in the launch configuration dialog as it is filtered out by the filter for deleted or unavailable projects Right clicking on the terminated process in the debug view: org.eclipse.debug.core.DebugException: Launch configuration TestFive at C:\\darins\\workspaces\\runtime-workspace\\Java5.0\\TestFive.launch does not exist. at org.eclipse.debug.internal.core.LaunchManager.createDebugException(LaunchManager.java:790) at org.eclipse.debug.internal.core.LaunchManager.getInfo(LaunchManager.java:1187) at org.eclipse.debug.internal.core.LaunchConfiguration.getInfo(LaunchConfiguration.java:356) at org.eclipse.debug.internal.core.LaunchConfiguration.getType(LaunchConfiguration.java:487) at org.eclipse.debug.internal.core.LaunchConfiguration.getCategory(LaunchConfiguration.java:300) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationManager.getLaunchGroup(LaunchConfigurationManager.java:695) at org.eclipse.debug.ui.DebugUITools.getLaunchGroup(DebugUITools.java:666) at org.eclipse.debug.internal.ui.actions.AddToFavoritesAction.updateSelection(AddToFavoritesAction.java:77) at org.eclipse.ui.actions.BaseSelectionListenerAction.selectionChanged(BaseSelectionListenerAction.java:124) at org.eclipse.debug.internal.ui.views.launch.LaunchView.updateAndAdd(LaunchView.java:545) at org.eclipse.debug.internal.ui.views.launch.LaunchView.fillContextMenu(LaunchView.java:524) at org.eclipse.debug.ui.AbstractDebugView$2.menuAboutToShow(AbstractDebugView.java:518) at org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:285) at org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:390) at org.eclipse.jface.action.MenuManager.access$1(MenuManager.java:387) at org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:412) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:949) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:930) at org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3545) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3261) at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1538) at org.eclipse.swt.widgets.Display.windowProc(Display.java:3965) at org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method) at org.eclipse.swt.widgets.Menu._setVisible(Menu.java:225) at org.eclipse.swt.widgets.Display.runPopups(Display.java:3313) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2901) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1793) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1757) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:402) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338) at org.eclipse.core.launcher.Main.basicRun(Main.java:282) at org.eclipse.core.launcher.Main.run(Main.java:977) at org.eclipse.core.launcher.Main.main(Main.java:952)"}, {"bug_id": "13015", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/EventDispatcher.java"], "repo": "eclipse.jdt.debug", "reformed_query": "conditional condition thread", "bug_title": " stepping to a line with a conditional breakpoint", "bug_description": "If I step over a line and end up on a line with a conditional breakpoint, and the condition evaluates to 'false', the thread resumes. When stepping over/onto a breakpoint with a condition, the condition should not be evaluated."}, {"bug_id": "13028", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "org type ActionContributionItem snippeteditor Workbench type file Exception Selected Event", "bug_title": " F3 in Java editor caused NPE in snippet editor", "bug_description": "Build 20020404 Had a snippet editor open. Closed it Opened a Java file Selected a type name and hit F3. Got the following walkback: java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.snippeteditor.JavaSnippetEditor.codeResolve (JavaSnippetEditor.java:510) at org.eclipse.jdt.internal.debug.ui.snippeteditor.SnippetOpenOnSelectionAction.ru n(SnippetOpenOnSelectionAction.java:59) at org.eclipse.jface.action.Action.runWithEvent(Action.java:590) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection (ActionContributionItem.java:407) at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent (ActionContributionItem.java:361) at org.eclipse.jface.action.ActionContributionItem.access$0 (ActionContributionItem.java:352) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent (ActionContributionItem.java:47) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java (Compiled Code)) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled Code)) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java (Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java (Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java (Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:738) at org.eclipse.core.internal.boot.InternalBootLoader.run (InternalBootLoader.java:777) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:319) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:190) at org.eclipse.core.launcher.Main.run(Main.java:549) at org.eclipse.core.launcher.Main.main(Main.java:390) Looks like an accelerator / keybinding association problem, similar to what we saw with Backspace."}, {"bug_id": "13042", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/EventDispatcher.java"], "repo": "eclipse.jdt.debug", "reformed_query": "dispatch eclipse Events jdt NPE launch eclipse playing killing core", "bug_title": " NPE after killing Java process", "bug_description": "I had terminated a target eclipse session where I was playing with cancelling debug launch configurations.  There were javaw.exe processes hanging around.  I killed the process in the task manager: java.lang.NullPointerException at org.eclipse.jdt.internal.debug.core.EventDispatcher.fireEvents(EventDispatcher.java:227) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:126) at org.eclipse.jdt.internal.debug.core.EventDispatcher.run(EventDispatcher.java:155) at java.lang.Thread.run(Thread.java:484)"}, {"bug_id": "13364", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java"], "repo": "eclipse.jdt.debug", "reformed_query": "visual visual breakpoint breakpoint properties Bug breakpoint indication properties visual", "bug_title": " No visual indication that a breakpoint has a condition set", "bug_description": "The only way to tell that a breakpoint has a condition set is via the properties dialog"}, {"bug_id": "134865", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaExceptionBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "MirrorImpl Object Reference internal JavaExceptionBreakpoint type handleEvent Java Manager console", "bug_title": " VMDisconnectedException not caught by breakpoint", "bug_description": "3.2M6 * Debug the following sample program (from bug 114725) using 1.5 * Ensure the options to catch uncaught exceptions & compilation errors are on * while the program is being debugged, termiante the program > the process terminates but the target does not update, an exception in the console public class DebugTest { static Throwable ex = new Error() { private static final long serialVersionUID = 1L; }; public static void main(String[] args) { long time = System.currentTimeMillis(); for (int i = 0; i < 1000000; i++) { try { throwException(true); } catch (Throwable e) { // do nothing } } System.out.println(\"Elapsed time = \" + (System.currentTimeMillis() - time)); } private static boolean throwException(boolean foobar) throws Throwable { if(foobar) { throw ex; } return false; } } com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:162) at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:177) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:174) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:192) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:207) at org.eclipse.jdi.internal.ObjectReferenceImpl.referenceType(ObjectReferenceImpl.java:426) at org.eclipse.jdi.internal.ObjectReferenceImpl.type(ObjectReferenceImpl.java:443) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaExceptionBreakpoint.handleBreakpointEvent(JavaExceptionBreakpoint.java:305) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleEvent(JavaBreakpoint.java:259) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:140) at org.eclipse.jdt.internal.debug.core.EventDispatcher.run(EventDispatcher.java:232) at java.lang.Thread.run(Thread.java:816)"}, {"bug_id": "13525", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/SourceBasedSourceGenerator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "internal simple navigator ERROR evaluate Compilation Contribution basic debug", "bug_title": " Error evaluating with no public class", "bug_description": "Add breakpoint to NavigatorDropAdapter.openError. Create a simple project in the navigator. Create a file in this project. Drag the file and drop over the project. In NavigatorDropAdapter.openError select IStatus.ERROR and Display it. Got the following exception: java.lang.IllegalArgumentException at org.eclipse.jdt.core.dom.AST.parseCompilationUnit(AST.java:310) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression(ASTEvaluationEngine.java:159) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.evaluate(ASTEvaluationEngine.java:59) at org.eclipse.jdt.internal.debug.ui.actions.EvaluateAction.run(EvaluateAction.java:225) at org.eclipse.jdt.internal.debug.ui.actions.DisplayAction.run(DisplayAction.java:122) at org.eclipse.jdt.internal.debug.ui.actions.EvaluateAction.run(EvaluateAction.java:503) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:204) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407) at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java(Compiled Code)) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java(Compiled Code)) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java(Compiled Code)) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code)) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled Code)) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:819) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:777) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:319) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:190) at org.eclipse.core.launcher.Main.run(Main.java:549) at org.eclipse.core.launcher.Main.main(Main.java:390)"}, {"bug_id": "136638", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/EvaluationContextManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Runner Contribution main Accessor handleWidgetSelection arch context EvaluationContextManager context Sun", "bug_title": " NPE in debug UI", "bug_description": "Upon closing my workspace: eclipse.buildId=I20060413-0010 java.version=1.4.2_08 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US Command-line arguments:  -os linux -ws gtk -arch x86 -data /opt/pwebster/workspaces/bug135535 -debug bug135535/debug.options java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.EvaluationContextManager.contextActivated(EvaluationContextManager.java:231) at org.eclipse.debug.internal.ui.contexts.DebugWindowContextService$1.run(DebugWindowContextService.java:130) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.debug.internal.ui.contexts.DebugWindowContextService.notify(DebugWindowContextService.java:127) at org.eclipse.debug.internal.ui.contexts.DebugWindowContextService.notify(DebugWindowContextService.java:117) at org.eclipse.debug.internal.ui.contexts.DebugWindowContextService.notify(DebugWindowContextService.java:109) at org.eclipse.debug.internal.ui.contexts.DebugWindowContextService.removeProvider(DebugWindowContextService.java:87) at org.eclipse.debug.internal.ui.contexts.DebugContextManager.removeDebugContextProvider(DebugContextManager.java:123) at org.eclipse.debug.internal.ui.views.launch.LaunchView.dispose(LaunchView.java:432) at org.eclipse.ui.internal.WorkbenchPartReference.doDisposePart(WorkbenchPartReference.java:687) at org.eclipse.ui.internal.ViewReference.doDisposePart(ViewReference.java:97) at org.eclipse.ui.internal.WorkbenchPartReference.dispose(WorkbenchPartReference.java:642) at org.eclipse.ui.internal.WorkbenchPage$5.run(WorkbenchPage.java:1574) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:843) at org.eclipse.ui.internal.WorkbenchPage.dispose(WorkbenchPage.java:1569) at org.eclipse.ui.internal.WorkbenchWindow.closeAllPages(WorkbenchWindow.java:745) at org.eclipse.ui.internal.WorkbenchWindow.hardClose(WorkbenchWindow.java:1482) at org.eclipse.ui.internal.WorkbenchWindow.busyClose(WorkbenchWindow.java:621) at org.eclipse.ui.internal.WorkbenchWindow.access$0(WorkbenchWindow.java:597) at org.eclipse.ui.internal.WorkbenchWindow$2.run(WorkbenchWindow.java:710) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69) at org.eclipse.ui.internal.WorkbenchWindow.close(WorkbenchWindow.java:708) at org.eclipse.jface.window.WindowManager.close(WindowManager.java:109) at org.eclipse.ui.internal.Workbench$12.run(Workbench.java:712) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.ui.internal.Workbench.busyClose(Workbench.java:709) at org.eclipse.ui.internal.Workbench.access$8(Workbench.java:639) at org.eclipse.ui.internal.Workbench$14.run(Workbench.java:839) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69) at org.eclipse.ui.internal.Workbench.close(Workbench.java:837) at org.eclipse.ui.internal.Workbench.close(Workbench.java:812) at org.eclipse.ui.internal.QuitAction.run(QuitAction.java:57) at org.eclipse.jface.action.Action.runWithEvent(Action.java:499) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1070) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3155) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2835) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336) at org.eclipse.core.launcher.Main.basicRun(Main.java:280) at org.eclipse.core.launcher.Main.run(Main.java:977) at org.eclipse.core.launcher.Main.main(Main.java:952)"}, {"bug_id": "137513", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/logicalstructures/JavaLogicalStructure.java"], "repo": "eclipse.jdt.debug", "reformed_query": "runEvaluation engine Evaluation jdt Variables ArrayList Logical Engine test model", "bug_title": " Internal error when stepping quickly", "bug_description": "Using N20060418 + debug from HEAD + jdt debug from HEAD Logical structure is on from the Variables View and the view is visible. * Suspend at the first line from the test case * Expand the ArrayList variable after something has been added. * Hold down the step over key. Testcase: public static void main(String[] args) { ArrayList x = new ArrayList(); for (int i=0; i<5; i++) { x.add(0, \"a\" + i); } } Got a bunch of exceptions in the log: !ENTRY org.eclipse.jdt.debug 4 120 2006-04-19 10:45:31.742 !MESSAGE Internal error logged from JDI Debug: !STACK 1 org.eclipse.debug.core.DebugException: Evaluation failed - thread not suspended. at org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.throwDebugException(JDIDebugElement.java:207) at org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.requestFailed(JDIDebugElement.java:162) at org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation(JDIThread.java:574) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run(ASTEvaluationEngine.java:489) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2467) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58) !SUBENTRY 1 org.eclipse.jdt.debug 4 100 2006-04-19 10:45:31.742 !MESSAGE Evaluation failed - thread not suspended."}, {"bug_id": "13834", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/BreakpointFieldLocator.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/breakpoints/BreakpointLocationResult.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ManageWatchpointActionDelegate.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/BreakpointMethodLocator.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ActionDelegateHelper.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/AbstractManageBreakpointActionDelegate.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/breakpoints/AbstractAddRemoveBreakpointActionDelegate.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/breakpoints/BreakpointLocationVerifier.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ActionMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/breakpoints/AddRemoveLineBreakpointActionDelegate.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ManageMethodBreakpointActionDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "breakpoint file java editor Eclipse Build stack disabled", "bug_title": " Can't set breakpoints in external source", "bug_description": "Build 20020321 There doesn't appear to be any way to set a breakpoint in source code which is not managed by Eclipse. I'm debugging code on a remote VM.  The program includes some code which is managed by my workspace, and some which is found in external JARs.  When I click on a stack frame for one of these unmanaged methods, I get a dialog asking where to find the source.  I point the dialog at the source, and an editor on the appropriate .java file opens. However, I can't set breakpoints in this file: - there is no ruler displayed, so I can't double click o nthe ruler - the context menu's Add->Breakpoint action is disabled This is frustrating, as I'd like to set breakpoints in the code that I'm examining!"}, {"bug_id": "138377", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/OpenTypeAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/console/JavaStackTraceHyperlink.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Clicking clicks lastest source Java unusable hyperlink clicks source console", "bug_title": " [patch] [console] [source lookup] Clicking on Java stack trace hyperlink in console is unusably slow again", "bug_description": "N20060425-0010 With the fix for bug 112774, perfomance of target resolution became acceptable (at least for the second and later clicks). But in lastest builds, perfomance has become unusable again. I am blocked for about 30 seconds for each click now."}, {"bug_id": "139152", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugPreferencePage.java", "org.eclipse.jdt.debug/buildnotes_jdt-debug.html"], "repo": "eclipse.jdt.debug", "reformed_query": "preference Open error preferences attached", "bug_title": " [preferences] Java->Debug preference page validates uninitialized fields", "bug_description": "N20060428 1. Open 'Window->Preferences' 2. Go to 'Java->Debug' page 3. An error is shown which disapears quickly 4. Close the dialog 5. Open 'Window->Preferences' 6. The 'Java->Debug' page is shown and the error disapears again. This only happens when you switch to this page for the first time after opening the dialog. See attached screenshot. Could also be a platform bug?"}, {"bug_id": "13957", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "LaunchingPlugin constant specification Options intended Core Filter Builder option setting", "bug_title": " LaunchingPlugin specification of resourceCopyExclusionFilter", "bug_description": "Currently there are bugs in the code.  The constant has changed and we should check for null when getting the key (even though JavaCore initializes the value to \"\"). More difficult: The UI for manipulating the setting of this option in the JavaOptions does not take into consideration anyone setting a filter via code (JavaBuilderPreferencePage).  Is this an intended limitation?"}, {"bug_id": "142476", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/AppletMainTab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/WorkingDirectoryBlock.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/SharedJavaMainTab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/SWTUtil.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/JREsComboBlock.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaJRETab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaMainTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Select Language button borders sample box overlapps Blocking Location Finish", "bug_title": " TVT3.2:TCT535: Text boxes ovelap with borders", "bug_description": "OS : RHEL 3.1 Must fix or not a must fix: YES Build date: 0516 Component name: EMFT Blocking: NO Language: el Bitmap Location:Y:\\defects\\el\\EMFT_1110b.JPG Tester Name: Peppy Florou Steps to recreate the problem: Start eclipse File->New->Project Expand Java Emitter Templates Click Next Enter a project name (tvt.tests) Click Finish In the project created, right click over the file ?sample.xml?, and choose Run As. From the menu, choose Run ->Run? Select JET Transform in the right-hand tree Click the New icon Click 'Common' tab Problem Description: 1. Text box for the value of 'File:' field overlapps with right border. 2. 'Variables...' button overlapps with right border Kindly please adjust the coordinates/width of those boxes. thx Peppy This article was reassigned from Category:''TVT/Testing''."}, {"bug_id": "144253", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/threadgroups/JavaDebugTargetProxy.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Bug frame fire CHANGE   stack", "bug_title": " [source lookup] Stack Frame CHANGE events no longer force a source lookup", "bug_description": "In Eclipse 3.1, it was possible to fire CHANGE events from a stack frame object to force a source lookup. This behaviour seems to have gone away in Eclipse 3.2."}, {"bug_id": "145553", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/StringValueInputDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "button action Stopping println string dialog test System", "bug_title": " [variables] Cannot modify String variable with empty string value with Change Value dialog", "bug_description": "If you try to use the Change Value action on a String variable that currently has the value \"\" the OK button is never enabled so you cannot save a new value. Here is a test case. Stopping at the System.out below and trying to change the value of s shows the problem with the OK button. public class Tester { public static void main(String[] args) { String s = \"\"; System.out.println(\"done, s = \" + s); } }"}, {"bug_id": "145592", "ground_truth": ["org.eclipse.jdt.debug/buildnotes_jdt-debug.html", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaWatchpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Test foo code String field touch Debugger watchpoints code watchpoints", "bug_title": " Debugger gets confused with watchpoints on fields with the same name.", "bug_description": "Consider the following code: public class Test { public static class InnerClass1 { public int foo; } public static class InnerClass2 { public int foo; } public static void main(String[] args) { InnerClass1 ic1 = new InnerClass1(); InnerClass2 ic2 = new InnerClass2(); ic2.foo = 2; } } Notice that I modify the field within InnerClass2, but do not touch the field within InnerClass1. If I add a watchpoint on InnerClass1's field, the debugger will stop on the line \"ic2.foo = 2;\" My guess is that the confusion comes from the fact that the two fields have the same name."}, {"bug_id": "147773", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Daemon handleEvent build org jdi initialize reference internal ObjectCollectedException sun", "bug_title": " [debugger] determineIfDaemon throws exception", "bug_description": "when running java projects I frequently see the following exception with build  N20060617-0010. com.sun.jdi.ObjectCollectedException at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler(MirrorImpl.java:241) at org.eclipse.jdi.internal.ObjectReferenceImpl.referenceType(ObjectReferenceImpl.java:474) at org.eclipse.jdt.internal.debug.core.model.JDIThread.determineIfDaemonThread(JDIThread.java:446) at org.eclipse.jdt.internal.debug.core.model.JDIThread.initialize(JDIThread.java:256) at org.eclipse.jdt.internal.debug.core.model.JDIThread.<init>(JDIThread.java:222) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.createThread(JDIDebugTarget.java:456) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget$ThreadStartHandler.handleEvent(JDIDebugTarget.java:1765) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:140) at org.eclipse.jdt.internal.debug.core.EventDispatcher.run(EventDispatcher.java:232) at java.lang.Thread.run(Unknown Source)"}, {"bug_id": "148006", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/console/JavaStackTraceConsole.java"], "repo": "eclipse.jdt.debug", "reformed_query": "ant taskdefs listed adorn AntProcessBuildLogger waiting antsupport DelegatingMethodAccessorImpl Match performTasks", "bug_title": " [console] deadlock in ConsoleDocument during ant execution in autobuild", "bug_description": "I20060620-1010 Got this after starting up with the build, importing plug-ins as binary, and waiting for autobuild to complete: Full thread dump Java HotSpot(TM) Client VM (1.4.2_06-b02 mixed mode): [..] Found one Java-level deadlock: ============================= \"Thread-12\": waiting to lock monitor 0x080930fc (object 0x48ac6540, a org.eclipse.ui.internal.console.ConsoleDocument), which is held by \"Worker-8\" \"Worker-8\": waiting to lock monitor 0x08092cd4 (object 0x56c9ddb0, a java.lang.Class), which is held by \"Thread-12\" Java stack information for the threads listed above: =================================================== \"Thread-12\": at org.eclipse.ui.internal.console.ConsoleDocument.get(ConsoleDocument.java:29) - waiting to lock <0x48ac6540> (a org.eclipse.ui.internal.console.ConsoleDocument) at org.eclipse.ant.internal.ui.launchConfigurations.TaskLinkManager.addLink(TaskLinkManager.java:145) at org.eclipse.ant.internal.ui.launchConfigurations.TaskLinkManager.addTaskHyperlink(TaskLinkManager.java:118) - locked <0x56c9ddb0> (a java.lang.Class) at org.eclipse.ant.internal.ui.antsupport.logger.AntProcessBuildLogger.appendAndLink(AntProcessBuildLogger.java:145) at org.eclipse.ant.internal.ui.antsupport.logger.AntProcessBuildLogger.adornMessage(AntProcessBuildLogger.java:122) at org.eclipse.ant.internal.ui.antsupport.logger.AntProcessBuildLogger.logMessage(AntProcessBuildLogger.java:76) at org.eclipse.ant.internal.ui.antsupport.logger.AntProcessBuildLogger.messageLogged(AntProcessBuildLogger.java:317) at org.apache.tools.ant.Project.fireMessageLoggedEvent(Project.java:2009) - locked <0x48abcae0> (a org.apache.tools.ant.Project) at org.apache.tools.ant.Project.fireMessageLogged(Project.java:2058) at org.apache.tools.ant.Project.log(Project.java:367) at org.apache.tools.ant.Task.log(Task.java:346) at org.apache.tools.ant.Task.log(Task.java:334) at org.apache.tools.ant.taskdefs.Delete.execute(Delete.java:465) at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275) at org.apache.tools.ant.Task.perform(Task.java:364) at org.apache.tools.ant.Target.execute(Target.java:341) at org.apache.tools.ant.Target.performTasks(Target.java:369) at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216) at org.apache.tools.ant.Project.executeTarget(Project.java:1185) at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40) at org.eclipse.ant.internal.core.ant.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32) at org.apache.tools.ant.Project.executeTargets(Project.java:1068) at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:706) at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:457) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.ant.core.AntRunner.run(AntRunner.java:356) at org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate$1.run(AntLaunchDelegate.java:230) at java.lang.Thread.run(Thread.java:534) \"Worker-8\": at org.eclipse.ant.internal.ui.launchConfigurations.TaskLinkManager.processNewLine(TaskLinkManager.java:166) - waiting to lock <0x56c9ddb0> (a java.lang.Class) at org.eclipse.ant.internal.ui.console.TaskLineTracker.lineAppended(TaskLineTracker.java:43) at org.eclipse.debug.internal.ui.views.console.ConsoleLineNotifier.lineAppended(ConsoleLineNotifier.java:126) at org.eclipse.debug.internal.ui.views.console.ConsoleLineNotifier.matchFound(ConsoleLineNotifier.java:118) at org.eclipse.ui.internal.console.ConsolePatternMatcher$MatchJob.run(ConsolePatternMatcher.java:130) - locked <0x48ac6540> (a org.eclipse.ui.internal.console.ConsoleDocument) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58) Found 1 deadlock."}, {"bug_id": "148615", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaLaunchableTester.java", "org.eclipse.jdt.launching/plugin.xml"], "repo": "eclipse.jdt.debug", "reformed_query": "superclass problem Test superclass menu defined context derive JUnit ciao", "bug_title": " [JUnit] JUnit 4 does not recognize JunitTestCase if @Test is only in superclass", "bug_description": "Hi! Eclipse 3.2 RC7 does not seem to recognize a JUnit 4-TestCase if it does not derive from TestCase and if the methods marked with @Test are in super-classes of the selected class. This problem occurs if you select a class with @Test-methods defined in the superclass and then select right mouse down (context menu) -> Run As. There, no JUnit-Runner will be provided. ciao Volker"}, {"bug_id": "149076", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaStepFilterPreferencePage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/SWTUtil.java"], "repo": "eclipse.jdt.debug", "reformed_query": "check retained retained debug filtering shortcut check persisted preferences debug", "bug_title": " [preferences] Use step filtering pref is not persisted over workbench restart", "bug_description": "If you check on step filtering (either in the pref page, the keyboard shortcut or the debug view action) and restart the workbench, the state of step filtering is not retained and always reverts to no step filtering."}, {"bug_id": "151487", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugHover.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugHover.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugHover.java"], "repo": "eclipse.jdt.debug", "reformed_query": "hovering Bug Setting Foo hovering Variable type Bug hovering hover", "bug_title": " Variable hover incorrect for members of the same type but different object", "bug_description": "Variable hover displays the value of the this member when hovering over the same member in a different object of the same type.  For example: public class Foo { private int id; public boolean equals(Object other) { Foo that = (Foo)other; return this.id == that.id; } } Setting a breakpoint at the return statement and hovering over the id in \"that.id\" displays the value of \"this.id\"."}, {"bug_id": "151808", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "inconsitant global character Workaround inconsitant Container Container VMs Persisted substitution", "bug_title": " VMDefinitionsContainer cannot parse -Dx=non-ascii", "bug_description": "-Da=\u00c3\u00a4 (a-umlaut)         will not work -Dx=\u00c2\u00a7 (German Paragraph) will not work I assume any non-ascii character will not work either: Exception is (shortened) java.io.IOException: Invalid format at VMDefinitionsContainer.parseXMLIntoContainer(VMDefinitionsContainer.java:406) at JavaRuntime.addPersistedVMs(JavaRuntime.java:1413) at JavaRuntime.initializeVMs(JavaRuntime.java:2459) at avaRuntime.getDefaultVMId(JavaRuntime.java:495) at JavaRuntime.getDefaultVMInstall(JavaRuntime.java:449) at JREContainerInitializer.resolveVM(JREContainerInitializer.java:87) at JREContainerInitializer.initialize(JREContainerInitializer.java:52) I assume a) the encoding for the file (which should be conatined in the exception) is inconsitant on write/read b) Maybe be java must be called wit ascii options only, then the dialog should catch this before writing Workaround (inconvenient): specify such global options via a variable substitution Is it possible to quote/escape such characters via \\uxxxxx or such ?"}, {"bug_id": "153122", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/instructions/EqualEqualOperator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "HEARTS HEARTS Deck Primitive ClassCastException ASTEvaluationEngine HEARTS Binary HEARTS CCE", "bug_title": " CCE performing eval of switch statement", "bug_description": "I20060807-2000 * debug to breakpoint on first line of \"Deck.shuffle()\" in following example * evaluate the following snippet: for (Card card : fCards) { switch (card.getSuite()) { case HEARTS: System.out.println(\"BEST\"); break; default: System.err.println(\"OTHER\"); break; } } Boom: java.lang.ClassCastException: org/eclipse/jdt/internal/debug/core/model/JDIObjectValue incompatible with org/eclipse/jdt/debug/core/IJavaPrimitiveValue at org.eclipse.jdt.internal.debug.eval.ast.instructions.EqualEqualOperator.getBooleanResult(EqualEqualOperator.java:41) at org.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.executeBinary(BinaryOperator.java:101) at org.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.execute(BinaryOperator.java:38) at org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute(Interpreter.java:50) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1$EvaluationRunnable.run(ASTEvaluationEngine.java:455) at org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation(JDIThread.java:636) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run(ASTEvaluationEngine.java:489) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2532) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)"}, {"bug_id": "153124", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/ASTInstructionCompiler.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Engine instructions jdt evaluation Array incompatible lang Engine ClassCastException jdt", "bug_title": " CCE while performing evaluation near autobox", "bug_description": "Build id: I20060807-2000 * Stopped at a breakpoint, performed the following eval in the Display view: List<Integer> l = new ArrayList<Integer>(); l.add(56); int foo = l.get(0); return\tfoo + 45; BOOM: java.lang.ClassCastException: org/eclipse/jdt/internal/debug/core/model/JDIObjectValue incompatible with org/eclipse/jdt/debug/core/IJavaPrimitiveValue at org.eclipse.jdt.internal.debug.eval.ast.instructions.PlusOperator.getIntResult(PlusOperator.java:95) at org.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.executeBinary(BinaryOperator.java:98) at org.eclipse.jdt.internal.debug.eval.ast.instructions.BinaryOperator.execute(BinaryOperator.java:38) at org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute(Interpreter.java:50) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1$EvaluationRunnable.run(ASTEvaluationEngine.java:455) at org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation(JDIThread.java:636) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run(ASTEvaluationEngine.java:489) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2532) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)"}, {"bug_id": "15662", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java"], "repo": "eclipse.jdt.debug", "reformed_query": "variable Display", "bug_title": " Display of \"null\" shows nothing", "bug_description": "If I do a display that results in \"null\" no result is shown. If I inspect, I see \"null\". This used to work. Example. Select a variable that has a null value and \"display\"."}, {"bug_id": "15678", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "step Bug dropping fixed Bug jdk correctly drop appears Drop", "bug_title": " Drop to Frame not updating UI/stack frames correctly", "bug_description": "On the Jdk1.4 vms, using the test case in bug 8441, dropping to frame does not update the UI/stack frames for the drop. Note: Using the latest jdk1.4.1_b10, the step over acting as step resume appears to be fixed."}, {"bug_id": "157055", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaVarActionFilter.java", "org.eclipse.jdt.debug/buildnotes_jdt-debug.html"], "repo": "eclipse.jdt.debug", "reformed_query": "ObjectStateExpression send Attribute variable Decorations read isPrimitiveType Platform click sendEvent", "bug_title": " [variables view] Right click on variable produces ClassNotLoadedErrors", "bug_description": "while stopped at a breakpoint right click on a variable that is set to null and a pile of the following error is dumped out to the error log: com.sun.jdi.ClassNotLoadedException: Type has not been loaded at org.eclipse.jdi.internal.ReferenceTypeImpl.create(ReferenceTypeImpl.java:1280) at org.eclipse.jdi.internal.TypeImpl.create(TypeImpl.java:64) at org.eclipse.jdi.internal.FieldImpl.type(FieldImpl.java:113) at org.eclipse.jdt.internal.debug.core.model.JDIFieldVariable.getUnderlyingType(JDIFieldVariable.java:274) at org.eclipse.jdt.internal.debug.core.model.JDIFieldVariable.getReferenceTypeName(JDIFieldVariable.java:195) at org.eclipse.jdt.internal.debug.ui.JavaVarActionFilter.isPrimitiveType(JavaVarActionFilter.java:84) at org.eclipse.jdt.internal.debug.ui.JavaVarActionFilter.testAttribute(JavaVarActionFilter.java:141) at org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.preciselyMatches(ActionExpression.java:543) at org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.isEnabledFor(ActionExpression.java:509) at org.eclipse.ui.internal.ActionExpression$AndExpression.isEnabledFor(ActionExpression.java:134) at org.eclipse.ui.internal.ActionExpression$SingleExpression.isEnabledFor(ActionExpression.java:760) at org.eclipse.ui.internal.ActionExpression.isEnabledFor(ActionExpression.java:1079) at org.eclipse.ui.internal.ObjectActionContributor$ObjectContribution.isApplicableTo(ObjectActionContributor.java:345) at org.eclipse.ui.internal.ObjectActionContributor.isApplicableTo(ObjectActionContributor.java:226) at org.eclipse.ui.internal.ObjectContributorManager.isApplicableTo(ObjectContributorManager.java:293) at org.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions(ObjectActionContributorManager.java:82) at org.eclipse.ui.internal.PopupMenuExtender.addObjectActions(PopupMenuExtender.java:253) at org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow(PopupMenuExtender.java:315) at org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:289) at org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:395) at org.eclipse.jface.action.MenuManager.access$1(MenuManager.java:391) at org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:417) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:933) at org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3561) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3278) at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1539) at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1659) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4056) at org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method) at org.eclipse.swt.widgets.Menu._setVisible(Menu.java:225) at org.eclipse.swt.widgets.Display.runPopups(Display.java:3413) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3000) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:341) at org.eclipse.core.launcher.Main.basicRun(Main.java:285) at org.eclipse.core.launcher.Main.run(Main.java:987) at org.eclipse.core.launcher.Main.main(Main.java:962)"}, {"bug_id": "15792", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugElement.java"], "repo": "eclipse.jdt.debug", "reformed_query": "ARCH VMDisconnected request Delegating Message SESSION creating Exception Structured", "bug_title": " VMDisconnectedExceptions in log", "bug_description": "Build 20020508 Noticed the following in the log.  Not sure what caused them. Possibly popping up the context menu in the debug view as the VM was exiting? !SESSION ---------------------------------------------------------------------- java.fullversion=J2RE 1.3.1 IBM Windows 32 build cn131-20020403 (JIT enabled: jitc) BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Command-line arguments: -ws win32 -dev bin -data d:\\eclipse\\plugins -install file:/D:/eclipse20020508/eclipse/ !ENTRY org.eclipse.ui 4 0 Thu May 09 19:37:35 EDT 2002 !MESSAGE Problems creating buffer !ENTRY org.eclipse.jdt.core 4 969 Thu May 09 19:37:35 EDT 2002 !MESSAGE TestNavigatorActionFactory.java does not exist. !ENTRY org.eclipse.jdt.debug.ui 4 150 Fri May 10 14:49:46 EDT 2002 !MESSAGE Internal Error !STACK org.eclipse.debug.core.DebugException[5010]: com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java(Compiled Code)) at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:137) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:168) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:186) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:201) at org.eclipse.jdi.internal.ThreadReferenceImpl.name(ThreadReferenceImpl.java:257) at org.eclipse.jdt.internal.debug.core.model.JDIThread.getName(JDIThread.java:788) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getThreadText(JDIModelPresentation.java:270) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getText(JDIModelPresentation.java:198) at org.eclipse.debug.internal.ui.LazyModelPresentation.getText(LazyModelPresentation.java:69) at org.eclipse.debug.internal.ui.DelegatingModelPresentation.getText(DelegatingModelPresentation.java:122) at org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java(Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java(Compiled Code)) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java(Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:256) at org.eclipse.jface.viewers.AbstractTreeViewer.add(AbstractTreeViewer.java:130) at org.eclipse.jface.viewers.AbstractTreeViewer.add(AbstractTreeViewer.java:163) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler.insert(AbstractDebugEventHandler.java:74) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java:75) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.java:49) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java(Compiled Code)) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java(Compiled Code)) at org.eclipse.swt.widgets.Display.messageProc(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.messageProc(Display.java(Compiled Code)) at org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method) at org.eclipse.swt.widgets.Menu.setVisible(Menu.java:810) at org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled Code)) at org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled Code)) at org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code)) at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method) at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java(Compiled Code)) at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java(Compiled Code)) at org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled Code)) at org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code)) at org.eclipse.swt.internal.win32.OS.DefWindowProcW(Native Method) at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java(Compiled Code)) at org.eclipse.swt.widgets.Scrollable.callWindowProc(Scrollable.java (Compiled Code)) at org.eclipse.swt.widgets.Control.WM_RBUTTONUP(Control.java:3699) at org.eclipse.swt.widgets.Control.windowProc(Control.java(Compiled Code)) at org.eclipse.swt.widgets.Display.windowProc(Display.java(Compiled Code)) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java (Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java (Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java (Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1045) at org.eclipse.core.internal.boot.InternalBootLoader.run (InternalBootLoader.java:739) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:450) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:174) at org.eclipse.core.launcher.Main.run(Main.java:605) at org.eclipse.core.launcher.Main.main(Main.java:449) !ENTRY org.eclipse.jdt.debug.ui 4 150 Fri May 10 14:56:49 EDT 2002 !MESSAGE Internal Error !STACK org.eclipse.debug.core.DebugException[5010]: com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply (PacketReceiveManager.java(Compiled Code)) at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply (PacketReceiveManager.java:137) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:168) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:186) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:201) at org.eclipse.jdi.internal.ThreadReferenceImpl.name (ThreadReferenceImpl.java:257) at org.eclipse.jdt.internal.debug.core.model.JDIThread.getName (JDIThread.java:788) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getThreadText (JDIModelPresentation.java:270) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getText (JDIModelPresentation.java:198) at org.eclipse.debug.internal.ui.LazyModelPresentation.getText (LazyModelPresentation.java:69) at org.eclipse.debug.internal.ui.DelegatingModelPresentation.getText (DelegatingModelPresentation.java:122) at org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java (Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem (AbstractTreeViewer.java(Compiled Code)) at org.eclipse.jface.viewers.StructuredViewer.updateItem (StructuredViewer.java(Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem (AbstractTreeViewer.java:256) at org.eclipse.jface.viewers.AbstractTreeViewer.add (AbstractTreeViewer.java:130) at org.eclipse.jface.viewers.AbstractTreeViewer.add (AbstractTreeViewer.java:163) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler.insert (AbstractDebugEventHandler.java:74) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebug Events(LaunchViewEventHandler.java:75) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run (AbstractDebugEventHandler.java:49) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages (Synchronizer.java(Compiled Code)) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages (Synchronizer.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java (Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java (Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java (Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1045) at org.eclipse.core.internal.boot.InternalBootLoader.run (InternalBootLoader.java:739) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:450) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:174) at org.eclipse.core.launcher.Main.run(Main.java:605) at org.eclipse.core.launcher.Main.main(Main.java:449) !ENTRY org.eclipse.jdt.debug.ui 4 150 Fri May 10 17:06:54 EDT 2002 !MESSAGE Internal Error !STACK org.eclipse.debug.core.DebugException[5010]: com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply (PacketReceiveManager.java(Compiled Code)) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java (Compiled Code)) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java (Compiled Code)) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java (Compiled Code)) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java (Compiled Code)) at org.eclipse.jdi.internal.ThreadReferenceImpl.name (ThreadReferenceImpl.java:257) at org.eclipse.jdt.internal.debug.core.model.JDIThread.getName (JDIThread.java:788) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getThreadText (JDIModelPresentation.java:270) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getText (JDIModelPresentation.java(Compiled Code)) at org.eclipse.debug.internal.ui.LazyModelPresentation.getText (LazyModelPresentation.java(Compiled Code)) at org.eclipse.debug.internal.ui.DelegatingModelPresentation.getText (DelegatingModelPresentation.java(Compiled Code)) at org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java (Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem (AbstractTreeViewer.java(Compiled Code)) at org.eclipse.jface.viewers.StructuredViewer.updateItem (StructuredViewer.java(Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem (AbstractTreeViewer.java:256) at org.eclipse.jface.viewers.AbstractTreeViewer.add (AbstractTreeViewer.java:130) at org.eclipse.jface.viewers.AbstractTreeViewer.add (AbstractTreeViewer.java:163) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler.insert (AbstractDebugEventHandler.java:74) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebug Events(LaunchViewEventHandler.java:75) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run (AbstractDebugEventHandler.java:49) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages (Synchronizer.java(Compiled Code)) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages (Synchronizer.java(Compiled Code)) at org.eclipse.swt.widgets.Display.messageProc(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.messageProc(Display.java(Compiled Code)) at org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method) at org.eclipse.swt.widgets.Menu.setVisible(Menu.java:810) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection (ActionContributionItem.java:397) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent (ActionContributionItem.java(Compiled Code)) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent (ActionContributionItem.java(Compiled Code)) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent (ActionContributionItem.java(Compiled Code)) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java (Compiled Code)) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled Code)) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java (Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java (Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java (Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1045) at org.eclipse.core.internal.boot.InternalBootLoader.run (InternalBootLoader.java:739) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:450) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:174) at org.eclipse.core.launcher.Main.run(Main.java:605) at org.eclipse.core.launcher.Main.main(Main.java:449)"}, {"bug_id": "16046", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.properties", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractJavaLaunchConfigurationDelegate.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractVMRunner.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaLocalApplicationLaunchConfigurationDelegate.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMRunner.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaRemoteApplicationLaunchConfigurationDelegate.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMDebugger.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Launch configuration doesn interrupt unable forced time wait Bug progress", "bug_title": " Launch configuration dialog doesn't/can't cancel a launch", "bug_description": "When the user presses the \"cancel\" button on the launch configuration dialog while a launch is in progress, the launch is not cancelled. Instead, we wait for the launch to finish and then terminate the launch if the user pressed cancel. This behavior is wrong for a number of reasons. 1. A cancel button should respond immediately. \"Cancel\" is used to stop long operations. If it doesn't stop the operation immediately, it's not doing its job. 2. After we've forced the user to wait until the launch completes (#1), we shouldn't terminate their launch. They didn't want to wait for the launch to finish. If we made them sit and wait for the launch to finish, they should at least get something in return for their time - their launch. What we really want is the ability to interrupt a launch while it's in progress. Until we achieve this, the Cancel button should be disabled during a launch to reflect the fact that we are unable to interrupt a launch."}, {"bug_id": "161364", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/SourceBasedSourceGenerator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "List expression independent error type Web block work debugging", "bug_title": " Evaluating Code that contains Generics does not work while debugging", "bug_description": "When using the Display or Inspect feature while debugging my code I'm getting an error \"Evaluations must contain either an expression or a block of well-formed statements\". This is actually independent on the code but does occure if the instruction pointer is inside the code of a method with signature: private <T extends WebInput> List<T> getInputs(Class<T> type). Outside of such a method the evaluation works as expected."}, {"bug_id": "16193", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaConnectTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Contribution JavaConnectTab launcher invoke Tab Config readAndDispatch Configuration Table Loader", "bug_title": " NPE in JavaConnectTab", "bug_description": "Debug As...->Remote Java Application java.lang.NullPointerException at org.eclipse.jdt.debug.ui.launchConfigurations.JavaConnectTab.initializeDefaults(JavaConnectTab.java:440) at org.eclipse.jdt.debug.ui.launchConfigurations.JavaConnectTab.setDefaults(JavaConnectTab.java:452) at org.eclipse.debug.ui.AbstractLaunchConfigurationTabGroup.setDefaults(AbstractLaunchConfigurationTabGroup.java:66) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.createConfigOfType(LaunchConfigurationDialog.java:604) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.openDialogOnNewConfigOfSpecifiedType(LaunchConfigurationDialog.java:516) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.open(LaunchConfigurationDialog.java:468) at org.eclipse.debug.internal.ui.actions.OpenLaunchConfigurationsAction.run(OpenLaunchConfigurationsAction.java:133) at org.eclipse.jface.action.Action.runWithEvent(Action.java:590) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java(Compiled Code)) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java(Compiled Code)) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java(Compiled Code)) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code)) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java(Compiled Code)) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1103) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:739) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:450) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:176) at org.eclipse.core.launcher.Main.run(Main.java:614) at org.eclipse.core.launcher.Main.main(Main.java:451)"}, {"bug_id": "16219", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaClasspathTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "classpath config Bug VectorTest Open Remove", "bug_title": " re-setting \"use default classpath\" does not work", "bug_description": "* Open a launch config on VectorTest. * Remove \"JUnit\" from the classpath * check \"use default classpath\" NOTE: JUnit does not reappear"}, {"bug_id": "162399", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/ReferenceTypeImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "add add eclipse JSR support testSimpleTag eclipse behavior add SMAP", "bug_title": " Problem in the implementation of the support of JSR-045", "bug_description": "Suppose we have the JSP file: testSimpleTag.jsp:[<%@ page import=\"java.io.*\" %> some string here] The valid SMAP for this JSP is: SMAP JEE_jsp_testSimpleTag_24890350_1152694486531_1152694491765.java JSP *S JSP *F + 0 testSimpleTag.jsp testSimpleTag.jsp *L 1:38,0 *E We use page directive before the String in order to be able to put a breakpoint on this line, otherwise eclipse offers to add a bookmark. The right behavior of the debugger should be when the jsp execution hits the breakpoint the IDE to stop on this line. However this does not happen. So the problem here is that although the SMAP is valid and a breakpoint is set on this single line of the JSP, when the JSP page is requested eclipse does not stop on this breakpoint."}, {"bug_id": "16378", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaArgumentsTab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaSourceLookupTab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaClasspathTab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaConnectTab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaJRETab.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaMainTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "launch creation config   shot", "bug_title": " Missing icons in launch config creation tabs", "bug_description": "Build 20020517 - Debug... / Run-time Workbench / New The tabs are missing icons, but the space for them remains. See attached screen shot."}, {"bug_id": "164376", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersManager.java", "org.eclipse.jdt.debug/buildnotes_jdt-debug.html"], "repo": "eclipse.jdt.debug", "reformed_query": "resolveFormatter Expression Running internal Formatter eclipse NPE variable Expression eclipse", "bug_title": " NPE in JavaDetailFormatterManager", "bug_description": "Running from HEAD I have no detail formatter set up.  When I select a variable, I get the following exception.  This only happens if the value of the selected variable is null. java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.getCompiledExpression(JavaDetailFormattersManager.java:365) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.resolveFormatter(JavaDetailFormattersManager.java:163) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.access$1(JavaDetailFormattersManager.java:152) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager$4.run(JavaDetailFormattersManager.java:140) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2532) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)"}, {"bug_id": "16446", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMRunner.java", "org.eclipse.jdt.debug/buildnotes_jdt-debug.html", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/AbstractJavaCommandTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "selected executable VMs programs exe exe appears Leave Linux exists", "bug_title": " Can't launch programs on Linux with default java executable name", "bug_description": "1. Select a launch config (Local Java App) and go to the JRE page. 2. Click \"New\" and add a new JRE. A new option appears to specify the name of the Java executable. The \"Use default\" button is selected. Leave it that way. 3. Try to launch the program. An exception occurs. I've debugged this enough to see that the command line we're trying to launch is javaw. javaw only exists in a few VMs. If we want to look for it, that's fine, but we need to fall back to java (or java.exe) if javaw is not found."}, {"bug_id": "165174", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/threadgroups/JavaThreadEventHandler.java"], "repo": "eclipse.jdt.debug", "reformed_query": "lost monitors launch main Object Main monitors Bug selection Main", "bug_title": " [viewers] selection is lost in launch view after stepping into sync block", "bug_description": "using the following code, selection in the launch view is lost after stepping into the sync block with show monitors turned on public class Main { public static void main(String[] args) { System.out.println(\"bp on this line\"); synchronized (new Object()) { System.out.println(\"bp on this line\"); } } } will attach a screenshot."}, {"bug_id": "16702", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JDIDebugTarget Hot Runnable core IProgress HCR Exception sources IThread hcr", "bug_title": " Unhandled NPE in HCR manager", "bug_description": "Build M5 I just noticed the following stack trace in my cmd window. I could not find the stack trace in my .log file. My target VM is a J9 2.0 beta. java.lang.NullPointerException Stack trace: java/lang/Throwable.<init>()V java/lang/Throwable.<init>(Ljava/lang/String;)V java/lang/NullPointerException.<init>(Ljava/lang/String;)V org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.getAffected Frame(Lorg/eclipse/jdt/internal/debug/core/model/JDIThread; [Lorg/eclipse/core/re sources/IResource;Ljava/util/List;) Lorg/eclipse/jdt/internal/debug/core/model/JD IStackFrame; org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.getAffected Frames([Lorg/eclipse/debug/core/model/IThread;Ljava/util/List;Ljava/util/List;) L java/util/List; org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.attemptPopF rames (Lorg/eclipse/jdt/internal/debug/core/model/JDIDebugTarget;Ljava/util/List; Ljava/util/List;Ljava/util/List;)V org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.doHotCodeRe place(Ljava/util/List;Ljava/util/List;Ljava/util/List;)V org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.access$0 (Lo rg/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager;Ljava/util/Lis t ;Ljava/util/List;Ljava/util/List;)V org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager$1.run (Lorg/ eclipse/core/runtime/IProgressMonitor;)V org/eclipse/core/internal/resources/Workspace.run (Lorg/eclipse/core/resources /IWorkspaceRunnable;Lorg/eclipse/core/runtime/IProgressMonitor;)V org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager$3.run()V java/lang/Thread.run()V"}, {"bug_id": "167182", "ground_truth": ["org.eclipse.jdt.debug/buildnotes_jdt-debug.html", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Adpater Dispatcher handleDebugEvents Target arised creation Event IJavaDebugTarget DebugEvent handle", "bug_title": " JDIDebugTarget.handleDebugEvents not using getAdapter when identifying the event source", "bug_description": "Inside JDIDebugTarget.handleDebugEvents(DebugEvent[]), when handling debug target creation event, the current code uses \"event.getSource() == this\" to ensure the event source is itself. Issue arised when a third party debug target, who registered itself as a event filter, caught and refired the JDIDebugTarget create event using itself as the new event source. This will result the EventDispatcher never being launched. Suggesting to use getAdpater when checking for the identity of the event source: Object source = event.getSource(); if (source instanceof IDebugTarget && ((IDebugTarget)source).getAdapter(IJavaDebugTarget.class) == this ..."}, {"bug_id": "167426", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/core/InstructionPointerTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "InstructionPointerContext Bug Instruction Context instance simply Pointer", "bug_title": " InstructionPointerContext keeps reference to closed editor", "bug_description": "I20061129-1340 Found while looking at bug 166761: take the example from that bug but don't step into selection. Instead simply close the editor. ==> InstructionPointerContext references the closed editor and hence an instance stays around until the debugger is terminated."}, {"bug_id": "167740", "ground_truth": ["org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaVarActionFilter.java"], "repo": "eclipse.jdt.debug", "reformed_query": "formatter checks Bug types types menu types menu object object", "bug_title": " [variables] [views] New/Edit details formatter menu should not be available on array types", "bug_description": "currently you can create a details formatter for an array, which is the root cause of 167718. New object contribution checks need to be added to not allow the menu on arrays."}, {"bug_id": "16930", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/EvaluateAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "pause suspended perform Bug evaluation message error", "bug_title": " Eval: incompatible thread state", "bug_description": "When I pause a thread (manually), and perform an evaluation, I get an InvalidThreadStateException - which is expected. We should provide a better error message for the user, as the 'toString' area does - i.e. must be suspended after a step or breakpoint to perform an evaluation."}, {"bug_id": "169542", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.java"], "repo": "eclipse.jdt.debug", "reformed_query": "start groups groups Debug traversable create Reproduce view main running", "bug_title": " A ThreadGroup (and all its Threads) is not displayed in the Debug view when its parent didn't contain any threads", "bug_description": "Build ID: M20060629-1905 Steps To Reproduce: 1.Create new ThreadGroup(first) using the code \"new ThreadGroup(\"<some name>\")\" - the parent of the newly created thread group will be the \"main\" thread group 2. After that create another thread group(second) under the first one 3. Create and start one or more threads under the second thread group 4. After running the program in debug mode and looking to the Debug view one will note that nor first nor second thread groups appear. More information: In my opinion, the bug is not in JVM, because I checked - entire thread groups and thread hierarchy is correct and traversable in the Variables view. More careful research resulted in a simple workaround found: before creating the second thread group, one must create and start at least one thread under the first thread group and then both thread groups appear in the Debug view correctly."}, {"bug_id": "169565", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.java"], "repo": "eclipse.jdt.debug", "reformed_query": "equinox Proc invoke Send disconnect getUnderlyingType Handle isEnabledFor log Filter", "bug_title": " NPE in JDIDebugTarget when quering supportsInstanceRetrieval", "bug_description": "Running HEAD, JVM 1.5 SR3 Not sure how to reproduce, but found this in the log: java.lang.NullPointerException at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.supportsInstanceRetrieval(JDIDebugTarget.java:2339) at org.eclipse.jdt.internal.debug.ui.JavaVarActionFilter.isInstanceRetrievalAvailable(JavaVarActionFilter.java:246) at org.eclipse.jdt.internal.debug.ui.JavaVarActionFilter.testAttribute(JavaVarActionFilter.java:180) at org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.preciselyMatches(ActionExpression.java:530) at org.eclipse.ui.internal.ActionExpression$ObjectStateExpression.isEnabledFor(ActionExpression.java:499) at org.eclipse.ui.internal.ActionExpression$AndExpression.isEnabledFor(ActionExpression.java:132) at org.eclipse.ui.internal.ActionExpression$SingleExpression.isEnabledFor(ActionExpression.java:743) at org.eclipse.ui.internal.ActionExpression.isEnabledFor(ActionExpression.java:1053) at org.eclipse.ui.internal.ObjectActionContributor$ObjectContribution.isApplicableTo(ObjectActionContributor.java:342) at org.eclipse.ui.internal.ObjectActionContributor.isApplicableTo(ObjectActionContributor.java:227) at org.eclipse.ui.internal.ObjectContributorManager.isApplicableTo(ObjectContributorManager.java:294) at org.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions(ObjectActionContributorManager.java:82) at org.eclipse.ui.internal.PopupMenuExtender.addObjectActions(PopupMenuExtender.java:253) at org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow(PopupMenuExtender.java:315) at org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:289) at org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:394) at org.eclipse.jface.action.MenuManager.access$1(MenuManager.java:390) at org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:416) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:933) at org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3681) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3398) at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1554) at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1728) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4134) at org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method) at org.eclipse.swt.widgets.Menu._setVisible(Menu.java:227) at org.eclipse.swt.widgets.Display.runPopups(Display.java:3491) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3073) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1945) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1909) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:425) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) I think the NPE happened when the VM disconnected suddenly.  Also found these disconnect exceptions: com.sun.jdi.VMDisconnectedException: Got com.sun.jdi.connect.spi.ClosedConnectionException from Virtual Machine at org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:80) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:170) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:192) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:222) at org.eclipse.jdi.internal.ReferenceTypeImpl.classLoader(ReferenceTypeImpl.java:724) at org.eclipse.jdi.internal.LocalVariableImpl.type(LocalVariableImpl.java:166) at org.eclipse.jdt.internal.debug.core.model.JDILocalVariable.getUnderlyingType(JDILocalVariable.java:194) at org.eclipse.jdt.internal.debug.core.model.JDILocalVariable.getReferenceTypeName(JDILocalVariable.java:106) at org.eclipse.jdt.internal.debug.ui.JavaVarActionFilter.isDeclaredSameAsConcrete(JavaVarActionFilter.java:74) at org.eclipse.jdt.internal.debug.ui.JavaVarActionFilter.testAttribute(JavaVarActionFilter.java:187) at org.eclipse.ui.internal.ObjectFilterTest.preciselyMatches(ObjectFilterTest.java:98) at org.eclipse.ui.internal.ObjectFilterTest.matches(ObjectFilterTest.java:77) at org.eclipse.ui.internal.ObjectActionContributor$ObjectContribution.isApplicableTo(ObjectActionContributor.java:347) at org.eclipse.ui.internal.ObjectActionContributor.isApplicableTo(ObjectActionContributor.java:227) at org.eclipse.ui.internal.ObjectContributorManager.isApplicableTo(ObjectContributorManager.java:294) at org.eclipse.ui.internal.ObjectActionContributorManager.contributeObjectActions(ObjectActionContributorManager.java:82) at org.eclipse.ui.internal.PopupMenuExtender.addObjectActions(PopupMenuExtender.java:253) at org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow(PopupMenuExtender.java:315) at org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:289) at org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:394) at org.eclipse.jface.action.MenuManager.access$1(MenuManager.java:390) at org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:416) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:933) at org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3681) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3398) at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1554) at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1728) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4134) at org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method) at org.eclipse.swt.widgets.Menu._setVisible(Menu.java:227) at org.eclipse.swt.widgets.Display.runPopups(Display.java:3491) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3073) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1945) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1909) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:425) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod(EclipseAppContainer.java:522) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:147) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:170) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:339) at org.eclipse.core.launcher.Main.basicRun(Main.java:283) at org.eclipse.core.launcher.Main.run(Main.java:984) at org.eclipse.core.launcher.Main.main(Main.java:959)"}, {"bug_id": "170502", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/launching/LaunchDelegateTests.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/VariableClasspathEntry.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaClasspathTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "tab apply user user tab lookup moved launching user open", "bug_title": " [source lookup] [launching] string variables added to the bootpath via the launch dialog do not stay there", "bug_description": "In the launch dialog if you go to the classpath tab (of a java app type) and add a string variable to the bootpath entries it will not stay there. To reproduce: 1. open launch dialog and go to the classpath tab. 2. add a string variable to the boothpath entries 3. hit apply and close the dialog 4. reopen and go back to the classpath tab the new entry is now moved under the user entries"}, {"bug_id": "171075", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/connect/PacketReceiveManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "impossible scenarios waiting Java seperated internal Hover Receive debugging scenario", "bug_title": " Java Editor Disconnecting Debug Session", "bug_description": "Build ID: Build id: M20060921-0945 Steps To Reproduce: 1. As multi threading problem no easy way to reproduce 2. Provided information and stack trace should allow problem investigation More information: Scenario/Symptom: Remote debug session. Clicking into the Java Editor might lead to a disconnection to the remote VM. Severity major although obviously a rare problem, because it makes debugging impossible in affected scenarios. We were confronted with a debug scenario in which the problem was reproducable within minutes. This allowed following finding: Involved classes org.eclipse.jface.text.TextViewerHoverManager org.eclipse.jdt.internal.debug.ui.JavaDebugHover org.eclipse.jdi.internal.connect.PacketReceiveManager What happens is: The TextViewerHoverManager in the Java Editor tries to compute hover information content in a seperated Thread. While debugging the JavaDebugHover is used. The implementation tries to recieves information from remote VM. By clicking in the Java Editor a TextEvent is created. As a result the TextViewerHoverManager tries to force the termination of the current hover information computation by interrupting the related thread. If in this moment the JavaDebugHover is receiving remote information waiting in PacketReceiveManager the PacketReceiveManager disconnects the VM connection. See attached text file for related stack trace and related code snippets."}, {"bug_id": "172989", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/request/EventRequestImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Breakpoints internal debug EventRequestManagerImpl Exception Impl lang removeRequestIDMapping eclipse error", "bug_title": " NPE when disabling breakpoint", "bug_description": "I20070201-0800 Got the following error when disabling a breakpoint: java.lang.NullPointerException at java.util.Hashtable.remove(Hashtable.java:693) at org.eclipse.jdi.internal.request.EventRequestManagerImpl.removeRequestIDMapping(EventRequestManagerImpl.java:532) at org.eclipse.jdi.internal.request.EventRequestImpl.disable(EventRequestImpl.java:206) at org.eclipse.jdi.internal.request.EventRequestManagerImpl.deleteEventRequest(EventRequestManagerImpl.java:376) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.removeRequests(JavaBreakpoint.java:663) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate(JavaBreakpoint.java:1158) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate(JavaBreakpoint.java:1138) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.setEnabled(JavaBreakpoint.java:1168) at org.eclipse.debug.internal.ui.views.breakpoints.BreakpointsView$3.run(BreakpointsView.java:263) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)"}, {"bug_id": "173187", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/MethodBreakpointMethodChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/ExceptionBreakpointTypeChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/BreakpointChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/DeleteBreakpointChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/RefactoringMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/RefactoringMessages.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/LineBreakpointTypeChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/WatchpointFieldChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/ClassPrepareBreakpointTypeChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/MethodBreakpointChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/WatchpointTypeChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/LineBreakpointChange.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/MethodBreakpointTypeChange.java"], "repo": "eclipse.jdt.debug", "reformed_query": "file refactoring differences dialog multiple change identical breakpoint", "bug_title": " Line Breakpoint changes unclear during refactoring", "bug_description": "1.  I have 3 line breakpoints from the same class. 2.  I refactored by renaming the class. 3.  I went through the wizard and eventually ended up at the page where Breakpint changes are shown. If you expand the Breakpiont changes, you will see three identical entires showing \"Line breakpoint type change\".  The user cannot tell the differences between the three changes. Same problem with method breakpoints.  If I have multiple method breakpoints from the same file, the dialog does not show information to help the user distinguish between the different breakpoints."}, {"bug_id": "17691", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/display/DisplayView.java"], "repo": "eclipse.jdt.debug", "reformed_query": "View listener DisplayView listener document DisplayView removes Dispay listener listener", "bug_title": " DisplayView registers a document listener and nobody removes it", "bug_description": "F1 as in summary: DispayView resisters its innerclass as a document listener nobody removes that listener"}, {"bug_id": "178641", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/performance/PerfConditionalBreakpointsTests.java", "org.eclipse.jdt.debug.tests/.classpath", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/AbstractDebugTest.java"], "repo": "eclipse.jdt.debug", "reformed_query": "test overlapping measure breakpoints work tests loop activated overlapping performance", "bug_title": " [performance] conditional breakpoint performance test failure", "bug_description": "The performance test for conditional breakpoints is much worse on windows in 3.3 than 3.2x. It appears the amount of \"side effect\" work overlapping with the test is different in 3.3. For example, when running the test on 3.3, the source editor tends to open, where it does not open in 3.2. As well, the 3.3 test suite has additional views that get activated when a target suspends (\"view management\" tests). The test is only intended to measure the time for a conditional breakpoint to be evaluated in a tight loop."}, {"bug_id": "178912", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractVMInstallType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "eclipse NPE IVMInstall execute org Location equals fVMs JREUpdate fully", "bug_title": " IVMInstallType api and AbstractVMInstallType impl are not thread safe", "bug_description": "The IVMInstallType.createVMInstall(<id>) method call immediately makes the vm install visible to everyone. I hit a race condition that looked like this: Thread 1 ======== IVMInstall vm = type.createVMInstall(vmId); vm.setInstallLocation( vmLocation ); vm.setName(vmName); Thread 2 ======== java.lang.NullPointerException at org.eclipse.jdt.launching.AbstractVMInstallType.findVMInstallByName(AbstractVMInstallType.java:146) at org.eclipse.jdt.internal.launching.JREContainerInitializer.resolveVM(JREContainerInitializer.java:82) at org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:52) at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.rebind(LaunchingPlugin.java:279) at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.access$0(LaunchingPlugin.java:244) at org.eclipse.jdt.internal.launching.LaunchingPlugin$1.run(LaunchingPlugin.java:232) at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737) at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:4024) at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.doit(LaunchingPlugin.java:236) at org.eclipse.jdt.internal.launching.LaunchingPlugin$JREUpdateJob.run(LaunchingPlugin.java:316) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58) public IVMInstall findVMInstallByName(String name) { for (int i= 0; i < fVMs.size(); i++) { IVMInstall vm= (IVMInstall)fVMs.get(i); if (vm.getName().equals(name)) {   <-- NPE right here return vm; } } return null; } There are two thread safety problems here: 1. IVMInstallType api causes new runtimes to be made available to everyone before they can be fully initialized. 2. AbstractVMInstallType internally does not use synchronization. Most specifically, access to fVMs list member variable is not synchronized. Potential fix: Can't change existing IVMInstallType api, but the AbstractVMInstallType implementation can be changed to synchronize on the vm type object for all getter and setter methods that deal with vm instances. That directly addresses #2 and allows #1 to be worked around by adding a synchronized block around code in Thread 1 above... synchronized( type ) { IVMInstall vm = type.createVMInstall(vmId); vm.setInstallLocation( vmLocation ); vm.setName(vmName); }"}, {"bug_id": "179111", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/heapwalking/Messages.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugModelMessages.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/PopupInspectAction.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/logicalstructures/LogicalStructuresMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/heapwalking/AllInstancesActionDelegate.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/ExceptionInspector.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/variables/VariableOptionsAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersManager.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/logicalstructures/LogicalStructuresMessages.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugModelMessages.properties", "org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIReferenceListValue.java", "org.eclipse.jdt.debug.ui/plugin.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/variables/JavaExpressionContentProvider.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/logicalstructures/JDIAllInstancesValue.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/heapwalking/AllReferencesActionDelegate.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/variables/VariableMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/variables/JavaVariableContentProvider.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/heapwalking/Messages.properties"], "repo": "eclipse.jdt.debug", "reformed_query": "fixes popups fixed instances bug bindings style Numerous Instances Miscellaneous", "bug_title": " Numerous fixes for All Instances / All References features", "bug_description": "A number of bugs have been found affecting the 'all instances' and 'all references' features.  As most of the bugs/issues are related, they will be coalesced into this bug and fixed at the same time. Issues: - Global actions and key bindings must be improved - The style between all instances and references popups should be similar and have similar functionality. - The user must be informed if the displayed instances/references are being limited by preference settings. - Other Miscellaneous problems"}, {"bug_id": "180496", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JREContainerInitializer.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JRE Initializer access Container modify updated hard attributes hard Bug", "bug_title": " Use the new ClasspathContainerInitializer API for the JRE", "bug_description": "20070402 The following patch uses the new API in ClasspathContainerInitializer to signal the UI that access rules can not be modified, but source attachment, Javadoc and native lib can. All other (user provided) attributes are not supported (and not shown in the UI. I updated the UI to use the new APIs and removed the hard coded behavior for the JRE container. Can you release for I20070205? Otherwise user will be able to modify the access rules again."}, {"bug_id": "18100", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaClasspathTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "SWTException Loader Configuration Internal Events swt reflect swt image Boot", "bug_title": " Internal error in Lauch Configurations dialog.", "bug_description": "Linux motif - KDE - Build 0528 Open the Launch Configurations dialog (debug button) Select another item in the list and got the following exception. Can't create another configuration. org.eclipse.swt.SWTException: Graphic is disposed at org.eclipse.swt.SWT.error(SWT.java:1887) at org.eclipse.swt.SWT.error(SWT.java:1819) at org.eclipse.swt.graphics.Image.getBounds(Image.java:674) at org.eclipse.swt.widgets.TabItem.imageWidth(TabItem.java:216) at org.eclipse.swt.widgets.TabItem.preferredWidth(TabItem.java:291) at org.eclipse.swt.widgets.TabFolder.layoutItems(TabFolder.java:744) at org.eclipse.swt.widgets.TabFolder.setSelection(TabFolder.java:1023) at org.eclipse.swt.widgets.TabFolder.destroyChild(TabFolder.java:241) at org.eclipse.swt.widgets.TabItem.dispose(TabItem.java:116) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.disposeExistingTabs(LaunchConfigurationDialog.java:1459) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.selectionChanged(LaunchConfigurationDialog.java:1270) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:147) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1154) at org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:544) at org.eclipse.jface.viewers.StructuredViewer$1.widgetSelected(StructuredViewer.java:568) at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:171) at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:168) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:297) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code)) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code)) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:485) at org.eclipse.swt.widgets.SelectableItemWidget.selectNotify(SelectableItemWidget.java:1687) at org.eclipse.swt.widgets.SelectableItemWidget.selectNotify(SelectableItemWidget.java:1710) at org.eclipse.swt.widgets.SelectableItemWidget.doMouseSelect(SelectableItemWidget.java:613) at org.eclipse.swt.widgets.Tree.mouseDown(Tree.java:1035) at org.eclipse.swt.widgets.Tree.handleEvents(Tree.java:810) at org.eclipse.swt.widgets.SelectableItemWidget$1.handleEvent(SelectableItemWidget.java:1190) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code)) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.jface.window.Window.runEventLoop(Window.java(Compiled Code)) at org.eclipse.jface.window.Window.open(Window.java:538) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.doLastLaunchedConfig(LaunchConfigurationDialog.java:530) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationDialog.open(LaunchConfigurationDialog.java:491) at org.eclipse.debug.internal.ui.actions.OpenLaunchConfigurationsAction.run(OpenLaunchConfigurationsAction.java:133) at org.eclipse.jface.action.Action.runWithEvent(Action.java:590) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407) at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361) at org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code)) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:789) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1068) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:739) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:200) at org.eclipse.core.launcher.Main.run(Main.java:643) at org.eclipse.core.launcher.Main.main(Main.java:476)"}, {"bug_id": "18115", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "createTreeItem Child createChildren launching resolve getElementInfo Unable getClasspathContainer Changed find", "bug_title": " IllegalArgumentException: Duplicate VM: 0", "bug_description": "Build 20020528 Starting a 20020527 workspace where jdtcore was already using classpath container, I got the following exception (which prevented the package view from being created). !ENTRY org.eclipse.core.resources 1 4 May 28, 2002 23:54:53.694 !MESSAGE Unable to find Action Set: org.eclipse.jdt.debug.ui.JDTLaunchActionSet Unable to find Action Set: org.eclipse.jdt.debug.ui.JDTLaunchActionSet !ENTRY org.eclipse.core.resources 1 4 May 28, 2002 23:54:53.704 !MESSAGE Unable to find Action Set: org.eclipse.jdt.junit.JUnitLaunchActionSet Unable to find Action Set: org.eclipse.jdt.junit.JUnitLaunchActionSet !ENTRY org.eclipse.ui 4 2 May 28, 2002 23:54:57.259 !MESSAGE Problems occurred when invoking code from plug-in: org.eclipse.ui. !STACK 0 java.lang.IllegalArgumentException: Duplicate VM: 0 at org.eclipse.jdt.launching.AbstractVMInstallType.createVMInstall(AbstractVMInstallType.java:87) at org.eclipse.jdt.launching.JavaRuntime.detectVMConfiguration(JavaRuntime.java:1176) at org.eclipse.jdt.launching.JavaRuntime.getDefaultVMInstall(JavaRuntime.java:402) at org.eclipse.jdt.internal.launching.JREContainerInitializer.resolveVM(JREContainerInitializer.java:122) at org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:53) at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:455) at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1366) at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1306) at org.eclipse.jdt.internal.core.JavaProject.getResolvedClasspath(JavaProject.java:1278) at org.eclipse.jdt.internal.core.JavaProject.updatePackageFragmentRoots(JavaProject.java:2177) at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath0(JavaProject.java:2063) at org.eclipse.jdt.internal.core.JavaProject.generateInfos(JavaProject.java:800) at org.eclipse.jdt.internal.core.Openable.buildStructure(Openable.java:83) at org.eclipse.jdt.internal.core.Openable.openWhenClosed(Openable.java:404) at org.eclipse.jdt.internal.core.JavaProject.openWhenClosed(JavaProject.java:1667) at org.eclipse.jdt.internal.core.JavaElement.openHierarchy(JavaElement.java:523) at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:310) at org.eclipse.jdt.internal.core.JavaElement.getChildren(JavaElement.java:264) at org.eclipse.jdt.internal.core.Openable.hasChildren(Openable.java:284) at org.eclipse.jdt.ui.StandardJavaElementContentProvider.hasChildren(StandardJavaElementContentProvider.java:194) at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTreeViewer.java:926) at org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus(AbstractTreeViewer.java:1269) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:259) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:243) at org.eclipse.jface.viewers.AbstractTreeViewer$2.run(AbstractTreeViewer.java:646) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:688) at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:638) at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:234) at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:875) at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart.createPartControl(PackageExplorerPart.java:278) at org.eclipse.ui.internal.PartPane$4.run(PartPane.java:133) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:802) at org.eclipse.core.runtime.Platform.run(Platform.java:416) at org.eclipse.ui.internal.PartPane.createChildControl(PartPane.java:131) at org.eclipse.ui.internal.PartPane.createControl(PartPane.java:175) at org.eclipse.ui.internal.ViewPane.createControl(ViewPane.java:179) at org.eclipse.ui.internal.PartTabFolder.createPartTab(PartTabFolder.java:245) at org.eclipse.ui.internal.PartTabFolder.createControl(PartTabFolder.java:217) at org.eclipse.ui.internal.PartSashContainer.createControl(PartSashContainer.java:177) at org.eclipse.ui.internal.PerspectivePresentation.activate(PerspectivePresentation.java:94) at org.eclipse.ui.internal.Perspective.onActivate(Perspective.java:657) at org.eclipse.ui.internal.WorkbenchPage.onActivate(WorkbenchPage.java:1545) at org.eclipse.ui.internal.WorkbenchWindow$7.run(WorkbenchWindow.java:1150) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56) at org.eclipse.ui.internal.WorkbenchWindow.setActivePage(WorkbenchWindow.java:1137) at org.eclipse.ui.internal.WorkbenchWindow.restoreState(WorkbenchWindow.java:1050) at org.eclipse.ui.internal.Workbench.restoreState(Workbench.java:988) at org.eclipse.ui.internal.Workbench.access$7(Workbench.java:968) at org.eclipse.ui.internal.Workbench$6.run(Workbench.java:793) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:802) at org.eclipse.core.runtime.Platform.run(Platform.java:416) at org.eclipse.ui.internal.Workbench.openPreviousWorkbenchState(Workbench.java:745) at org.eclipse.ui.internal.Workbench.init(Workbench.java:559) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1061) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:739) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:200) at org.eclipse.core.launcher.Main.run(Main.java:643) at org.eclipse.core.launcher.Main.main(Main.java:476)"}, {"bug_id": "181204", "ground_truth": ["org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/TestLaunchDelegate1.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/ContributedTestTab1.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/TestJavaApplicationTabGroup.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/launching/LaunchModeTests.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/ContributedTestTab3.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/TestLaunchShortcut.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/TestModeLaunchDelegate.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/TestLaunchDelegate2.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/launching/LaunchDelegateTests.java", "org.eclipse.jdt.debug.tests/plugin.xml", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/TestLaunchDelegate.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/launching/ContributedTabTests.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/ParticipantLaunchShortcut.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/TestTabGroup.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/launching/LaunchConfigurationManagerTests.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/launching/ContributedTestTab2.java"], "repo": "eclipse.jdt.debug", "reformed_query": "configuration enhanced issues Bug applies enhancements applies pertaining extracted host", "bug_title": " [launching] context launching of non-resource based objects", "bug_description": "The context launching enhancement provided through bug 74480 only applies to resource based objects. I like the enhanced behavior. However, my product uses non resource objects to launch remote programs so I request the context launching to be further enhanced to handle this scenario. As the background information, the following comments are extracted from bug 74480: >>   My run/debug launch configuration applies to remote executable object or >> process. For example, run/debug program on remote host or debug process on >> remote host. Remote object is NOT an IResource. >>   Does this mean I can not take advantage of the proposed context launching ? >> Is there other way to determine the context mapping except using IResource ?  >Currently, conetxt launching is resource based. For 3.3, this is all we have >planned. We may one to look at further enhancements to this in a future release >to allow for context launching of non-resource based objects. >Marking fixed & verified. New bugs should be opened for issues pertaining to >context launching."}, {"bug_id": "18174", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/ExecutionArguments.java"], "repo": "eclipse.jdt.debug", "reformed_query": "args contribution parseArguments execution windows getNext Bug Args ArrayList fIndex", "bug_title": " Quotes in execution arguments of Java launch", "bug_description": "If you enter something like the following string as execution arguments for a Java launch, the arguments are not passed as one would expect. \\\"quote\\\" \"a \\\"quoted\\\" spaced arg\" Here is a suggested replacement for org.eclipse.jdt.launching.ExecutionArguments.ArgumentParser that works both on win32 and linux (a contribution from WSDD 4.0). The subtle difference is that a quote can be escaped with a backslash, but a backslash is not a general escape character as in unix because that causes problems with path names on windows. private static class ArgumentParser { private String fArgs; private int fIndex= 0; private int ch= -1; public ArgumentParser(String args) { fArgs= args; } public String[] parseArguments() { StringBuffer buf; List v= new ArrayList(); ch= getNext(); while (ch > 0) { while (Character.isWhitespace((char)ch)) ch= getNext(); if (ch == '\"') { v.add(parseString()); } else { v.add(parseToken()); } } String[] result= new String[v.size()]; v.toArray(result); return result; } private int getNext() { if (fIndex < fArgs.length()) return fArgs.charAt(fIndex++); return -1; } private String parseString() { StringBuffer buf= new StringBuffer(); //buf.append((char)ch); ch= getNext(); while (ch > 0 && ch != '\"') { if (ch == '\\\\') { ch= getNext(); if (ch != '\"') buf.append('\\\\'); // Only escape double quotes } if (ch > 0) { buf.append((char)ch); ch= getNext(); } } //if (ch > 0) buf.append((char)ch); ch= getNext(); return buf.toString(); } private String parseToken() { StringBuffer buf= new StringBuffer(); while (ch > 0 && !Character.isWhitespace((char)ch)) { if (ch == '\\\\') { ch= getNext(); if (ch > 0) { if (ch != '\"') buf.append ('\\\\'); // Only escape double quotes buf.append((char)ch); ch= getNext(); } } else if (ch == '\"') { buf.append(parseString()); } else { buf.append((char)ch); ch= getNext(); } } return buf.toString(); } }"}, {"bug_id": "182807", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ToggleBreakpointAdapter.java"], "repo": "eclipse.jdt.debug", "reformed_query": "create Display eclipse Input start CommandAction EventTable mouse Main createQualifiedTypeName", "bug_title": " [breakpoints] NPE attempting to set breakpoint", "bug_description": "I20070417-0800 I was attempting to set a breakpoint on a line in java.io.BufferedInputStream.close java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.actions.ToggleBreakpointAdapter.createQualifiedTypeName(ToggleBreakpointAdapter.java:429) at org.eclipse.jdt.internal.debug.ui.actions.ToggleBreakpointAdapter.toggleBreakpoints(ToggleBreakpointAdapter.java:1104) at org.eclipse.debug.ui.actions.ToggleBreakpointAction.run(ToggleBreakpointAction.java:103) at org.eclipse.ui.texteditor.AbstractRulerActionDelegate.run(AbstractRulerActionDelegate.java:104) at org.eclipse.ui.internal.handlers.ActionDelegateHandlerProxy.execute(ActionDelegateHandlerProxy.java:286) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:471) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:424) at org.eclipse.ui.actions.ContributedAction.runWithEvent(ContributedAction.java:173) at org.eclipse.ui.internal.actions.CommandAction.run(CommandAction.java:192) at org.eclipse.ui.texteditor.AbstractTextEditor$14.triggerAction(AbstractTextEditor.java:2804) at org.eclipse.ui.texteditor.AbstractTextEditor$14.mouseDoubleClick(AbstractTextEditor.java:2829) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:182) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:359) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:174) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:475) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:415) at org.eclipse.equinox.launcher.Main.run(Main.java:1140) at org.eclipse.equinox.launcher.Main.main(Main.java:1115)"}, {"bug_id": "18306", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JDIDebugPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "listeners code workbench defend support runnables errors opening defend cripple", "bug_title": " Use safe runnables for listeners and \"untrusted\" code", "bug_description": "See Bug 18305. An NPE in the runtime workbench launch configuration prevents me from opening the launch configuration dialog. Whereever possible, the platform launch config support should defend against errors in the delegates. An error in one delegate (in this case, PDE) shouldn't cripple the platform."}, {"bug_id": "183206", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/refactoring/AbstractRefactoringDebugTest.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Bug failure refactoring Build subsequently tests canot ensure test atomic", "bug_title": " [refactoring] Mysterious refactoring failure caused other tests to fail", "bug_description": "Build: N20070419-0010 had a refactoring failure that subsequently caused 25 other tests to fail. Our refactoring tests should be more atomic to prevent cascading failures. The reason for failure of the test canot be reproduced, but it would be good to look at the tests to ensure that something is not hagged up."}, {"bug_id": "184862", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/SourceBasedSourceGenerator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Deck DIAMONDS deal parseInt Integer subList block method HEARTS enum", "bug_title": " [evaluation] evaluation in static method with generics does not work", "bug_description": "I20070501-0010 * Using the following source * Debug to a breakpoint in deal() * evaluate \"deck.subList(deckSize-n, deckSize)\" > error: Evaluations must contain either an expression or a block of well formed statements  public class Deal { public static void main(String args[]) { int numHands = Integer.parseInt(args[0]); int cardsPerHand = Integer.parseInt(args[1]); List<Card> deck  = Card.newDeck(); Collections.shuffle(deck); for (int i=0; i < numHands; i++) System.out.println(deal(deck, cardsPerHand)); } public static ArrayList<Card> deal(List<Card> deck, int n) { int deckSize = deck.size(); List<Card> handView = deck.subList(deckSize-n, deckSize); ArrayList<Card> hand = new ArrayList<Card>(handView); handView.clear(); return hand; } } and import java.util.*; public class Card { public enum Rank { DEUCE, THREE, FOUR, FIVE, SIX, SEVEN, EIGHT, NINE, TEN, JACK, QUEEN, KING, ACE } public enum Suit { CLUBS, DIAMONDS, HEARTS, SPADES } private final Rank rank; private final Suit suit; private Card(Rank rank, Suit suit) { this.rank = rank; this.suit = suit; } public Rank rank() { return rank; } public Suit suit() { return suit; } public String toString() { return rank + \" of \" + suit; } private static final List<Card> protoDeck = new ArrayList<Card>(); // Initialize prototype deck static { for (Suit suit : Suit.values()) for (Rank rank : Rank.values()) protoDeck.add(new Card(rank, suit)); } public static ArrayList<Card> newDeck() { return new ArrayList<Card>(protoDeck); // Return copy of prototype deck } }"}, {"bug_id": "187000", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/monitors/JavaThreadContentProvider.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersManager.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "complete times machine stick expands stack select Reproduce step mouse", "bug_title": " Debugger looses selection/focus a lot on the thread stack where you debug.", "bug_description": "Build ID:  I20070503-1400 Steps To Reproduce: Just start debugging and press with the mouse the step over constantly. In my enviroment windows xp java 6 (and i have seen it now also on a co workers linux machine) many times the debugger looses the selection/focus on a stacktrace. Even the complete tree is collapsed and i really have to search for what thread is in suspend so that i can select it press step over once and then the tree expands again. I always had some problems with this in older releases. But currently it is really bad it pretty much happens multiply times when i debug. The selection and focus should just stick as much as possible because if it looses focus i can't press step over. I have to wait and select the right thread again before i can go on. More information:"}, {"bug_id": "18792", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ExceptionCaughtToggleAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/EntryToggleAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/AccessWatchpointToggleAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ExceptionUncaughtToggleAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ModificationWatchpointToggleAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/BreakpointToggleAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ExitToggleAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/BreakpointSuspendPolicyToggleAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Bug multi uncaught uncaught toggles selections selections toggles uncaught breakpoints", "bug_title": " Minor: caught/uncaught only enabled for single selection", "bug_description": "The caught/uncaught toggles are only enabled for single selections in the breakpoints view. They could be enabled for multi-selections when the selection only contains exception breakpoints."}, {"bug_id": "189012", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ExpressionInputDialog.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/IJavaDebugHelpContextIds.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/JavaPrimitiveValueEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/StringValueInputDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "dialogs Bug Primitive", "bug_title": " Change Value dialogs do not have F1 help", "bug_description": "The Change Primitive Value and Change Object Value dialogs, accessible using the change value command in the variables/expressions view do not have help contexts."}, {"bug_id": "18926", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.properties", "org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/SocketAttachConnector.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaLocalApplicationLaunchConfigurationDelegate.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/Standard11xVM.java", "org.eclipse.jdt.launching/plugin.xml", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMType.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/Standard11xVMRunner.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/Standard11xVMType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "exists Add JRE unable location Reason window pretty Bug", "bug_title": " unable to add JDK 1.1.8 to Installed JRE's in Preferences", "bug_description": "In 20020528 on Windows 2000, I am unable to add Sun JDK 1.1.8 to the list of Installed JRE's and then select it as the default JRE.  Here are steps I take. 1.  Go to Window/Preferences/Java/Installed JREs 2.  Click Add... 3.  Set JRE Name to \"Sun 1.1.8\", Set JRE home directory to \"D:\\java\\jdk1.1.8\" 4.  Click OK 5.  Click the checkbox to set it as default. An error window pops up stating \"Installed JRE location no longer exists.  JRE will be removed.  Reason: JRE removed\" This is a pretty big problem in that I can't get any development done. Here is the weird part, I have an old workspace where this was working, and I can use that workspace with any of the current builds without experiencing this problem.  It has no problem using the JDK, it just can't add it on a clean workspace."}, {"bug_id": "191486", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/JavaBreakpointPropertiesAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Eclipse main dialogs java start Alt Dispatch equinox JavaBreakpointPropertiesAction DelegatingMethodAccessorImpl", "bug_title": " [breakpoints] Alt+Enter for java breakpoint properties command is throws exceptions", "bug_description": "The new keybinding (Alt+Enter) for java breakpoint properties is active in the breakpoints view all the time, and if used on a non-java breakpoint produces the following error: org.eclipse.core.runtime.AssertionFailedException: null argument: at org.eclipse.core.runtime.Assert.isNotNull(Assert.java:84) at org.eclipse.core.runtime.Assert.isNotNull(Assert.java:72) at org.eclipse.jface.viewers.StructuredSelection.<init>(StructuredSelection.java:66) at org.eclipse.jdt.internal.debug.ui.actions.JavaBreakpointPropertiesAction$2.getSelection(JavaBreakpointPropertiesAction.java:57) at org.eclipse.ui.actions.SelectionProviderAction.getStructuredSelection(SelectionProviderAction.java:97) at org.eclipse.ui.dialogs.PropertyDialogAction.createDialog(PropertyDialogAction.java:170) at org.eclipse.ui.dialogs.PropertyDialogAction.run(PropertyDialogAction.java:154) at org.eclipse.jdt.internal.debug.ui.actions.JavaBreakpointPropertiesAction.run(JavaBreakpointPropertiesAction.java:66) at org.eclipse.ui.internal.handlers.ActionDelegateHandlerProxy.execute(ActionDelegateHandlerProxy.java:271) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:475) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:429) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:165) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:470) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:821) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:879) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:568) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:510) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:126) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1141) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:937) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:975) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:971) at org.eclipse.swt.widgets.Widget.wmSysChar(Widget.java:2207) at org.eclipse.swt.widgets.Control.WM_SYSCHAR(Control.java:4308) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3744) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5370) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4364) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2264) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3291) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443) at org.eclipse.equinox.launcher.Main.run(Main.java:1169) at org.eclipse.equinox.launcher.Main.main(Main.java:1144) To reproduce: 1. create a non-java breakpoint (I used an ant breakpoint :) ) 2. select it in the breakpoints view and press Alt+Enter Expected: nothing will happen as there are no properties for an ant breakpoint Happens: it tries (and fails) to open the properties page"}, {"bug_id": "19363", "ground_truth": ["org.eclipse.jdt.debug.ui/icons/full/wizban/library_wiz.gif", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/JREContainerWizardPage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugImages.java"], "repo": "eclipse.jdt.debug", "reformed_query": "image Missing library library image banner image library image Missing", "bug_title": " Missing wizard banner on library container", "bug_description": "Asked for new image."}, {"bug_id": "19412", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "classpath Create project projects config required main classpath build container", "bug_title": " more than one JRE on classpath", "bug_description": "If a project has required projects that use a different build time JRE, all the JREs show up on the bootpath and source lookup path in the launch config. For example, create two projetcs, using container libraries, pointing to two different JREs. Create a main class in one of the projects (leaf project), and create a launch config for the class. Look on the bootpath and source lookup tabs - both JREs appear. Only the launch config's project's JRE should appear."}, {"bug_id": "197011", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/VMLibraryBlock.java"], "repo": "eclipse.jdt.debug", "reformed_query": "click retain additional library Steps Preferences Select library button adding", "bug_title": " Add JRE fails to retain system library modifications.", "bug_description": "When adding a new JRE to the IDE, modifications to the JRE system libraries section will be lost once the user click on the OK button. Steps to reproduce: (1) Windows -> Preferences -> Java -> Installed JREs (2) Click on Add. (3) Fill in the requested information (JRE type, name, directory, etc.). (4) Modify the JRE system libraries section by, for example, adding an additional external JAR file. (5) Click on OK. (6) Select the new JRE and click on Edit. Any external JARs added (or removed) via the Add JRE window will be lost. The Edit JRE window works as expected."}, {"bug_id": "197282", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/test/stepping/ForceReturnTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Debug DebugElementEventWaiter launch IJavaThread typeName newValue resumeToLineBreakpoint remove resume jdt", "bug_title": " org.eclipse.jdt.debug.test.stepping.ForceReturnTests depend on VM-specific behaviour.", "bug_description": "Build ID: I20070621-1340 Steps To Reproduce: The tests in org.eclipse.jdt.debug.test.stepping.ForceReturnTests fail when running with JRockit R27.3.1. The tests incorrectly assume that a STEPEVENT cannot be co-located in the same event set together with the SUSPEND event from a breakpoint set at the same line. For example: public void testForceIntReturnTopFrame() throws Exception { String typeName = \"ForceReturnTests\"; ILineBreakpoint bp2 = createLineBreakpoint(22, typeName); ILineBreakpoint bp = createLineBreakpoint(31, typeName); IJavaThread thread = null; try { thread= launchToLineBreakpoint(typeName, bp, false); IJavaStackFrame stackFrame = (IJavaStackFrame) thread.getTopStackFrame(); IJavaDebugTarget target = (IJavaDebugTarget) stackFrame.getDebugTarget(); if (target.supportsForceReturn()) { assertTrue(\"Force return should be enabled\", stackFrame.canForceReturn()); DebugElementEventWaiter waiter = new DebugElementEventWaiter(DebugEvent.SUSPEND, thread); stackFrame.forceReturn(target.newValue(42)); Object source = waiter.waitForEvent(); assertTrue(\"Suspend should be from thread\", source instanceof IJavaThread); thread = (IJavaThread) source; thread = resumeToLineBreakpoint(thread, bp2); stackFrame = (IJavaStackFrame) thread.getTopStackFrame(); IJavaVariable var = stackFrame.findVariable(\"x\"); assertNotNull(\"Missing variable 'x'\", var); assertEquals(\"Return value incorrect\", target.newValue(42), var.getValue()); } } finally { terminateAndRemove(thread); removeAllBreakpoints(); } } Note how the test does a: stackFrame.forceReturn(target.newValue(42)); Object source = waiter.waitForEvent(); This does indeed both force a return and it does wait for the 'suspend' issued by the step_return. It does however miss the one from the breakpoint, which is in same event set and also queued a (eclipse internal) SUSPEND event. After that the test waits for the breakpoint, but since that one has already been reported it will be forever lost. Note that debugging with forceearly in Eclipse with JRockit works fine. This is just a test error. This bug maps to JRockit CR332215. More information:"}, {"bug_id": "204455", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaConnectTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Updating Change apply change launch Config Config change configuration launch", "bug_title": " ConnectionType not remembered in Remote Java Application Launch Config", "bug_description": "M4 I20070921-0919 1.  Create a Remote Java Application launch configuration 2.  Change connection type to Standard (Socket Listen) Notice that the Apply button is not enabled after the change. Clicking Debug will still launch the \"Attach\" connection type. The Connection Type still specifies \"Attach\" if the same launch configuration is opened again. Updating the \"Port\" allows me to apply the changes and will launch properly."}, {"bug_id": "20468", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/RuntimeClasspathEntryLabelProvider.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "visual creating result image helpful installation guess src Source path", "bug_title": " Installed JRE: Source attachment set to non existing location", "bug_description": "F3 When creating a new JRE on alocation that contains no source, the rt.jar's source attachment path is set to a guess: xxx/jre/src.jar, even there is no JAR like this. This has as result that on the edit JRE page the image of rt.jar has a attached source image. To find out if the JAR really has a attachemnt set, you have to uncheck the 'Use default' check, 'Source attach' on the JAR and browse file system. The very first page of the JDT documentation ('Getting Started') is about verifying the correct JRE installation. As long as we will not have a src.zip in our drop, it is important to let users do this source attachment check. It would be very helpful if the visual indication is better. We should not set a dummy path or let the label provider do an exists test."}, {"bug_id": "206693", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/EEVMPage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Location suspect JRE created   file", "bug_title": " JRE location looks wrong after installing j9 using ee description file", "bug_description": "I configured an installed JRE for j9, as described here: http://wiki.eclipse.org/index.php/J9 I simply copied the ee description from the wiki, and pasted into c:\\vm\\j9\\bin. However, the \"Location\" column on the Installed JREs preference page gives the JRE location as \"c:\\eclipse\\${ee.home}\\..\"  In my case \"c:\\eclipse\" is the PWD, so I suspect somewhere you have created a relative path \"${ee.home}\\..\", which java.io.File then resolves based on the PWD."}, {"bug_id": "212442", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/breakpoints/ImportBreakpointsTest.java"], "repo": "eclipse.jdt.debug", "reformed_query": "logic String breakpoints breakpoint Failing", "bug_title": " Failing importbreakpoints tests", "bug_description": "with the fix to 208127, the logic was not quite right and is causing test failures for two of the import breakpoint tests. The problem was comparing a String to an Integer and the second clause of the if statement, which would say that two line breakpoints were equal, even though they were not."}, {"bug_id": "21400", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ManageBreakpointActionDelegate.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ManageBreakpointRulerAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/BreakpointUtils.java"], "repo": "eclipse.jdt.debug", "reformed_query": "breakpoint Start Bug method memberStart Bug breakpoint memberStart fine bug", "bug_title": " Loss of member details in text of Breakpoints", "bug_description": "Since we fixed bug 17868, we have lost the fine grain detail of which member in a type that a breakpoint is located. We could add attributes to a Java line breakpoint for memberStart and memberEnd so that we could render the name of the method that a breakpoint is located within."}, {"bug_id": "21769", "ground_truth": ["org.eclipse.jdt.debug/buildnotes_jdt-debug.html", "org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/MethodImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "program jdi Add consistently sun location code single", "bug_title": " Invalid code index stepping in junit code", "bug_description": "Build: eclipse 2.0 IBM JRE 1.3.0 (build cn130-20010502) This is consistently reproducible for me.  We have junit tests that are launched using the eclipse platform testing framework (org.eclipse.core.tests.harness). If I do the following: 1) Add a breakpoint in junit.framework.TestResult.run(TestCase) on the line \"runProtected(test, p)\". 2) Run any junit test 3) When the breakpoint is hit, step into \"runProtected\".  Then step into \"p.protect()\".  When this happens, a new stack frame appears in the debug view that looks like this: <not responding> 4) After that point, every attempt to step fails.  The log file quickly fills with stack traces that say either: !MESSAGE Internal Error !STACK 1 org.eclipse.debug.core.DebugException[5010]: com.sun.jdi.InvalidCodeIndexException: Invalid code index of a location given OR: !MESSAGE Internal Error !STACK 1 org.eclipse.debug.core.DebugException: Thread not suspended, stack frame unavailable. After this has happened, the debugger is not responsive.  Attempting to terminate the program has no response at this point. \"Terminate and remove\" will make it disappear from the debug view though. I will attach a log file that shows the complete stack traces.  I've trimmed the log (it was over 100K), but I've left some duplicates in case the timing is interesting (there are several errors within a second, so presumably they're all triggered by a single step attempt)."}, {"bug_id": "217736", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/EEVMType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "sendEvent validate preference needed Build Table needed send VMFrom launching", "bug_title": " Unhandled event loop exception", "bug_description": "Build ID: I20080204-0800 Steps To Reproduce: 1.From a new workspace with a simple Hello java project (may not be needed, but that is my setup) go to Windows->Preference->Java->Installed JRE. Select the attached aa.ee file. 2. You will get a message \"Enter definition file\" even though you have selected the ee file. 3. Close the preference dialog and check the error log and it has a message \"Unhandled event loop exception\". More information: If I use the first 3 paths for -Dee.src and -Dee.bootclasspath it works fine but once I add the rest of the paths I get the error. Here is the stack trace - java.util.ConcurrentModificationException at java.util.AbstractList$Itr.checkForComodification(Unknown Source) at java.util.AbstractList$Itr.next(Unknown Source) at org.eclipse.jdt.internal.launching.EEVMType.getLibraryLocations(EEVMType.java:138) at org.eclipse.jdt.launching.JavaRuntime.createVMFromDefinitionFile(JavaRuntime.java:2694) at org.eclipse.jdt.internal.debug.ui.jres.EEVMPage$4.run(EEVMPage.java:177) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.jdt.internal.debug.ui.jres.EEVMPage.validateDefinitionFile(EEVMPage.java:184) at org.eclipse.jdt.internal.debug.ui.jres.EEVMPage.access$2(EEVMPage.java:159) at org.eclipse.jdt.internal.debug.ui.jres.EEVMPage$2.modifyText(EEVMPage.java:128) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:166) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:976) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:957) at org.eclipse.swt.widgets.Text.wmCommandChild(Text.java:2423) at org.eclipse.swt.widgets.Control.WM_COMMAND(Control.java:3912) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3779) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4460) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2247) at org.eclipse.swt.widgets.Text.callWindowProc(Text.java:176) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3866) at org.eclipse.swt.widgets.Text.windowProc(Text.java:2067) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4460) at org.eclipse.swt.internal.win32.OS.SetWindowTextW(Native Method) at org.eclipse.swt.internal.win32.OS.SetWindowText(OS.java:3116) at org.eclipse.swt.widgets.Text.setText(Text.java:1858) at org.eclipse.jdt.internal.debug.ui.jres.EEVMPage$3.widgetSelected(EEVMPage.java:147) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3760) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3371) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.jdt.internal.debug.ui.jres.InstalledJREsBlock.addVM(InstalledJREsBlock.java:560) at org.eclipse.jdt.internal.debug.ui.jres.InstalledJREsBlock.access$9(InstalledJREsBlock.java:557) at org.eclipse.jdt.internal.debug.ui.jres.InstalledJREsBlock$8.handleEvent(InstalledJREsBlock.java:316) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3760) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3371) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:65) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:582) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:499) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:410) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3760) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3371) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2392) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2356) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2222) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:474) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:469) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:564) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1251)"}, {"bug_id": "21776", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/EvaluateAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "java java enabled Frame action IStack frames action IJava Bug", "bug_title": " Evaluate action enabled for non-java stack frames", "bug_description": "The Evaluate action enables for IStackFrames. It should really just enable for IJavaStackFrames (via #getAdapter). The action checks for an IJavaStackFrame adapter when the action is invoked. Thus it can be enabled for non-java stack frames, and do nothing when invoked."}, {"bug_id": "21792", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/ExecutionArguments.java"], "repo": "eclipse.jdt.debug", "reformed_query": "argument Duser arguments passed argument dir eaten John reverse problems", "bug_title": " vm arguments ending with a backslash cause problems", "bug_description": "When creating a launch configuration, if one specifies some vm arguments, those vm arguments cause problems when they end with a backslash ('\\'). What seems to happen is that the backslash 'consumes' the character that comes next. So if I for instance specify 2 vm arguments: -Duser.dir=c:\\ -Duser.name=John Then the space which separates the 2 arguments will be 'eaten' by the backslash. The result is that only 1 vm argument is passed to the application. If I put 2 spaces between the 2 arguments, then both vm arguments are passed to the application, but now the first argument ends with a space (as it should). If I reverse the order of the arguments, then everything works fine."}, {"bug_id": "217994", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractVMRunner.java"], "repo": "eclipse.jdt.debug", "reformed_query": "configuration Dvm args honors test jre args overrides bug launch", "bug_title": " [patch][launching] Run/Debug honors JRE VM args before Launcher VM args", "bug_description": "Build ID: v3.2.1 M20060921-0945 Steps To Reproduce: 1. Set a JRE level VM args via Preferences (e.g. -Dvm.test.arg=jre or -Xmx1024) 2. Create a simple java app that prints out the VM args you specified (e.g. System.getProperty(\"vm.test.arg\")) 3. Create a launch configuration for this class and set VM args here (e.g. -Dvm.test.arg=launch or -Xmx128) 4. Execute the launcher.  You will see that the JRE-level args are used, instead of the launch configuration args. More information: Filing this as a bug b/c the behavior is counterintuitive.  The launchers should act as overrides, so their args should be specified first when invoking a VM.  Tested and reproducible in both 3.2 and 3.3 builds."}, {"bug_id": "218086", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/variables/JavaContentProviderFilter.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Constants working filter statics constants logic working filters view Statics", "bug_title": " Filtering statics also filters constants", "bug_description": "When working on bug 169359 and  bug 214744 we changed the way that the show constants and show statics actioned filtered the view.  The logic used to filter the variables should work differently. Right now, if the user wants to filter statics, all statics are removed including constants (static finals).  While constants are technically statics, the actions are named Show Constants and Show Statics.  Having Show Statics turned off should not filter constants."}, {"bug_id": "220654", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/EEVMPage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/EEVMPage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/EEVMPage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "hit standard listener createVMFromDefinitionFile decent amount calls file Definition time", "bug_title": " EEVMPage creates VM from EE file 3 times after selecting file", "bug_description": "Put a breakpoint in JavaRuntime#createVMFromDefinitionFile(). Installed JRE Pref Page, click Add..., select Execution Environment Description, browse to an ee file. Once an ee file has been selected, the breakpoint will be hit three times.  Each time this breakpoint is hit, we are doing a decent amount of work, especially in the call to EEVMType.getLibaryLocations() because of I/O and regex calls. The calls are always coming from the modify listener on the text box.  However, the problem does not occur on the standard vm page."}, {"bug_id": "22081", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/instructions/Instruction.java", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/instructions/PushArrayType.java", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/ASTInstructionCompiler.java", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/instructions/LocalVariableCreation.java", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/instructions/ArrayInitializerInstruction.java", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/instructions/ArrayInstruction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "array Eval declaration current array Exp Eval Bug Eval declaration", "bug_title": " AST Exp Eval: variable declaration don't work for array type variables", "bug_description": "The current implementation don't manage variable declaration for array type"}, {"bug_id": "223530", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/StepIntoSelectionHyperlinkDetector.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ActionMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ActionMessages.java"], "repo": "eclipse.jdt.debug", "reformed_query": "suspect investigated investigated support investigated hyperlink suspect Step Step Step", "bug_title": " Step into Selection hyperlink is broken", "bug_description": "I20080320-0800. The Step into Selection hyperlink is broken. I suspect this got broken by our new multi-hyperlink support. Needs to be investigated."}, {"bug_id": "22842", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIFieldVariable.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Hash readAndDispatch AbstractTreeViewer internal debug boot variables JDIFieldVariable auto updateSelection", "bug_title": " NPE adding variable to view", "bug_description": "Build 20020820 + latest CVS as of 20020823 I was doing some stepping, when a pop-up appeared stating that there'd been an error. Afterwards, my variables view said \"Thread not suspended, stack frame unavailable,\" every time I stepped. The following was in the log: java.lang.NullPointerException at org.eclipse.jdt.internal.debug.core.model.JDIFieldVariable.hashCode(JDIFieldVariable.java(Compiled Code)) at java.util.HashMap.put(HashMap.java(Compiled Code)) at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentProvider.cache(VariablesViewContentProvider.java(Compiled Code)) at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentProvider.getChildren(VariablesViewContentProvider.java:61) at org.eclipse.debug.internal.ui.views.variables.VariablesViewContentProvider.getElements(VariablesViewContentProvider.java:78) at org.eclipse.jface.viewers.AbstractTreeViewer.getRawChildren(AbstractTreeViewer.java(Compiled Code)) at org.eclipse.jface.viewers.StructuredViewer.getFilteredChildren(StructuredViewer.java(Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java(Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java(Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer$2.run(AbstractTreeViewer.java:646) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java(Compiled Code)) at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:638) at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:234) at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:875) at org.eclipse.debug.internal.ui.views.variables.VariablesView.setViewerInput(VariablesView.java:276) at org.eclipse.debug.internal.ui.views.variables.VariablesView.selectionChanged(VariablesView.java:989) at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java(Compiled Code)) at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java(Compiled Code)) at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java(Compiled Code)) at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java(Compiled Code)) at org.eclipse.ui.internal.PagePartSelectionTracker$1.selectionChanged(PagePartSelectionTracker.java:40) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java(Compiled Code)) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1155) at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:904) at org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand(LaunchView.java:753) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent(LaunchViewEventHandler.java:242) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent(LaunchViewEventHandler.java:192) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java(Compiled Code)) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.java(Compiled Code)) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java(Compiled Code)) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1239) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:775) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:462) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:247) at org.eclipse.core.launcher.Main.run(Main.java:703) at org.eclipse.core.launcher.Main.main(Main.java:539)"}, {"bug_id": "228985", "ground_truth": ["org.eclipse.jdt.debug/buildnotes_jdt-debug.html", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/InstalledJREsBlock.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Window layout Bug problem viewer time Build Bug JREs pref", "bug_title": " JREsPreferencePage.java resizing problem", "bug_description": "Build ID: Build id: I20080409-1425 Steps To Reproduce: 1.Start eclipse, at startup, a configuration application, in this case, programmatically (not via the UI - pref page) adds a JRE to the JREsPreferencePage with a very long location path \u00e2\u20ac\u201c e.g. 170 characters 2.Go to the Window -> Preferences\u00e2\u20ac\u00a6 -> Java -> Installed JREs 4.The Page (UI) is stretched all the way to the right and the Location column of this page\u00e2\u20ac\u2122s viewer(table) is also stretched (170 characters \u00e2\u20ac\u201c in this case) , causing the UI to be badly layout 5.If the JRE with the long location-path was added via the UI, the UI is not stretched, the location column is not stretched and the UI looks good. More information: Does the Location column should stretch to a default max value at all time so preventing the UI from doing this?"}, {"bug_id": "229380", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/MoveDownAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/MoveUpAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Configuration buttons incorrectly pressing entry bottom bottom moving Java reflect", "bug_title": " Up/Down buttons incorrectly enabled on classpath tab", "bug_description": "1) Open a Java Launch Configuration 2) Go to the classpath tab 3) Ensure there is at least one bootstrap entry and one user entry 4) Select the bottom bootstrap entry, the DOWN button is enabled, but pressing it does nothing. 5) Select the top user entry, the UP button is enabled, but pressing it does nothing. We should be able to update the button to reflect whether moving it is possible."}, {"bug_id": "229394", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/JavaObjectValueEditor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "applyEditorValue thread adaptor ide occurred Window callWindowProc internal Editor Typed", "bug_title": " [CellEditors] NPE from JFace when using cell editor in variables view", "bug_description": "Steps do not consistently reproduce, but I have encontered the NPE multiple times while debugging.  Possible race condition in JFace.  There is a null check before the NPE location, but another thread could call dispose. 1) Run a java program with an array of chars. 2) Stop on a breakpoint, display the array of chars in the var view. 3) Select an array entry's value in the var view to open cell editor 4) Delete the value 5) Click outside of the cell 6) Two errors, first error (Invalid Type) is correct, second is NPE eclipse.buildId=I20080429-0100 java.version=1.5.0_09 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Command-line arguments:  -os win32 -ws win32 -arch x86 Error Tue Apr 29 11:40:28 CDT 2008 Problems occurred when invoking code from plug-in: \"org.eclipse.jface\". java.lang.NullPointerException at org.eclipse.jface.viewers.ColumnViewerEditor.applyEditorValue(ColumnViewerEditor.java:343) at org.eclipse.jface.viewers.ColumnViewerEditor$2.applyEditorValue(ColumnViewerEditor.java:152) at org.eclipse.jface.viewers.CellEditor$1.run(CellEditor.java:329) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:880) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.CellEditor.fireApplyEditorValue(CellEditor.java:327) at org.eclipse.jface.viewers.CellEditor.focusLost(CellEditor.java:712) at org.eclipse.jface.viewers.TextCellEditor$5.focusLost(TextCellEditor.java:185) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:136) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1007) at org.eclipse.swt.widgets.Control.sendFocusEvent(Control.java:2423) at org.eclipse.swt.widgets.Widget.wmKillFocus(Widget.java:1764) at org.eclipse.swt.widgets.Control.WM_KILLFOCUS(Control.java:4124) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3814) at org.eclipse.swt.widgets.Text.windowProc(Text.java:2074) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4498) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2259) at org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1521) at org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN(Tree.java:6338) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3816) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5689) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4498) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2345) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3377) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2380) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2344) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2210) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:494) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:489) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:112) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236)"}, {"bug_id": "231790", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugImages.java"], "repo": "eclipse.jdt.debug", "reformed_query": "thrown Method UIJob resource PlatformUI Path send swt util ImageRegistry", "bug_title": " NPE when opening Run Configuration Dialog on linux/gtk", "bug_description": "I20080508-2000 On linux/gtk 1. Run > Run Configurations... Is: A couple of NPEs are thrown, then the dialog opens. Launch configurations can be selected but right hand side of the dialog remains empty. java.lang.NullPointerException at org.eclipse.jface.resource.URLImageDescriptor.getFilePath(URLImageDescriptor.java:138) at org.eclipse.jface.resource.URLImageDescriptor.createImage(URLImageDescriptor.java:157) at org.eclipse.jface.resource.ImageDescriptor.createResource(ImageDescriptor.java:165) at org.eclipse.jface.resource.DeviceResourceManager.allocate(DeviceResourceManager.java:56) at org.eclipse.jface.resource.AbstractResourceManager.create(AbstractResourceManager.java:88) at org.eclipse.jface.resource.ResourceManager.createImageWithDefault(ResourceManager.java:192) at org.eclipse.jface.resource.ImageRegistry.get(ImageRegistry.java:211) at org.eclipse.debug.internal.ui.DebugPluginImages.getImage(DebugPluginImages.java:335) at org.eclipse.debug.internal.ui.DefaultLabelProvider.getImage(DefaultLabelProvider.java:77) at org.eclipse.debug.internal.ui.DelegatingModelPresentation.getDefaultImage(DelegatingModelPresentation.java:197) at org.eclipse.debug.internal.ui.DelegatingModelPresentation.getImage(DelegatingModelPresentation.java:149) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.getImage(WrappedViewerLabelProvider.java:117) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:165) at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:145) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:932) at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:102) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:880) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:1012) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:466) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:880) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2041) at org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren(AbstractTreeViewer.java:2675) at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(AbstractTreeViewer.java:1856) at org.eclipse.jface.viewers.TreeViewer.internalRefreshStruct(TreeViewer.java:710) at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1831) at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1787) at org.eclipse.jface.viewers.StructuredViewer$8.run(StructuredViewer.java:1457) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationViewer.preservingSelection(LaunchConfigurationViewer.java:60) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1455) at org.eclipse.jface.viewers.ColumnViewer.refresh(ColumnViewer.java:548) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1412) at org.eclipse.ui.dialogs.FilteredTree$2.runInUIThread(FilteredTree.java:394) at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:132) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3375) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3033) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:1113) at org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:388) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:396) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:332) at org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:81) at org.eclipse.debug.ui.actions.OpenLaunchDialogAction.runWithEvent(OpenLaunchDialogAction.java:89) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:241) at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:229) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:582) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:499) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:410) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1154) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3398) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3030) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2394) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2358) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2210) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:494) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:489) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:112) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236)"}, {"bug_id": "232699", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/connect/ConnectMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaConnectTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "article Messages properties article jdi jdt marin Type Ryding Connector", "bug_title": " TVT34:TCT330: TVT FR - Space missing before colon sign in French", "bug_description": "<response_by> martine marin at 2008.05.16.08.00.20 </response_by> OS: Linux Build: 0514 Testcase: 16.000240 Steps to reproduce Click on Window -> Preferences Expand Run/Debug Click to select Launching While you are on the Debug view perspective, click on the Debug Drop down icon Click on Debug Configurations.. rom the left pane select and double-click on Remote Java Application Under the Connect tab --> under Connection Type: click on the drop-down arrow Space is missing before colon sign. Fixed in RSE by David but still there in Platform. Thanks, Martine <response_by> John Ryding at 2008.05.18.12.30.58 </response_by> This truncation does not occur in the english build.  The strings are located in the following file: eclipse/plugins/org.eclipse.jdt.debug/jdimodel_jar/org/eclipse/jdi/internal/connect/ConnectMessages.properties\tSocketAttachingConnectorImpl_Host_2= <response_by> John Ryding at 2008.05.18.12.31.10 </response_by> This article was reassigned from Category:''TVT/Testing,Inbox''."}, {"bug_id": "23328", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/VirtualMachineImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Integer size breakpoing thread add   testCapacity", "bug_title": " Resume fails on \"suspend VM\" breakpoint after stepping - VM BUG", "bug_description": "Test Case: * put a breakpoing in VectorTest#testCapacity, line 34 public void testCapacity() { int size= fFull.size(); for (int i= 0; i < 100; i++) >>>\t\t\tfFull.addElement(new Integer(i)); assertTrue(fFull.size() == 100+size); } * set the breakpoint to suspend the VM * debug the program * when the breakpoint is hit, step over TWICE * resume the VM * only the main thread resumes The problem does not seem to occurr if I step over only ONCE. Perhaps it has something to do with hitting the breakpoint a second time (while stepping?)"}, {"bug_id": "23568", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "scrapbook code working Attempting menu Attempting activation Scrapbook content Space", "bug_title": " Ctrl-Space is not working in the Scrapbook", "bug_description": "20020911 Attempting to invoke code assist with Ctrl-Space is no longer working in the scrapbook. Using the Edit menu Content Assist and auto activation does provide content assist."}, {"bug_id": "23716", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "error nice runtime qualify formatter displays Reporting errors details detail", "bug_title": " Reporting \"formatter errors\"", "bug_description": "When there is a runtime error in a detail formatter, the details area displays the error message. It might be nice to qualify the message with a prefix like \"Detail formatter error: \"."}, {"bug_id": "241394", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/core/ConsoleInputTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Stream Build console String Stack readLine printStackTrace read version text", "bug_title": " [Console] Can not get input text properly in eclipse console panel", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1.Create a Java Project 2.Create a class TryTest: import java.io.BufferedReader; import java.io.IOException; import java.io.InputStreamReader; public class TryTest { public static void main(String[] args) { BufferedReader buffer = new BufferedReader(new InputStreamReader(System.in)); try { System.out.println(\">\" + buffer.readLine()); } catch (IOException e) { e.printStackTrace(); } } } 3. Run as Java Application; 4. In the console panel, input an \"a\" and del it, then a \"b\" and del it, last a \"c\" and hit enter; 5. \">abc\" should be displayed, but \">c\" is expected. In native console, the same class file runs properly. More information: This problem is introduced in version 3.4, in version 3.3 it works just fine as expected. This problem impacts applications using elcipse console when user uses IME to input texts, some IME's input suggestions, which are not part of the input text and will disapear after input complete, are also captured by eclipse console."}, {"bug_id": "244395", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/LaunchConfigurationProjectMainTypeChange.java"], "repo": "eclipse.jdt.debug", "reformed_query": "attribute change disappeared attribute launching Bug refactoring launching disappeared view", "bug_title": " [refactoring] [launch config refactoring] project rename cannot undo", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1. create a launch config in a java project. 2. rename the java project. The launch config will refactored (org.eclipse.jdt.launching.PROJECT_ATTR attribute in the launch config will change). 3.Undo the rename operation (press Ctrl+z in Package Explorer view). 4. Now the launch config will disappeared. More information:"}, {"bug_id": "24579", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java", "org.eclipse.jdt.launching/.classpath"], "repo": "eclipse.jdt.debug", "reformed_query": "Bug launching Plugin java core attempts Workspace Preferences Modal Context", "bug_title": " Deadlock on first checkout of java project", "bug_description": "Build 20021008 Exact steps followed: 1) Open new workspace 2) Go to Preferences-> Plugin Development -> Java Build Path Control 3) Uncheck all check boxes 4) Open new CVS perspective 5) Create anonymous connect to eclipse.org 6) Checkout org.eclipse.core.resources Deadlock. Note: this is not a core bug, I'm just logging it here until I can investigate further.  The problem is that someone is launching a ModalContext thread from the UI, and not blocking until it finishes.  Then another ModalContext is forked, so we have: ModalContext1: holding Workspace lock, attempts syncExec ModalContext2: waiting on workspace lock UI thread: blocked on ModalContext 2"}, {"bug_id": "248054", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/BreakpointLocationVerifierJob.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ToggleBreakpointAdapter.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/BreakpointMarkerUpdater.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Bug Turbo glance breakpoints hilighted tasks Text breakpoints Reproduce breakpoint", "bug_title": " Can't set breakpoint annotation as Highlighted", "bug_description": "Build ID: I20080918-0100 Steps To Reproduce: In Annotations, set Breakpoints to Show in Text as Highlighted, and pick a nice color. Observe that breakpoints are not hilighted in the editor. This isn't just the latest version, it's always been true. More information: This is the second biggest annoyance in Eclipse (after not being able to set syntax hilighting background colors). The annotation icon for breakpoint is often overwritten by others (e.g. warnings, tasks) so it'd be nice to see at a glance where the breakpoints were (a la Turbo C circa 1990...)"}, {"bug_id": "24839", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "java Running UITest attached Runtime debugging Running Timeout java Timeout", "bug_title": " TimeoutException debugging org.eclipse.ui.tests", "bug_description": "build 20021015 I ran the UITestSuite of org.eclipse.ui.tests in debug mode and got the attached log. The TimeoutException at the top of the log was also printed in the console. I ran the same test suite in debug mode a few times before without problems. Running with IBM JRE: java version \"1.4.0\" Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.0) Classic VM (build 1.4.0, J2RE 1.4.0 IBM Windows 32 build cn140-20020902"}, {"bug_id": "24863", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/IJavaDebugHelpContextIds.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersPreferencePage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Formatters Detail pref Detail Formatters Formatters Formatters Formatters Bug Formatters", "bug_title": " F1 Help on Detail Formatters pref page", "bug_description": "F1 help is not available for this page."}, {"bug_id": "249593", "ground_truth": ["org.eclipse.jdt.launching/META-INF/MANIFEST.MF", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "compliance Reproduce kinds targetPlatform Platform launch file Build", "bug_title": " Cannot set default compiler level for product", "bug_description": "Build ID: org.eclipse.jdt.core_3.4.1.v_877a_R34x.jar Steps To Reproduce: We have a product where we'd like the default compiler level set to 1.5 instead of 1.6 (which is the default).  We added these lines to our product customization ini file: org.eclipse.jdt.core/org.eclipse.jdt.core.compiler.codegen.targetPlatform=1.5 org.eclipse.jdt.core/org.eclipse.jdt.core.compiler.source=1.5 org.eclipse.jdt.core/org.eclipse.jdt.core.compiler.compliance=1.5 However if we launch our product on a new workspace, these values get overwritten and replaced with 1.6.  The above is how we customize all kinds of preferences.  These ones don't seem to be working for us though.  Is there something we're doing wrong? More information:"}, {"bug_id": "255031", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/environments/ExecutionEnvironmentAnalyzer.java"], "repo": "eclipse.jdt.debug", "reformed_query": "CDC warning compiled build ignore cvsroot level ignore Foundation reproduce", "bug_title": " Missing EEs prevent project to build", "bug_description": "I20081111-0800 I have projects that specify CDC1.1/Foundation1.1 as EE. When I load them in this week I build, the projects no longer compile despite having the project level warning set of ignore or warning. This results my project in having \"a build path error\" and nothing gets compiled. To reproduce, load the org.eclipse.equinox.p2.console and org.eclipse.equinox.p2.director from the /cvsroot/rt repo."}, {"bug_id": "260402", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JREPreferenceModifyListener.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JREs Time JREPreference findVMInstall IVMInstall Type Project correctly Rename couple", "bug_title": " Conflits during JRE's import are not solved correctly.", "bug_description": "Project org.eclipse.jdt.launching, no idea which component: Reproduction steps: 1. Add a couple of JREs in the preferences (having 3 is ok). 2. Export 'Installed JRE' preferences 3. Rename all JREs (add f.e. _2) 4. Export 'Installed JRE's. 5. Delete all JREs except default one. 6. Import both files. 7. Repeat steps 5-6 if necessary. It usually works after second time. Result: not all JRE's are displayed (typically one is missing). You will see something like default java_1 java_1_2 java_2 instead of default java_1 java_1_2 java_2 java_2_2. Cause: JREPreferenceModifyListener, lines 85-89 long unique = System.currentTimeMillis(); IVMInstallType vmType = vm.getVMInstallType(); while (vmType.findVMInstall(String.valueOf(unique)) != null) { unique++; } vm = new VMStandin(vm, String.valueOf(unique)); This code replaces the conflicting id with the new one generated on the system time basis. The problem is that the while loop is never entered, because vmType is aware only about already existing ids, not about newly created ones. So if the second conflict is met and system time does not changes, the duplicated id is added. Therefore we see missing vms."}, {"bug_id": "261837", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/core/ProcessTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "memory loop endless Process process Exit tutorial altough thread Runtime", "bug_title": " RuntimeProcess should synchronize access to fTerminated and fExitValue", "bug_description": "Access to fTerminated and fExitValue need to be synchronized. The following example leads to an endless loop. Thread 1:  while( !process.isTerminated()) {} Thread 2:  process.terminate(); Despite the termination clearly being executed, and the process ACTUALLY being killed, fTerminated in Thread 1 will always return false. Comment from a user: I was so curious what is wrong here that I couldn't keep back. So I decided to learn how to develope JBossTools. After installing, studying and debuging I find what is wrong. The problem is in threading, more precisely in Memory Consistency Errors (look http://java.sun.com/docs/books/tutorial/essential/concurrency/memconsist.html). Because writing and reading of the fTerminated variable in RuntimeProcess class is from the two different threads, memory consistency error is happend. So the method stopProcess.isTerminated() is returnig false all the time altough ProcessMonitor thread is already set the fTerminated variable to true. The solution is to synchronize the reading and writing of the fTerminated variable which is actually an eclipse bug."}, {"bug_id": "261846", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Java resource Runner Build hcr Changed error Job jobs broadcastChanges", "bug_title": " [hcr] NPE during hot code replace", "bug_description": "using I20090106-1323 I got the following error in my log. Unfortunately I have no steps, it just appeared while I was debugging code. java.lang.NullPointerException at org.eclipse.jdt.internal.debug.core.hcr.JavaHotCodeReplaceManager.resourceChanged(JavaHotCodeReplaceManager.java:222) at org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:288) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:282) at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:148) at org.eclipse.core.internal.resources.Workspace.broadcastBuildEvent(Workspace.java:297) at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:143) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:238) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "265714", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/ProjectCreationDecorator.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/breakpoints/ConditionalBreakpointsTests.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/breakpoints/JavaBreakpointListenerTests.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "execution conditional call evaluate execution listeners Bug call conditional listener", "bug_title": " conditional breakpoint at end of step", "bug_description": "Currently, if a breakpoint coincides with the location of a step end, the Java debugger does not evaluate the condition (there is little point since the step end has already suspended execution). Recently, we have added support for breakpoint listener extensions to be registered on specific breakpoints. In this case, breakpoint listeners are notified of a breakpoint being hit, even though the condition may be false. Listeners should only be notified when the condition is true. The Java debugger could evaluate the condition in the case that breakpoint listeners are registered for the breakpoint, and call them only when the condition is true."}, {"bug_id": "266651", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/VMDefinitionsContainer.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/StandardVMPage.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Libraries jvm setting failed Build Properties jar Actual failed bin", "bug_title": " [jre] \"JRE System Library\" default not used properly after Java update (also with symbolic links)", "bug_description": "Build ID: M20080911-1700 Steps To Reproduce: 1. Updated Sun Java 1.6.0-u7 to 1.6.0-u11 via SuSE's updater. 2. /usr/bin/java -> /etc/alternatives/java -> /usr/lib/jvm/jre-1.6.0.u11-sun/bin/java , similar for /usr/lib/jvm/* (SuSE automatically updated where the system Java points to) 2. Restarted computer and Eclipse 3. Opened same workspace again 4. Projects failed (see Actual result below) 5. Package Explorer | myproject | context menu | Properties | Java Build Path | Libraries shows \"JRE System Library [java-1.6.0.u11-sun-1.6.0.u11]\", which is correct: the new and existing Java. 6. I looked everywhere I could find, in Project settings and Window | Preferences, I couldn't see any u7 referenced. Actual result: Description\tResource\tPath\tLocation\tType Project 'myproject' is missing required library: '/usr/lib/jvm/java-1.6.0.u7-sun-1.6.0.u7/jre/lib/resources.jar'\tmyproject\t\tBuild path\tBuild Path Problem Expected result: Uses new Java version. Workaround: In Package Explorer | myproject | context menu | Properties | Java Build Path | Libraries , double-click on \"JRE System Library [java-1.6.0.u11-sun-1.6.0.u11]\". A dialog comes up, saying \"(*) Workspace default JRE (java-1.6.0.u11-sun-1.6.0.u11)\". Instead, check \"( ) Alternate JRE [java-1.6.0.u11-sun-1.6.0.u11]\" and click \"Finish\" button. The Error goes away. Go in the same dialog again and check \"Workspace default JRE\" again. The error goes not come back, although it's now the same setting as it was when the error appeared. This confirms that it's an Eclipse bug. More information:"}, {"bug_id": "267914", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/ExecutionEnvironmentsPreferencePage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "perform basic Env swt Illegal Accessor preferences Exception Impl Event", "bug_title": " Error removing JRE", "bug_description": "I was on the Execution Environments page, and then removed a JRE from the JREs page. I ended up with this error in my log, and the removed JRE is still on the build path of projects in my workspace, although the JRE is no longer in my preferences. The Env page needs to ensure the JRE still exists before setting it as the default for an environment. java.lang.IllegalArgumentException: JRE not compatible with environment J2SE-1.4 at org.eclipse.jdt.internal.launching.environments.ExecutionEnvironment.setDefaultVM(ExecutionEnvironment.java:225) at org.eclipse.jdt.internal.debug.ui.jres.ExecutionEnvironmentsPreferencePage.performOk(ExecutionEnvironmentsPreferencePage.java:227) at org.eclipse.jface.preference.PreferenceDialog$13.run(PreferenceDialog.java:937) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.java:917) at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed(FilteredPreferenceDialog.java:436) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.okPressed(WorkbenchPreferenceDialog.java:164) at org.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog.java:233) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:65) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2393) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2357) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2209) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:499) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:492) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:556) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:511) at org.eclipse.equinox.launcher.Main.run(Main.java:1284) at org.eclipse.equinox.launcher.Main.main(Main.java:1260)"}, {"bug_id": "268393", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ExpressionInputDialog.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/StringValueInputDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "screenshots Steps change literal details button variable Nope text letting", "bug_title": " Debugger not letting me change value on null String", "bug_description": "Created attachment 128591 [details] Image 1 of 3 Build ID: 20090211-1700 Steps To Reproduce: See attached screenshots. I attempted to change the value of a String variable that was null. I could use the Expressions text box, but not the literal text. Image 1 shows my the dialog as-is. OK button is gray. Image 2 shows my attempt to put a value there. OK button is still gray. Image 3 shows my third attempt -- maybe quotes would do it! Nope, still gray. More information:"}, {"bug_id": "27093", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/VMPreferencePage.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMType.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractVMInstallType.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/AddVMDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Sun initial location legal investigate Bug Bug standard standard investigate", "bug_title": " Javadoc location should have initial value", "bug_description": "The java doc location for standard JREs should use a URL to point to the apporpriate location on the Sun website (need to investigate if there are any legal issues here)."}, {"bug_id": "271785", "ground_truth": ["org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/SuspendOnCompilationErrorListener.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugOptionsManager.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/SuspendOnUncaughtExceptionListener.java"], "repo": "eclipse.jdt.debug", "reformed_query": "extension exception handling compilation errors breakpoint support listener Listeners uncaught", "bug_title": " Migrate compilation error/uncaught exception handling to breakpoint listener extension", "bug_description": "With the addition of the breakpointListeners extension, support for handling suspend on compilation errors and uncaught exceptions could me migrated to use extensions (breakpoint specific listeners)."}, {"bug_id": "27276", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/core/InstanceFilterTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "jdi bled Breakpoint Instance updateEnabledStat addInstanceFilter Stat Illegal test enable", "bug_title": " instance filter tests not working", "bug_description": "Our instance filter tests are not working. By dumb luck the tests pass due to the way they are written (we test that a breakpoint is not hit, since it is filtered out). The tests pass because the event requests fail to get enabled, and the following is written to the log: !ENTRY org.eclipse.jdt.debug 4 120 Nov 27, 2002 16:25:52.87 !MESSAGE Internal error logged from JDI Debug: !STACK 0 java.lang.IllegalArgumentException at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler(MirrorImpl.java:242) at org.eclipse.jdi.internal.request.EventRequestImpl.enable(EventRequestImpl.java:217) at org.eclipse.jdi.internal.request.EventRequestImpl.setEnabled(EventRequestImpl.java:253) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.internalUpdateEnabledState(JavaBreakpoint.java:651) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaMethodBreakpoint.updateEnabledState(JavaMethodBreakpoint.java:330) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.configureRequest(JavaBreakpoint.java:370) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaMethodBreakpoint.createMethodRequest(JavaMethodBreakpoint.java:278) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaMethodBreakpoint.createMethodEntryRequest(JavaMethodBreakpoint.java:214) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaMethodBreakpoint.createRequest(JavaMethodBreakpoint.java:635) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequests(JavaBreakpoint.java:476) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate(JavaBreakpoint.java:1068) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.addInstanceFilter(JavaBreakpoint.java:1002) at org.eclipse.jdt.debug.tests.core.InstanceFilterTests.testMethodEntry(InstanceFilterTests.java:101) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at junit.framework.TestCase.runTest(TestCase.java:154) at junit.framework.TestCase.runBare(TestCase.java:127) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:118) at junit.framework.TestSuite.runTest(TestSuite.java:208) at junit.framework.TestSuite.run(TestSuite.java:203) at junit.framework.TestSuite.runTest(TestSuite.java:208) at org.eclipse.jdt.debug.tests.AutomatedSuite$1.run(AutomatedSuite.java:141) at java.lang.Thread.run(Thread.java:536) !ENTRY org.eclipse.jdt.debug 4 120 Nov 27, 2002 16:25:56.293 !MESSAGE Internal error logged from JDI Debug: !STACK 0 java.lang.IllegalArgumentException at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler(MirrorImpl.java:242) at org.eclipse.jdi.internal.request.EventRequestImpl.enable(EventRequestImpl.java:217) at org.eclipse.jdi.internal.request.EventRequestImpl.setEnabled(EventRequestImpl.java:253) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.internalUpdateEnabledState(JavaBreakpoint.java:651) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaWatchpoint.updateEnabledState(JavaWatchpoint.java:391) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.configureRequest(JavaBreakpoint.java:370) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaWatchpoint.createWatchpoint(JavaWatchpoint.java:221) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaWatchpoint.createAccessWatchpoint(JavaWatchpoint.java:191) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaWatchpoint.createRequest(JavaWatchpoint.java:137) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequests(JavaBreakpoint.java:476) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate(JavaBreakpoint.java:1068) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.addInstanceFilter(JavaBreakpoint.java:1002) at org.eclipse.jdt.debug.tests.core.InstanceFilterTests.testWatchpoint(InstanceFilterTests.java:140) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at junit.framework.TestCase.runTest(TestCase.java:154) at junit.framework.TestCase.runBare(TestCase.java:127) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:118) at junit.framework.TestSuite.runTest(TestSuite.java:208) at junit.framework.TestSuite.run(TestSuite.java:203) at junit.framework.TestSuite.runTest(TestSuite.java:208) at org.eclipse.jdt.debug.tests.AutomatedSuite$1.run (AutomatedSuite.java:141) at java.lang.Thread.run(Thread.java:536) !ENTRY org.eclipse.jdt.debug 4 120 Nov 27, 2002 16:25:56.353 !MESSAGE Internal error logged from JDI Debug: !STACK 0 java.lang.IllegalArgumentException at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler (MirrorImpl.java:242) at org.eclipse.jdi.internal.request.EventRequestImpl.enable (EventRequestImpl.java:217) at org.eclipse.jdi.internal.request.EventRequestImpl.setEnabled (EventRequestImpl.java:253) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.internalUpdateEna bledState(JavaBreakpoint.java:651) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaWatchpoint.updateEnabledStat e(JavaWatchpoint.java:402) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.configureRequest (JavaBreakpoint.java:370) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaWatchpoint.createWatchpoint (JavaWatchpoint.java:221) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaWatchpoint.createModificatio nWatchpoint(JavaWatchpoint.java:198) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaWatchpoint.createRequest (JavaWatchpoint.java:143) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequests (JavaBreakpoint.java:476) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate (JavaBreakpoint.java:1068) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.addInstanceFilter (JavaBreakpoint.java:1002) at org.eclipse.jdt.debug.tests.core.InstanceFilterTests.testWatchpoint (InstanceFilterTests.java:140) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at junit.framework.TestCase.runTest(TestCase.java:154) at junit.framework.TestCase.runBare(TestCase.java:127) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:118) at junit.framework.TestSuite.runTest(TestSuite.java:208) at junit.framework.TestSuite.run(TestSuite.java:203) at junit.framework.TestSuite.runTest(TestSuite.java:208) at org.eclipse.jdt.debug.tests.AutomatedSuite$1.run (AutomatedSuite.java:141) at java.lang.Thread.run(Thread.java:536) !ENTRY org.eclipse.jdt.debug 4 120 Nov 27, 2002 16:26:00.479 !MESSAGE Internal error logged from JDI Debug: !STACK 0 java.lang.IllegalArgumentException at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler (MirrorImpl.java:242) at org.eclipse.jdi.internal.request.EventRequestImpl.enable (EventRequestImpl.java:217) at org.eclipse.jdi.internal.request.EventRequestImpl.setEnabled (EventRequestImpl.java:253) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.internalUpdateEna bledState(JavaBreakpoint.java:651) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.updateEnabledStat e(JavaBreakpoint.java:624) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.configureRequest (JavaBreakpoint.java:370) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaExceptionBreakpoint.configur eRequest(JavaExceptionBreakpoint.java:380) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaExceptionBreakpoint.newReque st(JavaExceptionBreakpoint.java:151) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequest (JavaBreakpoint.java:344) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequests (JavaBreakpoint.java:476) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.recreate (JavaBreakpoint.java:1068) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.addInstanceFilter (JavaBreakpoint.java:1002) at org.eclipse.jdt.debug.tests.core.InstanceFilterTests.testException (InstanceFilterTests.java:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at junit.framework.TestCase.runTest(TestCase.java:154) at junit.framework.TestCase.runBare(TestCase.java:127) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:118) at junit.framework.TestSuite.runTest(TestSuite.java:208) at junit.framework.TestSuite.run(TestSuite.java:203) at junit.framework.TestSuite.runTest(TestSuite.java:208) at org.eclipse.jdt.debug.tests.AutomatedSuite$1.run (AutomatedSuite.java:141) at java.lang.Thread.run(Thread.java:536)"}, {"bug_id": "273858", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/AppletParametersTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "equinox exception Contribution AppletTabListener createAndRunWorkbench showWhile Tab Illegal Realm invokeFramework", "bug_title": " Edit and Remove buttons incorrectly enabled", "bug_description": "Created attachment 133364 [details] screen shot I20090421-0930 The Edit and Remove buttons on the Parameters tab for Java Applets are incorrectly enabled when the tab group is shown. Steps: 1. create a new Applet configuration 2. select the Parameters tab Notice the Edit and Remove buttons are enabled. If you happen to press the Edit button you get the following nice exception: java.lang.IllegalArgumentException: Argument cannot be null at org.eclipse.swt.SWT.error(SWT.java:3862) at org.eclipse.swt.SWT.error(SWT.java:3796) at org.eclipse.swt.SWT.error(SWT.java:3767) at org.eclipse.swt.widgets.Widget.error(Widget.java:463) at org.eclipse.swt.widgets.Text.setText(Text.java:1944) at org.eclipse.jdt.internal.debug.ui.launcher.NameValuePairDialog.createDialogArea(NameValuePairDialog.java:81) at org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:759) at org.eclipse.jface.window.Window.create(Window.java:431) at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1088) at org.eclipse.jdt.internal.debug.ui.launcher.NameValuePairDialog.create(NameValuePairDialog.java:149) at org.eclipse.jface.window.Window.open(Window.java:790) at org.eclipse.jdt.debug.ui.launchConfigurations.AppletParametersTab.openNewParameterDialog(AppletParametersTab.java:360) at org.eclipse.jdt.debug.ui.launchConfigurations.AppletParametersTab.handleParametersEditButtonSelected(AppletParametersTab.java:316) at org.eclipse.jdt.debug.ui.launchConfigurations.AppletParametersTab.access$6(AppletParametersTab.java:304) at org.eclipse.jdt.debug.ui.launchConfigurations.AppletParametersTab$AppletTabListener.widgetSelected(AppletParametersTab.java:93) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:1064) at org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:398) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:406) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:340) at org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:81) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2401) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2365) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2217) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1287)"}, {"bug_id": "275614", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/threadgroups/JavaDebugTargetProxy.java"], "repo": "eclipse.jdt.debug", "reformed_query": "session Bug view auto Java debug longer Steps session auto", "bug_title": " REGRESSION: threads no longer expanded if Debug view not visible", "bug_description": "I20090508-2000 and 3.5 M7 With a recent builds (including 3.5 M7) a bug was introduced into the Debug view: each time a debug session is started, it doesn't auto-expand the threads if the view is not visible on the screen. Steps to reproduce: 1. start new workspace 2. choose to always switch to Debug perspective when launching 3. open a second workbench window with only the Debug perspective 4. switch back to the first workbench window with the Java perspective in it (make sure the Debug window is behind the Java one) 5. paste this code into the Package Explorer while (true); 6. start to Debug ==> the Debug view has its threads not auto-expanded Can you please fix this for RC1: I run into this often because I use one fully expanded window for each perspective and hence see this bug quite often."}, {"bug_id": "280192", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "evaluating evaluating appears Failed scrapbook windows context expression Error title", "bug_title": " [regression][display] Error while \"inspecting in scrapbook", "bug_description": "When I select say \"2+2\" and go run -> inspect a windows appears with the title \"Problmes evaluating expression\" and with text \" Evaluation Failed: internal error - unable to obtain an execution context\". I have just installed Ubuntu 9.04"}, {"bug_id": "28195", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Thread lang target shutdownPlugins Thread disconnect boot BootLoader target Impl", "bug_title": " NPE on shutdown debug remote launch", "bug_description": "Debugging a remote KVM (WTK) vm that had not exited cleanly. On shutdown of the target workspace: Thread [main] (Suspended)(exception java.lang.NullPointerException)) org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.disconnect() line: 600 org.eclipse.debug.core.Launch.terminate() line: 229 org.eclipse.debug.internal.core.LaunchManager.shutdown() line: 443 org.eclipse.debug.core.DebugPlugin.shutdown() line: 419 org.eclipse.core.internal.plugins.PluginRegistry$2.run() line: 279 org.eclipse.core.internal.runtime.InternalPlatform.run (org.eclipse.core.runtime.ISafeRunnable) line: 850 org.eclipse.core.internal.plugins.PluginRegistry$1.visit (org.eclipse.core.runtime.IPluginDescriptor) line: 292 org.eclipse.core.internal.plugins.PluginRegistry.accept (org.eclipse.core.internal.plugins.IPluginVisitor, boolean) line: 51 org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins() line: 295 org.eclipse.core.internal.plugins.PluginRegistry.shutdown (org.eclipse.core.runtime.IProgressMonitor) line: 261 org.eclipse.core.internal.runtime.InternalPlatform.loaderShutdown() line: 513 sun.reflect.NativeMethodAccessorImpl.invoke0(java.lang.reflect.Method, java.lang.Object, java.lang.Object[]) line: not available [native method] sun.reflect.NativeMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) line: 39 [local variables unavailable] sun.reflect.DelegatingMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) line: 25 [local variables unavailable] java.lang.reflect.Method.invoke(java.lang.Object, java.lang.Object[]) line: 324 [local variables unavailable] org.eclipse.core.internal.boot.InternalBootLoader.shutdown() line: 962 org.eclipse.core.internal.boot.InternalBootLoader.run(java.lang.String, java.net.URL, java.lang.String, java.lang.String[], java.lang.Runnable) line: 850 org.eclipse.core.boot.BootLoader.run(java.lang.String, java.net.URL, java.lang.String, java.lang.String[], java.lang.Runnable) line: 462 sun.reflect.NativeMethodAccessorImpl.invoke0(java.lang.reflect.Method, java.lang.Object, java.lang.Object[]) line: not available [native method] sun.reflect.NativeMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) line: 39 [local variables unavailable] sun.reflect.DelegatingMethodAccessorImpl.invoke(java.lang.Object, java.lang.Object[]) line: 25 [local variables unavailable] java.lang.reflect.Method.invoke(java.lang.Object, java.lang.Object[]) line: 324 [local variables unavailable] org.eclipse.core.launcher.Main.basicRun(java.lang.String[]) line: 247 org.eclipse.core.launcher.Main.run(java.lang.String[]) line: 703 org.eclipse.core.launcher.Main.main(java.lang.String[]) line: 539"}, {"bug_id": "286229", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/LibraryStandin.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractVMInstall.java"], "repo": "eclipse.jdt.debug", "reformed_query": "bug method lookups api Bug host resolves path bad URLs", "bug_title": " Bad usages of URL#equals(Object)", "bug_description": "Created attachment 144026 [details] Fix HEAD While fixing bug 285854, I also found two bad usages of URL#equals(Object) in JDT/Debug. That method resolves the host of the URLs via DNS lookups, which is most of the time not what you want. A scenario that e.g. fails is when you edit a JRE definition and then replace the host part of the default Javadoc path http://java.sun.com/javase/6/docs/api/ with http://72.5.124.55/javase/6/docs/api/ . When you then click \"Restore Default\", the UI is not updated, but the preference is."}, {"bug_id": "287084", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/core/HcrTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "tests HCR thre debug java test core Failing HcrTests debug", "bug_title": " Failing HCR test on Mac OS Cocoa", "bug_description": "I20090818-0800 The 'testSimpleHcr' test failed: Should have dropped to method 'one' expected:<[on]e> but was:<[thre]e> junit.framework.ComparisonFailure: Should have dropped to method 'one' expected:<[on]e> but was:<[thre]e> at org.eclipse.jdt.debug.tests.core.HcrTests.testSimpleHcr(HcrTests.java:73) at org.eclipse.jdt.debug.tests.AbstractDebugTest.runBare(AbstractDebugTest.java:1754) at org.eclipse.jdt.debug.tests.DebugSuite$1.run(DebugSuite.java:54) at java.lang.Thread.run(Thread.java:613) Running the tests locally we have reproduced using the 1.5 VM"}, {"bug_id": "287834", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Bug multiple JavaLineBreakpoint condition reason structure reason mailinator Breakpoint request", "bug_title": " JavaLineBreakpoint is not thread-safe and causes 100% CPU", "bug_description": "Build ID: Eclipse 3.5 Steps To Reproduce: I was in a normal debug session. When I wanted to pause a thread, the request timed-out. Afterward, the CPU went to 100%. I needed to restart to fix it. It looks like JavaLineBreakpoint can be accessed by multiple threads at the same time. This may be unintentional. The stacks I have show that there are two EventDispatcher threads active. The comments for that class say that there should only be 1 active at a time. If for some reason more than one is active, they can be simultaneously accessing the JavaLineBreakpoint. Accessing a hashmap from more than one thread can corrupt its internal structure and it can go into an infinite loop. (See http://mailinator.blogspot.com/2009/06/beautiful-race-condition.html) Attaching several stacks I took while the CPU was at 100%."}, {"bug_id": "29036", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIFieldVariable.java"], "repo": "eclipse.jdt.debug", "reformed_query": "NPE JDIField Display Internal call TypedListener org java Control JDIField", "bug_title": " NPE while debugging", "bug_description": "Using build M4 After debugging a java app for a while I noticed a NPE in the .log file. Thought somebody should know about it. java.lang.NullPointerException Stack trace: java/lang/Throwable.<init>()V java/lang/Throwable.<init>(Ljava/lang/String;)V java/lang/NullPointerException.<init>(Ljava/lang/String;)V org/eclipse/jdt/internal/debug/core/model/JDIFieldVariable.equals(Ljava/lang/Object;)Z java/util/HashMap.put(Ljava/lang/Object;Ljava/lang/Object;)Ljava/lang/Object; org/eclipse/debug/internal/ui/views/variables/VariablesViewContentProvider.cache(Ljava/lang/Object;[Ljava/lang/Object;)V org/eclipse/debug/internal/ui/views/variables/VariablesViewContentProvider.getChildren(Ljava/lang/Object;)[Ljava/lang/Object; org/eclipse/jface/viewers/AbstractTreeViewer.getRawChildren(Ljava/lang/Object;)[Ljava/lang/Object; org/eclipse/jface/viewers/StructuredViewer.getFilteredChildren(Ljava/lang/Object;)[Ljava/lang/Object; org/eclipse/jface/viewers/StructuredViewer.getSortedChildren(Ljava/lang/Object;)[Ljava/lang/Object; org/eclipse/jface/viewers/AbstractTreeViewer.createChildren(Lorg/eclipse/swt/widgets/Widget;)V org/eclipse/jface/viewers/AbstractTreeViewer.handleTreeExpand(Lorg/eclipse/swt/events/TreeEvent;)V org/eclipse/jface/viewers/AbstractTreeViewer$1.treeExpanded(Lorg/eclipse/swt/events/TreeEvent;)V org/eclipse/swt/widgets/TypedListener.handleEvent(Lorg/eclipse/swt/widgets/Event;)V org/eclipse/swt/widgets/EventTable.sendEvent(Lorg/eclipse/swt/widgets/Event;)V org/eclipse/swt/widgets/Widget.sendEvent(Lorg/eclipse/swt/widgets/Event;)V org/eclipse/swt/widgets/Widget.sendEvent(ILorg/eclipse/swt/widgets/Event;Z)V org/eclipse/swt/widgets/Widget.sendEvent(ILorg/eclipse/swt/widgets/Event;)V org/eclipse/swt/widgets/Tree.wmNotifyChild(II)Lorg/eclipse/swt/internal/win32/LRESULT; org/eclipse/swt/widgets/Control.WM_NOTIFY(II)Lorg/eclipse/swt/internal/win32/LRESULT; org/eclipse/swt/widgets/Composite.WM_NOTIFY(II)Lorg/eclipse/swt/internal/win32/LRESULT; org/eclipse/swt/widgets/Control.windowProc(III)I org/eclipse/swt/widgets/Display.windowProc(IIII)I org/eclipse/swt/internal/win32/OS.CallWindowProcW(IIIII)I org/eclipse/swt/internal/win32/OS.CallWindowProc(IIIII)I org/eclipse/swt/widgets/Tree.callWindowProc(III)I org/eclipse/swt/widgets/Tree.WM_LBUTTONDOWN(II)Lorg/eclipse/swt/internal/win32/LRESULT; org/eclipse/swt/widgets/Control.windowProc(III)I org/eclipse/swt/widgets/Display.windowProc(IIII)I org/eclipse/swt/internal/win32/OS.DispatchMessageW(Lorg/eclipse/swt/internal/win32/MSG;)I org/eclipse/swt/internal/win32/OS.DispatchMessage(Lorg/eclipse/swt/internal/win32/MSG;)I org/eclipse/swt/widgets/Display.readAndDispatch()Z org/eclipse/ui/internal/Workbench.runEventLoop()V org/eclipse/ui/internal/Workbench.run(Ljava/lang/Object;)Ljava/lang/Object; org/eclipse/core/internal/boot/InternalBootLoader.run(Ljava/lang/String;Ljava/net/URL;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/Runnable;)Ljava/lang/Object; org/eclipse/core/boot/BootLoader.run(Ljava/lang/String;Ljava/net/URL;Ljava/lang/String;[Ljava/lang/String;Ljava/lang/Runnable;)Ljava/lang/Object; java/lang/reflect/AccessibleObject.invokeL(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; java/lang/reflect/Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object; org/eclipse/core/launcher/Main.basicRun([Ljava/lang/String;)Ljava/lang/Object; org/eclipse/core/launcher/Main.run([Ljava/lang/String;)Ljava/lang/Object; org/eclipse/core/launcher/Main.main([Ljava/lang/String;)V"}, {"bug_id": "29297", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "compiled source compiled debug Project Hot code Debug Debug Hot", "bug_title": " Debug does not honor multiple output folders", "bug_description": "When project has multiple output folders, debug does not find new version of compiled class (Hot code replace). It looks like debugger searches only default output folder and not changed classe's own output folder. Project properties -> Java build path -> Source -> Source folders on build path -> Allow output folders per source folder"}, {"bug_id": "296505", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/NameValuePairDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "cut paste parameter work Mozilla work Bug work trailing foo", "bug_title": " applet parameters can contain trailing spaces", "bug_description": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.2; en-US; rv:1.9.0.8; .NET CLR 3.5; ffco7) Gecko/2009032609 Firefox/3.0.8 Build Identifier:  20090920-1017 If an applet parameter name ends with a trailing space, it's apparently used \"as is\", including the space.  This doesn't work, but is head-bangingly mysterious as to why. (I created one accidentally using cut-paste to copy the name.) Reproducible: Always Steps to Reproduce: 1. type in a new parameter name foo   (include a trailing space 2. start an applet that looks for \"foo\" (without the space) 3. note that there's no match."}, {"bug_id": "296552", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ExpressionInputDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Dialog Build dispose Bug Identifier Expression Input close Input pressed", "bug_title": " ExpressionInputDialog.dispose is called twice", "bug_description": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.1) Gecko/20090715 Firefox/3.5.1 Build Identifier: ExpressionInputDialog.dispose is called twice when OK is pressed. okPressed() -> dispose() line 333 -> super.okPressed() (Dialog) -> close() (ExpressionInputDialog) -> dispose() line 399 Reproducible: Always"}, {"bug_id": "29683", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "preferences info free container existant Press resolution path user naming", "bug_title": " Re-naming a VM causes prompt for JRE resolution", "bug_description": "Use case: * Have more than one JRE defined in a workspace * Rename a JRE (i.e. in the Edit VM dialog) that is on the build path of a project as an explicit (non-default) container. * Press OK (save preferences) The user is prompted to choose a JRE with which to build the project (since the classpath container on the project is now refering to a non-existant JRE). We have the info to fix up the classpath, so we should do it for free."}, {"bug_id": "297248", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ToggleBreakpointAdapter.java"], "repo": "eclipse.jdt.debug", "reformed_query": "anonymous RuntimeException start getQualifiedName java Widget Pointer Typed EclipseStarter java", "bug_title": " NPE when setting breakpoint", "bug_description": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; en-US; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 (.NET CLR 3.5.30729) Build Identifier: I20091030-1201 when trying to set a breakpoint in an anonymous inner class, the NPE below is thrown java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.actions.ToggleBreakpointAdapter.getQualifiedName(ToggleBreakpointAdapter.java:444) at org.eclipse.jdt.internal.debug.ui.actions.ToggleBreakpointAdapter.toggleBreakpoints(ToggleBreakpointAdapter.java:1187) at org.eclipse.debug.ui.actions.ToggleBreakpointAction.run(ToggleBreakpointAction.java:101) at org.eclipse.ui.texteditor.AbstractRulerActionDelegate.run(AbstractRulerActionDelegate.java:103) at org.eclipse.ui.internal.handlers.ActionDelegateHandlerProxy.execute(ActionDelegateHandlerProxy.java:289) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.actions.ContributedAction.runWithEvent(ContributedAction.java:185) at org.eclipse.ui.internal.actions.CommandAction.run(CommandAction.java:171) at org.eclipse.ui.texteditor.AbstractTextEditor$14.triggerAction(AbstractTextEditor.java:2900) at org.eclipse.ui.texteditor.AbstractTextEditor$14.mouseDoubleClick(AbstractTextEditor.java:2925) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:183) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3917) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3510) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2404) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2368) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2220) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:611) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:566) at org.eclipse.equinox.launcher.Main.run(Main.java:1363) at org.eclipse.equinox.launcher.Main.main(Main.java:1339) Reproducible: Always Steps to Reproduce: 1.try setting the breakpoint on the return null; line private void test() { fScriptEnvironment.execute(new IScriptRunnable<Void, RuntimeException>() { public Void run(Context cx, Scriptable scope) throws RuntimeException { return null; } }); } fScriptEnvironment defines the execute method: public <V, E extends Exception> V execute(IScriptRunnable<V, E> code) throws E; IScriptRunnable is a simple interface public interface IScriptRunnable<V, E extends Exception> { public V run(Context cx, Scriptable scope) throws E; } 2. 3."}, {"bug_id": "297808", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ValidBreakpointLocationLocator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Web debug Valid summarized eclipse jdt Locator bug internal Build", "bug_title": " To resolve compatibility issues between Eclipse 3.4 and 3.6, need constant and internals to be put back in JDT.", "bug_description": "+++ This bug was initially created as a clone of Bug #297529 +++ User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US) AppleWebKit/532.0 (KHTML, like Gecko) Chrome/3.0.195.33 Safari/532.0 Build Identifier: 3.6.0  I20091125-2200 We are facing compatibility issues between the 3.4 and 3.6 Eclipse versions. And we would really appreciate if you can help us get it back. I have summarized the issues that we are facing :- And the following internals removed:- and org.eclipse.jdt.internal.debug.ui.actions.ValidBreakpointLocationLocator Thanks, Rekha Reproducible: Always"}, {"bug_id": "297840", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ExpressionInputDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "widgets disposed degree Strange method code Text dispose Text high", "bug_title": " Strange Code in ExpressionInputDialog.dispose", "bug_description": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.1) Gecko/20090715 Firefox/3.5.1 Build Identifier: Three things make ExpressionInputDialog.dispose not \"standard\": 1) it contains a misleading dispose method although it is not a SWT widget. It seems that this kind of code is usually located in close(); 2) dispose was called twice (bug #296552 - verified fixed) 3) it is not necessary to dispose widgets since they are automatically disposed when closing the dialog (from Window.close()). For instance, almost no other dialog uses \"getTextWidget().dispose()\". Cf. discussion around bug #296494. This seems to be a code smell and deserves a high degree of strangeness by our strange code detector. Is it worth cleaning it? Best regards, -- Martin Reproducible: Always"}, {"bug_id": "30028", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/SnippetOpenHierarchyOnSelectionAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/SnippetOpenOnSelectionAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "action key binding actions actions correct ids ids registered ids", "bug_title": " Java snippet navigate actions do not work with keybindings", "bug_description": "Open Declaration and Open Type Hierarchy do not work with F3 and F4. These actions will need to have their action definition ids set and be registered with the key binding service for the correct action definitions."}, {"bug_id": "300614", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/StandardJavaBreakpointEditor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Hit Enable Details Hit small Breakpoints field text Count Breakpoint", "bug_title": " Hit count field too small in \"Settings\" detail pane", "bug_description": "I20100119-0800 Enable details pane in Breakpoints view, select a Java breakpoint, Show Details As > Breakpoint Settings. On Cocoa, the text field for Hit Count is only a few pixels wide (less than a character). Looks OK on WinXP."}, {"bug_id": "300992", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/breakpoints/JavaBreakpointConditionEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/AbstractDetailPane.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/StandardJavaBreakpointEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/propertypages/JavaBreakpointPage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/propertypages/JavaLineBreakpointPage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "target dialog view target pane view Breakpoints Policy Breakpoints option", "bug_title": " Line breakpoint properties dialog has problems when target class is not available", "bug_description": "I20100127-0100 The 'Suspend Policy' option is missing in the line breakpoint properties dialog. The option is available in the Breakpoints view details pane, but not in the dialog any more (it's there in latest 3.5.x build)."}, {"bug_id": "301584", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/AbstractRuntimeContext.java"], "repo": "eclipse.jdt.debug", "reformed_query": "classForName debug check Stepping MirrorImpl Impl Worker check eclipse Context", "bug_title": " com.sun.jdi.ObjectCollectedException during breakpoint condition evaluation", "bug_description": "Created attachment 157951 [details] fix I20100129-1300 com.sun.jdi.ObjectCollectedException at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler(MirrorImpl.java:241) at org.eclipse.jdi.internal.ObjectReferenceImpl.referenceType(ObjectReferenceImpl.java:478) at org.eclipse.jdi.internal.ObjectReferenceImpl.type(ObjectReferenceImpl.java:494) at org.eclipse.jdi.internal.ValueImpl.checkValue(ValueImpl.java:180) at org.eclipse.jdi.internal.ValueImpl.checkValues(ValueImpl.java:160) at org.eclipse.jdi.internal.ClassTypeImpl.invokeMethod(ClassTypeImpl.java:160) at org.eclipse.jdt.internal.debug.core.model.JDIThread.invokeMethod(JDIThread.java:849) at org.eclipse.jdt.internal.debug.core.model.JDIClassType.sendMessage(JDIClassType.java:93) at org.eclipse.jdt.internal.debug.eval.ast.engine.AbstractRuntimeContext.classForName(AbstractRuntimeContext.java:110) at org.eclipse.jdt.internal.debug.eval.ast.engine.AbstractRuntimeContext.classForName(AbstractRuntimeContext.java:126) at org.eclipse.jdt.internal.debug.eval.ast.instructions.Instruction.getType(Instruction.java:204) at org.eclipse.jdt.internal.debug.eval.ast.instructions.PushStaticFieldVariable.execute(PushStaticFieldVariable.java:42) at org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute(Interpreter.java:66) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1$EvaluationRunnable.run(ASTEvaluationEngine.java:483) at org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation(JDIThread.java:681) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run(ASTEvaluationEngine.java:520) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2755) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55) Stepping through the problem I found that during a VM call to look up a class, the StringReferece we create to pass in to the message is being GC'd See bug 301412 for further information"}, {"bug_id": "304057", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/StandardJavaBreakpointEditor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "hit option enabling enabled widget Breakpoint mouse enabled attachment option", "bug_title": " Breakpoint hit count widget should take focus when enabled", "bug_description": "Created attachment 160326 [details] fix I20100225-1936 When you enable (check on) the hit count option for a breakpoint, the text widget should take focus so you can start typing immediately without further mouse clicks - as it does when enabling the condition."}, {"bug_id": "30650", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/ConditionalBreakpointErrorDialog.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/JavaBreakpointPropertiesDialog.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugOptionsManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "compilation error justified breakpoint button condition problem breakpoint allotted allotted", "bug_title": " Conditional breakpoint compilation problem dialog usability", "bug_description": "Build: I20030129 If you have a compilation problem in a breakpoint condition, a dialog pops up at runtime to correct the error.  This dialog has the following problems: - the text entry field does not scroll if the condition doesn't fit in the allotted space. - default focus should be given to the text entry field, rather than the ok button - (minor nit) it looks weird to have this entry field center justified. Usually these fields are left justified in the dialog."}, {"bug_id": "30837", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "code object thread breakpoint result Loss Debug suspended", "bug_title": " Loss of suspended at breakpoint information", "bug_description": "Set an exception breakpoint for NPE. Debug some code that will throw an NPE. When suspended at the breakpoint, select an object variable in the variables view. The thread loses the information about being suspended at a breakpoint as a result of the evalution."}, {"bug_id": "308879", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaWordFinder.java"], "repo": "eclipse.jdt.debug", "reformed_query": "bug Java copy word Java word support Finder JavaWordFinder JavaWordFinder", "bug_title": " Surrogate support for JavaWordFinder", "bug_description": "JDT Text fixed bug 308612 in its word finder. The copy in Debug should be adjusted."}, {"bug_id": "310511", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/breakpoints/JavaBreakpointConditionEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/SelectImportsDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "horro Colors Create Preferences breakpoint attachment view General depicting button", "bug_title": " Dialog font changes affects the 'Breakpoints' view", "bug_description": "Created attachment 166109 [details] Screenshot depicting the horro in question. I20100425-2000 1. Window > Preferences > General > Appearance > Colors and Fonts 2. Basic > Dialog Font 3. Click the 'Edit...' button and increase the font size a bit. 4. Click 'OK' to close the dialog. 5. Create a Java breakpoint somewhere. 6. Window > Show View > Other... > Debug > Breakpoints 7. Select the breakpoint you added. 8. Cower in fear at your super-sized view."}, {"bug_id": "31110", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Add points Lookup archive Variables file source variable Build", "bug_title": " Debbugger Source Lookup does not work with variables", "bug_description": "In the Debugger Source Lookup dialog I can also select variables for source lookup. (Advanced... > Add Variables). I selected the variable which points to the archive containing the source file for the type, but the debugger still claims that he cannot find the source. Eclipse Build 200212181304 (M4)."}, {"bug_id": "311848", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/BreakpointListenerManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "statement Identifier Type IJava installing installingBreakpoint Delegate Bug Listener installBreakpoint", "bug_title": " return statement missing in JavaBreakpointListenerProxy#installingBreakpoint", "bug_description": "Build Identifier: M20090917-0800 The installBreakpoint Method in JavaBreakpointListenerProxy (a inner class of BreakpointListenerManager) is implemented this way: public int installingBreakpoint(IJavaDebugTarget target, IJavaBreakpoint breakpoint, IJavaType type) { IJavaBreakpointListener delegate = getDelegate(); if (delegate != null) { delegate.installingBreakpoint(target, breakpoint, type); } return IJavaBreakpointListener.DONT_CARE; } This way the return of the delegate is ignored. To me the correct statement would be: return delegate.installingBreakpoint(target, breakpoint, type); like it is in breakpointHit. Reproducible: Always"}, {"bug_id": "312038", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JavaRuntime oss badly hits isFile details process jar Source file", "bug_title": " JREContainer hasChildren locks up the UI for more than 30s", "bug_description": "Created attachment 167452 [details] backtrace and example of recursive stat 3.6M7 I'm seeing this very frequently.  Changing a Manifest.MF, for example, causes the entire Eclipse UI to lockup.   There seems to be an issue in the way that the JDT discovers whether a source directory is available. Using jstack multiple times, I see that the main thread is locked up in java.io.File.isFile(), called as a result of TreeViewer.isExpandable(): java.lang.Thread.State: RUNNABLE at java.io.UnixFileSystem.getBooleanAttributes0(Native Method) at java.io.UnixFileSystem.getBooleanAttributes(UnixFileSystem.java:228) at java.io.File.isFile(File.java:778) at org.eclipse.jdt.internal.launching.StandardVMType.getDefaultSystemLibrarySource(StandardVMType.java:237) at org.eclipse.jdt.internal.launching.StandardVMType.getDefaultLibraryLocations(StandardVMType.java:310) at org.eclipse.jdt.launching.JavaRuntime.getLibraryLocations(JavaRuntime.java:1639) at org.eclipse.jdt.internal.launching.JREContainer.computeClasspathEntries(JREContainer.java:293) ... Stracing the process shows that's it's iterating up the tree recursively looking for src.zip / src.jar. When it hits a NFS automount directory the thread main thread is context switched out, and the stat is 100+ times slower. It seems to be doing this again and again on the UI thread: [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/java/jdk1.6.0_11/jre/lib/src.jar\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000017> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/java/jdk1.6.0_11/jre/lib/src.zip\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000013> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/java/jdk1.6.0_11/jre/src.jar\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000012> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/java/jdk1.6.0_11/jre/src.zip\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000012> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/java/jdk1.6.0_11/src.jar\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000011> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/java/jdk1.6.0_11/src.zip\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000012> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/java/src.jar\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000015> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/java/src.zip\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000010> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/src.jar\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000013> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/x86_64-rhel4/src.zip\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000010> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/src.jar\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000011> [pid  4095] 11:08:21 stat(\"/tools/oss/packages/src.zip\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000010> [pid  4095] 11:08:21 stat(\"/tools/oss/src.jar\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000007> [pid  4095] 11:08:21 stat(\"/tools/oss/src.zip\", 0x402288d0) = -1 ENOENT (No such file or directory) <0.000008> [pid  4095] 11:08:21 stat(\"/tools/src.jar\",  <unfinished ...> This is really bad for performance, and hurts automounters badly.  I attached strace some time after the start of the hang and I have 28M of stat()s..."}, {"bug_id": "320269", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "internal javadoc URL updated internal Oracle jdt Location getDefaultJavadocLocation Standard", "bug_title": " update JRE javadoc links from Sun to Oracle", "bug_description": "Javadoc links for system libraries are hard coded to Sun URL's. These should probably be updated to refer to the new Oracle links. @see org.eclipse.jdt.internal.launching.StandardVMType.getDefaultJavadocLocation(String)"}, {"bug_id": "321043", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "compliance", "bug_title": " Enable 1.7 compiler compliance", "bug_description": "In HEAD, we can revert bug 309163 again and enable 1.7 compiler compliance. Fix is to revert attachment 165459 [details] from bug 309163 comment 15. Corresponding UI bug is bug 321035."}, {"bug_id": "323020", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/core/ExecutionEnvironmentTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "test", "bug_title": " EE home test failure on Mac", "bug_description": ""}, {"bug_id": "324246", "ground_truth": ["org.eclipse.jdt.launching/plugin.properties", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/launching/ProjectClasspathVariableTests.java", "org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/ProjectClasspathArgumentSelector.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/ProjectClasspathArugumentSelector.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.properties", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/ProjectClasspathVariableResolver.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/AutomatedSuite.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/launching/ProjectClasspathVariableTests.java", "org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/LauncherMessages.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/LauncherMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/ProjectClasspathArugumentSelector.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.properties", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/ProjectClasspathVariableResolver.java", "org.eclipse.jdt.launching/plugin.properties", "org.eclipse.jdt.launching/plugin.xml"], "repo": "eclipse.jdt.debug", "reformed_query": "Open variable enter Reproducible JPA programs JPA argument pass classpath", "bug_title": " Cannot pass the project classpath to external programs defined as builders", "bug_description": "Build Identifier: 3.6.0 I20100608-0911 I defined an external program as a builder. The external builder called java and the OpenJPA JPA enhancer. The enhancer works from the JVM classpath. However their is no variable defined that would allow you to pass the project classpath into the java -cp argument. You have to enter it again. It would be really good if there was a variable like ${project_classpath} perhaps that can take an argument, so you could do this ${project_classpath:${project_name}} and have it expand to the classpath Reproducible: Always"}, {"bug_id": "324268", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/OpenFromClipboardAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "FUP cursor cursor indicator bug Bug progress action Clipboard FUP", "bug_title": " Open from Clipboard action should report progress", "bug_description": "FUP of bug 48880 When opening a type the search can take some time, but no busy cursor/progress indicator is shown."}, {"bug_id": "32494", "ground_truth": ["org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/EvaluationContextManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "key scrapbook Context Insp", "bug_title": " Insp/Display actions in Run menu not enabled for scrapbook", "bug_description": "In 20030221: * Select a snippet in the scrapbook * Context menu and toolbar actions for Inspect/Display/Execute enable * Global actions in Run menu do not enable * Effect is that the key bindings are not available"}, {"bug_id": "330987", "ground_truth": ["org.eclipse.jdt.debug/META-INF/MANIFEST.MF", "org.eclipse.jdt.debug/model/org/eclipse/jdt/debug/core/IJavaDebugTarget.java"], "repo": "eclipse.jdt.debug", "reformed_query": "methods version version applied debug jdt jdt debug Bug methods", "bug_title": " Missing @since tags and increment bundle version", "bug_description": "With the fix to bug 254677 applied, the jdt.debug bundle version needs to be incremented and @since tags need to be added to the newly added methods."}, {"bug_id": "33144", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "opened build send Method Operation Operation Notify Editor snippet init", "bug_title": " UnsupportedOperationException", "bug_description": "RC1 Not sure what I was doing.  I was in the Resources Perspective.   I had an editor on a saved snippet file opened.  I was switching back and forth between editors. !SESSION Feb 25, 2003 16:52:23.615 --------------------------------------------- java.fullversion=J2RE 1.3.0 IBM build cn130-20010502 (JIT enabled: jitc) BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Command-line arguments: -os win32 -ws win32 -arch x86 -dev bin -data d:\\eclipse- ws\\ui-ws -install file:D:/eclipse/ !ENTRY org.eclipse.ui 4 4 Feb 25, 2003 16:52:23.615 !MESSAGE Unhandled exception caught in event loop. !ENTRY org.eclipse.ui 4 0 Feb 25, 2003 16:52:23.625 !MESSAGE java.lang.UnsupportedOperationException !STACK 0 java.lang.UnsupportedOperationException at java.util.AbstractList.add(AbstractList.java:155) at java.util.AbstractList.add(AbstractList.java:93) at org.eclipse.jdt.internal.debug.ui.snippeteditor.JavaSnippetEditor.addSnippetStateChangedListener(JavaSnippetEditor.java:499) at org.eclipse.jdt.internal.debug.ui.actions.EvaluateAction.setTargetPart(EvaluateAction.java:670) at org.eclipse.jdt.internal.debug.ui.actions.EvaluateAction.init(EvaluateAction.java:566) at org.eclipse.ui.internal.WWinPluginAction.initDelegate(WWinPluginAction.java:164) at org.eclipse.ui.internal.PluginAction.createDelegate(PluginAction.java:105) at org.eclipse.ui.internal.PluginAction.selectionChanged(PluginAction.java(Compiled Code)) at org.eclipse.ui.internal.WWinPluginAction.refreshSelection(WWinPluginAction.java:234) at org.eclipse.ui.internal.WWinPluginAction.<init>(WWinPluginAction.java:102) at org.eclipse.ui.internal.ActionDescriptor.createAction(ActionDescriptor.java:196) at org.eclipse.ui.internal.ActionDescriptor.<init>(ActionDescriptor.java:128) at org.eclipse.ui.internal.PluginActionSetBuilder.createActionDescriptor(PluginActionSetBuilder.java:55) at org.eclipse.ui.internal.PluginActionBuilder.readElement(PluginActionBuilder.java(Compiled Code)) at org.eclipse.ui.internal.registry.RegistryReader.readElements(RegistryReader.java(Compiled Code)) at org.eclipse.ui.internal.registry.RegistryReader.readElementChildren(RegistryReader.java:120) at org.eclipse.ui.internal.PluginActionBuilder.readElement(PluginActionBuilder.java(Compiled Code)) at org.eclipse.ui.internal.registry.RegistryReader.readElements(RegistryReader.java(Compiled Code)) at org.eclipse.ui.internal.PluginActionSetBuilder.readActionExtensions(PluginActionSetBuilder.java:165) at org.eclipse.ui.internal.PluginActionSetBuilder.processActionSets(PluginActionSetBuilder.java:133) at org.eclipse.ui.internal.ActionPresentation.setActionSets(ActionPresentation.java:121) at org.eclipse.ui.internal.WorkbenchWindow.updateActionSets(WorkbenchWindow.java:1711) at org.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateActionSets(WorkbenchPage.java:347) at org.eclipse.ui.internal.WorkbenchPage$ActionSwitcher.updateTopEditor(WorkbenchPage.java:253) at org.eclipse.ui.internal.WorkbenchPage.bringToTop(WorkbenchPage.java:533) at org.eclipse.ui.internal.WorkbenchPage.activate(WorkbenchPage.java:405) at org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:837) at org.eclipse.ui.internal.WorkbenchPage.closeEditor(WorkbenchPage.java:784) at org.eclipse.ui.internal.EditorPane.doHide(EditorPane.java:83) at org.eclipse.ui.internal.EditorWorkbook$1.itemClosed(EditorWorkbook.java:161) at org.eclipse.swt.custom.CTabFolder.closeNotify(CTabFolder.java:303) at org.eclipse.swt.custom.CTabFolder.access$13(CTabFolder.java:293) at org.eclipse.swt.custom.CTabFolder$4.handleEvent(CTabFolder.java:434) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code)) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Compiled Code)) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1254) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:845) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461) at java.lang.reflect.Method.invoke(Native Method) at org.eclipse.core.launcher.Main.basicRun(Main.java:247) at org.eclipse.core.launcher.Main.run(Main.java:703) at org.eclipse.core.launcher.Main.main(Main.java:539)"}, {"bug_id": "33292", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/SnippetEditorActionContributor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "side rid Editor Java Snippet side action Snippet Editor Java", "bug_title": " Show Source of selected element and Java Snippet Editor", "bug_description": "This action is enabled for the JavaSnippetEditor and it has no meaning. No bad side-effects either.. Can we get rid of it?"}, {"bug_id": "33297", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "logging manager don Complete Code resolveFormatter String formatter valueToString getCode", "bug_title": " Unneccessary error logging from detail formatter manager", "bug_description": "There are two places in the detail formatter manager where errors are logged and displayed to the user when a 'toString()' evaluation fails. Since the error is displayed to the user, we do not need to log the errors. We currently do not log \"thread not suspended errors\", but no errors need to be logged. see #resolveFormatter & EvaluationListener#evaluationComplete try { valueToString(result.getValue()); } catch (DebugException e) { if (e.getStatus().getCode() != IJavaThread.ERR_THREAD_NOT_SUSPENDED) { // don't log 'thread not suspended' errors JDIDebugUIPlugin.log(e); } fListener.detailComputed(fValue, e.getStatus().getMessage()); }"}, {"bug_id": "33534", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Bug", "bug_title": " Ant Editor: range indication not supported", "bug_description": ""}, {"bug_id": "335363", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/AddExceptionTypeDialogExtension.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Dialog Breakpoint Font Fonts Add depicting Basic", "bug_title": " 'Add Java Exception Breakpoint' dialog has truncated text for its checkboxes if font size is increased", "bug_description": "Created attachment 187559 [details] Screenshot depicting the problem in question. I20110124-1800 1. Window > Preferences > General > Appearance > Colors and Fonts 2. Basic > Dialog Font 3. Increase the font size. 4. Click 'OK'. 5. Run > Add Java Exception Breakpoint... 6. Notice that the text in the checkbox is truncated(!). Resizing/maximizing the dialog doesn't seem to help."}, {"bug_id": "33644", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "build sdk xerces list libraries ext System tree list times", "bug_title": " Unable to add libraries to Java build path in Project preferences", "bug_description": "When using the java 1.4 endorsed-mechanism, and placing new versions of xalan. jar, xercesImpl.jar and xml-apis.jar in my JAVA_HOME/jre/lib/endorsed directory, the Project properties complains about \"Classpath contains duplicate entry: C: \\j2sdk1.4.1_01\\jre\\lib\\ext\\xalan.jar\". When I expand the \"JRE System Library\" in the library tree, xalan.jar xercesImpl.jar and xml-apis.jar all show up twice in the list, both times located in the C:\\j2sdk1.4.1_01\\jre\\lib\\ext directory. I am not able to add any new librarys to my Java Build Path until i remove all the jars from the JAVA_HOME/jre/lib/endorsed directory."}, {"bug_id": "33746", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "okPressed Platform VMStandin basic Constructor WorkbenchPlugin file Node newInstance ncePage", "bug_title": " Error on adding a new JRE in Windows=>Preferences=>Java=>Installed JREs settings", "bug_description": "I am using Eclipse Version: 2.1.0 Build id: 200302211557 I add a new JRE viz. the path for the folder where JDK is installed. If I try to access the JRE dialog, I get the error msg. The contents of the .log file are given below. I remember being able to add other JRE in the previous versions of Eclipse. Why does this cause error now? I am running jboss using the EASIE pugin. ****************************************************************************** !ENTRY org.eclipse.ui 4 4 Mar 04, 2003 13:05:51.355 !MESSAGE Unhandled exception caught in event loop. !ENTRY org.eclipse.ui 4 0 Mar 04, 2003 13:05:51.385 !MESSAGE java.lang.NullPointerException !STACK 0 java.lang.NullPointerException at org.eclipse.core.runtime.Path.append(Path.java:146) at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.vmChanged(Launc hingPlugin.java:153) at org.eclipse.jdt.launching.JavaRuntime.fireVMChanged(JavaRuntime.java:1676) at org.eclipse.jdt.launching.AbstractVMInstall.setName(AbstractVMInstall.java:7 2) at com.instantiations.assist.eclipse.core.eclipse20.launch.VMInstall20.setName( VMInstall20.java:54) at org.eclipse.jdt.launching.VMStandin.convertToRealVM(VMStandin.java:76) at org.eclipse.jdt.internal.launching.LaunchingPlugin.processVMPrefsChanged(Lau nchingPlugin.java:491) at org.eclipse.jdt.internal.launching.LaunchingPlugin.propertyChange(LaunchingP lugin.java:421) at org.eclipse.core.runtime.Preferences.firePropertyChangeEvent(Preferences.jav a:578) at org.eclipse.core.runtime.Preferences.setValue(Preferences.java:1181) at org.eclipse.jdt.internal.debug.ui.launcher.VMPreferencePage.saveVMDefinition s(VMPreferencePage.java:479) at org.eclipse.jdt.internal.debug.ui.launcher.VMPreferencePage.performOk(VMPref erencePage.java:465) at org.eclipse.jface.preference.PreferenceDialog.okPressed(PreferenceDialog.jav a:668) at org.eclipse.jface.preference.PreferenceDialog.buttonPressed(PreferenceDialog .java:220) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.buttonPressed(Work benchPreferenceDialog.java:103) at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:417) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:87) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1775) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1483) at org.eclipse.jface.window.Window.runEventLoop(Window.java:577) at org.eclipse.jface.window.Window.open(Window.java:557) at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java :53) at org.eclipse.jface.action.Action.runWithEvent(Action.java:841) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(Action ContributionItem.java:456) at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionCont ributionItem.java:403) at org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionI tem.java:397) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(A ctionContributionItem.java:72) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1775) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1483) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1271) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1254) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.jav a:845) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:247) at org.eclipse.core.launcher.Main.run(Main.java:703) at org.eclipse.core.launcher.Main.main(Main.java:539) !ENTRY org.eclipse.core.runtime 4 2 Mar 04, 2003 13:24:51.590 !MESSAGE Plug-in \"org.eclipse.jdt.debug.ui\" was unable to instantiate class \"org.eclipse.jdt.internal.debug.ui.launcher.VMPreferencePage\". !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.launching.VMDefinitionsContainer.verifyInstallLocat ion(VMDefinitionsContainer.java:148) at org.eclipse.jdt.internal.launching.VMDefinitionsContainer.addVM(VMDefinition sContainer.java:114) at org.eclipse.jdt.internal.debug.ui.launcher.VMPreferencePage.<init>(VMPrefere ncePage.java:122) at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAcces sorImpl.java:39) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstruc torAccessorImpl.java:27) at java.lang.reflect.Constructor.newInstance(Constructor.java:274) at java.lang.Class.newInstance0(Class.java:306) at java.lang.Class.newInstance(Class.java:259) at org.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension (PluginDescriptor.java:138) at org.eclipse.core.internal.plugins.PluginDescriptor.createExecutableExtension (PluginDescriptor.java:167) at org.eclipse.core.internal.plugins.ConfigurationElement.createExecutableExten sion(ConfigurationElement.java:103) at org.eclipse.ui.internal.WorkbenchPlugin.createExtension(WorkbenchPlugin.java :151) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceNode.createPage(Workbench PreferenceNode.java:43) at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java :992) at org.eclipse.jface.preference.PreferenceDialog.selectSavedItem(PreferenceDial og.java:700) at org.eclipse.jface.preference.PreferenceDialog$4.run(PreferenceDialog.java:34 1) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:65) at org.eclipse.jface.preference.PreferenceDialog.createContents(PreferenceDialo g.java:336) at org.eclipse.jface.window.Window.create(Window.java:296) at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java :51) at org.eclipse.jface.action.Action.runWithEvent(Action.java:841) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(Action ContributionItem.java:456) at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionCont ributionItem.java:403) at org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionI tem.java:397) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(A ctionContributionItem.java:72) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:77) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:836) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1775) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1483) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1271) at org.eclipse.ui.internal.Workbench.run(Workbench.java:1254) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.jav a:845) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:247) at org.eclipse.core.launcher.Main.run(Main.java:703) at org.eclipse.core.launcher.Main.main(Main.java:539) !ENTRY org.eclipse.core.runtime 4 2 Mar 04, 2003 13:26:20.371 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.core.runtime\". !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.launching.VMDefinitionsContainer.verifyInstallLocat ion(VMDefinitionsContainer.java:148) at org.eclipse.jdt.internal.launching.VMDefinitionsContainer.addVM(VMDefinition sContainer.java:114) at org.eclipse.jdt.launching.JavaRuntime.getVMsAsXML(JavaRuntime.java:1243) at org.eclipse.jdt.launching.JavaRuntime.saveVMConfiguration(JavaRuntime.java:1 217) at org.eclipse.jdt.internal.launching.LaunchingPlugin.shutdown(LaunchingPlugin. java:323) at org.eclipse.core.internal.plugins.PluginRegistry$2.run(PluginRegistry.java:2 83) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java :867) at org.eclipse.core.internal.plugins.PluginRegistry$1.visit(PluginRegistry.java :296) at org.eclipse.core.internal.plugins.PluginRegistry.accept(PluginRegistry.java: 55) at org.eclipse.core.internal.plugins.PluginRegistry.shutdownPlugins(PluginRegis try.java:299) at org.eclipse.core.internal.plugins.PluginRegistry.shutdown(PluginRegistry.jav a:265) at org.eclipse.core.internal.runtime.InternalPlatform.loaderShutdown(InternalPl atform.java:517) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.internal.boot.InternalBootLoader.shutdown(InternalBootLoade r.java:979) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.jav a:850) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39 ) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl .java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:247) at org.eclipse.core.launcher.Main.run(Main.java:703) at org.eclipse.core.launcher.Main.main(Main.java:539) !ENTRY org.vssplugin 1 0 Mar 04, 2003 13:26:20.521 !MESSAGE Using jawin library E:/_vedas/Eclipse_RC1/plugins/org.vssplugin_1.3.0/lib/jawin.dll"}, {"bug_id": "337658", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/OpenFromClipboardAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Engine constants clipboard execute pde add Repository AOT Dialog Starter", "bug_title": " java.lang.reflect.InvocationTargetException thrown when invoking Open from Clipboard", "bug_description": "I20110215-0800 1. Check out o.e.pde.ui 2. copy org.eclipse.pde.internal.ui.wizards.imports.RepositoryImportWizard.addPages()) 3. invoke Open from Clipboard a dialog would open telling it could not understand the clipboard contents. However, the error log would log this exception Stack trace eclipse.buildId=I20110215-0800 java.fullversion=JRE 1.6.0 IBM J9 2.4 Windows XP x86-32 jvmwi3260sr7-20091214_49398 (JIT enabled, AOT enabled) J9VM - 20091214_049398 JIT  - r9_20091123_13891 GC   - 20091111_AA BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Command-line arguments:  -os win32 -ws win32 -arch x86 Error Sun Feb 20 12:42:50 IST 2011 Internal Error java.lang.reflect.InvocationTargetException at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421) at org.eclipse.jface.dialogs.ProgressMonitorDialog.run(ProgressMonitorDialog.java:507) at org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run(ProgressMonitorJobsDialog.java:275) at org.eclipse.ui.internal.progress.ProgressManager$5.run(ProgressManager.java:960) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:995) at org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile(ProgressManager.java:970) at org.eclipse.jdt.internal.debug.ui.actions.OpenFromClipboardAction.executeRunnable(OpenFromClipboardAction.java:416) at org.eclipse.jdt.internal.debug.ui.actions.OpenFromClipboardAction.getMethodMatches(OpenFromClipboardAction.java:370) at org.eclipse.jdt.internal.debug.ui.actions.OpenFromClipboardAction.getJavaElementMatches(OpenFromClipboardAction.java:318) at org.eclipse.jdt.internal.debug.ui.actions.OpenFromClipboardAction.handleSingleLineInput(OpenFromClipboardAction.java:254) at org.eclipse.jdt.internal.debug.ui.actions.OpenFromClipboardAction.run(OpenFromClipboardAction.java:187) at org.eclipse.ui.internal.handlers.ActionDelegateHandlerProxy.execute(ActionDelegateHandlerProxy.java:289) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.handlers.SlaveHandlerService.executeCommand(SlaveHandlerService.java:241) at org.eclipse.ui.menus.CommandContributionItem.handleWidgetSelection(CommandContributionItem.java:824) at org.eclipse.ui.menus.CommandContributionItem.access$19(CommandContributionItem.java:810) at org.eclipse.ui.menus.CommandContributionItem$5.handleEvent(CommandContributionItem.java:800) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4126) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3715) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2700) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2664) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2498) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:674) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:667) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java.lang.reflect.Method.invoke(Method.java:600) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577) at org.eclipse.equinox.launcher.Main.run(Main.java:1410) Caused by: java.lang.NullPointerException at org.eclipse.jdt.internal.core.search.matching.MatchLocator.findIndexMatches(MatchLocator.java:264) at org.eclipse.jdt.internal.core.search.PatternSearchJob.search(PatternSearchJob.java:96) at org.eclipse.jdt.internal.core.search.PatternSearchJob.execute(PatternSearchJob.java:63) at org.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob(JobManager.java:277) at org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:214) at org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:515) at org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:584) at org.eclipse.jdt.internal.debug.ui.actions.OpenFromClipboardAction.doMemberSearch(OpenFromClipboardAction.java:655) at org.eclipse.jdt.internal.debug.ui.actions.OpenFromClipboardAction.access$1(OpenFromClipboardAction.java:616) at org.eclipse.jdt.internal.debug.ui.actions.OpenFromClipboardAction$2.run(OpenFromClipboardAction.java:372) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)"}, {"bug_id": "33893", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JREs existant plug updates invalid incorrectly code Bug code ignore", "bug_title": " Preference import can import non-existant JREs", "bug_description": "The update code in the launching plug-in that updates JREs when the preference changes, will incorrectly defined JREs that do not exist. We should ignore JREs that are invalid."}, {"bug_id": "339414", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/HeapWalkingManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Target support method object Manager adapter Bug HeapWalkingManager details Manager", "bug_title": " HeapWalking manager should support other debug targets that can provide an IJavaDebugTarget adapter", "bug_description": "Created attachment 190782 [details] proposed fix Version: 3.7.0 Build id: I20110307-2110 (and all versions since heap-walking was added) In its current state, the method HeapWalkingManager#supportsHeapWalking only considers if the supplied object is an instance of IJavaDebugTarget. If the given object is not an instance of IJavaDebugTarget we should ask it for an IJavaDebugTarget adapter, allowing other debug targets to take part in heap-walking."}, {"bug_id": "34052", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/console/JavaStackTracePageParticipant.java", "org.eclipse.jdt.debug.tests/testprograms/ConsoleInput.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/core/ConsoleInputTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "System questions equaivelent character recognize recognized Recognized comment program EOF", "bug_title": " CTRL-Z Not Recognized as EOF", "bug_description": "Hello, A Java program that reads console input (i.e., System.in) does not seem to recognize CTRL-Z as the end of file character when the program is run from within Eclipse. If such a program is run from outside Eclipse (i.e., from a command shell) the CTRL-Z *is* properly recognized as EOF. My comment applies only to CTRL-Z on Windows. I'm not sure what happens with the Unix equaivelent, CTRL-D. As an aside, I came across this probelm when running a program generated by JavaCC. If you have any questions or need further information please feel free to contact me."}, {"bug_id": "34190", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/ASTEvaluationEngine.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Evaluation framework view problem Bug framework including doesn exception evaluation", "bug_title": " Evaluation: no stacktrace upon exception", "bug_description": "I2003-03-06 In the past, whenever code that I executed in the evaluation view raised an exception, its stacktrace would have been displayed in the console. Unfortunately, there doesn't seem to be any way to get this information anymore. Scenario: I use a framework that has some validation functionality that raises an exception including an error message that describes the problem. In the past, when debugging I used to execute that validation code via the evaluation view and was able to detect the problem. This is not possible anymore."}, {"bug_id": "342681", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/ProjectCreationDecorator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "reason assumes Decorator Decorator Decorator Project test order Java Bug", "bug_title": " ProjectCreationDecorator test fails on Java 7", "bug_description": "The ProjectCreationDecorator test fails on Java 7. See attached test results. The reason is that the test assumes to run in a certain order but that is not guaranteed by JUnit."}, {"bug_id": "342962", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "AbstractDebugTest Internal stepEnd step AssertionFailedError Event exceptions StepHandler MirrorImpl number", "bug_title": " setter / getter step filter test failures on Mac", "bug_description": "the build from N20110414-2000 had a test failure for the setter / getter step filters: Wrong line number expected:<91> but was:<88> junit.framework.AssertionFailedError: Wrong line number expected:<91> but was:<88> at org.eclipse.jdt.debug.test.stepping.StepFilterTests.testSetterFilters(StepFilterTests.java:280) at org.eclipse.jdt.debug.tests.AbstractDebugTest.runBare(AbstractDebugTest.java:1763) at org.eclipse.jdt.debug.tests.DebugSuite$1.run(DebugSuite.java:54) at java.lang.Thread.run(Thread.java:613) The two following exceptions were found in the log: !ENTRY org.eclipse.jdt.debug 4 125 2011-04-14 23:49:47.684 !MESSAGE Internal error logged from JDI Debug: !STACK 0 com.sun.jdi.InternalException: Got error code in reply:13 at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler(MirrorImpl.java:277) at org.eclipse.jdi.internal.request.EventRequestImpl.enable(EventRequestImpl.java:232) at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.createStepRequest(JDIThread.java:2035) at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.createSecondaryStepRequest(JDIThread.java:2293) at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.createSecondaryStepRequest(JDIThread.java:2271) at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.handleEvent(JDIThread.java:2172) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:154) at org.eclipse.jdt.internal.debug.core.EventDispatcher.access$0(EventDispatcher.java:104) at org.eclipse.jdt.internal.debug.core.EventDispatcher$1.run(EventDispatcher.java:248) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) !ENTRY org.eclipse.jdt.debug 4 125 2011-04-14 23:49:47.703 !MESSAGE Internal error logged from JDI Debug: !STACK 0 java.lang.NullPointerException at org.eclipse.jdi.internal.request.EventRequestManagerImpl.deleteEventRequest(EventRequestManagerImpl.java:376) at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.deleteStepRequest(JDIThread.java:2093) at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.stepEnd(JDIThread.java:2247) at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.handleEvent(JDIThread.java:2180) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:154) at org.eclipse.jdt.internal.debug.core.EventDispatcher.access$0(EventDispatcher.java:104) at org.eclipse.jdt.internal.debug.core.EventDispatcher$1.run(EventDispatcher.java:248) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)"}, {"bug_id": "345196", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/BreakpointMarkerUpdater.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Exception update good CompilationUnit Unit Factory App editors Workbench performSave", "bug_title": " NPE while saving a file and debugging an ant task", "bug_description": "It looks like null can be returned from the shared ast if the job has been cancelled. A  null check should be good enough to get rid of this issue. java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.BreakpointMarkerUpdater.updateMarker(BreakpointMarkerUpdater.java:105) at org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.updateMarker(AbstractMarkerAnnotationModel.java:511) at org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.updateMarkers(AbstractMarkerAnnotationModel.java:571) at org.eclipse.ui.texteditor.AbstractMarkerAnnotationModel.commit(AbstractMarkerAnnotationModel.java:636) at org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.commitFileBufferContent(ResourceTextFileBuffer.java:402) at org.eclipse.core.internal.filebuffers.ResourceFileBuffer.commit(ResourceFileBuffer.java:325) at org.eclipse.jdt.internal.ui.javaeditor.DocumentAdapter.save(DocumentAdapter.java:472) at org.eclipse.jdt.internal.core.CommitWorkingCopyOperation.executeOperation(CommitWorkingCopyOperation.java:123) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:728) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2310) at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:793) at org.eclipse.jdt.internal.core.CompilationUnit.commitWorkingCopy(CompilationUnit.java:391) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.commitWorkingCopy(CompilationUnitDocumentProvider.java:1377) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$4.execute(CompilationUnitDocumentProvider.java:1450) at org.eclipse.ui.editors.text.TextFileDocumentProvider$DocumentProviderOperation.run(TextFileDocumentProvider.java:132) at org.eclipse.ui.actions.WorkspaceModifyDelegatingOperation.execute(WorkspaceModifyDelegatingOperation.java:69) at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:106) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2310) at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:118) at org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:75) at org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:65) at org.eclipse.ui.editors.text.TextFileDocumentProvider.executeOperation(TextFileDocumentProvider.java:456) at org.eclipse.ui.editors.text.TextFileDocumentProvider.saveDocument(TextFileDocumentProvider.java:772) at org.eclipse.ui.texteditor.AbstractTextEditor.performSave(AbstractTextEditor.java:5048) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSave(CompilationUnitEditor.java:1247) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSave(CompilationUnitEditor.java:1301) at org.eclipse.ui.texteditor.AbstractTextEditor$TextEditorSavable.doSave(AbstractTextEditor.java:7177) at org.eclipse.ui.Saveable.doSave(Saveable.java:214) at org.eclipse.ui.internal.SaveableHelper.doSaveModel(SaveableHelper.java:346) at org.eclipse.ui.internal.SaveableHelper$3.run(SaveableHelper.java:193) at org.eclipse.ui.internal.SaveableHelper$5.run(SaveableHelper.java:274) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:464) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:372) at org.eclipse.ui.internal.WorkbenchWindow$8.run(WorkbenchWindow.java:1613) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:1610) at org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation(SaveableHelper.java:282) at org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation(SaveableHelper.java:261) at org.eclipse.ui.internal.SaveableHelper.saveModels(SaveableHelper.java:204) at org.eclipse.ui.internal.SaveableHelper.savePart(SaveableHelper.java:144) at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.doSave(CompatibilityPart.java:340) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:226) at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:232) at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:196) at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:86) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.savePart(PartServiceImpl.java:1065) at org.eclipse.ui.internal.WorkbenchPage.saveSaveable(WorkbenchPage.java:3008) at org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:3026) at org.eclipse.ui.internal.SaveAction.run(SaveAction.java:76) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:121) at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:58) at sun.reflect.GeneratedMethodAccessor26.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56) at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:226) at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:207) at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:123) at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:122) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.executeCommand(KeyBindingDispatcher.java:266) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.press(KeyBindingDispatcher.java:465) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.processKeyEvent(KeyBindingDispatcher.java:515) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.filterKeySequenceBindings(KeyBindingDispatcher.java:348) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher.access$0(KeyBindingDispatcher.java:294) at org.eclipse.e4.ui.bindings.keys.KeyBindingDispatcher$KeyDownFilter.handleEvent(KeyBindingDispatcher.java:76) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1262) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1052) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1104) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1100) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1509) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4623) at org.eclipse.swt.widgets.Canvas.WM_CHAR(Canvas.java:345) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4511) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4970) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2526) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3750) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$7.run(PartRenderingEngine.java:890) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:806) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:87) at org.eclipse.ui.internal.Workbench$3.run(Workbench.java:542) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:522) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577) at org.eclipse.equinox.launcher.Main.run(Main.java:1410) at org.eclipse.equinox.launcher.Main.main(Main.java:1386)"}, {"bug_id": "34670", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/RuntimeClasspathViewer.java"], "repo": "eclipse.jdt.debug", "reformed_query": "java key classpath element list event   needed", "bug_title": " Java Launch Configs: [DELETE] key event has not effect on the lists in the 'classpath' tab", "bug_description": "1. create a java launch config. 2. go in the 'classpath' path 3. uncheck \"use default class path\" if needed 4. select an element in the list and hit [DELETE]. Nothing happens."}, {"bug_id": "350733", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/breakpoints/JavaBreakpointConditionEditor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "resize annoying editor Bug screenshot innerone condition test code screen", "bug_title": " Breakpoint condition editor needs a height hint", "bug_description": "Created attachment 198849 [details] screenshot code from HEAD while testing switch-on-String support in conditional breakpoints I found that if you have a really long condition and open the breakpoint properties dialog, it will be the entire height of the screen before it will scroll. Consider the following condition: String test = \"two\"; switch (test) { case \"one\": System.out.println(\"one from condition\"); return true; case \"two\": System.out.println(\"two from condition\"); String innertest = \"innerone\"; switch(innertest) { case \"innerone\": { System.out.println(\"innerone from inner condition\"); return true; } default: { System.out.println(\"fail from inner condition\"); return false; } } return true; case \"three\": System.out.println(\"three from condition\"); return true; case \"four\": System.out.println(\"four from condition\"); return true; case \"five\": System.out.println(\"five from condition\"); return true; default: System.out.println(\"Fail from condition\"); return false; } After it opens if you try to resize the properties dialog the condition text editor does not resize, instead the dialog scrolls, which is annoying."}, {"bug_id": "350918", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaAppletLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "area character reasonable unusual debuging foo Build Param Build text", "bug_title": " [java launching] Applet parameters containing unusual characters confuse eclipse", "bug_description": "Build Identifier:  20100917-0705 Try passing an 8 character applet parameter like 'foo'\"Bar\" to an applet using the eclipse debuging environment.   Or if you are more adventurous, try some chinese text, such as \u00e6\u201a\u00a8\u00e5\u00a5\u00bd. You won't get anything reasonable as the parameter value when you call getParam It may be the case that this is an ill-defined area in general, but even so, if unexpected or unpredictable results are \"expected\" it would be better not to allow GIGO Reproducible: Always Steps to Reproduce: experiment with unusual applet parameters."}, {"bug_id": "35525", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "step Bug view breakpoint view suspended suspended unable evaluation evaluation", "bug_title": " unable to step when suspended at breakpoint during evaluation", "bug_description": "RC3a When suspended at a breakpoint during an evaluation (for example, in the scrapbook or from the display view), the step actions are disabled."}, {"bug_id": "356712", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/ThreadReferenceImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "html html Thread platform platform JVMTI Monitors jdwp Depth download", "bug_title": " Monitor and stack depth are read from JDWP interchanged", "bug_description": "Build Identifier: I20110613-1736 In ThreadReferenceImpl.ownedMonitorsAndFrames(), the stack depth and subsequently the monitor is read from JVMTI via OwnedMonitorsStackDepthInfo. The specification says that the monitor and subsequently the stack depth is written however. See: http://download.oracle.com/javase/6/docs/platform/jpda/jdwp/jdwp-protocol.html#JDWP_ThreadReference_OwnedMonitorsStackDepthInfo Reproducible: Always"}, {"bug_id": "368483", "ground_truth": ["org.eclipse.jdt.launching.macosx/macosx/org/eclipse/jdt/internal/launching/macosx/MacOSXVMInstallType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "config Mac split status beachball Snow initialzing plugin initializing Bug", "bug_title": " Mac OSX JDT launching plugin needs to check new VM locations on Snow Leopard and Lion", "bug_description": "Build Identifier: 20100617-1415 running eclipse Helios 3.6 (64 bit) on Mac OS X (10.6.8). java -version: java version \"1.6.0_29\" Java(TM) SE Runtime Environment (build 1.6.0_29-b11-402-10M3527) Java HotSpot(TM) 64-Bit Server VM (build 20.4-b02-402, mixed mode) GWT plugin, 2.4, installed. On start up the 'initializing java tooling: 30%' status displays for about a minute if VPN (Cisco anyconnect) is running.  < 2 seconds (or not at all) without VPN running. Also, can get the SBOD (spinning beachball of death) if I have a GWT project with a run or debug configuration and try to edit it (or create one).  Locks up the launch config dialog. This happens with only one project in workspace (or more). This happens with or without the split tunnel setup (multi-home). Happens with Indigo or Helios, 32 bit or 64 bit. Reproducible: Always Steps to Reproduce: 1. Start the cisco VPN Anyconnect client 2. Start eclipse 3. Watch the 'initialzing java tooling' status for about a minute. 4. Try creating a new Debug configuration for a GWT project. 5. Watch the SBOD for about 20 minutes."}, {"bug_id": "369480", "ground_truth": ["org.eclipse.jdt.launching/.settings/org.eclipse.jdt.core.prefs", "org.eclipse.jdt.launching/lib/.gitignore", "org.eclipse.jdt.launching/lib/launchingsupport.jar", "org.eclipse.jdt.launching/support/org/eclipse/jdt/internal/launching/support/LibraryDetector.java", "org.eclipse.jdt.launching/build.properties", "org.eclipse.jdt.launching/scripts/buildLaunchingSupportJAR.xml"], "repo": "eclipse.jdt.debug", "reformed_query": "recognized IBM dev   surfaces", "bug_title": " Fixed bug : launchingsupport.jar must be 1.1 compatible (was:1.4.2 JRE is not recognized in the latest M5 builds)", "bug_description": "- Fresh workspace - Add 1.4.2 IBM JRE to your workspace (I also have 1.5 and 1.6 JREs added to the workspace) - Java > Installed JREs > Execution environments > J2SE 1.4 => 1.4.2. JRE is not shown as a compatible match - Import projects which use 1.4 as an execution environment e.g. o.e.pde.ui => The JRE container will show 1.6 JRE This is a major bug as I cannot build against 1.4 JRE. Note: - Things work with 3.8 M4 - Things also work with new builds and older workspaces (Things are fine in my dev workspace). The problem surfaces only in new workspaces."}, {"bug_id": "371300", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JREContainerInitializer.java"], "repo": "eclipse.jdt.debug", "reformed_query": "plugin Bug launch resolve core workspace installs core behaviour prefs", "bug_title": " JavaRuntime computeVMInstall method returns the first VM instead of the workspace default VM if no compatible VM version is found for the given launch configuration", "bug_description": "Build Identifier: 3.7.1 JavaRuntime computeVMInstall(ILaunchConfiguration) method returns the very first VM from {workspace}\\.metadata\\.plugins\\org.eclipse.core.runtime\\.settings\\org.eclipse.jdt.launching.prefs instead of the workspace default VM if no compatible VM version is found for the given launch configuration. This may not seem a serious issue but it creates a lot of confusion to the user. This behaviour was noticed/discovered while using the maven m2e eclipse plugin. IMHO JavaRuntime computeVMInstall(ILaunchConfiguration) should return the workspace default JVM and not the first VM from the preference file. The JREContainerInitializer: public static IVMInstall resolveVM(IExecutionEnvironment environment) method should be modified so that it returns the default workspace VM. public static IVMInstall resolveVM(IExecutionEnvironment environment) { if (JREContainer.DEBUG_JRE_CONTAINER) { System.out.println(\"<JRE_CONTAINER> resolveVM(IExecutionEnvironment)\"); //$NON-NLS-1$ } IVMInstall vm = environment.getDefaultVM(); if (vm == null) { IVMInstall[] installs = environment.getCompatibleVMs(); // take the first strictly compatible vm if there is no default if (installs.length == 0 && JREContainer.DEBUG_JRE_CONTAINER) { System.out.println(\"\\t*** NO COMPATIBLE VMS ***\"); //$NON-NLS-1$ } for (int i = 0; i < installs.length; i++) { IVMInstall install = installs[i]; if (environment.isStrictlyCompatible(install)) { vm = install; if (installs.length == 0 && JREContainer.DEBUG_JRE_CONTAINER) { System.out.println(\"\\tPerfect Match: \" + vm.getName()); //$NON-NLS-1$ } break; } } // use the first vm failing that if (vm == null && installs.length > 0) { vm= JavaRuntime.getDefaultVMInstall(); if (installs.length == 0 && JREContainer.DEBUG_JRE_CONTAINER) { System.out.println(\"\\tFirst Match: \" + vm.getName()); //$NON-NLS-1$ } } } else { if (JREContainer.DEBUG_JRE_CONTAINER) { System.out.println(\"\\tUser Default VM: \" + vm.getName()); //$NON-NLS-1$ } } return vm; } Reproducible: Always Steps to Reproduce: The below instructions are just an example how this behaviour causes confusion with maven. This behaviour has nothing to do with m2e plugin itself! 1. I had two JVM's installed JRE 7 and JDK 1.6. 2. Eclipse starts up and discovers JRE 7 and automatically adds it as the default JRE for the workspace. 3. I then add the JDK 1.6 VM from the preferences and made it the workspace default VM. 4. I create a project using m2e plugin and the execution environment for the project is set to J2SE 1.5. 5.When I compile the project using maven install for the first time. It works. 6.Now I run maven clean 7.Now if you try to run maven install. Maven complains that JDK is not installed. The user has already added a JDK VM in the preferences and has set it as the workspace default and it creates a lot of confusion."}, {"bug_id": "372030", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "resumed launch investigate wanted bug Remote view Suspend Bug work", "bug_title": " Cannot resume single thread after VM suspended", "bug_description": "N20120217-2000 I cannot resume a single thread in a Remote Java Application launch configuration. I remote-debugged my workspace to investigate bug 361758, and then suspended the VM. Then I wanted to resume a single thread, but when I selected it and performed Resume (F8), the whole VM resumed, instead of only the the selected thread. I haven't checked, but I'm pretty sure this once used to work. Workaround is to select all threads (but not the VM) and then click Suspend. Drawback: It's tedious, and all threads end up expanded in the Debug view."}, {"bug_id": "375856", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "launch kind attributes Content purposes entry types kind debugging failing", "bug_title": " Launching is failing due to missing optional project(s)", "bug_description": "Build Identifier: I20120314-1800 In my workspace, I have two projects.  Project 1 is linked to Project 2 in the .classpath file as a \"src\" entry that is optional.  The jar that Project 1 creates is also added to the .classpath of Project 2 as a \"lib\" entry.  When I try to run JUnit tests within Project 2, the launch fails with the message \"Project 1 does not exist\" in my Progress view. This should not fail since Project 1 is optional and only linked for debugging purposes (source linkage).  The classes from Project 1 are available thorough the jar that is present in Project 2.  Launching Project 2 in the Servers view works fine, so I don't think it is all types of launching that are affected -- it may be isolated to JUnit. .classpath snippet from Project 2: [pre] <classpathentry kind=\"src\" path=\"/Project1\" combineaccessrules=\"false\"> <attributes> <attribute name=\"optional\" value=\"true\" /> </attributes> </classpathentry> <classpathentry kind=\"lib\" path=\"WebContent/WEB-INF/lib/Project1.jar\" /> [/pre] Reproducible: Always Steps to Reproduce: 1. Link projects as described in details 2. Launch Junit tests in Main Project 3. Check Progress view for \"Subordinate Project does not exist\""}, {"bug_id": "37918", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMRunner.java"], "repo": "eclipse.jdt.debug", "reformed_query": "format time window Eclipse format picture running Studio version Bug", "bug_title": " Console uses Date format that is not appropriate for Japanese.", "bug_description": "When putting the title in the console window the date/time printed should use the 4 digit year format as this is recognized in Japan. I will attach a picture of the console while running WebSphere Studio Device Developer version 5.5 (based on Eclipse 2.0.2)"}, {"bug_id": "380918", "ground_truth": ["org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/JavaProjectHelper.java", "org.eclipse.jdt.debug.tests/testprograms/BreakpointsLocation.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/AbstractDebugTest.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/ProjectCreationDecorator.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/core/ArgumentTests.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/launching/PListParserTests.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Project Main source Reproducible Project test Steps creates message Identifier", "bug_title": " Launching is failing due to missing optional project(s) - pt.2", "bug_description": "Build Identifier: I20120518-2345 In my workspace, I have two projects.  Project 1 is linked to Project 2 in the .classpath file as a \"src\" entry that is optional.  The jar that Project 1 creates is also added to the .classpath of Project 2 as a \"lib\" entry.  Project 1 is closed when not being actively worked on.  When I try to run JUnit tests within Project 2, the launch fails with the message \"Project 1 does not exist\" in my Progress view. This should not fail since Project 1 is optional and only linked for debugging purposes (source linkage).  The classes from Project 1 are available thorough the jar that is present in Project 2.  Launching Project 2 in the Servers view works fine, so I don't think it is all types of launching that are affected -- it may be isolated to JUnit. (See attachment for the projects.) Reproducible: Always Steps to Reproduce: 1. Import projects from attached archive 2. Close Project 1 3. Launch Main as Java application or Tests as JUnit test suite 4. Check Progress view for \"Project 1 does not exist\""}, {"bug_id": "383625", "ground_truth": ["org.eclipse.jdt.debug/META-INF/MANIFEST.MF", "org.eclipse.jdt.debug/jdi interfaces/com/sun/jdi/event/EventSet.java"], "repo": "eclipse.jdt.debug", "reformed_query": "java version Bug EventSet Event Reproducible fact jdi sun Oracle", "bug_title": " JDT version of com.sun.jdi.event.EventSet doesn't extend java.util.set", "bug_description": "Build Identifier: Version: 3.7.2 Build id: M20120208-0800 In jdi.jar from org.eclipse.jdt.debug, com.sun.jdi.event.EventSet is defined as such: public interface EventSet extends Mirror , Collection { ... In all versions of the JDI javadoc since 1.4.2, it is defined as: public interface EventSet extends Mirror, Set Code that compiles against the Sun/Oracle version of JDI, and rely on the fact that it is a Set, doesn't run inside Eclipse. Reproducible: Always"}, {"bug_id": "383637", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/request/EventRequestManagerImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "wait map EventRequestManagerImpl wait VMDeathEvents code problem VMDeath wait Version", "bug_title": " EventRequestManagerImpl#addRequestIDMapping and #removeRequestIDMapping does not handle VMDeathRequests", "bug_description": "Build Identifier: Version: 3.7.2 Build id: M20120208-0800 VMDeathEvents returned by the EventQueue never carry the request which triggered them. This is because EventRequestManagerImpl#addRequestIDMapping(..) doesn't handle VMDeathRequests. The code is just missing. So when trying to map the request id to the request using EventRequestManagerImpl#findRequest(..), the original request is nowhere to be found. The same problem is visible in EventRequestManagerImpl#removeRequestIDMapping(..) Reproducible: Always Steps to Reproduce: 1. create a VMDeathRequest 2. enable it 3. associate an IJDIEventListener to the request 4. wait for a callback when the VM terminates => it never happens. The VM terminates, the listener is not informed."}, {"bug_id": "38387", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/event/EventMessages.java", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/LocalEvaluationEngine.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/environments/EnvironmentsManager.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.properties", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/EvaluationMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/JDIDebugHCRMessages.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/propertypages/PropertyPageMessages.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/JDIDebugHCRMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.java", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/EvaluationMessages.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/VMDefinitionsContainer.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/JavaObjectValueEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIDebugUIPlugin.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ActionMessages.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/propertypages/JavaBreakpointPage.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/environments/EnvironmentMessages.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/propertypages/PropertyPageMessages.properties", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.properties", "org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/event/EventMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ActionMessages.properties", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/environments/EnvironmentMessages.properties"], "repo": "eclipse.jdt.debug", "reformed_query": "ing log Jared NLS Bug error", "bug_title": " NLS'ing of internal error messages", "bug_description": "Jared found some cases of where I had nls'd what really are internal error messages. We should do a pass to ensure that when we generate internal error messages in the log that they will be in a language that we can understand :-)"}, {"bug_id": "386188", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/PListParser.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/PListParser.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Runtime java detectInstallLocation JREContainerInitializer arch Loader parseXML setFeature support JavaModelManager", "bug_title": " ParserConfigurationException trying to load JREs on Mac OS", "bug_description": "Created attachment 219293 [details] Error log Hi, I just started using Eclipse and was trying to perform the \"Hello World\" tutorial, but it keeps producing errors. Upon opening the window to create a New Java Project, it produces a list of errors (see below or attached file), including \"Exception occurred parsing property list\". Upon creating the class, it says \"configure build path\" and \"the specified JRE installation does not exist\" (I've tried running the program with various JRE installations - ). My Installed JREs folder is empty, and says \"The selected JRE does not support the current compiler compliance level of 1.4\" at the top. I'm not sure what to put in JRE home, or how to find it. Note: I have a Mac OS X 10.5.8 Thank you! !SESSION 2012-07-26 21:46:29.000 ----------------------------------------------- eclipse.buildId=I20120608-1400 java.version=1.5.0_30 java.vendor=Apple Inc. BootLoader constants: OS=macosx, ARCH=x86, WS=cocoa, NL=en_US Framework arguments:  -product org.eclipse.epp.package.jee.product -keyring /Users/lamarar/.eclipse_keyring -showlocation Command-line arguments:  -os macosx -ws cocoa -arch x86 -product org.eclipse.epp.package.jee.product -keyring /Users/lamarar/.eclipse_keyring -showlocation !ENTRY org.eclipse.core.net 1 0 2012-07-26 21:47:23.484 !MESSAGE System property http.nonProxyHosts has been set to gov.cv|*.gov.cv|169.254/16|*.169.254/16 by an external source. This value will be overwritten using the values from the preferences !ENTRY org.eclipse.jdt.launching 4 4 2012-07-26 21:51:30.335 !MESSAGE Exception occurred parsing property list !STACK 1 org.eclipse.core.runtime.CoreException: Exception occurred parsing property list at org.eclipse.jdt.internal.launching.PListParser.abort(PListParser.java:239) at org.eclipse.jdt.internal.launching.PListParser.parse(PListParser.java:71) at org.eclipse.jdt.internal.launching.MacInstalledJREs.parseJREInfo(MacInstalledJREs.java:193) at org.eclipse.jdt.internal.launching.MacInstalledJREs.parseJREInfo(MacInstalledJREs.java:178) at org.eclipse.jdt.internal.launching.MacInstalledJREs.getInstalledJREs(MacInstalledJREs.java:155) at org.eclipse.jdt.internal.launching.macosx.MacOSXVMInstallType.detectInstallLocation(MacOSXVMInstallType.java:106) at org.eclipse.jdt.launching.JavaRuntime.detectEclipseRuntime(JavaRuntime.java:1770) at org.eclipse.jdt.launching.JavaRuntime.initializeVMs(JavaRuntime.java:2678) at org.eclipse.jdt.launching.JavaRuntime.getVMInstallTypes(JavaRuntime.java:532) at org.eclipse.jdt.internal.launching.environments.EnvironmentsManager.initializeCompatibilities(EnvironmentsManager.java:234) at org.eclipse.jdt.internal.launching.environments.ExecutionEnvironment.init(ExecutionEnvironment.java:177) at org.eclipse.jdt.internal.launching.environments.ExecutionEnvironment.getDefaultVM(ExecutionEnvironment.java:214) at org.eclipse.jdt.internal.launching.JREContainerInitializer.resolveVM(JREContainerInitializer.java:173) at org.eclipse.jdt.internal.launching.JREContainerInitializer.resolveVM(JREContainerInitializer.java:140) at org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:57) at org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:2843) at org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:1878) at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:3128) at org.eclipse.jdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:2691) at org.eclipse.jdt.internal.core.JavaProject.resolveClasspath(JavaProject.java:2614) at org.eclipse.jdt.internal.core.ClasspathEntry.validateClasspath(ClasspathEntry.java:1649) at org.eclipse.jdt.core.JavaConventions.validateClasspath(JavaConventions.java:612) at org.eclipse.pde.internal.core.ClasspathComputer.getClasspath(ClasspathComputer.java:60) at org.eclipse.pde.internal.ui.wizards.imports.PluginImportOperation.importPlugin(PluginImportOperation.java:453) at org.eclipse.pde.internal.ui.wizards.imports.PluginImportOperation.runInWorkspace(PluginImportOperation.java:241) at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) Caused by: javax.xml.parsers.ParserConfigurationException: jaxp_feature_not_supported: Feature \"http://apache.org/xml/features/nonvalidating/load-external-dtd\" is not supported. at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl.setFeature(DocumentBuilderFactoryImpl.java:207) at org.eclipse.jdt.internal.launching.PListParser.parseXML(PListParser.java:101) at org.eclipse.jdt.internal.launching.PListParser.parse(PListParser.java:65) ... 25 more !SUBENTRY 1 org.eclipse.jdt.launching 4 0 2012-07-26 21:51:30.336 !MESSAGE Exception occurred parsing property list !STACK 0 javax.xml.parsers.ParserConfigurationException: jaxp_feature_not_supported: Feature \"http://apache.org/xml/features/nonvalidating/load-external-dtd\" is not supported. at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl.setFeature(DocumentBuilderFactoryImpl.java:207) at org.eclipse.jdt.internal.launching.PListParser.parseXML(PListParser.java:101) at org.eclipse.jdt.internal.launching.PListParser.parse(PListParser.java:65) at org.eclipse.jdt.internal.launching.MacInstalledJREs.parseJREInfo(MacInstalledJREs.java:193) (see attached file for more)"}, {"bug_id": "388172", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/MethodImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "locations debugging MethodImpl createRequest began org debug working Command EventDispatcher", "bug_title": " JDI ArrayIndexOutOfBoundsException when debugging (until I deleted all breakpoints)", "bug_description": "When running a testng test in debug mode, I got the error and exception shown below. The test would hang every time. After deleting all of my breakpoints, the test began working correctly again. --- An internal error occurred during: \"JDI Event Dispatch\". java.lang.ArrayIndexOutOfBoundsException: -4 at org.eclipse.jdi.internal.MethodImpl.javaStratumLocationsOfLines(MethodImpl.java:867) at org.eclipse.jdi.internal.ReferenceTypeImpl.locationsOfLine(ReferenceTypeImpl.java:1966) at org.eclipse.jdi.internal.ReferenceTypeImpl.locationsOfLine(ReferenceTypeImpl.java:1594) at org.eclipse.jdi.internal.ReferenceTypeImpl.locationsOfLine(ReferenceTypeImpl.java:1079) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.determineLocations(JavaLineBreakpoint.java:355) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaLineBreakpoint.newRequests(JavaLineBreakpoint.java:294) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequest(JavaBreakpoint.java:486) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleClassPrepareEvent(JavaBreakpoint.java:374) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleEvent(JavaBreakpoint.java:290) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:152) at org.eclipse.jdt.internal.debug.core.EventDispatcher.access$0(EventDispatcher.java:100) at org.eclipse.jdt.internal.debug.core.EventDispatcher$1.run(EventDispatcher.java:249) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) --- eclipse.buildId=I20120608-1400 java.version=1.6.0_33 java.vendor=Apple Inc. BootLoader constants: OS=macosx, ARCH=x86_64, WS=cocoa, NL=en_US Framework arguments:  -showlocation Command-line arguments:  -os macosx -ws cocoa -arch x86_64 -clean -showlocation"}, {"bug_id": "392607", "ground_truth": ["org.eclipse.jdt.debug.jdi.tests/tests/org/eclipse/debug/jdi/tests/AbstractJDITest.java", "org.eclipse.jdt.debug.jdi.tests/tests/org/eclipse/debug/jdi/tests/AutomatedSuite.java"], "repo": "eclipse.jdt.debug", "reformed_query": "form fallback suite test", "bug_title": " JDI test suite does not work with Mac OSX", "bug_description": "Version: 4.3.0 Build id: I20121016-2240 In its current form, the JDI test suite does not run on Mac, it all fails trying to load a j9 VM - which is the fallback when the correct kind of VM cannot be determined."}, {"bug_id": "394220", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JREContainer.java"], "repo": "eclipse.jdt.debug", "reformed_query": "iterates access length check returns checks JREContainer originalrule entries equals", "bug_title": " JREContainer.RuleEntry#equals returns to early", "bug_description": "The equals check iterates through the double dimension IAccessRule-Array. Unfortunately if the first access rule equals it returns with true omitting access rule checks to other entries. for (int i = 0; i < fRules.length; i++) { originalrule = fRules[i]; comparerule = rules[i]; equal &= (originalrule == comparerule); if(!equal) { if (originalrule.length == comparerule.length) { for (int j = 0; j < originalrule.length; j++) { if (!originalrule[j].equals(comparerule[j])) { return false; } } return true; } else { return false; } } } The correct code should looks like this: for (int i = 0; i < fRules.length; i++) { originalrule = fRules[i]; comparerule = rules[i]; equal &= (originalrule == comparerule); if(!equal) { if (originalrule.length == comparerule.length) { for (int j = 0; j < originalrule.length; j++) { if (!originalrule[j].equals(comparerule[j])) { return false; } } // FIX return true; } else { return false; } } }"}, {"bug_id": "394225", "ground_truth": ["org.eclipse.jdt.debug.tests/JDT Debug Evaluation Test Suite.launch", "org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/ASTInstructionCompiler.java"], "repo": "eclipse.jdt.debug", "reformed_query": "display", "bug_title": " Display evaluates !(true&&true&&true&&true&&true) incorrectly.", "bug_description": "!(true&&true&&true&&true&&true) Evaluates to true in display window. Should be false. Seems to fail when using at least 5 true's."}, {"bug_id": "396795", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/AbstractDetailPane.java"], "repo": "eclipse.jdt.debug", "reformed_query": "breakpoint time Bug pane colour changed Open view changed pane", "bug_title": " Prevent breakpoint detail panes from changing background colour on selection", "bug_description": "1) Open breakpoints view with at least one breakpoint 2) Click on a breakpoint a few times Result: One each selection the background colour changes The parent sashform colour is changed based on the detail pane colour.  The detail pane colour currently depends on the sash form colour.  This results in toggling each time. Solution is to set the background colour explicitly."}, {"bug_id": "399913", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/InstalledJREsBlock.java", "org.eclipse.jdt.launching.macosx/macosx/org/eclipse/jdt/internal/launching/macosx/MacOSXVMInstallType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "attachment JVM parsing Eclipse points causing existing host update Created", "bug_title": " JREs with the same location do not all show up on the installed JREs pref page using Mac search", "bug_description": "Created attachment 226521 [details] 1.4 EE file I20130130-2000 Went to the installed JREs page after the latest JVM update on my Mac only to find that my Java 1.6 JRE was not there, so I hit search and it still did not show up. Debugged my host Eclipse and found that because I have an EE file to describe a 1.4 VM - that points to the 1.6 location - the actual 1.6 VM is not shown on the page (it is still found via the plist parsing). Steps 1. grab the EE file I attached 2. make a VM install for the EE file 3. hit the search button on the installed JREs page 4. notice there is no 1.6 JRE added to the list - you can do this in a new or existing workspace I looked at the logic in the page and there is a check based on location of the VM that is likely causing the bug."}, {"bug_id": "400636", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/contentassist/CurrentFrameContext.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Eclipse", "bug_title": " codeassist does not work in Display view", "bug_description": "This appears to be a regression in Kepler M5. When debugging an Eclipse Application, codeassist does not work in Display view. This worked in Kepler M4. Not sure if this makes any difference, I am on OSX 10.8.2 with Oracle Java 1.7.0_10."}, {"bug_id": "401815", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/AutomatedSuite.java"], "repo": "eclipse.jdt.debug", "reformed_query": "test linux debug downloads tests download jdt", "bug_title": " PList parser test failures tests in I20130225-2315", "bug_description": "There are 5 failing tests on Windows and Linux for the PList parsing. http://download.eclipse.org/eclipse/downloads/drops4/I20130225-2315/testresults/html/org.eclipse.jdt.debug.tests_linux.gtk.x86_6.0.html The problem is that these are now Mac-specific - as they should have always been since the PList parser is only used to create Mac OSX VM installs."}, {"bug_id": "403383", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/breakpoints/ConditionalBreakpointsWithGenerics.java"], "repo": "eclipse.jdt.debug", "reformed_query": "caused failing debug Conditional org debug appears download dead Bug", "bug_title": " 3 failing tests in M6 candidate (caused by ConditionalBreakpointsWithGenerics#testBreakpointWithGenericCondition4)", "bug_description": "There are 3 failing tests in the M6 candidate: http://download.eclipse.org/eclipse/downloads/drops4/I20130313-2000/testResults.php They have failed for the last three builds. It appears that one of the new tests added for bug 403028 forgets to clean up after itself and leaves a dead launch in the view, which leaks an instruction pointer and prevents the watch expression from updating (because the debug selection does not change). This is a problem only in the tests. The offending test is: ConditionalBreakpointsWithGenerics#testBreakpointWithGenericCondition4"}, {"bug_id": "403700", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaJRETab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Events Config error jdt JRETab SESSION full log AbstractLaunchConfigurationTabGroup Handle", "bug_title": " Selecting Ant Build launch configuration in External Tools Configuration dialog causes NPE", "bug_description": "Created attachment 228601 [details] Screen shot of blank JRE tab in External Tools Config dialog I recently upgraded to Eclipse Juno on my Windows XP machine: Eclipse Java EE IDE for Web Developers. Version: Juno Service Release 2 Build id: 20130225-0426 When I open the External Tools Configurations dialog and try to select one of my Ant Build launch configurations, this message appears at the top of the dialog: \"[JRE]: Unable to resolve JRE: jdk1.5.0_19 (Standard VM)\". I try navigating to the JRE tab to fix this, but the UI of the tab is totally blank (see attached screen shot).  I also get a \"Problem Occurred\" pop-up dialog with the text \"An error has occurred.  See error log for more details.  java.lang.NullPointerException.\" I've tried closing and reopening the External Tools Configuration dialog, and running Eclipse with -clean, but the JRE tab is always blank now, so I can't figure out how to get into a state where I could designate the correct JRE. Here is the full stack trace from the log file: java.lang.NullPointerException at org.eclipse.core.runtime.Path.append(Path.java:261) at org.eclipse.jdt.launching.JavaRuntime.newJREContainerPath(JavaRuntime.java:1915) at org.eclipse.jdt.debug.ui.launchConfigurations.JavaJRETab.selectJRE(JavaJRETab.java:417) at org.eclipse.jdt.debug.ui.launchConfigurations.JavaJRETab.updateJREFromConfig(JavaJRETab.java:361) at org.eclipse.jdt.debug.ui.launchConfigurations.JavaJRETab.initializeFrom(JavaJRETab.java:164) at org.eclipse.ant.internal.ui.launchConfigurations.AntJRETab.initializeFrom(AntJRETab.java:160) at org.eclipse.debug.ui.AbstractLaunchConfigurationTabGroup.initializeFrom(AbstractLaunchConfigurationTabGroup.java:86) at org.eclipse.ant.internal.ui.launchConfigurations.AntTabGroup.initializeFrom(AntTabGroup.java:50) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupWrapper.initializeFrom(LaunchConfigurationTabGroupWrapper.java:194) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.displayInstanceTabs(LaunchConfigurationTabGroupViewer.java:753) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer$8.run(LaunchConfigurationTabGroupViewer.java:624) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.inputChanged(LaunchConfigurationTabGroupViewer.java:641) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.setInput0(LaunchConfigurationTabGroupViewer.java:603) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationTabGroupViewer.setInput(LaunchConfigurationTabGroupViewer.java:579) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.handleLaunchConfigurationSelectionChanged(LaunchConfigurationsDialog.java:941) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog$3.selectionChanged(LaunchConfigurationsDialog.java:560) at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:888) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:886) at org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:1226) at org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:1251) at org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:262) at org.eclipse.jface.util.OpenStrategy.access$5(OpenStrategy.java:256) at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:433) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4144) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3761) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:1132) at org.eclipse.debug.ui.DebugUITools$2.run(DebugUITools.java:600) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:608) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:542) at org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:81) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1053) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:942) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) !SESSION 2013-03-18 17:10:10.639 ----------------------------------------------- eclipse.buildId=M20130204-1200 java.version=1.6.0_31 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Framework arguments:  -product org.eclipse.epp.package.jee.product Command-line arguments:  -os win32 -ws win32 -arch x86 -product org.eclipse.epp.package.jee.product -clean Please advise if I need to provide any more details. Thank you, Jennifer"}, {"bug_id": "404731", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaMigrationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "typeMove handle createAndRunWorkbench Migration specific handlers UIEventHandler JavaMigrationDelegate suddenly Handler", "bug_title": " Launch configuration refactoring exceptions. (was: Entries under \"Run Configuration\" vanish after some usage of Eclipse IDE)", "bug_description": "After upgrading to 4.2.2, after a few hours of usage of Eclipse IDE, entries under \"Run Configuration...\" are suddenly not available any more. None of the usual entries like \"Run Java Application\", \"Run JUnit Test\", ... appear, not on the project-tree and not in the JAva Editor as well. Also keyboard shortcuts like F11 and SHIFT-F11 stop working, they do not start the currently opened context any more, but always the last executed one, i.e. if I open another app, they still start the previously executed one. Restarting Eclipse helps, but only for a while until it reappears. I could not yet attribute it to something specific, only that it consistently happens at least after a few hours of usage on two different installations of Eclipse. Both were updated from 4.2 to 4.2.1 and then to 4.2.2. Log contains a number of exceptions, but I am not sure which ones are directly related: !ENTRY org.eclipse.ltk.core.refactoring 4 10009 2013-04-02 15:15:10.416 !MESSAGE Participant 'org.eclipse.jdt.debug.refactoring.launchConfiguration.typeMove' removed due to the following exception !STACK 1 Java Model Exception: Java Model Status [[Working copy] MyTextTest.java [in com.c.timesheet [in src [in TimesheetHelper]]] does not exist] at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:495) at org.eclipse.jdt.internal.core.Openable.getUnderlyingResource(Openable.java:343) at org.eclipse.jdt.internal.core.CompilationUnit.getUnderlyingResource(CompilationUnit.java:943) at org.eclipse.jdt.internal.core.SourceRefElement.getUnderlyingResource(SourceRefElement.java:226) at org.eclipse.jdt.internal.launching.JavaMigrationDelegate.getResource(JavaMigrationDelegate.java:104) at org.eclipse.jdt.internal.launching.JavaMigrationDelegate.updateResourceMapping(JavaMigrationDelegate.java:137) at org.eclipse.jdt.internal.debug.core.refactoring.LaunchConfigurationProjectMainTypeChange.perform(LaunchConfigurationProjectMainTypeChange.java:159) at org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:278) at org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:258) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2344) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:306) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.executeChange(UIPerformChangeOperation.java:92) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:218) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2344) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) !SUBENTRY 1 org.eclipse.jdt.core 4 969 2013-04-02 15:15:10.418 !MESSAGE [Working copy] MyTextTest.java [in com.compuware.timesheet [in src [in TimesheetHelper]]] does not exist !ENTRY org.eclipse.ltk.ui.refactoring 4 10000 2013-04-02 15:15:10.531 !MESSAGE Internal Error !STACK 1 Java Model Exception: Java Model Status [MyTextTest.java [in com.c.timesheet [in src [in TimesheetHelper]]] does not exist] at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:495) at org.eclipse.jdt.internal.core.Openable.getUnderlyingResource(Openable.java:343) at org.eclipse.jdt.internal.core.CompilationUnit.getUnderlyingResource(CompilationUnit.java:943) at org.eclipse.jdt.internal.core.SourceRefElement.getUnderlyingResource(SourceRefElement.java:226) at org.eclipse.jdt.internal.launching.JavaMigrationDelegate.getResource(JavaMigrationDelegate.java:104) at org.eclipse.jdt.internal.launching.JavaMigrationDelegate.updateResourceMapping(JavaMigrationDelegate.java:137) at org.eclipse.jdt.internal.debug.core.refactoring.LaunchConfigurationProjectMainTypeChange.perform(LaunchConfigurationProjectMainTypeChange.java:159) at org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:278) at org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:258) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2344) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:306) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.executeChange(UIPerformChangeOperation.java:92) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:218) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2344) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) !SUBENTRY 1 org.eclipse.jdt.core 4 969 2013-04-02 15:15:10.531 !MESSAGE MyTextTest.java [in com.compuware.timesheet [in src [in TimesheetHelper]]] does not exist Conflicting handlers for org.eclipse.debug.ui.commands.eof: {org.eclipse.debug.internal.ui.views.console.ProcessConsolePageParticipant$EOFHandler@27d399e8} vs {org.eclipse.debug.internal.ui.views.console.ProcessConsolePageParticipant$EOFHandler@27d399e8} !ENTRY org.eclipse.equinox.event 4 0 2013-04-02 15:57:42.756 !MESSAGE Exception while dispatching event org.osgi.service.event.Event [topic=org/eclipse/e4/ui/model/ui/ElementContainer/selectedElement/SET] to handler org.eclipse.e4.ui.services.internal.events.UIEventHandler@6eef7d8f !STACK 0 java.lang.ClassCastException: java.lang.Object cannot be cast to org.eclipse.e4.core.commands.EHandlerService at org.eclipse.ui.internal.menus.MenuHelper$1.evaluate(MenuHelper.java:240) at org.eclipse.e4.ui.internal.workbench.ContributionsAnalyzer.isVisible(ContributionsAnalyzer.java:248) at org.eclipse.e4.ui.workbench.renderers.swt.ToolBarContributionRecord.computeVisibility(ToolBarContributionRecord.java:114) at org.eclipse.e4.ui.workbench.renderers.swt.ToolBarContributionRecord.updateVisibility(ToolBarContributionRecord.java:68) at org.eclipse.e4.ui.workbench.renderers.swt.ToolBarManagerRenderer$6.changed(ToolBarManagerRenderer.java:352) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update(TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled(EclipseContext.java:328) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseContext.java:342) at org.eclipse.e4.core.internal.contexts.EclipseContext$1.changed(EclipseContext.java:738) at org.eclipse.e4.core.internal.contexts.TrackableComputationExt.update(TrackableComputationExt.java:110) at org.eclipse.e4.core.internal.contexts.EclipseContext.processScheduled(EclipseContext.java:328) at org.eclipse.e4.core.internal.contexts.EclipseContext.set(EclipseContext.java:342) at org.eclipse.e4.core.internal.contexts.EclipseContext.activate(EclipseContext.java:625) at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.switchPerspective(PartServiceImpl.java:503) at org.eclipse.e4.ui.workbench.renderers.swt.PerspectiveStackRenderer.showTab(PerspectiveStackRenderer.java:124) at org.eclipse.e4.ui.workbench.renderers.swt.LazyStackRenderer$1.handleEvent(LazyStackRenderer.java:67) at org.eclipse.e4.ui.services.internal.events.UIEventHandler$1.run(UIEventHandler.java:41) at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:180) at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:150) at org.eclipse.swt.widgets.Display.syncExec(Display.java:4687) at org.eclipse.e4.ui.internal.workbench.swt.E4Application$1.syncExec(E4Application.java:187) at org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:38) at org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:197) at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:197) at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1) at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:230) at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:148) at org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:135) at org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:78) at org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:39) at org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:80) at org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:58) at org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:374) at org.eclipse.e4.ui.model.application.ui.advanced.impl.PerspectiveStackImpl.setSelectedElement(PerspectiveStackImpl.java:135) at org.eclipse.e4.ui.model.application.ui.advanced.impl.PerspectiveStackImpl.setSelectedElement(PerspectiveStackImpl.java:1) at org.eclipse.ui.internal.WorkbenchPage.setPerspective(WorkbenchPage.java:3558) at org.eclipse.ui.internal.Workbench.showPerspective(Workbench.java:2674) at org.eclipse.ui.internal.Workbench.showPerspective(Workbench.java:2614) at org.eclipse.debug.internal.ui.launchConfigurations.PerspectiveManager.switchToPerspective(PerspectiveManager.java:367) at org.eclipse.debug.internal.ui.launchConfigurations.PerspectiveManager$5.runInUIThread(PerspectiveManager.java:446) at org.eclipse.debug.internal.ui.launchConfigurations.PerspectiveManager$1.run(PerspectiveManager.java:211) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4144) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3761) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1053) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:942) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438)"}, {"bug_id": "404784", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/breakpoints/ExceptionInspector.java"], "repo": "eclipse.jdt.debug", "reformed_query": "popup ExceptionInspector performOk debug Exception performOk Java Open popup refers", "bug_title": " \"Open popup when suspended on exception\" doesn't work", "bug_description": "Preferences>Java>Debug>Open popup when suspended on exception doesn't work. Even if it is checked, ExceptionInspector won't popup. Maybe because... It is stored at org.eclipse.jdt.internal.debug.ui.JavaDebugPreferencePage.performOk() with JDIDebugUIPlugin.getDefault().getPreferenceStore(). So I can see it in org.eclipse.jdt.debug.ui.prefs under .metadata. However, org.eclipse.jdt.internal.debug.ui.breakpoints.ExceptionInspector.ExceptionInspector() refers JDIDebugPlugin.getUniqueIdentifier(). I cannot see the option in org.eclipse.jdt.debug.prefs of course. (Sorry if I misunderstood)"}, {"bug_id": "40707", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/propertypages/JavaBreakpointPage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Bug watchpoint Press setting Breakpoint enabled dialog disabling", "bug_title": " Breakpoint remains enabled after disabling & setting hit count", "bug_description": "* Open the (new) properties dialog on a watchpoint * Enable the hit count, and set to \"3\" * Disable the breakpoint * Press OK Note: the breakpoint is still enabled. Re-opening the properties dialog shows the breakpoint as still enabled."}, {"bug_id": "40744", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaClasspathTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "viewer configuration unreasonably workspace classpath length launch unreasonably Build Java", "bug_title": " Java Classpath tab is huge", "bug_description": "Build: 3.0 M2 The classpath viewer should set a reasonable heightHint.  Currently, if the workspace contains many binary projects (and consequently many libraries), when a new launch configuration containing a Classpath tab is created, the dialog expands to an unreasonably large size taking up almost the whole screen length."}, {"bug_id": "414076", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Itr Breakpoints Running cleanup Exception CME remove checkForComodification dispatch ArrayList", "bug_title": " CME Running test suite", "bug_description": "While running the test suite on Windows on I20130730-0800 I got the following exception in the console: java.util.ConcurrentModificationException at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:819) at java.util.ArrayList$Itr.next(ArrayList.java:791) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.removeAllBreakpoints(JDIDebugTarget.java:1567) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.cleanup(JDIDebugTarget.java:1526) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.terminated(JDIDebugTarget.java:1493) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.handleVMDeath(JDIDebugTarget.java:1001) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:158) at org.eclipse.jdt.internal.debug.core.EventDispatcher.access$0(EventDispatcher.java:100) at org.eclipse.jdt.internal.debug.core.EventDispatcher$1.run(EventDispatcher.java:249) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:53)"}, {"bug_id": "422016", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "missing attributes attributes triggers simplest install text synthetic LambdaMain marked", "bug_title": " [1.8] Having reference expressions or lambdas in file triggers warning for missing line numbers", "bug_description": "If I add lambdas to the simplest of classes, and tries to debug it, I will get soemthing like the following error text: -------------------------------------------------- Unable to install breakpoint in demo.LambdaMain$$Lambda$1.380936215 due to missing line number attributes. Modify compiler options to generate line number attributes. Reason: Absent Line Number Information [ ] Don\u00e2\u20ac\u2122t tell me again -------------------------------------------------- I don't know why the warning is shown as I haven't tried to set the breakpoints in the function objects themselves. The function object classes are synthetic, even if the classes aren't marked as such (but that's inferred from the class, isn't it?), so perhaps that could be used to detect whether or not to show this warning."}, {"bug_id": "42487", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDetailFormattersPreferencePage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "edit ick access editType org createContents Internal dialogs runtime Dialog", "bug_title": " NPE if ctrl dbl click in JavaDetailFormattersPreferencePage", "bug_description": "Window>Preferences>Java>Debug>Detail Formatters Select a detail formatter Hold the ctrl key Double click on the formatter java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.DetailFormatterDialog.createDialogArea (DetailFormatterDialog.java:155) at org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:566) at org.eclipse.jface.window.Window.create(Window.java:302) at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:876) at org.eclipse.jdt.internal.ui.dialogs.StatusDialog.create (StatusDialog.java:101) at org.eclipse.jface.window.Window.open(Window.java:552) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersPreferencePage.editType (JavaDetailFormattersPreferencePage.java:290) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersPreferencePage$4.doubleCl ick(JavaDetailFormattersPreferencePage.java:145) at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:367) at org.eclipse.core.internal.runtime.InternalPlatform.run (InternalPlatform.java:1016) at org.eclipse.core.runtime.Platform.run(Platform.java:420) at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick (StructuredViewer.java:365) at org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect (StructuredViewer.java:584) at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected (StructuredViewer.java:679) at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent (OpenStrategy.java:187) at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:184) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:231)"}, {"bug_id": "428862", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Compiled Start Number Compiled Exception args Table Table Object TODO", "bug_title": " [1.8] Unable to install breakpoint", "bug_description": "Using  Kepler SR2 + Java 8 RC1 + Eclipse Java Development Tools Patch for Java 8 Support (BETA) 1.0.0.v20140223-2022, consider the below code snippet: package p1; import java.io.*; import java.util.function.IntConsumer; public class QuickSerializedLambdaTest { interface X extends IntConsumer,Serializable{} public static void main(String[] args) throws IOException, ClassNotFoundException { X x1 = i -> System.out.println(i);// lambda expression X x2 = System::exit; // method reference ByteArrayOutputStream debug=new ByteArrayOutputStream(); try(ObjectOutputStream oo=new ObjectOutputStream(debug)) { oo.writeObject(x1); // TODO: Add breakpoint in this line oo.writeObject(x2); } try(ObjectInputStream oi=new ObjectInputStream(new ByteArrayInputStream(debug.toByteArray()))) { X x=(X)oi.readObject(); x.accept(42);// shall print \"42\" x=(X)oi.readObject(); x.accept(0);// shall exit }catch(Exception e){ e.printStackTrace(); } throw new AssertionError(\"should not reach this point\"); } } Add a breakpoint inside the main method and debug as Java Application. When the breakpoint is hit, a popup dialog is displayed saying: \"Unable to install breakpoint in p1.QuickSerializedLambdaTest$X due to missing line number attributes. Modify compiler options to generate line number attributes. Reason: Absent Line Number Information\" As mentioned in bug 135027, executed  \"javap -l\". Below is the result: Compiled from \"QuickSerializedLambdaTest.java\" public class p1.QuickSerializedLambdaTest { public p1.QuickSerializedLambdaTest(); LineNumberTable: line 5: 0 LocalVariableTable: Start  Length  Slot  Name   Signature 0       5     0  this   Lp1/QuickSerializedLambdaTest; public static void main(java.lang.String[]) throws java.io.IOException, java.l ang.ClassNotFoundException; LineNumberTable: line 8: 0 line 9: 6 line 10: 12 line 11: 20 line 11: 26 line 13: 36 line 14: 42 line 15: 48 line 16: 107 line 16: 113 line 18: 133 line 19: 143 line 20: 152 line 21: 162 line 22: 170 line 23: 231 line 25: 236 LocalVariableTable: Start  Length  Slot  Name   Signature 0     246     0  args   [Ljava/lang/String; 6     240     1    x1   Lp1/QuickSerializedLambdaTest$X; 12     234     2    x2   Lp1/QuickSerializedLambdaTest$X; 20     226     3 debug   Ljava/io/ByteArrayOutputStream; 36      37     6    oo   Ljava/io/ObjectOutputStream; 133      62     6    oi   Ljava/io/ObjectInputStream; 143      27     7     x   Lp1/QuickSerializedLambdaTest$X; 231       5     4     e   Ljava/lang/Exception; } Why is this dialog coming up?"}, {"bug_id": "42984", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/VMArgumentsBlock.java"], "repo": "eclipse.jdt.debug", "reformed_query": "tab variable Base basedir", "bug_title": " No way to set working directory, VM args for Ant processes", "bug_description": "When running an ant script in a different JRE, I cannot seem to select the working directory for that JVMs process - the following script always prints out the eclipse install directory.  One would think that setting the \"Base Directory\" field on the Main tab of Run ant dialog would set the working directory as well as the ${basedir} variable - though I can't see a need for overriding the basedir variable, ant ALWAYS defines ${basedir} as the directory containing the script you are running. <project default=\"all\"> <target name=\"all\"> <echo message=\"user.dir: ${user.dir}\"/> </target> </project>"}, {"bug_id": "432190", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/StandardVMType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "javase lang deploy Bug Update locations Javadoc Javadoc oracle ActionType", "bug_title": " Update default Javadoc locations, 1.4 and 1.3 docs/api/... are gone", "bug_description": "Javadoc for 1.3 and 1.4 has been archived at http://docs.oracle.com/javase/1.4.2/docs/api/ and http://docs.oracle.com/javase/1.3/docs/api/ , and the individual html pages are no longer available. http://docs.oracle.com/javaee/1.4/api/javax/enterprise/deploy/shared/ActionType.html is still available, but the link to http://java.sun.com/j2se/1.4/docs/api/java/lang/Object.html also results in a 404 or timeout."}, {"bug_id": "43418", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/JREsPreferencePage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Installed system JRE choosing Browse busy evaluate", "bug_title": " No busy cursor after choosing JRE base directory", "bug_description": "20030917 1. Go to the Installed JRE page, choose 'Add' 2. Click on 'Browse..' for the 'JRE home directory' and choose a JRE folder 3. When Ok is pressed, it takes several seconds to evaluate the system libraries: A busy cursor should be shown."}, {"bug_id": "434722", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/instructions/ConditionalJump.java"], "repo": "eclipse.jdt.debug", "reformed_query": "breakpoint copy Instruction block project object execute author ConditionalJump author", "bug_title": " error in ConditionalJump Instruction", "bug_description": "Created attachment 243009 [details] Bug ConditionalJump Instruction The ASTEvaluationEngine  failed to execute the ConditionalJump instructions , when the condition is an instance of java.lang.Boolean object (not a primitive value). Example (add TestHCR.java to any project) and apply the following steps: 1- add a breakpoint on the first line of the main method 2- open Display view in eclipse 3- copy the block if (ifCondition) { System.out.println(\"if condition true\"); } and execute it. A new ClassCastException will be thrown. /** * * @author j.Saoumi * */ package java8; public class TestHCR { public static Boolean ifCondition = Boolean.TRUE; public static void main(String[] args) { System.out.println(\"begin main\"); if (ifCondition) { System.out.println(\"if condition true\"); } System.out.println(\"end main\"); } }"}, {"bug_id": "4348", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugImages.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Resource ModelChange unnecessary", "bug_title": " ResourceMarkerAnnotaionModel: unnecessary fireModelChange (1GJ65EW)", "bug_description": "MA (28.08.2001 14:40:37) ResourceMarkerAnnotationModel.updates fires a ModelChange even when the markerDelta is empty. NOTES: KUM (8/31/2001 3:53:50 PM) Fixed."}, {"bug_id": "43927", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/propertypages/BreakpointConditionEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DetailFormatterDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "assist pressing enabled   build", "bug_title": " Content assist does not work in breakpoint properties", "bug_description": "This is for build I200309250800. Before this version content assist was possible in the condition. Now it does not work anymore. If Content assist is auto-enabled, it will show up after the dot but by pressing Ctrl-Space it does not work. 3.0 M3 (200308281813) was OK."}, {"bug_id": "442645", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JavaDebugUtils.java"], "repo": "eclipse.jdt.debug", "reformed_query": "deleted fallback project Project Java critical code IJavaProject conditional sourceElement", "bug_title": " Missing Java project context in stratum breakpoints", "bug_description": "Before the fix for Bug 368212 there was this fallback code in JavaLineBreakpoint#getJavaProject if (sourceElement instanceof IJavaElement) { return ((IJavaElement) sourceElement).getJavaProject(); } else if (sourceElement instanceof IResource) { IJavaProject project = JavaCore.create(((IResource) sourceElement).getProject()); if (project.exists()) { return project; } } This fallback code was deleted, even though the bug only required deleting a block further up in that method. This is critical because for stratum line breakpoints (e.g. Xtend) the source will generally be some IFile and not an IJavaElement. This blocks conditional breakpoints in Xtend in Eclipse 4.3+"}, {"bug_id": "443727", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.java"], "repo": "eclipse.jdt.debug", "reformed_query": "bac plugin javaRuntimeVersion exception epp occurred Event pluginId collect Start", "bug_title": " NPE in JDIDebugTarget$ThreadStartHandler.handleEvent", "bug_description": "Hello Committers, I found round about 150 events (all from a single user) in the error logs and though it may be worth reporting it. Maybe you can quickly spot the issue based on this stacktrace? Please let me know what else we could (automatically) collect from a user to help you tracking that issue. Best, Marcel @message timestamp=Wed Sep 10 09:48:04 EDT 2014 anonymousId=bac41314-e68f-499e-a691-4b75137e6066 eventId=8e22b97a-1659-4696-80d4-9a37cee8ccc4 eclipseBuildId=4.4.0.I20140606-1215 eclipseProduct=org.eclipse.epp.package.standard.product javaRuntimeVersion=1.8.0_20-b26 osgiWs=win32 osgiOs=Windows8 osgiOsVersion=6.3.0 osgiArch=x86_64 presentBundles={com.codetrails.stats.stacktraces.server.eclipse.Bundle@4a6d15ca[ name=org.eclipse.core.jobs version=3.6.0.v20140424-0053 ],Bundle[ name=org.eclipse.jdt.debug version=3.8.100.v20140522-1618 ],Bundle[ name=org.eclipse.jdt version=3.10.0.v20140606-1215 ]} status=com.codetrails.stats.stacktraces.server.eclipse.Status@a8136b88[ pluginId=org.eclipse.core.jobs pluginVersion=3.6.0.v20140424-0053 code=2 severity=4 message=An internal error occurred during: \"JDI Event Dispatch\". fingerprint=3d0ae8a9 exception= java.lang.NullPointerException: null at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget$ThreadStartHandler.handleEvent(JDIDebugTarget.java:1955) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:152) at org.eclipse.jdt.internal.debug.core.EventDispatcher.access$0(EventDispatcher.java:100) at org.eclipse.jdt.internal.debug.core.EventDispatcher$1.run(EventDispatcher.java:249) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) children={} ] https://dev.eclipse.org/recommenders/errors/8e22b97a-1659-4696-80d4-9a37cee8ccc4.txt"}, {"bug_id": "446040", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/classpath/RuntimeClasspathViewer.java"], "repo": "eclipse.jdt.debug", "reformed_query": "resolution refresh cgi remember specialized Preferences fixed friendly getSelection Thread", "bug_title": " Invalid thread access in RuntimeClasspathViewer$1.preferenceChange (err_grp: 87791828)", "bug_description": "Hello committers, we received a new error report for Eclipse 4.4.1.M20140925-0400. General Information: anonymous-id:         24ad43ce-0a9e-4ffd-a544-d73b21063102 eclipse-build-id:     4.4.1.M20140925-0400 eclipse-product:      org.eclipse.epp.package.jee.product operating system:     Windows7 6.1.0 (x86_64) - win32 java-runtime-version: 1.8.0_20-b26 The following plug-ins were present on the execution stack (*): 1. org.eclipse.core.runtime_3.10.0.v20140318-2214 2. org.eclipse.jdt.debug.ui_3.6.300.v20140512-1926 3. org.eclipse.jdt.debug_3.8.101.v20140902-1548 4. org.eclipse.jdt_3.10.0.v20140925-0400 5. org.eclipse.jface_3.10.1.v20140813-1009 6. org.eclipse.swt_3.103.1.v20140903-1938 Error Status: code:                   2 plugin:                 org.eclipse.equinox.preferences_3.5.200.v20140224-1527 message:                Problems occurred when invoking code from plug-in: \"org.eclipse.equinox.preferences\". fingerprint:            87791828 exception class:        org.eclipse.swt.SWTException exception message:      Invalid thread access number of children:     0 org.eclipse.swt.SWTException: Invalid thread access at org.eclipse.swt.SWT.error(SWT.java:4441) at org.eclipse.swt.SWT.error(SWT.java:4356) at org.eclipse.swt.SWT.error(SWT.java:4327) at org.eclipse.swt.widgets.Widget.error(Widget.java:476) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:367) at org.eclipse.swt.widgets.Tree.getSelection(Tree.java:3446) at org.eclipse.jface.viewers.TreeViewer.getSelection(TreeViewer.java:232) at org.eclipse.jface.viewers.TreeViewer.setSelection(TreeViewer.java:311) at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:2524) at org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget(StructuredViewer.java:1751) at org.eclipse.jface.viewers.AbstractTreeViewer.setSelectionToWidget(AbstractTreeViewer.java:2977) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1443) at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:366) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1397) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1525) at org.eclipse.jface.viewers.ColumnViewer.refresh(ColumnViewer.java:533) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1481) at org.eclipse.jdt.internal.debug.ui.classpath.RuntimeClasspathViewer$1.preferenceChange(RuntimeClasspathViewer.java:58) at org.eclipse.core.internal.preferences.EclipsePreferences$3.run(EclipsePreferences.java:896) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.preferences.EclipsePreferences.firePreferenceEvent(EclipsePreferences.java:899) at org.eclipse.core.internal.preferences.EclipsePreferences.put(EclipsePreferences.java:912) at org.eclipse.jdt.internal.debug.ui.jres.JREsUpdater$1.run(JREsUpdater.java:91) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:122) Messages, stacktraces, and nested status objects may be shortened. Please visit http://dev.eclipse.org/recommenders/committers/confess/0.5/reports/54328c1ee4b0a33678b204b7 for the complete error log. Some general information and guidelines about how to use this bug report: 1. Feel free to move this bug to your own product and components. Please note that this bug is only accessible to Eclipse committers. If you move this bug please make sure that it's still in the \"Security Advisor\" group. 2. The bug contents of the fields status, resolution, keywords, and whitelist are presented to reporters. If you needs more information, please set the keyword \"needinfo\". This will trigger a specialized dialog asking the user to provide further details. 3. Use the following resolutions for the following situations: * CLOSED / FIXED: This bug has been fixed. Please provide additional information in the whiteboard field. * CLOSED / WORKSFORME: Use this resolution if you can't reproduce this issue and request further information. Please use the whiteboard text to specify more details what a user should provide and how. * CLOSED / INVALID: Use this resolution if the reported problem is a 'user-configuration' problem. Please consider giving hints how to fix these issues in the whiteboard field. * CLOSED / NOT ECLIPSE: Use this if the problem is caused by another plugin not developed at Eclipse.org * CLOSED / MOVED: If this bug has been moved else where. Please provide more information (e.g. a link) in the whiteboard field. 4. Please remember that only committers can view and comment on this bug. You may, however, manually add the reporting user to the bug's cc list. But keep in mind that the report may contains sensitive information. 5. If you are missing a feature, please file a enhancement request here: https://bugs.eclipse.org/bugs/enter_bug.cgi?product=Recommenders.Incubator&component=Stacktraces Thank you for your assistance. Your friendly error-reports-inbox. -- * Note: The list of present bundles and their respective versions was calculated by package naming heuristics. This may or may not reflect reality."}, {"bug_id": "455199", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/BinaryBasedSourceGenerator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "typeImport typeImport work debugging doesn method testCase generated breakpoint properly", "bug_title": " [debug] Debugging doesn't work properly when inner classes are used", "bug_description": "Example class: class NoDebuggingCase { def void call(NoDebuggingAcceptor inner) { println(inner) //<-- set breakpoint here } interface NoDebuggingAcceptor { def void accept(String typeImport) } } When debugging the \"call\" method from e.g. junit test no display or inspect informations are available: @Test def void testCase() { var c = new NoDebuggingCase() c.call(new NoDebuggingCase.NoDebuggingAcceptor() { override accept(String typeImport) { throw new UnsupportedOperationException(\"TODO: auto-generated method stub\") } }) }"}, {"bug_id": "462932", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/ReferenceTypeImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "code generated Gracefully code Classes Bug manipulators source Absent Absent", "bug_title": " Gracefully handle partial absence of line information", "bug_description": "Classes generated at run-time or processed by byte code manipulators may contain source line information for some but not all methods. For this reason, ReferenceType.allLineLocations() should return all available line locations from all methods that do provide line locations, rather than throwing an AbsentInformationException for the first method without line locations. The exception should only be thrown when no method of the given class provides any line locations. This is the behaviour observed with the JDI implementation of the Oracle JDK."}, {"bug_id": "463236", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/ScrapbookLauncher.java", "org.eclipse.jdt.debug.ui/.externalToolBuilders/Build Snippet Support JAR.launch", "org.eclipse.jdt.debug.ui/snippetsupport.jar", "org.eclipse.jdt.debug.ui/.project", "org.eclipse.jdt.debug.ui/build.properties", "org.eclipse.jdt.debug.ui/scripts/buildExtraJAR.xml", "org.eclipse.jdt.debug.ui/Snippet Support/org/eclipse/jdt/internal/debug/ui/snippeteditor/ScrapbookMain.java", "org.eclipse.jdt.debug.ui/.settings/org.eclipse.pde.prefs", "org.eclipse.jdt.debug.ui/.gitignore"], "repo": "eclipse.jdt.debug", "reformed_query": "compliance Scrapbook stay jar moved snippetsupport compliance jdt projects Scrapbook", "bug_title": " Scrapbook evaluations fail in pre-1.7 projects", "bug_description": "Since org.eclipse.jdt.debug.ui was moved to 1.7, scrapbook evaluations fail in 1.5 and 1.6 projects because the snippetsupport.jar is not compiled with 1.7 as well. This JAR should stay at a compliance level that is as low as possible."}, {"bug_id": "465363", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIDebugUIPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JDIDebugUIPlugin Debug Provider confess versions calculated Windows text plugin UIPlugin", "bug_title": " SISPSIE in JavaDebugHover.findLocalVariable (141)", "bug_description": "The following incident was reported via the automated error reporting: code:                   4 plugin:                 org.eclipse.jdt.debug.ui_3.6.400.v20150123-1739 message:                Invalid stack frame fingerprint:            7c66f3c3 exception class:        org.eclipse.recommenders.internal.stacktraces.rcp.StandInStacktraceProvider$StandInException exception message:      Stand-In Stacktrace supplied by Eclipse Stacktraces & Error Reporting Tool number of children:     0 org.eclipse.recommenders.internal.stacktraces.rcp.StandInStacktraceProvider$StandInException: Stand-In Stacktrace supplied by Eclipse Stacktraces & Error Reporting Tool at org.eclipse.jdt.internal.debug.ui.JDIDebugUIPlugin.log(JDIDebugUIPlugin.java:192) at org.eclipse.jdt.internal.debug.ui.JDIDebugUIPlugin.log(JDIDebugUIPlugin.java:211) at org.eclipse.jdt.internal.debug.ui.JavaDebugHover.findLocalVariable(JavaDebugHover.java:141) at org.eclipse.jdt.internal.debug.ui.JavaDebugHover.getHoverInfo2(JavaDebugHover.java:413) at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo2(BestMatchHover.java:163) at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo2(BestMatchHover.java:129) at org.eclipse.jdt.internal.ui.text.java.hover.JavaEditorTextHoverProxy.getHoverInfo2(JavaEditorTextHoverProxy.java:85) at org.eclipse.jface.text.TextViewerHoverManager$4.run(TextViewerHoverManager.java:166) General Information: reported-by: anonymous-id:     15a49981-f9a9-487f-a00e-e51077af7df8 eclipse-build-id: 4.5.0.I20150203-1300 eclipse-product:  org.eclipse.epp.package.jee.product operating system: Windows7 6.1.0 (x86_64) - win32 jre-version:      1.7.0_60-b19 The following plug-ins were present on the execution stack (*): 1. org.eclipse.jdt.debug.ui_3.6.400.v20150123-1739 2. org.eclipse.jdt.debug_3.8.200.v20150116-1130 3. org.eclipse.jdt_3.11.0.v20150203-1300 4. org.eclipse.jdt.ui_3.10.100.v20150116-1347 5. org.eclipse.jface.text_3.10.0.v20150112-1146 6. org.eclipse.jface_3.11.0.v20150121-1751 Please note that: * Messages, stacktraces, and nested status objects may be shortened. * Bug fields like status, resolution, and whiteboard are sent back to reporters. * The list of present bundles and their respective versions was calculated by package naming heuristics. This may or may not reflect reality. Other Resources: * Report: https://dev.eclipse.org/recommenders/committers/confess/#/problems/54fe5cdce4b0a38aecd7509f * Manual: https://dev.eclipse.org/recommenders/community/confess/#/guide Thank you for your assistance. Your friendly error-reports-inbox."}, {"bug_id": "468252", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaAppletLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "eclipse HTMLFile version jiApplet getProgramArguments launching core code core code", "bug_title": " NullPointerException in JavaAppletLaunchConfigurationDelegate.buildHTMLFile (102)", "bug_description": "The following incident was reported via the automated error reporting: code:                   2 plugin:                 org.eclipse.core.jobs_3.7.0.v20150316-1238 message:                An internal error occurred during: \"Launching jiApplet\". fingerprint:            21971966 exception class:        java.lang.NullPointerException exception message:      - number of children:     0 java.lang.NullPointerException: null at java.io.FileOutputStream.<init>(FileOutputStream.java:203) at java.io.FileOutputStream.<init>(FileOutputStream.java:162) at org.eclipse.jdt.internal.launching.JavaAppletLaunchConfigurationDelegate.buildHTMLFile(JavaAppletLaunchConfigurationDelegate.java:102) at org.eclipse.jdt.internal.launching.JavaAppletLaunchConfigurationDelegate.getProgramArguments(JavaAppletLaunchConfigurationDelegate.java:326) at org.eclipse.jdt.launching.JavaLaunchDelegate.launch(JavaLaunchDelegate.java:64) at org.eclipse.jdt.internal.launching.JavaAppletLaunchConfigurationDelegate.launch(JavaAppletLaunchConfigurationDelegate.java:63) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:885) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:739) at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:1039) at org.eclipse.debug.internal.ui.DebugUIPlugin$8.run(DebugUIPlugin.java:1256) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55) General Information: reported-by:      Mat Jaggard anonymous-id:     23a63e0f-7cc7-4b62-b031-a77c94bb5b54 eclipse-build-id: 4.5.0.I20150320-0800 eclipse-product:  org.eclipse.epp.package.jee.product operating system: Windows7 6.1.0 (x86_64) - win32 jre-version:      1.8.0_25-b18 The following plug-ins were present on the execution stack (*): 1. org.eclipse.core.jobs_3.7.0.v20150316-1238 2. org.eclipse.debug.core_3.10.0.v20150303-1130 3. org.eclipse.debug.ui_3.11.0.v20150303-1130 4. org.eclipse.jdt.launching_3.8.0.v20150316-0938 5. org.eclipse.jdt_3.11.0.v20150320-0800 Please note that: * Messages, stacktraces, and nested status objects may be shortened. * Bug fields like status, resolution, and whiteboard are sent back to reporters. * The list of present bundles and their respective versions was calculated by package naming heuristics. This may or may not reflect reality. Other Resources: * Report: https://dev.eclipse.org/recommenders/committers/confess/#/problems/552e6583e4b026254ee046c3 * Manual: https://dev.eclipse.org/recommenders/community/confess/#/guide Thank you for your assistance. Your friendly error-reports-inbox."}, {"bug_id": "46871", "ground_truth": ["org.eclipse.jdt.debug.tests/plugin.xml", "org.eclipse.jdt.debug.tests/console tests/org/eclipse/jdt/debug/tests/console/TestBufferredOutputActionDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "output console Console unbounded buffer limit MessageConsole debugger size output", "bug_title": " Console buffer size limit", "bug_description": "The MessageConsole needs a maximum buffer size (similar to the debugger process console). Otherwise, output grows unbounded."}, {"bug_id": "47003", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java"], "repo": "eclipse.jdt.debug", "reformed_query": "lang InternalPlatform getText LaunchViewEventHandler JDIModel Event Variable Item updateItem runAsyncMessages", "bug_title": " NFE cause crash while debugging", "bug_description": "java.lang.NumberFormatException: For input string: \"deallocated\" at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48) at java.lang.Long.parseLong(Long.java:394) at java.lang.Long.parseLong(Long.java:452) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getValueHexText(JDIModelPresentation.java:1150) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.appendHexText(JDIModelPresentation.java:484) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getValueText(JDIModelPresentation.java:462) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getVariableText(JDIModelPresentation.java:1040) at org.eclipse.jdt.internal.debug.ui.JDIModelPresentation.getText(JDIModelPresentation.java:202) at org.eclipse.debug.internal.ui.LazyModelPresentation.getText(LazyModelPresentation.java:121) at org.eclipse.debug.internal.ui.DelegatingModelPresentation.getText(DelegatingModelPresentation.java:181) at org.eclipse.debug.internal.ui.VariablesViewModelPresentation.getText(VariablesViewModelPresentation.java:25) at org.eclipse.debug.internal.ui.views.variables.VariablesView$VariablesViewLabelProvider.getText(VariablesView.java:137) at org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java:95) at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:78) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1016) at org.eclipse.core.runtime.Platform.run(Platform.java:420) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:427) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:119) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1016) at org.eclipse.core.runtime.Platform.run(Platform.java:420) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:1263) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:338) at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:321) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:307) at org.eclipse.jface.viewers.AbstractTreeViewer$5.run(AbstractTreeViewer.java:753) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:796) at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:744) at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:238) at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:983) at org.eclipse.debug.internal.ui.views.variables.VariablesView.setViewerInput(VariablesView.java:368) at org.eclipse.debug.internal.ui.views.variables.VariablesView.selectionChanged(VariablesView.java:1188) at org.eclipse.ui.internal.AbstractPartSelectionTracker$1.run(AbstractPartSelectionTracker.java:115) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1016) at org.eclipse.core.runtime.Platform.run(Platform.java:420) at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java:113) at org.eclipse.ui.internal.PagePartSelectionTracker$1.selectionChanged(PagePartSelectionTracker.java:46) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1016) at org.eclipse.core.runtime.Platform.run(Platform.java:420) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1282) at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1012) at org.eclipse.jface.viewers.Viewer.setSelection(Viewer.java:362) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent(LaunchViewEventHandler.java:222) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent(LaunchViewEventHandler.java:182) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java:103) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.java:70) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:102) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2165) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1882) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2037) at org.eclipse.ui.internal.Workbench.run(Workbench.java:2020) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:295) at org.eclipse.core.launcher.Main.run(Main.java:751) at org.eclipse.core.launcher.Main.main(Main.java:587)"}, {"bug_id": "472568", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaApplicationLaunchShortcut.java"], "repo": "eclipse.jdt.debug", "reformed_query": "friendly Launcher Rendering Launcher runtime fdb Lukas objects status Exception", "bug_title": " ClassCastException in JavaApplicationLaunchShortcut.findTypes (134)", "bug_description": "The following incident was reported via the automated error reporting: code:                   0 plugin:                 org.eclipse.ui_3.107.0.v20150315-0703 message:                Unhandled event loop exception fingerprint:            ff8774df exception class:        java.lang.ClassCastException exception message:      java.lang.ClassCastException cannot be cast to org.eclipse.core.runtime.CoreException number of children:     0 java.lang.ClassCastException: java.lang.ClassCastException cannot be cast to org.eclipse.core.runtime.CoreException at org.eclipse.jdt.debug.ui.launchConfigurations.JavaApplicationLaunchShortcut.findTypes(JavaApplicationLaunchShortcut.java:134) at org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.searchAndLaunch(JavaLaunchShortcut.java:112) at org.eclipse.jdt.debug.ui.launchConfigurations.JavaLaunchShortcut.launch(JavaLaunchShortcut.java:269) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchShortcutExtension.launch(LaunchShortcutExtension.java:420) at org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.run(LaunchShortcutAction.java:71) at org.eclipse.debug.internal.ui.actions.LaunchShortcutAction.runWithEvent(LaunchShortcutAction.java:123) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:595) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:511) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:420) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4354) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1061) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1085) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1070) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:782) at org.eclipse.jface.action.ActionContributionItem$9.handleEvent(ActionContributionItem.java:1293) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4354) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1061) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4172) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3761) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$4.run(PartRenderingEngine.java:1112) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:993) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:156) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:654) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:598) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:138) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235) at sun.reflect.NativeMethodAccessorImpl.invoke0(null:-2) at sun.reflect.NativeMethodAccessorImpl.invoke(null:-1) at sun.reflect.DelegatingMethodAccessorImpl.invoke(null:-1) at java.lang.reflect.Method.invoke(null:-1) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:603) at org.eclipse.equinox.launcher.Main.run(Main.java:1465) General Information: reported-by:      Lukas Eder anonymous-id:     eb529e81-8dc8-4160-9814-3b51a0e4fdb0 eclipse-build-id: 4.5.0.I20150320-0800 eclipse-product:  org.eclipse.epp.package.jee.product operating system: Windows8 6.2.0 (x86_64) - win32 jre-version:      1.8.0_40-b26 The following plug-ins were present on the execution stack (*): 1. org.eclipse.core.databinding.observable_1.4.1.v20150311-0218 2. org.eclipse.core.databinding_1.4.100.v20150311-0216 3. org.eclipse.core.runtime_3.11.0.v20150316-1241 4. org.eclipse.debug.ui_3.11.0.v20150303-1130 5. org.eclipse.e4.ui.workbench_1.3.0.v20150316-1403 6. org.eclipse.e4.ui.workbench.swt_0.12.100.v20150316-1403 7. org.eclipse.equinox.app_1.3.200.v20130910-1609 8. org.eclipse.equinox.launcher_1.3.0.v20140415-2008 9. org.eclipse.jdt.debug.ui_3.7.0.v20150316-0938 10. org.eclipse.jdt.debug_3.9.0.v20150314-0247 11. org.eclipse.jdt_3.11.0.v20150320-0800 12. org.eclipse.jface_3.11.0.v20150313-1544 13. org.eclipse.swt_3.104.0.v20150319-1901 14. org.eclipse.ui_3.107.0.v20150315-0703 15. org.eclipse.ui.ide.application_1.0.600.v20150315-1254 16. org.eclipse.ui.ide_3.11.0.v20150309-2044 Please note that: * Messages, stacktraces, and nested status objects may be shortened. * Bug fields like status, resolution, and whiteboard are sent back to reporters. * The list of present bundles and their respective versions was calculated by package naming heuristics. This may or may not reflect reality. Other Resources: * Report: https://dev.eclipse.org/recommenders/committers/confess/#/problems/5527f344e4b026254ee0311a * Manual: https://dev.eclipse.org/recommenders/community/confess/#/guide Thank you for your assistance. Your friendly error-reports-inbox."}, {"bug_id": "472612", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/PopupInspectAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Popup actions IDEApplication Realm Synchronizer Dispatch Inspect recommenders shortened App", "bug_title": " NullPointerException in PopupInspectAction$2.close (64)", "bug_description": "The following incident was reported via the automated error reporting: code:                   0 plugin:                 org.eclipse.ui_3.107.0.v20150507-1945 message:                Unhandled event loop exception fingerprint:            1b522cf8 exception class:        org.eclipse.swt.SWTException exception message:      Failed to execute runnable (java.lang.NullPointerException) number of children:     0 org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException) at org.eclipse.swt.SWT.error(SWT.java:4491) at org.eclipse.swt.SWT.error(SWT.java:4406) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:138) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4155) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3772) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$4.run(PartRenderingEngine.java:1127) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1018) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:156) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:654) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:598) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:139) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235) at sun.reflect.NativeMethodAccessorImpl.invoke0(null:-2) at sun.reflect.NativeMethodAccessorImpl.invoke(null:-1) at sun.reflect.DelegatingMethodAccessorImpl.invoke(null:-1) at java.lang.reflect.Method.invoke(null:-1) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:669) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:608) at org.eclipse.equinox.launcher.Main.run(Main.java:1515) at org.eclipse.equinox.launcher.Main.main(Main.java:1488) caused by: java.lang.NullPointerException: null at org.eclipse.jdt.internal.debug.ui.actions.PopupInspectAction$2.close(PopupInspectAction.java:64) at org.eclipse.jface.dialogs.PopupDialog$5.run(PopupDialog.java:657) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4155) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3772) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$4.run(PartRenderingEngine.java:1127) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1018) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:156) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:654) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:337) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:598) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:139) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:380) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:235) at sun.reflect.NativeMethodAccessorImpl.invoke0(null:-2) at sun.reflect.NativeMethodAccessorImpl.invoke(null:-1) at sun.reflect.DelegatingMethodAccessorImpl.invoke(null:-1) at java.lang.reflect.Method.invoke(null:-1) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:669) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:608) at org.eclipse.equinox.launcher.Main.run(Main.java:1515) at org.eclipse.equinox.launcher.Main.main(Main.java:1488) General Information: reported-by: anonymous-id:     f4c884c2-3540-4aaf-bb03-eaf5922bf22c eclipse-build-id: 4.5.0.I20150603-2000 eclipse-product:  org.eclipse.epp.package.jee.product operating system: Windows7 6.1.0 (x86_64) - win32 jre-version:      1.7.0_75-b13 The following plug-ins were present on the execution stack (*): 1. org.eclipse.core.databinding.observable_1.5.0.v20150422-0725 2. org.eclipse.core.databinding_1.5.0.v20150422-0725 3. org.eclipse.core.runtime_3.11.0.v20150405-1723 4. org.eclipse.e4.ui.workbench_1.3.0.v20150531-1948 5. org.eclipse.e4.ui.workbench.swt_0.13.0.v20150504-0621 6. org.eclipse.equinox.app_1.3.300.v20150423-1356 7. org.eclipse.equinox.launcher_1.3.100.v20150511-1540 8. org.eclipse.jdt.debug.ui_3.7.0.v20150505-1916 9. org.eclipse.jdt.debug_3.9.0.v20150528-1838 10. org.eclipse.jdt_3.11.0.v20150603-2000 11. org.eclipse.jface_3.11.0.v20150602-1400 12. org.eclipse.swt_3.104.0.v20150528-0211 13. org.eclipse.ui_3.107.0.v20150507-1945 14. org.eclipse.ui.ide.application_1.1.0.v20150422-0725 15. org.eclipse.ui.ide_3.11.0.v20150510-1749 Please note that: * Messages, stacktraces, and nested status objects may be shortened. * Bug fields like status, resolution, and whiteboard are sent back to reporters. * The list of present bundles and their respective versions was calculated by package naming heuristics. This may or may not reflect reality. Other Resources: * Report: https://dev.eclipse.org/recommenders/committers/confess/#/problems/55910d6de4b08735226b0cac * Manual: https://dev.eclipse.org/recommenders/community/confess/#/guide Thank you for your assistance. Your friendly error-reports-inbox."}, {"bug_id": "47281", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugModelMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "VMDisconnectedExceptions JDIThread running Bug VMDisconnectedExceptions VMDisconnected VMDisconnected getName Bug running", "bug_title": " Don't log VMDisconnectedException", "bug_description": "After running the debug tests, we noticed VMDisconnectedExceptions being logged from JDIThread#getName(). If the VM disconnects, we should just return \"disconnected\" as the name and not log the exception. Logging the VMDisconnected in this case doesn't help anyone."}, {"bug_id": "47390", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DetailFormatterDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Search SearchEngines SearchEngines SearchEngine making SearchEngine API SearchEngine Formatter Engine", "bug_title": " Use of deprecated API from SearchEngine", "bug_description": "The DetailFormatterDialog is making use of a deprecated constructor for SearchEngines"}, {"bug_id": "476930", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractJavaLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "plugin Launch reality NullPointerException verifyWorkingDirectory Exception jre jre exception Resources", "bug_title": " NullPointerException in AbstractJavaLaunchConfigurationDelegate.getDefaultWorkingDirectory (AbstractJavaLaunchConfigurationDelegate.java:995)", "bug_description": "The following incident was reported via the automated error reporting: The user(s) left the following comments: --- Pawel Puterla wrote: --- Trying to run a code from RSE project code:                   2 plugin:                 org.eclipse.core.jobs_3.7.0.v20150330-2103 message:                HIDDEN fingerprint:            c41ebc8d exception class:        java.lang.NullPointerException exception message:      HIDDEN number of children:     0 java.lang.NullPointerException: HIDDEN at org.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.getDefaultWorkingDirectory(AbstractJavaLaunchConfigurationDelegate.java:995) at org.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.verifyWorkingDirectory(AbstractJavaLaunchConfigurationDelegate.java:683) at org.eclipse.jdt.launching.JavaLaunchDelegate.launch(JavaLaunchDelegate.java:54) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:885) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:739) at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:1039) at org.eclipse.debug.internal.ui.DebugUIPlugin$8.run(DebugUIPlugin.java:1256) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55) General Information: reported-by:      Pawel Puterla anonymous-id:     0dc51669-b051-483d-870a-17f4b6fa2608 eclipse-build-id: 4.5.0.I20150603-2000 eclipse-product:  org.eclipse.epp.package.java.product operating system: Windows7 6.1.0 (x86_64) - win32 jre-version:      1.8.0_40-b26 The following plug-ins were present on the execution stack (*): 1. org.eclipse.core.jobs_3.7.0.v20150330-2103 2. org.eclipse.debug.core_3.10.0.v20150303-1130 3. org.eclipse.debug.ui_3.11.0.v20150514-0917 4. org.eclipse.jdt.launching_3.8.0.v20150527-0946 5. org.eclipse.jdt_3.11.0.v20150603-2000 Please note that: * Messages, stacktraces, and nested status objects may be shortened. * Bug fields like status, resolution, and whiteboard are sent back to reporters. * The list of present bundles and their respective versions was calculated by package naming heuristics. This may or may not reflect reality. Other Resources: * Report: https://dev.eclipse.org/recommenders/committers/confess/#/problems/55e6e849e4b0f02971da3eac * Manual: https://dev.eclipse.org/recommenders/community/confess/#/guide Thank you for your assistance. Your friendly error-reports-inbox. This bug was created on behalf of sarika.sinha@xxxxxxxxxxxx."}, {"bug_id": "478019", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/BinaryBasedSourceGenerator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "jobs fields getSource reports bundles StandInException reality Pool getReturnStatement Generator", "bug_title": " StringIndexOutOfBoundsException in BinaryBasedSourceGenerator.getReturnStatement (BinaryBasedSourceGenerator.java:531)", "bug_description": "The following incident was reported via the automated error reporting: code:                   120 plugin:                 org.eclipse.jdt.debug_3.8.100.v20140522-1618 message:                Exception processing async thread queue fingerprint:            47d6498a exception class:        org.eclipse.recommenders.internal.stacktraces.rcp.StandInStacktraceProvider$StandInException exception message:      Stand-In Stacktrace supplied by Eclipse Stacktraces & Error Reporting Tool number of children:     1 org.eclipse.recommenders.internal.stacktraces.rcp.StandInStacktraceProvider$StandInException: Stand-In Stacktrace supplied by Eclipse Stacktraces & Error Reporting Tool at org.eclipse.core.internal.jobs.JobManager.endJob(JobManager.java:661) at org.eclipse.core.internal.jobs.WorkerPool.endJob(WorkerPool.java:105) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:71) --- code:                   120 plugin:                 org.eclipse.jdt.debug_3.8.100.v20140522-1618 message:                Exception processing async thread queue fingerprint:            b96756d5 exception class:        java.lang.StringIndexOutOfBoundsException exception message:      String index out of range: 1 number of children:     0 java.lang.StringIndexOutOfBoundsException: String index out of range: 1 at java.lang.String.charAt(null:-1) at org.eclipse.jdt.internal.debug.eval.ast.engine.BinaryBasedSourceGenerator.getReturnStatement(BinaryBasedSourceGenerator.java:531) at org.eclipse.jdt.internal.debug.eval.ast.engine.BinaryBasedSourceGenerator.buildMethodDeclaration(BinaryBasedSourceGenerator.java:515) at org.eclipse.jdt.internal.debug.eval.ast.engine.BinaryBasedSourceGenerator.buildTypeDeclaration(BinaryBasedSourceGenerator.java:331) at org.eclipse.jdt.internal.debug.eval.ast.engine.BinaryBasedSourceGenerator.buildTypeDeclaration(BinaryBasedSourceGenerator.java:149) at org.eclipse.jdt.internal.debug.eval.ast.engine.BinaryBasedSourceGenerator.buildSource(BinaryBasedSourceGenerator.java:75) at org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationSourceGenerator.getInstanceSourceMapper(EvaluationSourceGenerator.java:217) at org.eclipse.jdt.internal.debug.eval.ast.engine.EvaluationSourceGenerator.getSource(EvaluationSourceGenerator.java:238) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression(ASTEvaluationEngine.java:319) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.evaluate(ASTEvaluationEngine.java:131) at org.eclipse.jdt.internal.debug.ui.JavaWatchExpressionDelegate$EvaluationRunnable.run(JavaWatchExpressionDelegate.java:142) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:3158) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) General Information: reported-by:      David Seide anonymous-id:     a648ccd8-dc5d-41ef-8480-42ef10c15824 eclipse-build-id: 4.4.0.I20140606-1215 eclipse-product:  org.eclipse.sdk.ide operating system: Windows8 6.3.0 (x86_64) - win32 jre-version:      1.8.0_25-b18 The following plug-ins were present on the execution stack (*): 1. org.eclipse.core.jobs_3.6.0.v20140424-0053 2. org.eclipse.jdt.debug_3.8.100.v20140522-1618 3. org.eclipse.jdt_3.10.0.v20140606-1215 4. org.eclipse.jdt.debug.ui_3.6.300.v20140512-1926 Please note that: * Messages, stacktraces, and nested status objects may be shortened. * Bug fields like status, resolution, and whiteboard are sent back to reporters. * The list of present bundles and their respective versions was calculated by package naming heuristics. This may or may not reflect reality. Other Resources: * Report: https://dev.eclipse.org/recommenders/committers/confess/#/problems/54c8b274e4b095b6c75549fa * Manual: https://dev.eclipse.org/recommenders/community/confess/#/guide Thank you for your assistance. Your friendly error-reports-inbox. This bug was created on behalf of sarika.sinha@xxxxxxxxxxxx."}, {"bug_id": "49047", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugOptionsManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "scrapbook exceptions beleive uncaught exception pref code ignore console scrapbook", "bug_title": " scrapbook suspends on uncaught exceptions", "bug_description": "I20031216 I think this is a regression.. the scrapbook did not used to suspend on uncaught exceptions. When I turn the pref to suspend off, things work as expected (i.e. a stack trace is written to the console). I beleive we should ignore the exception for scrapbook VMs. Since we cannot show the source code for the exception (if it's actually part of the code snippet), it is very confusing to the user, since they get a \"source not found\" editor."}, {"bug_id": "49052", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/ScrapbookLauncher.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/SnippetMessages.properties"], "repo": "eclipse.jdt.debug", "reformed_query": "restart launch chaning Bug scrapbook evaluation changing chaning scrapbook JRE", "bug_title": " changing VM arg in scrapbook properties does not restart VM", "bug_description": "I20031216 * Changing the VM properties in the scrapbook properties dialog does not restart the VM on the next evaluation, but should. (For example, chaning the JRE does cause the VM to re-launch)"}, {"bug_id": "49054", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/StandardClasspathProvider.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaClasspathTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "showing Java enable Bug entries classpath debug tab Apply unable", "bug_title": " Bootpath incorrect when no project specified", "bug_description": "I20031216 * Create a Java Application launch configuration with no projetc specified. * The classpath tab defaults to showing only bootstrap entries with no user entries. * I am unable to add user entries -> The debug button is disabled -> Adding user entries does not enable the \"Apply\" button"}, {"bug_id": "49077", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractJavaLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "bootpath create append", "bug_title": " Cannot append more than one jar to default bootpath", "bug_description": "I20031216 * If I create a config with two jars tacked onto the default bootpath, only the first one is specified on the command line."}, {"bug_id": "49092", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/classpath/ClasspathModel.java"], "repo": "eclipse.jdt.debug", "reformed_query": "boot empty user entries Entries Bug won sees sees element", "bug_title": " 'User entries' classpath top element should be always displayed, even if empty", "bug_description": "If the user classpath is empty (for example, a launch configuration without project, or if the user removes everything),the 'User entries' top element is not displayed when the classpath tab is recreated. I see two problems: - if a new user sees that, he won't know that there should be a 'User entries' element. - the only way I found to add back the element, is to select 'Restore Default Entries', which delete all changes done on the boot classpath. I think 'User entries' should be always displayed."}, {"bug_id": "491299", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/classpath/ClasspathLabelProvider.java"], "repo": "eclipse.jdt.debug", "reformed_query": "ment ment white Java Classpath tab background colors Provider Provider", "bug_title": " Classpath tab for Java application has wrong colors", "bug_description": "Non editable entries are white text on black background on Linux with Gtk default theme Adwaita (due to usage of COLOR_INFO_* constants, which are ment for popups) which is way too intrusive in the UI. Additionally when using Eclipse dark theme having same colors makes it undistinguishable from the rest of the UI using dark pallette. As the bug is really similar to bug 488825 I'm taking the same approach and will make the respective class not implement IColorProvider."}, {"bug_id": "491302", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaLogicalStructuresPreferencePage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Logical approach Structure pallette approach usage IColorProvider colors pallette Logical", "bug_title": " Java/Debug/Logical Structure pref page has wrong colors", "bug_description": "Non editable entries are white text on black background on Linux with Gtk default theme Adwaita (due to usage of COLOR_INFO_* constants, which are ment for popups) which is way too intrusive in the UI. Additionally when using Eclipse dark theme having same colors makes it undistinguishable from the rest of the UI using dark pallette. As the bug is really similar to bug 488825 I'm taking the same approach and will make the respective class not implement IColorProvider."}, {"bug_id": "506014", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugModelMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugModelMessages.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/logicalstructures/JDIReturnValueVariable.java", "org.eclipse.jdt.debug.ui/icons/full/obj16/methodresult_obj_disabled.png", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIStackFrame.java", "org.eclipse.jdt.debug.ui/icons/full/obj16/methodresult_obj_disabled@2x.png", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugImages.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java", "org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/test/stepping/StepResultTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "row variables label comment time returned list method daily remove", "bug_title": " constantly show method return node in variables view", "bug_description": "(In reply to Sarika Sinha from bug 499655 comment #4) > Stephan also observed that we get a flickering view when Last returned value > is removed from the Variables view. So we were also discussing If it will be > ok to have the first row dedicated for Last returned value so that we don't > have to insert and remove the rows every time. > Nothing decided as of now, this is a thought and we are open to discussions. In daily use of the new feature, it indeed disturbs that the list of variables jumps up and down during stepping depending on the availability of a return value. Therefore, I suggest to always show a node as a place holder, and if no return value is available signal this by changing the label to s.t. like \"no method return value\". The new icon from bug 499655 should be constantly shown, perhaps a disabled state would further improve UX."}, {"bug_id": "506863", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractVMInstallType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "AbstractVMInstallType NPE findVMInstallByName resources launching Pointer rebind JavaModelOperation launching core", "bug_title": " NPE in AbstractVMInstallType.findVMInstallByName", "bug_description": "java.lang.NullPointerException at org.eclipse.jdt.launching.AbstractVMInstallType.findVMInstallByName(AbstractVMInstallType.java:158) at org.eclipse.jdt.internal.launching.JREContainerInitializer.resolveVM(JREContainerInitializer.java:154) at org.eclipse.jdt.internal.launching.JREContainerInitializer.initialize(JREContainerInitializer.java:97) at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.rebind(LaunchingPlugin.java:365) at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.access$0(LaunchingPlugin.java:299) at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges$1.run(LaunchingPlugin.java:285) at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:724) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2240) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2267) at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:5521) at org.eclipse.jdt.internal.launching.LaunchingPlugin$VMChanges.doit(LaunchingPlugin.java:289) at org.eclipse.jdt.internal.launching.LaunchingPlugin$JREUpdateJob.run(LaunchingPlugin.java:386) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "506865", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractVMInstallType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "AbstractVMInstallType VMs create create creation created createVMInstall VMs createVMInstall checking", "bug_title": " Race condition in AbstractVMInstallType.createVMInstall", "bug_description": "AbstractVMInstallType.createVMInstall may cause creation of two VMs with the same id since checking for existence of the VM being created is done outside of the synchronized block."}, {"bug_id": "52474", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingMessages.properties", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "makeing point point Exploring check starting projects attempt opening Exploring", "bug_title": " UI Blocked when opening Java Perspective during CVS check out", "bug_description": "build I20040218 - start eclipse with a new workspace - switch to CVS Repository Exploring perspective - check out a number of projects ( i checkout Platform UI module) - now attempt to switch to the Java Perspective NOTE that at this point the \"UI is blocked\" dialog is opened. Probably due to the fact that starting the Java Perspective requires the workbench lock? The point here is that this will be a common pattern and it would be nice if we could investigate makeing this scenario work more smoothly."}, {"bug_id": "53115", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/RuntimeClasspathEntryLabelProvider.java"], "repo": "eclipse.jdt.debug", "reformed_query": "jar core Classpath Core Bug extraClasspathEntry seperate", "bug_title": " Contribute remote Ant support as an extraClasspathEntry", "bug_description": "Currently, the support jar required to run Ant in a seperate VM (that handles build logging), is known to the AntCorePrefs as #getRemoteAntURL(). Instead, Ant UI should contribute the entry as an \"extraClasspathEntry\" (and we should remove the associated method from Ant core)."}, {"bug_id": "53135", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractJavaLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Loop Action Manager substitution Export AbstractJavaLaunchConfigurationDelegate variables Type open setWizard", "bug_title": " NPE in variable substitution", "bug_description": "I20040225 - create a minimal Java application Hello - create a launch configuration for it - select the class Hello in the package explorer - open Export wizard and choose Macintosh application exporter Observe: ===== Wed Feb 25 2004 ===== 23:29:25 Europe/Zurich ===== !ENTRY org.eclipse.ui 4 4 Feb 25, 2004 23:30:29.61 !MESSAGE Unhandled event loop exception Unhandled event loop exception Reason: !ENTRY org.eclipse.ui 4 0 Feb 25, 2004 23:30:29.65 !MESSAGE java.lang.NullPointerException !STACK 0 java.lang.NullPointerException at org.eclipse.core.internal.variables.StringSubstitutionEngine.substitute(StringSubstitutionEngine.java:125) at org.eclipse.core.internal.variables.StringSubstitutionEngine.performStringSubstitution(StringSubstitutionEngine.java:87) at org.eclipse.core.internal.variables.StringVariableManager.performStringSubstitution(StringVariableManager.java:534) at org.eclipse.core.internal.variables.StringVariableManager.performStringSubstitution(StringVariableManager.java:327) at org.eclipse.jdt.launching.AbstractJavaLaunchConfigurationDelegate.getMainTypeName(AbstractJavaLaunchConfigurationDelegate.java:373) at org.eclipse.jdt.internal.ui.macbundler.BundleDescription.verify(BundleDescription.java:241) at org.eclipse.jdt.internal.ui.macbundler.BundleWizardPage1.collectLaunchConfigs(BundleWizardPage1.java:179) at org.eclipse.jdt.internal.ui.macbundler.BundleWizardPage1.fillCombo(BundleWizardPage1.java:200) at org.eclipse.jdt.internal.ui.macbundler.BundleWizardPage1.createContents(BundleWizardPage1.java:63) at org.eclipse.jdt.internal.ui.macbundler.BundleWizardBasePage.createControl(BundleWizardBasePage.java:81) at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:171) at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:524) at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:889) at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:943) at org.eclipse.jface.wizard.WizardDialog.access$1(WizardDialog.java:940) at org.eclipse.jface.wizard.WizardDialog$3.run(WizardDialog.java:929) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84) at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:927) at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:684) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:316) at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:402) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1191) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1215) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1200) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1048) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2215) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1927) at org.eclipse.jface.window.Window.runEventLoop(Window.java:643) at org.eclipse.jface.window.Window.open(Window.java:623) at org.eclipse.ui.actions.ExportResourcesAction.run(ExportResourcesAction.java:165) at org.eclipse.jface.action.Action.runWithEvent(Action.java:881) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:550) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:502) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:435) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1191) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1215) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1200) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1048) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2215) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1927) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1566) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1542) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:263) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:256) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:100) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:279) at org.eclipse.core.launcher.Main.run(Main.java:742) at org.eclipse.core.launcher.Main.main(Main.java:581) java.lang.NullPointerException"}, {"bug_id": "53247", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "AbstractPartSelectionTracker Async view request Debug Bug trace jdi Messages InternalPlatform", "bug_title": " Timeout exception exiting program caused UI block", "bug_description": "I got an error dialog saying \"An error occurred\", which contained this trace. As well, the UI blocked trying to update the monitors view. org.eclipse.jdi.TimeoutException at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:149) at org.eclipse.jdi.internal.connect.PacketReceiveManager.getReply(PacketReceiveManager.java:158) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:173) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:206) at org.eclipse.jdi.internal.ThreadReferenceImpl.currentContendedMonitor(ThreadReferenceImpl.java:116) at org.eclipse.jdt.internal.debug.core.model.JDIThread.getContendedMonitor(JDIThread.java:2430) at org.eclipse.jdt.internal.debug.ui.monitors.MonitorManager.updateMonitors(MonitorManager.java:312) at org.eclipse.jdt.internal.debug.ui.monitors.MonitorManager.update(MonitorManager.java:282) at org.eclipse.jdt.internal.debug.ui.monitors.MonitorManager.updatePartial(MonitorManager.java:249) at org.eclipse.jdt.internal.debug.ui.monitors.MonitorsView.selectionChanged(MonitorsView.java:369) at org.eclipse.ui.internal.AbstractPartSelectionTracker$1.run(AbstractPartSelectionTracker.java:115) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:788) at org.eclipse.core.runtime.Platform.run(Platform.java:497) at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java:113) at org.eclipse.ui.internal.PagePartSelectionTracker$1.selectionChanged(PagePartSelectionTracker.java:46) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:788) at org.eclipse.core.runtime.Platform.run(Platform.java:497) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1310) at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1033) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler.selectAndReveal(AbstractDebugEventHandler.java:155) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleResumeEvent(LaunchViewEventHandler.java:153) atorg.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java:96) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.java:70) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2329) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2037) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1566) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1542) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:263) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:256) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:100) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:279) at org.eclipse.core.launcher.Main.run(Main.java:742) at org.eclipse.core.launcher.Main.main(Main.java:581)"}, {"bug_id": "53250", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugModelMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JDIThread Collected invoking jdt core suite AbstractPartSelectionTracker Error jface ownedMonitors", "bug_title": " ObjectCollectedException while shutting down tests", "bug_description": "build I20040225 - was stepping through some tests in the UI test suite (running as JUnit Plugin tests) - they succeeded, so I resumed and the workbench under test exited - got the following while it was shutting down !SESSION Feb 26, 2004 22:43:24.848 --------------------------------------------- java.version=1.4.2_01 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Command-line arguments: -data d:\\eclipse-new\\plugins -showLocation !ENTRY org.eclipse.core.runtime 4 2 Feb 26, 2004 22:43:24.858 !MESSAGE Problems occurred when invoking code from plug- in: \"org.eclipse.core.runtime\". !STACK 0 com.sun.jdi.ObjectCollectedException at org.eclipse.jdi.internal.MirrorImpl.defaultReplyErrorHandler(MirrorImpl.java:240) at org.eclipse.jdi.internal.ThreadReferenceImpl.ownedMonitors(ThreadReferenceImpl.java:303) at org.eclipse.jdt.internal.debug.core.model.JDIThread.getOwnedMonitors(JDIThread.java:2409) at org.eclipse.jdt.internal.debug.ui.monitors.MonitorManager.updateMonitors(MonitorManager.java:311) at org.eclipse.jdt.internal.debug.ui.monitors.MonitorManager.update(MonitorManager.java:282) at org.eclipse.jdt.internal.debug.ui.monitors.MonitorManager.updatePartial(MonitorManager.java:249) at org.eclipse.jdt.internal.debug.ui.monitors.MonitorsView.selectionChanged(MonitorsView.java:369) at org.eclipse.ui.internal.AbstractPartSelectionTracker$1.run(AbstractPartSelectionTracker.java:115) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:788) at org.eclipse.core.runtime.Platform.run(Platform.java:497) at org.eclipse.ui.internal.AbstractPartSelectionTracker.fireSelection(AbstractPartSelectionTracker.java:113) at org.eclipse.ui.internal.PagePartSelectionTracker$1.selectionChanged(PagePartSelectionTracker.java:46) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:788) at org.eclipse.core.runtime.Platform.run(Platform.java:497) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1310) at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1033) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler.selectAndReveal(AbstractDebugEventHandler.java:155) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleResumeEvent(LaunchViewEventHandler.java:153) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java:96) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.java:70) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2329) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2037) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1566) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1542) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:263) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:256) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:100) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:279) at org.eclipse.core.launcher.Main.run(Main.java:742) at org.eclipse.core.launcher.Main.main(Main.java:581)"}, {"bug_id": "53634", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractJavaLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JRE bootclasspath   switching", "bug_title": " Non-default JRE libraries don't work when running an application...", "bug_description": "I2004-02-26 When switching to non-default JRE libraries (Preferences->Java->Installed JREs), e.g. adding some additional libraries, this has no effect when running the application. The newly added libraries are not added to the bootclasspath. Same with removing libraries."}, {"bug_id": "53952", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/LocalVariableImpl.java"], "repo": "eclipse.jdt.debug", "reformed_query": "local String type", "bug_title": " Generic type name of local variables not displayed when available", "bug_description": "Test case (with Java 1.5.0) : import java.util.Vector; public class Test6 { public static void main(String[] args) { Vector<String> v= new Vector<String>(); System.out.println(v); // <-- breakpoint here } } Launch it in debug to the breakpoint. The Variables view display for v : Vector v= Vector<E>  (id=13) it should display : Vector<String> v= Vector<E>  (id=13)"}, {"bug_id": "53959", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Nested Test args names type java correctly qualified breakpoint qualified", "bug_title": " Nested generic type names are not correctly displayed", "bug_description": "Test case (Java 1.5.0) : import java.util.Vector; import java.util.Set; public class Test7 { public static void main(String... args) { Vector<Set<String>> v= new Vector<Set<String>>(); System.out.println(v);     // <-- breakpoint here } } Launch it in debug mode to the breakpoint. With the option 'Show qualified names', the Variables view displays: Vector< > v= Vector<E>  (id=13) instead of Vector<Set<String>> v= Vector<E>  (id=13)"}, {"bug_id": "54417", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaAppletLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "bug cann Applet bug quoted selfModule Applet fault selfModule getParameter", "bug_title": " Applet parameter name and value need to be quoted", "bug_description": "In my applet,I need some parameters. so,i configured the \"Run Parameters\" like this: selfModule=\"something,and another.\" but when i use \"getParameter(\"selfModule\")\",i get \"something,and\" only. I mean it cann't read characters after a blank. Is this a bug? or my fault somewhere?"}, {"bug_id": "56235", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/CreateStepFilterDialog.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DialogSettingsHelper.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/PackageSelectionDialog.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/AddVMDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "dialog size Organize", "bug_title": " Organize Favorites dialog could remember size", "bug_description": "Each time I open this dialog I need to resize it. It could persist the resize."}, {"bug_id": "5653", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JDIDebugPlugin.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugPreferencePage.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JDIDebugTarget.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/debug/core/JDIDebugModel.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "trace trace halted making variables breakpoint breakpoint unexpected find grin", "bug_title": " DCR: Debugger should catch uncaught exception by default", "bug_description": "From an Eclipse Corner post: <post> One of the things I always do when I am debugging in Eclipse (I did this in VAME as well) is go to the Debugger's \"Breakpoints\" view, click on the view's \"Add Java Exception Breakpoint\" button, type \"Throwable\" in the text field, and make sure only \"Uncaught\" is checked. Then click OK. What this does is tell the Debugger to catch any uncaught Throwables for me. I find this *much* handier than ending up with a stack trace in the Console. If an unexpected exception happens, I am still in the Debugger, and I can select frames in the stack trace and go right to the current line in the frame... I can also still see the values of variables, because my VM has not halted yet. I never delete this breakpoint. Every time I run a Java program under the Debugger the \"Uncaught Throwable\" breakpoint is always there in the background... protecting me from myself <grin>. </post> The response to this post was as follows: \"That sounds like a great technique; thanks! (Why isn't that the default behavior? :-) \" Please consider making this the default behavior."}, {"bug_id": "57257", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/RunToLineAdapter.java"], "repo": "eclipse.jdt.debug", "reformed_query": "debug", "bug_title": " ArrayOutOfBoundsException in debug event dispatch", "bug_description": ""}, {"bug_id": "58078", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/propertypages/JavaLineBreakpointPage.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DetailFormatterDialog.java"], "repo": "eclipse.jdt.debug", "reformed_query": "assist keybinding code formatter dialog area dialog Bug keybinding area", "bug_title": " detail formatter dialog missing code assist hint", "bug_description": "Although the code assist keybinding works in the detail formatter page, the \"code assist\" hint is missing from the details area editor."}, {"bug_id": "60364", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugHover.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIDebugUIPlugin.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDISourceViewer.java", "org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/ScrapbookLauncher.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JDIDebugPlugin.java", "org.eclipse.jdt.debug.tests/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/JavaSnippetEditor.java", "org.eclipse.jdt.debug/jdi/org/eclipse/jdi/Bootstrap.java", "org.eclipse.jdt.debug/plugin.xml", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/JavaTestPlugin.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugImages.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIContentAssistPreference.java", "org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/TestModeLaunchDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Runtime debug code rigorous informational", "bug_title": " debug used deprecated runtime code", "bug_description": "The JDT debug related plugins use some code in Runtime which are newly deprecated.  I am attaching a patch (based on i0428) which eliminated the deprecations.  This is informational and rigorous testing has not been done."}, {"bug_id": "62564", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugModelMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "runnables DebugPlugin implemented bug execution Throwable JDIThread runnables Bug Bug", "bug_title": " A runnable may not be run, if the previous one throws an exception", "bug_description": "To fix bugs 61958 and bug 61960, we removed the Throwable catch clauses in the Jobs of DebugPlugin and of JDIThread. These Jobs are implemented to execute one or more runnables. With this change, it's possible that some runnable will never be run. When a Job has a set of runnables to execute, if one runnable throws an exception, the execution of the Job is stopped, the runnables still to be executed in this Job will never be run."}, {"bug_id": "63256", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/BreakpointLocationVerifierJob.java"], "repo": "eclipse.jdt.debug", "reformed_query": "BreakpointLocationVerifierJob Breakpoint NPE Exception Bug fixe Throwable Verifier java init", "bug_title": " NPE when adding a breakpoint in an external Java file", "bug_description": "The following NPE is thrown when adding a breakpoint to an external Java file. java.lang.NullPointerException at java.lang.Throwable.<init>(Throwable.java) at java.lang.Throwable.<init>(Throwable.java) at java.lang.NullPointerException.<init>(NullPointerException.java:60) at org.eclipse.jdt.internal.debug.ui.actions.BreakpointLocationVerifierJob.run(BreakpointLocationVerifierJob.java:96) at org.eclipse.core.internal.jobs.Worker.run(Worker.java) The fixe is to add 'project != null &&' in the condition of the if, line 96 of BreakpointLocationVerifierJob.run()."}, {"bug_id": "63323", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/debug/core/JDIDebugModel.java"], "repo": "eclipse.jdt.debug", "reformed_query": "method TypedListener Widget Marker sun mouseDoubleClick Listener runtime internal debug", "bug_title": " Marker not found when double-clicking in ruler", "bug_description": "Build 200405200800 I pasted content into an empty method and then double-clicked on the second line of the method to place a breakpoint. The following exception was dumped to the log: org.eclipse.core.internal.resources.ResourceException: Marker id: 160041 not found. at org.eclipse.core.internal.resources.Marker.checkInfo(Marker.java:57) at org.eclipse.core.internal.resources.Marker.getType(Marker.java:195) at org.eclipse.jdt.debug.core.JDIDebugModel.lineBreakpointExists(JDIDebugModel.java:577) at org.eclipse.jdt.internal.debug.ui.actions.ToggleBreakpointAdapter. toggleLineBreakpoints(ToggleBreakpointAdapter.java:172) at org.eclipse.jdt.internal.debug.ui.actions.ManageBreakpointRulerAction. run(ManageBreakpointRulerAction.java:102) at org.eclipse.ui.texteditor.AbstractRulerActionDelegate.run(AbstractRulerActionDelegate.java: 98) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:276) at org.eclipse.ui.internal.PluginAction.run(PluginAction.java:238) at org.eclipse.ui.texteditor.AbstractTextEditor$10.triggerAction(AbstractTextEditor.java:2032) at org.eclipse.ui.texteditor.AbstractTextEditor$10.mouseDoubleClick(AbstractTextEditor.java: 2046) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:140) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:944) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2538) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2249) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:253) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:97) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:305) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:256) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:127) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:184) at org.eclipse.core.launcher.Main.run(Main.java:637) at org.eclipse.core.launcher.Main.main(Main.java:621)"}, {"bug_id": "6411", "ground_truth": ["org.eclipse.jdt.debug/buildnotes_jdt-debug.html", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/JavaRuntime.java"], "repo": "eclipse.jdt.debug", "reformed_query": "required Install Bug", "bug_title": " Auto-detect VM Install when required", "bug_description": ""}, {"bug_id": "64663", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/ValueImpl.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIArrayEntryVariable.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDILocalVariable.java", "org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/JDIMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIModificationVariable.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/JavaVariableValueEditor.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIVariable.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIFieldVariable.java"], "repo": "eclipse.jdt.debug", "reformed_query": "fails Change", "bug_title": " [variables] \"Variables>Change Value\" should accept hex value", "bug_description": "fails if an int is set to e.g. 0x0"}, {"bug_id": "64951", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "IBM stack stack condition toString shot shot thread debugging stack", "bug_title": " suspended thread while evaluating condition - no labels", "bug_description": "RC1/IBM1.4.2 * condition in for loop on line breakpoint (i == 53) * selected thread while debugging and paused it * all labels appear as \"...\" and never update * variables appear for the stack frame, but toString() (details) do not work will attach screen shot"}, {"bug_id": "64984", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/PopupInspectAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "doesn Inspect work Display Bug Bug work work Inspect Inspect", "bug_title": " Inspect doesn't work in Display View", "bug_description": "Inspect doesn't work in Display View. Nothing in log."}, {"bug_id": "65149", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugOptionsManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JavaDebugOptionsManager Java Manager Handling project Resource Update tree Worker CVS", "bug_title": " Resource exception in JavaDebugOptionsManager.initializeProblemHandling", "bug_description": "3.0 RC1 Got the following in my log after replacing a local project with a project at some other date in CVS. org.eclipse.core.internal.resources.ResourceException: The resource tree is locked for modifications. at org.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:93) at org.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1628) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1668) at org.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.initializeProblemHandling(JavaDebugOptionsManager.java:263) at org.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.activate(JavaDebugOptionsManager.java:781) at org.eclipse.jdt.internal.debug.ui.JavaDebugOptionsManager.launchChanged(JavaDebugOptionsManager.java:800) at org.eclipse.debug.internal.core.LaunchManager$LaunchNotifier.run(LaunchManager.java:1336) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615) at org.eclipse.core.runtime.Platform.run(Platform.java:758) at org.eclipse.debug.internal.core.LaunchManager$LaunchNotifier.notify(LaunchManager.java:1355) at org.eclipse.debug.internal.core.LaunchManager.fireUpdate(LaunchManager.java:363) at org.eclipse.debug.core.Launch.fireChanged(Launch.java:399) at org.eclipse.debug.core.Launch.launchConfigurationRemoved(Launch.java:516) at org.eclipse.debug.internal.core.LaunchManager$ConfigurationNotifier.run(LaunchManager.java:1484) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615) at org.eclipse.core.runtime.Platform.run(Platform.java:758) at org.eclipse.debug.internal.core.LaunchManager$ConfigurationNotifier.notify(LaunchManager.java:1505) at org.eclipse.debug.internal.core.LaunchManager.launchConfigurationDeleted(LaunchManager.java:736) at org.eclipse.debug.internal.core.LaunchManager$LaunchManagerVisitor.visit(LaunchManager.java:1067) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:68) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:77) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:77) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:77) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:49) at org.eclipse.debug.internal.core.LaunchManager.resourceChanged(LaunchManager.java:939) at org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:283) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:615) at org.eclipse.core.runtime.Platform.run(Platform.java:758) at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:277) at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:151) at org.eclipse.core.internal.resources.Workspace.broadcastChanges(Workspace.java:172) at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:900) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1682) at org.eclipse.core.internal.events.NotificationManager$NotifyJob.run(NotificationManager.java:38) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)"}, {"bug_id": "66417", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/sourcelookup/containers/JavaSourceLookupParticipant.java"], "repo": "eclipse.jdt.debug", "reformed_query": "swt doHandleSuspendEvent runAsyncMessages reflect reflect Stack AbstractSourceLookupParticipant jdt getSourceName Viewer", "bug_title": " VMDisconnectedException logged from source lookup", "bug_description": "In debug mode, while stepping thru my code, eclipse logged the following error: Error logged from Debug Core: org.eclipse.debug.core.DebugException[5010]: com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine at org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:79) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:169) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191) at org.eclipse.jdi.internal.ThreadReferenceImpl.frames(ThreadReferenceImpl.java:187) at org.eclipse.jdi.internal.ThreadReferenceImpl.frame(ThreadReferenceImpl.java:140) at org.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrame(JDIThread.java:571) at org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getUnderlyingStackFrame(JDIStackFrame.java:958) at org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getSourcePath(JDIStackFrame.java:1141) at org.eclipse.jdt.launching.sourcelookup.containers.JavaSourceLookupParticipant.getSourceName(JavaSourceLookupParticipant.java:66) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupParticipant.findSourceElements(AbstractSourceLookupParticipant.java:54) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector$SourceLookupQuery.run(AbstractSourceLookupDirector.java:125) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:608) at org.eclipse.core.runtime.Platform.run(Platform.java:758) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.doSourceLookup(AbstractSourceLookupDirector.java:443) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.getSourceElement(AbstractSourceLookupDirector.java:692) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.getSourceElement(AbstractSourceLookupDirector.java:431) at org.eclipse.debug.internal.ui.views.launch.LaunchView.lookupEditorInput(LaunchView.java:707) at org.eclipse.debug.internal.ui.views.launch.LaunchView.openEditorForStackFrame(LaunchView.java:778) at org.eclipse.debug.internal.ui.views.launch.LaunchView.showEditorForCurrentSelection(LaunchView.java:686) at org.eclipse.debug.internal.ui.views.launch.LaunchView.selectionChanged(LaunchView.java:483) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:608) at org.eclipse.core.runtime.Platform.run(Platform.java:758) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1388) at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1090) at org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand(LaunchView.java:1044) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent(LaunchViewEventHandler.java:225) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent(LaunchViewEventHandler.java:185) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java:100) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.java:70) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2693) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2385) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:253) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:97) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:307) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:256) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:127) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:185) at org.eclipse.core.launcher.Main.run(Main.java:638) at org.eclipse.core.launcher.Main.main(Main.java:622) Problems occurred when invoking code from plug-in: \"org.eclipse.core.runtime\". org.eclipse.debug.core.DebugException[5010]: com.sun.jdi.VMDisconnectedException: Got IOException from Virtual Machine at org.eclipse.jdi.internal.connect.PacketSendManager.sendPacket(PacketSendManager.java:79) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:169) at org.eclipse.jdi.internal.MirrorImpl.requestVM(MirrorImpl.java:191) at org.eclipse.jdi.internal.ThreadReferenceImpl.frames(ThreadReferenceImpl.java:187) at org.eclipse.jdi.internal.ThreadReferenceImpl.frame(ThreadReferenceImpl.java:140) at org.eclipse.jdt.internal.debug.core.model.JDIThread.getUnderlyingFrame(JDIThread.java:571) at org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getUnderlyingStackFrame(JDIStackFrame.java:958) at org.eclipse.jdt.internal.debug.core.model.JDIStackFrame.getSourcePath(JDIStackFrame.java:1141) at org.eclipse.jdt.launching.sourcelookup.containers.JavaSourceLookupParticipant.getSourceName(JavaSourceLookupParticipant.java:66) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupParticipant.findSourceElements(AbstractSourceLookupParticipant.java:54) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector$SourceLookupQuery.run(AbstractSourceLookupDirector.java:125) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:608) at org.eclipse.core.runtime.Platform.run(Platform.java:758) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.doSourceLookup(AbstractSourceLookupDirector.java:443) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.getSourceElement(AbstractSourceLookupDirector.java:692) at org.eclipse.debug.core.sourcelookup.AbstractSourceLookupDirector.getSourceElement(AbstractSourceLookupDirector.java:431) at org.eclipse.debug.internal.ui.views.launch.LaunchView.lookupEditorInput(LaunchView.java:707) at org.eclipse.debug.internal.ui.views.launch.LaunchView.openEditorForStackFrame(LaunchView.java:778) at org.eclipse.debug.internal.ui.views.launch.LaunchView.showEditorForCurrentSelection(LaunchView.java:686) at org.eclipse.debug.internal.ui.views.launch.LaunchView.selectionChanged(LaunchView.java:483) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:159) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:608) at org.eclipse.core.runtime.Platform.run(Platform.java:758) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:157) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1388) at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1090) at org.eclipse.debug.internal.ui.views.launch.LaunchView.autoExpand(LaunchView.java:1044) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendThreadEvent(LaunchViewEventHandler.java:225) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleSuspendEvent(LaunchViewEventHandler.java:185) at org.eclipse.debug.internal.ui.views.launch.LaunchViewEventHandler.doHandleDebugEvents(LaunchViewEventHandler.java:100) at org.eclipse.debug.internal.ui.views.AbstractDebugEventHandler$1.run(AbstractDebugEventHandler.java:70) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:106) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2693) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2385) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:253) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:97) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:307) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:256) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:127) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:185) at org.eclipse.core.launcher.Main.run(Main.java:638) at org.eclipse.core.launcher.Main.main(Main.java:622)"}, {"bug_id": "68233", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "occured plugins installed Thread debugged Prepare hit spots originally info", "bug_title": " Null Pointer in JavaBreakpoint", "bug_description": "I was using RC3 and doing hyades development, hyades wasn't installed in my plugins but the hyades projects were open in my workspace.  The workspace I was using was originally produced by the M9 build if that's any help.  The null pointer occured during one of a long series of debugging sessions I had been running, the backtrace was $ java.lang.NullPointerException at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.installableReferenceType(JavaBreakpoint.java:318) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleClassPrepareEvent(JavaBreakpoint.java:276) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.handleEvent(JavaBreakpoint.java:256) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:137) at org.eclipse.jdt.internal.debug.core.EventDispatcher.run(EventDispatcher.java:221) at java.lang.Thread.run(Thread.java:534) after the backtrace I cannot be sure but the debugging session seemed to stall, the runtime-workbench continued to refresh but actions would no longer have any effect.  I tried terminating the runtime-workbench and debugging again a number of times but again the application would go unresponsive in certain areas, it occurs to me that the unresponsive areas may of been in the same spots as some disabled Breakpoints but I can't confirm that either way the exact spot the program grew unresponsive varied, the state of the debugging window didn't reflect having hit any kind of breakpoint.  I shut down the program after noting the Null Pointer did show up once more later on (important to note that I debugged many times before and after with out the null pointer).  The problem appears to have desisted when I restarted eclipse. I'm sorry I can't give steps to reproduce but felt I might as well give what I have, I'll continue to play around with it and update this report if I find any more info."}, {"bug_id": "72169", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugHover.java"], "repo": "eclipse.jdt.debug", "reformed_query": "hover Selected thread works hover selection thread DebugUITools works context", "bug_title": " provided debug context for non-UI thread", "bug_description": "DebugUITools provides #getDebugContext(), which in 3.0 and earlier, only works in the UI thread. It is useful to have this work in non-UI threads as well, to allow for background threads to access the debug context (for example debug hover help). Since we already have the SelectedResourceManager providing a similar service, it can also track the current \"debug context\" (selection in the debug view), for access from any thread."}, {"bug_id": "72305", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.java"], "repo": "eclipse.jdt.debug", "reformed_query": "properties Text stratum doesn view hits JDIModel JDIModelPresentation workspace Java", "bug_title": " JDIModelPresentation uses resource name with IJavaStratumLineBreakpoint", "bug_description": "When working with the stratum breakpoint support, I've run into scenarios where the configured source shown for a JSP doesn't map to a resource in the workspace.  We've managed to set a breakpoint by placing the marker on the workspace root, but the displayed text in the Breakpoints view doesn't reflect the source name and source path used when creating the breakpoint, just the name of the resource that was used.  Because we're using the workspace root, that ends up being \"\".  The breakpoint hits correctly and its properties dialog, when opened from the Breakpoints view, shows the correct title for the source name, but the text in the view itself is wrong.  I'd like to see JDIModelPresentation.getJavaStratumLineBreakpointText(IJavaStratumLineBreakpoint) modified to show the source name just like the properties dialog."}, {"bug_id": "72371", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/LaunchingPlugin.java", "org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaAppletLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "occurs Bug locations Bug locations stream Bug occurs stream occurs", "bug_title": " Streams potentially left open on exception(s)", "bug_description": "We have two locations where potentially a stream could be left open if an exception occurs."}, {"bug_id": "73624", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/JavaApplicationLaunchShortcut.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/launcher/MainMethodSearchEngine.java"], "repo": "eclipse.jdt.debug", "reformed_query": "method java main Java", "bug_title": " Don't prompt for main class when main class is selected", "bug_description": "eclipse 3.1 build 200409070800 Select a java compilation unit in the Package Explorer. Make sure it is one that contains a class with a main method (so we'll call it a \"main class\"), and that there are other main classes in the same package. Right-click to get a menu, and select Run -> Java Application. I do not expect to get a dialog at this time that asks me which class I would like to run, because I have already said which class I would like to run. Please look to see if the user has a main class or CU selected (or a method in a main class) and use this information to avoid bringing up the redundant dialog."}, {"bug_id": "73680", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/MethodSearchVisitor.java"], "repo": "eclipse.jdt.debug", "reformed_query": "access visit Replace Type doHotCodeReplace visit getAffectedFrame JavaHotCodeReplaceManager range getAffectedFrame", "bug_title": " Array index out of bounds doing HCR", "bug_description": "I introduced a compilation error to a method which triggered an HCR, and got the following exception: java.lang.ArrayIndexOutOfBoundsException: Array index out of range: 0 at org.eclipse.jdt.internal.debug.core.hcr.MethodSearchVisitor.visit(MethodSearchVisitor.java:156) at org.eclipse.jdt.core.dom.MethodDeclaration.accept0(MethodDeclaration.java:489) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520) at org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:486) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520) at org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:292) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.internal.debug.core.hcr.CompilationUnitDelta.findMethod(CompilationUnitDelta.java:142) at org.eclipse.jdt.internal.debug.core.hcr.CompilationUnitDelta.hasChanged(CompilationUnitDelta.java:130) at org.eclipse.jdt.internal.debug.core.hcr.JavaHotCodeReplaceManager.getAffectedFrame(JavaHotCodeReplaceManager.java:727) at org.eclipse.jdt.internal.debug.core.hcr.JavaHotCodeReplaceManager.getAffectedFrames(JavaHotCodeReplaceManager.java:681) at org.eclipse.jdt.internal.debug.core.hcr.JavaHotCodeReplaceManager.attemptPopFrames(JavaHotCodeReplaceManager.java:631) at org.eclipse.jdt.internal.debug.core.hcr.JavaHotCodeReplaceManager.doHotCodeReplace(JavaHotCodeReplaceManager.java:382) at org.eclipse.jdt.internal.debug.core.hcr.JavaHotCodeReplaceManager.access$0(JavaHotCodeReplaceManager.java:363) at org.eclipse.jdt.internal.debug.core.hcr.JavaHotCodeReplaceManager$1.run(JavaHotCodeReplaceManager.java:292) at org.eclipse.debug.core.DebugPlugin$AsynchJob.run(DebugPlugin.java:876) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)"}, {"bug_id": "7392", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/ThreadReferenceImpl.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "startup code showing incompatible frames frames showing suspended exception responding", "bug_title": " JDIThreads show <not responding> at startup", "bug_description": "Some of our threads are showing as <not responding> startup because our model thinks they are suspended but when the out of synch code tries to get stack frames, we get an incompatible thread state exception."}, {"bug_id": "7404", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.properties", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugPreferencePage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "button step editable Filter broken", "bug_title": " Add Filter for step filtering broken", "bug_description": "Attempting to define my own filter for a step filter does not work. Hitting the button realizes a new entry in the list but it is not editable and it just disappears."}, {"bug_id": "74085", "ground_truth": ["org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/console/JavaExceptionConsoleTracker.java"], "repo": "eclipse.jdt.debug", "reformed_query": "length Java samples plugin samples match JavaExceptionConsoleTracker pattern Console hyperlink", "bug_title": " Exception hyperlink conflicts with stack trace", "bug_description": "The exception hyperlinks and stack trace hyperlinks conflict/overlap when an Exception class exists in a stack trace. For example, in the following trace, the hperlink for the stack NullPointerException.java:61 appears as an exception hyperlink, rather than a file link. Fix was to define the exception hyperlink to be followed by whitespace. java.lang.NullPointerException at java.lang.Throwable.<init>(Throwable.java:59) at java.lang.Throwable.<init>(Throwable.java:73) at java.lang.NullPointerException.<init>(NullPointerException.java:61) at junit.samples.FloodConsole.main(FloodConsole.java:13) Changes in plugin.xml (for exception pattern match regex) and in JavaExceptionConsoleTracker (to subtract 1 from match length for link and exception name)."}, {"bug_id": "74477", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/display/DisplayView.java"], "repo": "eclipse.jdt.debug", "reformed_query": "empty view Bug view document display view Empty view empty", "bug_title": " Empty display view state persisted", "bug_description": "The display view persists its state when the document is empty."}, {"bug_id": "76675", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/AbstractDebugTest.java"], "repo": "eclipse.jdt.debug", "reformed_query": "creation separate stack IOConsolePartitioner rewrite layer console", "bug_title": " Pattern Matching independent of IOConsole and IOConsolePartitioner", "bug_description": "Non stream-based consoles such as our stack trace console should be able to reuse pattern matching w/o having to rewrite it. Requires creation of new layer of abstraction to separate PatternMatching from IOConsole."}, {"bug_id": "76860", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/ASTInstructionCompiler.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Compilation Compiler acceptChildren Declaration Expression testDeferredExpression JDIThread Worker varargs JDIThread", "bug_title": " watch expression tests fail", "bug_description": "With the new support for varargs, the watch expression tests fail: * testDeferredExpression() * testNonDeferredExpression() These exceptions appear in the log: !ENTRY org.eclipse.jdt.debug 4 120 2004-10-22 14:12:50.78 !MESSAGE Exception processing async thread queue !SUBENTRY 1 org.eclipse.jdt.debug 4 120 2004-10-22 14:12:50.78 !MESSAGE Exception processing async thread queue !STACK 0 java.lang.ArrayIndexOutOfBoundsException at java.lang.Throwable.<init>(Throwable.java) at java.lang.Throwable.<init>(Throwable.java) at java.lang.ArrayIndexOutOfBoundsException.<init>(ArrayIndexOutOfBoundsException.java) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTInstructionCompiler.visit(ASTInstructionCompiler.java:2435) at org.eclipse.jdt.core.dom.MethodInvocation.accept0(MethodInvocation.java) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java) at org.eclipse.jdt.core.dom.ASTNode.acceptChild(ASTNode.java) at org.eclipse.jdt.core.dom.ReturnStatement.accept0(ReturnStatement.java:135) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java) at org.eclipse.jdt.core.dom.Block.accept0(Block.java) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java) at org.eclipse.jdt.core.dom.ASTNode.acceptChild(ASTNode.java) at org.eclipse.jdt.core.dom.MethodDeclaration.accept0(MethodDeclaration.java:504) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java) at org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:477) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java) at org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:291) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.createExpressionFromAST(ASTEvaluationEngine.java:264) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression(ASTEvaluationEngine.java:159) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.evaluate(ASTEvaluationEngine.java:76) at org.eclipse.jdt.internal.debug.ui.JavaWatchExpressionDelegate$EvaluationRunnable.run(JavaWatchExpressionDelegate.java:144) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2514) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)"}, {"bug_id": "77064", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/console/JavaStackTraceConsole.java"], "repo": "eclipse.jdt.debug", "reformed_query": "console trace stack button Bug console console button button button", "bug_title": " clear does not work in stack trace console", "bug_description": "Pressing the clear button does not clear the stack trace console."}, {"bug_id": "77125", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JDIDebugPluginPreferenceInitializer.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaClassPrepareBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaTargetPatternBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaMethodBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaBreakpoint.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/DebugUIMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/JDIDebugPlugin.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaStratumLineBreakpoint.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugPreferencePage.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaPatternBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaExceptionBreakpoint.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/JavaBreakpointPropertiesAction.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaWatchpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaMethodEntryBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "thread configure change Preference configure Bug tracking hit Bug concurrency", "bug_title": " Preference for suspending VM on breakpoint", "bug_description": "build i1026. You are able to configure a breakpoint's properties so it suspends either the thread or the whole VM when it is hit. I would like to have a preference so I can change my default to be the VM. (useful when tracking down concurrency problems)"}, {"bug_id": "77190", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/instructions/PushFieldVariable.java"], "repo": "eclipse.jdt.debug", "reformed_query": "failures log Exception ASTEvaluation async STACK pop PushFieldVariable Push Exception", "bug_title": " nightly test failures due to empty stack exception in eval engine", "bug_description": "Three nighly tests failed (which are reproduceable). The following exception appears in the .log several times: !ENTRY org.eclipse.jdt.debug 4 120 2004-10-28 09:10:38.859 !MESSAGE Exception processing async thread queue !SUBENTRY 1 org.eclipse.jdt.debug 4 120 2004-10-28 09:10:38.859 !MESSAGE Exception processing async thread queue !STACK 0 java.util.EmptyStackException at java.lang.Throwable.<init>(Throwable.java) at java.util.Stack.peek(Stack.java) at java.util.Stack.pop(Stack.java) at org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.pop(Interpreter.java:89) at org.eclipse.jdt.internal.debug.eval.ast.instructions.Instruction.popValue(Instruction.java:111) at org.eclipse.jdt.internal.debug.eval.ast.instructions.PushFieldVariable.execute(PushFieldVariable.java:54) at org.eclipse.jdt.internal.debug.eval.ast.engine.Interpreter.execute(Interpreter.java:50) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$1$EvaluationRunnable.run(ASTEvaluationEngine.java:341) at org.eclipse.jdt.internal.debug.core.model.JDIThread.runEvaluation(JDIThread.java:659) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine$EvalRunnable.run(ASTEvaluationEngine.java:375) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2514) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)"}, {"bug_id": "77680", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/hcr/JavaHotCodeReplaceManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Tests launch time VectorTests Hot code HCR VMs left support", "bug_title": " HCR failed message for terminated VM", "bug_description": "I20041102-2000 I finished debugging VectorTests, but left the termianted launch present in the debug view. Any time I modify a CU (refactor, change code), and save, I get a dialog saying \"Hot code replace failed\", Reason: The target VM does not support hot code replace. The error dialog should not appear for terminated VMs."}, {"bug_id": "78422", "ground_truth": ["org.eclipse.jdt.debug.tests/test plugin/org/eclipse/jdt/debug/testplugin/ConsoleLineTracker.java"], "repo": "eclipse.jdt.debug", "reformed_query": "core occasion reflect org Failed Tracker sun Simple", "bug_title": " test failure: testSimpleLineCounter", "bug_description": "On occasion the following test failure occurs on Linux. See I20041110-1000 I've frequently seen the same failure running locally on Mac. Wrong number of lines output expected:<11> but was:<0> junit.framework.AssertionFailedError: Wrong number of lines output expected:<11> but was:<0> at org.eclipse.jdt.debug.tests.core.LineTrackerTests.testSimpleLineCounter(LineTrackerTests.java:78) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at org.eclipse.jdt.debug.tests.DebugSuite$1.run(DebugSuite.java:53) at java.lang.Thread.run(Thread.java:534)"}, {"bug_id": "78449", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/debug/ui/launchConfigurations/JavaClasspathTab.java"], "repo": "eclipse.jdt.debug", "reformed_query": "red configuration cleared classpath remains configuration red problems classpath message", "bug_title": " Closed project error message problems", "bug_description": "For an Ant launch configuration from a closed project you initially get the correct error message in the Ant launch configuration dialog. But if you then go to the classpath tab, the error message is incorrectly cleared (but the red X remains on the classpath tab)."}, {"bug_id": "78534", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/monitors/ThreadMonitorManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "handleSuspendResume dispatch STACK Event internal Thread Suspend Create runtime ThreadMonitorManager", "bug_title": " ConcurrentModificationException in ThreadMonitorManager", "bug_description": "I got this exception while debugging a test case. Apparently, HashMap#clone() is not thread safe. !ENTRY org.eclipse.debug.core 4 120 2004-11-12 09:51:02.64 !MESSAGE An exception occurred while dispatching debug events. !STACK 0 java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextEntry(HashMap.java:787) at java.util.HashMap$EntryIterator.next(HashMap.java:829) at java.util.HashMap$EntryIterator.next(HashMap.java:827) at java.util.HashMap.putAllForCreate(HashMap.java:427) at java.util.HashMap.clone(HashMap.java:659) at org.eclipse.jdt.internal.debug.ui.monitors.ThreadMonitorManager.handleSuspendResume(ThreadMonitorManager.java:113) at org.eclipse.jdt.internal.debug.ui.monitors.ThreadMonitorManager.handleDebugEvents(ThreadMonitorManager.java:100) at org.eclipse.debug.core.DebugPlugin$EventNotifier.run(DebugPlugin.java:965) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:616) at org.eclipse.core.runtime.Platform.run(Platform.java:747) at org.eclipse.debug.core.DebugPlugin$EventNotifier.dispatch(DebugPlugin.java:997) at org.eclipse.debug.core.DebugPlugin.fireDebugEventSet(DebugPlugin.java:345) at org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.fireEvent(JDIDebugElement.java:148) at org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.fireResumeEvent(JDIDebugElement.java:172) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.resume(JDIDebugTarget.java:1072) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.resume(JDIDebugTarget.java:1040) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.handleVMStart(JDIDebugTarget.java:335) at org.eclipse.jdt.internal.debug.core.EventDispatcher.dispatch(EventDispatcher.java:149) at org.eclipse.jdt.internal.debug.core.EventDispatcher.run(EventDispatcher.java:221) at java.lang.Thread.run(Thread.java:595)"}, {"bug_id": "7858", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugModelMessages.properties", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIClassType.java"], "repo": "eclipse.jdt.debug", "reformed_query": "IJavaClassType Feature debug IJavaClassType Bug IJava Developers superclass IJavaClassType IJava", "bug_title": " Feature: gets super class for an IJavaClassType", "bug_description": "Developers of the 'super debug adapter' need access to the superclass of an IJavaClassType."}, {"bug_id": "78866", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JDIDebugUIPlugin.java"], "repo": "eclipse.jdt.debug", "reformed_query": "getNamespace called occurrences Declaring getDeclaringExtension registry Element registry configuration registry", "bug_title": " Using new registry API", "bug_description": "Following some rework of the registry, please apply this patch to make use of the new method called getNamespace() on IConfigurationElement. This patch will convert most occurrences of: configurationElement.getDeclaringExtension().getNamespace() into configurationElement.getNamespace()"}, {"bug_id": "80069", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/connect/SocketConnection.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Receive suite reproduceable Socket connection readPacket internal reproduceable connect reproduceable", "bug_title": " NPE in SocketConnection", "bug_description": "Latest from HEAD. Running the test suite I saw this (not reproduceable). It looks like it is possible to read after the connection is closed. java.lang.NullPointerException at org.eclipse.jdi.internal.connect.SocketConnection.readPacket(SocketConnection.java:50) at org.eclipse.jdi.internal.connect.PacketReceiveManager.readAvailablePacket(PacketReceiveManager.java:239) at org.eclipse.jdi.internal.connect.PacketReceiveManager.run(PacketReceiveManager.java:73) at java.lang.Thread.run(Thread.java:813)"}, {"bug_id": "80191", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/console/JavaStackTraceHyperlink.java"], "repo": "eclipse.jdt.debug", "reformed_query": "versions java exception Source console console init Error Build exception", "bug_title": " Link from exception in console to inner class", "bug_description": "Note that it does not matter if the inner class has been defined before or after the (main) public class. I've put it under UI (because of the link and the popup) but this might also be a Core or Debug bug. /* * Output of running as application: * * Exception in thread \"main\" java.lang.Error * at B.<init>(A.java:17) * at A.main(A.java:23) * * Clicking on line 2 at B.<init>(A.java:17) will show popup with error * * Information * Source not found for B */ class B { public B() { throw new Error(); } } public class A { public static void main(String[] args) { new B(); } } Tested versions (Windows) 2.1.3 stable 3.0.1 stable Version: 3.1.0 (M3) Build id: 200411050810"}, {"bug_id": "80707", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/launching/AbstractJavaLaunchConfigurationDelegate.java"], "repo": "eclipse.jdt.debug", "reformed_query": "file mode Ant breakpoint annoying points mode pre file calls", "bug_title": " Make breakpoint / run mode check debug model specific", "bug_description": "LaunchConfiguration.launch() calls preLaunchCheck() before calling launch(..) launch(..) calls AntLaunchDelegate.launch(..) which does preLaunchCheck(..) again. -> Launch a build file that has break points in run mode and you will be asked twice if you want to use debug mode instead. Makes an annoying feature worse :-)"}, {"bug_id": "80879", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/logicalstructures/JavaLogicalStructures.java"], "repo": "eclipse.jdt.debug", "reformed_query": "mode lang dialogs Logical Pointer generated apps logicalstructures Structures", "bug_title": " NPE in JavaLogicalStructures", "bug_description": "With the changes for bug 80332, an NPE is generated if the preference page is open before any Java apps were launch in debug mode. !ENTRY org.eclipse.core.runtime 4 2 2004-12-13 13:51:27.77 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.core.runtime\". !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.debug.core.logicalstructures.JavaLogicalStructures.getJavaLogicalStructures(JavaLogicalStructures.java) at org.eclipse.jdt.internal.debug.ui.JavaLogicalStructuresPreferencePage$LogicalStructuresListViewerContentProvider.<init>(JavaLogicalStructuresPreferencePage.java:94) at org.eclipse.jdt.internal.debug.ui.JavaLogicalStructuresPreferencePage.createContents(JavaLogicalStructuresPreferencePage.java:222) at org.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:413) at org.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:378) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.createPageControl(WorkbenchPreferenceDialog.java:994) at org.eclipse.jface.preference.PreferenceDialog$13.run(PreferenceDialog.java:1116) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044) at org.eclipse.core.runtime.Platform.run(Platform.java:747) at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1110) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.showPage(WorkbenchPreferenceDialog.java:782) at org.eclipse.jface.preference.PreferenceDialog$9.selectionChanged(PreferenceDialog.java:619) at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:681) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1044) at org.eclipse.core.runtime.Platform.run(Platform.java:747) at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:679) at org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:950) at org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:970) at org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:231) at org.eclipse.jface.util.OpenStrategy.access$4(OpenStrategy.java:226) at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:392) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118) [...]"}, {"bug_id": "84259", "ground_truth": ["org.eclipse.jdt.debug/eval/org/eclipse/jdt/internal/debug/eval/ast/engine/ASTInstructionCompiler.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Bounds net Instruction plugins ARCH impl AST arch Engine log", "bug_title": " ArrayIndexOutOfBoundsException when debugging", "bug_description": "Just noticed this exception in my log file. (second exception is interesting) I *think* it may have happened when I was debugging and I clicked on a java.util.Properties object in the Variables view and it didn't print anything. !SESSION 2005-02-02 13:19:27.557 ----------------------------------------------- eclipse.buildId=I20050202-0800 java.fullversion=J2RE 1.4.2 IBM J9 2.2 Windows XP x86-32 j9n142-20040915 (JIT enabled) J9VM - 20040914_1123_lHdSMR JIT  - r7_level20040912_1800 BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_CA Framework arguments:  -showlocation Command-line arguments:  -os win32 -ws win32 -arch x86 -debug -data \\eclipse\\target\\head\\plugins\\ -showlocation -consoleLog -console !ENTRY org.eclipse.jdt.launching 4 120 2005-02-02 13:19:27.567 !MESSAGE Cannot connect to VM !STACK 0 java.net.SocketException: socket closed at java.net.PlainSocketImpl.socketAccept(Native Method) at java.net.PlainSocketImpl.accept(PlainSocketImpl.java:379) at java.net.ServerSocket.implAccept(ServerSocket.java:471) at java.net.ServerSocket.accept(ServerSocket.java:442) at org.eclipse.jdi.internal.connect.SocketTransportService.accept(SocketTransportService.java:91) at org.eclipse.jdi.internal.connect.SocketTransportImpl.accept(SocketTransportImpl.java:56) at org.eclipse.jdi.internal.connect.SocketListeningConnectorImpl.accept(SocketListeningConnectorImpl.java:128) at org.eclipse.jdt.internal.launching.StandardVMDebugger$ConnectRunnable.run(StandardVMDebugger.java:78) at java.lang.Thread.run(Thread.java:813) !ENTRY org.eclipse.jdt.debug 4 120 2005-02-02 13:25:12.272 !MESSAGE Exception processing async thread queue !SUBENTRY 1 org.eclipse.jdt.debug 4 120 2005-02-02 13:25:12.272 !MESSAGE Exception processing async thread queue !STACK 0 java.lang.ArrayIndexOutOfBoundsException at java.util.ArrayList.get(ArrayList.java:358) at org.eclipse.jdt.internal.debug.eval.ast.instructions.InstructionSequence.getInstruction(InstructionSequence.java:104) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTInstructionCompiler.endVisit(ASTInstructionCompiler.java:993) at org.eclipse.jdt.core.dom.ForStatement.accept0(ForStatement.java:230) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520) at org.eclipse.jdt.core.dom.Block.accept0(Block.java:135) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChild(ASTNode.java:2497) at org.eclipse.jdt.core.dom.MethodDeclaration.accept0(MethodDeclaration.java:503) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520) at org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:477) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520) at org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:291) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.createExpressionFromAST(ASTEvaluationEngine.java:283) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression(ASTEvaluationEngine.java:230) at org.eclipse.jdt.internal.debug.eval.ast.engine.ASTEvaluationEngine.getCompiledExpression(ASTEvaluationEngine.java:200) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.getCompiledExpression(JavaDetailFormattersManager.java:295) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.resolveFormatter(JavaDetailFormattersManager.java:162) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager.access$0(JavaDetailFormattersManager.java:150) at org.eclipse.jdt.internal.debug.ui.JavaDetailFormattersManager$4.run(JavaDetailFormattersManager.java:138) at org.eclipse.jdt.internal.debug.core.model.JDIThread$ThreadJob.run(JDIThread.java:2531) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:66)"}, {"bug_id": "85665", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/JREContainerWizardPage.java"], "repo": "eclipse.jdt.debug", "reformed_query": "container project combo screenshot", "bug_title": " New JRE container dialog shows empty combo", "bug_description": "20050215 When adding a new JRE container to a project the dialog shows up with the 'Alternate JRE' radio button selected, but the combo is empty. See screenshot."}, {"bug_id": "86028", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIDebugTarget.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Deferred BreakpointManagerNotifier Notifier disconnect Requests est ement disconnected Display runtime", "bug_title": " JDIDebugTarget adds breakpoints when terminated/disconnect", "bug_description": "If you changes the enablement of the breakpoint manager with several disconnected/terminated targets still in the debug view you get numersous exceptions logged. Would seem to be able to be shortcutted if the target is terminated or disconnect to not try add the breakpoint. org.eclipse.debug.core.DebugException: Unable to create class prepare request - VM disconnected. at org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.throwDebugException (JDIDebugElement.java:253) at org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.requestFailed (JDIDebugElement.java:211) at org.eclipse.jdt.internal.debug.core.model.JDIDebugElement.requestFailed (JDIDebugElement.java:182) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.createClassPrepareRequ est(JDIDebugTarget.java:1009) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.createClassPrepareRequ est(JDIDebugTarget.java:985) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.createClassPrepareRequ est(JDIDebugTarget.java:964) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.createRequests (JavaBreakpoint.java:494) at org.eclipse.jdt.internal.debug.core.breakpoints.JavaBreakpoint.addToTarget (JavaBreakpoint.java:475) at org.eclipse.jdt.internal.debug.core.model.JDIDebugTarget.breakpointManagerEnabl ementChanged(JDIDebugTarget.java:2144) at org.eclipse.debug.internal.core.BreakpointManager$BreakpointManagerNotifier.run (BreakpointManager.java:954) at org.eclipse.core.internal.runtime.InternalPlatform.run (InternalPlatform.java:1015) at org.eclipse.core.runtime.Platform.run(Platform.java:757) at org.eclipse.debug.internal.core.BreakpointManager$BreakpointManagerNotifier.not ify(BreakpointManager.java:969) at org.eclipse.debug.internal.core.BreakpointManager.setEnabled (BreakpointManager.java:915) at org.eclipse.debug.internal.ui.actions.SkipAllBreakpointsAction.run (SkipAllBreakpointsAction.java:53) at org.eclipse.jface.action.Action.runWithEvent(Action.java:1003) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection (ActionContributionItem.java:557) at org.eclipse.jface.action.ActionContributionItem.access$2 (ActionContributionItem.java:507) at org.eclipse.jface.action.ActionContributionItem$7.handleEvent (ActionContributionItem.java:462) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2908) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2541) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1612) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1578) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench (Workbench.java:293) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:144) at org.eclipse.ui.internal.ide.IDEApplication.run (IDEApplication.java:102) at org.eclipse.core.internal.runtime.PlatformActivator$1.run (PlatformActivator.java:228) at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:333) at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:150) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:268) at org.eclipse.core.launcher.Main.basicRun(Main.java:260) at org.eclipse.core.launcher.Main.run(Main.java:887) at org.eclipse.core.launcher.Main.main(Main.java:871)"}, {"bug_id": "8634", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaExceptionBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Exception", "bug_title": " Exception breakpoints not persisted", "bug_description": "When ever I re-start my workspace, exception breakpoints are missing."}, {"bug_id": "8679", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "reached Suspend hit Suspend time Hit situation update reached Suspend", "bug_title": " Hit count ignored on breakpoints", "bug_description": "20020123++ Suspend at a breakpoint.  Remove breakpoint and set another one somewhere else with a hit count.  Resume.  Notice that hit count breakpoint suspends every time, not just when hit count is reached.  Also found different situation when hit count was respected, but instead of suspending when hit count was reached, debug session just seemed to freeze.  This may have been a UI update problem."}, {"bug_id": "8683", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "model Table Bug Loader step Indicator org JDIThread Workbench Internal", "bug_title": " NPE after suspending VM attempting to step on system thread", "bug_description": "20020124++ Suspend the VM Select the SignalDispatcher thread Hit step over Our code assumes that there is a top stack frame. java.lang.NullPointerException at org.eclipse.jdt.internal.debug.core.model.JDIThread$StepHandler.step(JDIThread.java:1510) at org.eclipse.jdt.internal.debug.core.model.JDIThread.stepReturn(JDIThread.java:1115) at org.eclipse.debug.internal.ui.actions.StepReturnActionDelegate.stepAction(StepReturnActionDelegate.java:29) at org.eclipse.debug.internal.ui.actions.StepActionDelegate.doAction(StepActionDelegate.java:22) at org.eclipse.debug.internal.ui.actions.ControlActionDelegate$1.run(ControlActionDelegate.java:91) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:56) at org.eclipse.debug.internal.ui.actions.ControlActionDelegate.run(ControlActionDelegate.java:86) at org.eclipse.debug.internal.ui.actions.ControlActionDelegate.run(ControlActionDelegate.java:123) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:204) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:407) at org.eclipse.jface.action.ActionContributionItem.handleWidgetEvent(ActionContributionItem.java:361) at org.eclipse.jface.action.ActionContributionItem.access$0(ActionContributionItem.java:352) at org.eclipse.jface.action.ActionContributionItem$ActionListener.handleEvent(ActionContributionItem.java:47) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:74) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:637) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:1413) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:1205) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:852) at org.eclipse.ui.internal.Workbench.run(Workbench.java:835) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:878) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:321) at SlimLauncher.main(SlimLauncher.java:14)"}, {"bug_id": "86863", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/EditVariableLogicalStructureAction.java"], "repo": "eclipse.jdt.debug", "reformed_query": "API structure Selected Debug managing model Move API UIPlugin getSelectedStructureType", "bug_title": " [API] Move \"selected structure\" API to Debug UI", "bug_description": "From bug 82273 comment #23: It feels like the methods set/getSelectedStructureType(..) are more to do with presentation than the debug model. Could we move the methods to DebugUITools, and move the implementation to the DegbuUIPlugin class? The core deals with providing logical structures, but managing which ones are displayed is really a UI issue."}, {"bug_id": "86887", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "IJava assumes work call Project source Event JSP source JavaLineBreakpoint", "bug_title": " Conditions do not work for JSP breakpoints", "bug_description": "If you set a JSP breakpoint with the condition \"true == false\", it is still hit. The reason seems to be that in JavaLineBreakpoint.handleConditionalBreakpointEvent(), the call to getJavaProject returns null. This seems to be the case because JavaModelManager.create(IFile, IJavaProject) assumes that the File is a java file, a class file or an archive file. Since this is a JSP file that is passed through, it returns null rather than the correct source element."}, {"bug_id": "88674", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/actions/ValidBreakpointLocationLocator.java"], "repo": "eclipse.jdt.debug", "reformed_query": "actions Exception dom location Compilation Worker CompilationUnit CompilationUnit core eclipse", "bug_title": " NPE validating breakpoint location", "bug_description": "Unsure what triggered this...except that the binding is null java.lang.NullPointerException at org.eclipse.jdt.internal.debug.ui.actions.ValidBreakpointLocationLocator.visit(ValidBreakpointLocationLocator.java:392) at org.eclipse.jdt.core.dom.Assignment.accept0(Assignment.java:307) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChild(ASTNode.java:2497) at org.eclipse.jdt.core.dom.ExpressionStatement.accept0(ExpressionStatement.java:143) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520) at org.eclipse.jdt.core.dom.Block.accept0(Block.java:135) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.internal.debug.ui.actions.ValidBreakpointLocationLocator.visit(ValidBreakpointLocationLocator.java:759) at org.eclipse.jdt.core.dom.MethodDeclaration.accept0(MethodDeclaration.java:486) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.internal.debug.ui.actions.ValidBreakpointLocationLocator.visit(ValidBreakpointLocationLocator.java:1008) at org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:466) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2520) at org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:299) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2450) at org.eclipse.jdt.internal.debug.ui.actions.BreakpointLocationVerifierJob.run(BreakpointLocationVerifierJob.java:151) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67)"}, {"bug_id": "89566", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/jres/InstalledJREsBlock.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Block ProgressMonitorDialog Bug vmTypeAsElement viewers PlatformActivator Manager jres libraryLocationsAsEle runWithEvent", "bug_title": " Searching for installed JREs broken", "bug_description": "I20050330 * Open the installed JREs pref page * Select \"Search\" and select \"c:\\\" > The busy cursor appears with no dialog * press cancel > the pref dialog closes, the search dialog appears This is in the .log: org.eclipse.swt.SWTException: Widget is disposed at org.eclipse.swt.SWT.error(SWT.java:2860) at org.eclipse.swt.SWT.error(SWT.java:2783) at org.eclipse.swt.SWT.error(SWT.java:2754) at org.eclipse.swt.widgets.Widget.error(Widget.java:393) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:295) at org.eclipse.swt.widgets.Table.getItems(Table.java:1349) at org.eclipse.jface.viewers.CheckboxTableViewer.preservingSelection (CheckboxTableViewer.java:274) at org.eclipse.jface.viewers.StructuredViewer.refresh (StructuredViewer.java:1169) at org.eclipse.jface.viewers.StructuredViewer.refresh (StructuredViewer.java:1128) at org.eclipse.jdt.internal.debug.ui.jres.InstalledJREsBlock.vmAdded (InstalledJREsBlock.java:597) at org.eclipse.jdt.internal.debug.ui.jres.InstalledJREsBlock.search (InstalledJREsBlock.java:727) at org.eclipse.jdt.internal.debug.ui.jres.InstalledJREsBlock$11.handleEvent (InstalledJREsBlock.java:372) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527) at org.eclipse.jface.window.Window.runEventLoop(Window.java:803) at org.eclipse.jface.window.Window.open(Window.java:781) at org.eclipse.ui.internal.OpenPreferencesAction.run (OpenPreferencesAction.java:66) at org.eclipse.jface.action.Action.runWithEvent(Action.java:996) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection (ActionContributionItem.java:538) at org.eclipse.jface.action.ActionContributionItem.access$2 (ActionContributionItem.java:488) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent (ActionContributionItem.java:400) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench (Workbench.java:306) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run (IDEApplication.java:103) at org.eclipse.core.internal.runtime.PlatformActivator$1.run (PlatformActivator.java:228) at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:338) at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:151) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:85) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:58) at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:60) at java.lang.reflect.Method.invoke(Method.java:391) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:268) at org.eclipse.core.launcher.Main.basicRun(Main.java:260) at org.eclipse.core.launcher.Main.run(Main.java:887) at org.eclipse.core.launcher.Main.main(Main.java:871) java.lang.reflect.InvocationTargetException at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:327) at org.eclipse.jface.dialogs.ProgressMonitorDialog.run (ProgressMonitorDialog.java:447) at org.eclipse.ui.internal.progress.ProgressMonitorJobsDialog.run (ProgressMonitorJobsDialog.java:261) at org.eclipse.ui.internal.progress.ProgressManager$3.run (ProgressManager.java:839) at org.eclipse.swt.custom.BusyIndicator.showWhile (BusyIndicator.java:69) at org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile (ProgressManager.java:873) at org.eclipse.ui.internal.progress.ProgressManager.busyCursorWhile (ProgressManager.java:849) at org.eclipse.jdt.internal.debug.ui.jres.JREsUpdater.saveVMDefinitions (JREsUpdater.java:106) at org.eclipse.jdt.internal.debug.ui.jres.JREsUpdater.updateJRESettings (JREsUpdater.java:77) at org.eclipse.jdt.internal.debug.ui.jres.JREsPreferencePage$2.run (JREsPreferencePage.java:133) at org.eclipse.swt.custom.BusyIndicator.showWhile (BusyIndicator.java:69) at org.eclipse.jdt.internal.debug.ui.jres.JREsPreferencePage.performOk (JREsPreferencePage.java:128) at org.eclipse.jface.preference.PreferenceDialog$12.run (PreferenceDialog.java:843) at org.eclipse.core.internal.runtime.InternalPlatform.run (InternalPlatform.java:1021) at org.eclipse.core.runtime.Platform.run(Platform.java:757) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:40) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148) at org.eclipse.jface.preference.PreferenceDialog.okPressed (PreferenceDialog.java:823) at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.okPressed (FilteredPreferenceDialog.java:304) at org.eclipse.jface.preference.PreferenceDialog.buttonPressed (PreferenceDialog.java:226) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556) at org.eclipse.swt.widgets.TypedListener.handleEvent (TypedListener.java:89) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527) at org.eclipse.jface.window.Window.runEventLoop(Window.java:803) at org.eclipse.jface.window.Window.open(Window.java:781) at org.eclipse.ui.internal.OpenPreferencesAction.run (OpenPreferencesAction.java:66) at org.eclipse.jface.action.Action.runWithEvent(Action.java:996) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection (ActionContributionItem.java:538) at org.eclipse.jface.action.ActionContributionItem.access$2 (ActionContributionItem.java:488) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent (ActionContributionItem.java:400) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench (Workbench.java:306) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run (IDEApplication.java:103) at org.eclipse.core.internal.runtime.PlatformActivator$1.run (PlatformActivator.java:228) at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:338) at org.eclipse.core.runtime.adaptor.EclipseStarter.run (EclipseStarter.java:151) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:85) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:58) at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:60) at java.lang.reflect.Method.invoke(Method.java:391) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:268) at org.eclipse.core.launcher.Main.basicRun(Main.java:260) at org.eclipse.core.launcher.Main.run(Main.java:887) at org.eclipse.core.launcher.Main.main(Main.java:871) Caused by: java.lang.NullPointerException at org.eclipse.jdt.internal.launching.VMDefinitionsContainer.libraryLocationsAsEle ment(VMDefinitionsContainer.java:335) at org.eclipse.jdt.internal.launching.VMDefinitionsContainer.vmAsElement (VMDefinitionsContainer.java:308) at org.eclipse.jdt.internal.launching.VMDefinitionsContainer.vmTypeAsElement (VMDefinitionsContainer.java:280) at org.eclipse.jdt.internal.launching.VMDefinitionsContainer.getAsXML (VMDefinitionsContainer.java:258) at org.eclipse.jdt.internal.debug.ui.jres.JREsUpdater$1.run (JREsUpdater.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run (ModalContext.java:113)"}, {"bug_id": "89643", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIThread.java"], "repo": "eclipse.jdt.debug", "reformed_query": "step JspServletWrapper getDateText html Internal call stack ErrorReportValve invoke Chain", "bug_title": " step filters confuse stepping in JSP stratum", "bug_description": "I20050330-0500 * I was stepping thu a JSP like this, on the first line <html> <body> <% String date= (new one.two.three.MyDate()).getDateText(); %> The date is currently <%= date%>. And who really knows what time it is. </body> </html> * I mistakenly had step filters turned on and the call stack advanced out of the JSP from this: Thread [http-8080-Processor25] (Suspended (breakpoint at line 3 in date_jsp)) date.jsp line: 3 date_jsp(HttpJspBase).service(HttpServletRequest, HttpServletResponse) line: 94 date_jsp(HttpServlet).service(ServletRequest, ServletResponse) line: 802 JspServletWrapper.service(HttpServletRequest, HttpServletResponse, boolean) line: 324 JspServlet.serviceJspFile(HttpServletRequest, HttpServletResponse, String, Throwable, boolean) line: 292 JspServlet.service(HttpServletRequest, HttpServletResponse) line: 236 JspServlet(HttpServlet).service(ServletRequest, ServletResponse) line: 802 ApplicationFilterChain.internalDoFilter(ServletRequest, ServletResponse) line: 237 ApplicationFilterChain.doFilter(ServletRequest, ServletResponse) line: 157 StandardWrapperValve.invoke(Request, Response, ValveContext) line: 214 StandardValveContext.invokeNext(Request, Response) line: 104 StandardPipeline.invoke(Request, Response) line: 520 StandardContextValve.invokeInternal(Wrapper, Request, Response) line: 198 StandardContextValve.invoke(Request, Response, ValveContext) line: 152 StandardValveContext.invokeNext(Request, Response) line: 104 StandardPipeline.invoke(Request, Response) line: 520 StandardHostValve.invoke(Request, Response, ValveContext) line: 137 StandardValveContext.invokeNext(Request, Response) line: 104 ErrorReportValve.invoke(Request, Response, ValveContext) line: 117 StandardValveContext.invokeNext(Request, Response) line: 102 StandardPipeline.invoke(Request, Response) line: 520 StandardEngineValve.invoke(Request, Response, ValveContext) line: 109 StandardValveContext.invokeNext(Request, Response) line: 104 StandardPipeline.invoke(Request, Response) line: 520 StandardEngine(ContainerBase).invoke(Request, Response) line: 929 CoyoteAdapter.service(Request, Response) line: 160 Http11Processor.process(InputStream, OutputStream) line: 799 Http11Protocol$Http11ConnectionHandler.processConnection (TcpConnection, Object[]) line: 705 TcpWorkerThread.runIt(Object[]) line: 577 ThreadPool$ControlRunnable.run() line: 683 ThreadWithAttributes(Thread).run() line: 813 To this: Thread [http-8080-Processor25] (Suspended) date_jsp(HttpServlet).service(ServletRequest, ServletResponse) line: 803 JspServletWrapper.service(HttpServletRequest, HttpServletResponse, boolean) line: 324 JspServlet.serviceJspFile(HttpServletRequest, HttpServletResponse, String, Throwable, boolean) line: 292 JspServlet.service(HttpServletRequest, HttpServletResponse) line: 236 JspServlet(HttpServlet).service(ServletRequest, ServletResponse) line: 802 ApplicationFilterChain.internalDoFilter(ServletRequest, ServletResponse) line: 237 ApplicationFilterChain.doFilter(ServletRequest, ServletResponse) line: 157 StandardWrapperValve.invoke(Request, Response, ValveContext) line: 214 StandardValveContext.invokeNext(Request, Response) line: 104 StandardPipeline.invoke(Request, Response) line: 520 StandardContextValve.invokeInternal(Wrapper, Request, Response) line: 198 StandardContextValve.invoke(Request, Response, ValveContext) line: 152 StandardValveContext.invokeNext(Request, Response) line: 104 StandardPipeline.invoke(Request, Response) line: 520 StandardHostValve.invoke(Request, Response, ValveContext) line: 137 StandardValveContext.invokeNext(Request, Response) line: 104 ErrorReportValve.invoke(Request, Response, ValveContext) line: 117 StandardValveContext.invokeNext(Request, Response) line: 102 StandardPipeline.invoke(Request, Response) line: 520 StandardEngineValve.invoke(Request, Response, ValveContext) line: 109 StandardValveContext.invokeNext(Request, Response) line: 104 StandardPipeline.invoke(Request, Response) line: 520 StandardEngine(ContainerBase).invoke(Request, Response) line: 929 CoyoteAdapter.service(Request, Response) line: 160 Http11Processor.process(InputStream, OutputStream) line: 799 Http11Protocol$Http11ConnectionHandler.processConnection (TcpConnection, Object[]) line: 705 TcpWorkerThread.runIt(Object[]) line: 577 ThreadPool$ControlRunnable.run() line: 683 ThreadWithAttributes(Thread).run() line: 813 With step filters off, stepping worked as expected. The active filters were: java.* org.apache.* sun.* It could be that step filters shuold only apply to the Java stratum?"}, {"bug_id": "9026", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaPatternBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaExceptionBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaWatchpoint.java", "org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaMethodBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "error Bug breakpoints", "bug_title": " Compilation error breakpoints are showing in breakpoints view", "bug_description": "Summary says it all."}, {"bug_id": "90805", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/model/JDIStackFrame.java"], "repo": "eclipse.jdt.debug", "reformed_query": "flag Frame told blank stepped FiltersAction invalid Drop Debug Filters", "bug_title": " Drop to frame failed during evaluation, with no message in error dialog, and evaluation flag not cleared", "bug_description": "build I20050405 vm: pj9n142ifx-20041206 - set breakpoint in FiltersAction.run() - clicked on the Filters button in target's Problems view - breakpoint hit - evaluated: Display.getDefault().beep() - set a breakpoint in the beep method - evaluated the same expression again - breakpoint hit - tried evaluating the following, from within the beep method: OS.MessageBeep (OS.MB_OK) - it told me that it could not do nested evaluations; fair enough, it is actually nested here+ - stepped over the MessageBeep call - IP was at the end of the method (frame for beep() still showing) - tried Drop to Frame - got a blank error dialog, but the details pane had details: Unable to pop the selected stack frame due to invalid frame id, and that the thread had been resumed (not exact wording) - the thread had not been resumed, and the selected frame was still showing in the Debug view - resumed - it paused back at FiltersAction.run() - resumed again - pressed the Filters button again - breakpoint in FiltersAction.run() hit - tried evaluating: Display.getDefault().beep() - it told me that it could not do nested evaluations; this is wrong - I had fully resumed and was not within another evaluation"}, {"bug_id": "9122", "ground_truth": ["org.eclipse.jdt.debug/model/org/eclipse/jdt/internal/debug/core/breakpoints/JavaMethodBreakpoint.java"], "repo": "eclipse.jdt.debug", "reformed_query": "performance extremally debug", "bug_title": " debugging is extremally slow (20020129 + latest)", "bug_description": "there seems to be some  performance problem with debug to launch my junit workspace in debug mode i waited 5 minutes and gave up. it worked the second time - i just waited more. after it launched - everything was very slow."}, {"bug_id": "93578", "ground_truth": ["org.eclipse.jdt.debug.tests/tests/org/eclipse/jdt/debug/tests/performance/PerfConsoleTests.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Lines tests Caused jdt RunnableLock Console IDEApplication UITestApplication", "bug_title": " java.lang.ArrayIndexOutOfBoundsException in ConsoleDocumentAdapter", "bug_description": "org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.ArrayIndexOutOfBoundsException: -1) at org.eclipse.swt.SWT.error(SWT.java:2940) at org.eclipse.swt.SWT.error(SWT.java:2863) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:121) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2878) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2537) at org.eclipse.jdt.debug.tests.DebugSuite.run(DebugSuite.java:67) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:474) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:342) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:57) at org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:99) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2878) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2537) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1572) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1536) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103) at org.eclipse.pde.internal.junit.runtime.UITestApplication.run(UITestApplication.java:39) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:230) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:345) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:158) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:328) at org.eclipse.core.launcher.Main.basicRun(Main.java:272) at org.eclipse.core.launcher.Main.run(Main.java:964) at org.eclipse.core.launcher.Main.main(Main.java:948) Caused by: java.lang.ArrayIndexOutOfBoundsException: -1 at org.eclipse.ui.internal.console.ConsoleDocumentAdapter.repairLines(ConsoleDocumentAdapter.java:102) at org.eclipse.ui.internal.console.ConsoleDocumentAdapter.documentChanged(ConsoleDocumentAdapter.java:365) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged2(AbstractDocument.java:719) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:682) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:667) at org.eclipse.jface.text.AbstractDocument.fireDocumentChanged(AbstractDocument.java:744) at org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1054) at org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1061) at org.eclipse.ui.internal.console.ConsoleDocument.replace(ConsoleDocument.java:83) at org.eclipse.ui.internal.console.IOConsolePartitioner$1.run(IOConsolePartitioner.java:525) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118) ... 28 more"}, {"bug_id": "94047", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/JavaClasspathVariablesInitializer.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Classpath Launching Variables classpath core", "bug_title": " [ActionSets] [classpath] Toolbar shudders when opening the Classpath Variables preference page", "bug_description": "Version: 3.1.0 Build id: I20050506-1600 When you open the Classpath Variables preference page from an empty workspace (only minimal plugins activated) the toolbar shudders as if components are quickly being added and removed.  The preference page is causing the activation of quite a few plugins (Ant UI, JDT JUnit, JDT Launching, PDE and PDE core).  I don't think any of these plugins contribute actions to the toolbar of my current perspective (could be wrong though)."}, {"bug_id": "94452", "ground_truth": ["org.eclipse.jdt.debug/jdi/org/eclipse/jdi/internal/connect/PacketReceiveManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "method holding Timeout timeout", "bug_title": " Timeout exceptions", "bug_description": "I20050509-2010 I am able to produce timeout exceptions by stepping in a method while a logical structure is displayed for a Vector. Stepping quickly - allow the UI to start to update and then step again - seems to cause the problem. I am not holding down the step key. This may be flooding the target with requests as the views are attempting to update as the next step starts."}, {"bug_id": "94474", "ground_truth": ["org.eclipse.jdt.launching/launching/org/eclipse/jdt/internal/launching/VMDefinitionsContainer.java"], "repo": "eclipse.jdt.debug", "reformed_query": "JRE dismiss jar   insect", "bug_title": " Unable to change source attachment on JRE jar", "bug_description": "I20050509-2010 * From Installed JREs pref page * select a JRE and \"Edit\" * deselect \"use default system libraries\" * Edit a source attachment * Press OK and OK to dismiss dialogs * Re-open to insect source attachment > It's gone"}, {"bug_id": "94687", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/core/refactoring/LaunchConfigurationProjectMainTypeChange.java"], "repo": "eclipse.jdt.debug", "reformed_query": "Unable Framework config perform Support Removed jface Refactoring custom Change", "bug_title": " Exception renaming project containing shared config", "bug_description": "I20050909-2010 If I rename a project containing a shared launch configuration, I get an exception like this: org.eclipse.core.runtime.CoreException: Unable to generate memento for VectorTesting, shared file does not exist. at org.eclipse.debug.internal.core.LaunchConfiguration.getMemento(LaunchConfiguration.java:389) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationManager.createEntry(LaunchConfigurationManager.java:337) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationManager.getHistoryAsXML(LaunchConfigurationManager.java:318) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationManager.persistLaunchHistory(LaunchConfigurationManager.java:358) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchHistory.save(LaunchHistory.java:121) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchHistory.launchConfigurationRemoved(LaunchHistory.java:430) at org.eclipse.debug.internal.core.LaunchManager$ConfigurationNotifier.run(LaunchManager.java:1573) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1029) at org.eclipse.core.runtime.Platform.run(Platform.java:775) at org.eclipse.debug.internal.core.LaunchManager$ConfigurationNotifier.notify(LaunchManager.java:1594) at org.eclipse.debug.internal.core.LaunchManager.launchConfigurationDeleted(LaunchManager.java:776) at org.eclipse.debug.internal.core.LaunchManager$LaunchManagerVisitor.visit(LaunchManager.java:1133) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:68) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:77) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:77) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.java:49) at org.eclipse.debug.internal.core.LaunchManager.resourceChanged(LaunchManager.java:985) at org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:276) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1029) at org.eclipse.core.runtime.Platform.run(Platform.java:775) at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:270) at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:144) at org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:180) at org.eclipse.core.internal.resources.Workspace.checkpoint(Workspace.java:243) at org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:237) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1716) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1736) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:280) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.access$1(UIPerformChangeOperation.java:1) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation$1.run(UIPerformChangeOperation.java:63) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1029) at org.eclipse.core.runtime.Platform.run(Platform.java:775) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation$2.run(UIPerformChangeOperation.java:81) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:118) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2878) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2537) at org.eclipse.jface.operation.ModalContext$ModalContextThread.block (ModalContext.java:153) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:303) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.run (RefactoringWizardDialog2.java:282) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.internalPerformFinish (RefactoringWizard.java:547) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.performFinish (UserInputWizardPage.java:153) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.performFinish (RefactoringWizard.java:613) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.okPressed (RefactoringWizardDialog2.java:406) at org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:409) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2901) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2534) at org.eclipse.jface.window.Window.runEventLoop(Window.java:803) at org.eclipse.jface.window.Window.open(Window.java:781) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run (RefactoringWizardOpenOperation.java:125) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run (RefactoringWizardOpenOperation.java:138) at org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate (RefactoringStarter.java:40) at org.eclipse.jdt.internal.ui.refactoring.UserInterfaceStarter.activate (UserInterfaceStarter.java:56) at org.eclipse.jdt.internal.ui.refactoring.reorg.RenameUserInterfaceStarter.activa te(RenameUserInterfaceStarter.java:113) at org.eclipse.jdt.ui.refactoring.RenameSupport.openDialog (RenameSupport.java:114) at org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startRe nameRefactoring(RefactoringExecutionStarter.java:325) at org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run (RenameJavaElementAction.java:171) at org.eclipse.jdt.internal.ui.refactoring.actions.RenameJavaElementAction.run (RenameJavaElementAction.java:102) at org.eclipse.jdt.ui.actions.RenameAction.run(RenameAction.java:108) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun (SelectionDispatchAction.java:222) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run (SelectionDispatchAction.java:198) at org.eclipse.jface.action.Action.runWithEvent(Action.java:996) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection (ActionContributionItem.java:538) at org.eclipse.jface.action.ActionContributionItem.access$2 (ActionContributionItem.java:488) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent (ActionContributionItem.java:400) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2901) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2534) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1601) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1565) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:315) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103) at org.eclipse.core.internal.runtime.PlatformActivator$1.run (PlatformActivator.java:230) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:345) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:158) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:85) at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:58) at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:60) at java.lang.reflect.Method.invoke(Method.java:391) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:328) at org.eclipse.core.launcher.Main.basicRun(Main.java:272) at org.eclipse.core.launcher.Main.run(Main.java:974) at org.eclipse.core.launcher.Main.main(Main.java:950)"}, {"bug_id": "9649", "ground_truth": ["org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugOptionsManager.java"], "repo": "eclipse.jdt.debug", "reformed_query": "dialog workspace Add returns Eclipse wwaux", "bug_title": " Can't rebuild all - never returns", "bug_description": "Eclipse 20020212-I Clean install and new workspace. Turn autobuild off Add org.eclipse.swt to workspace. Copy .classpath_motif to .classpath Turn autobuild back on. Progress Information dialog proceeds to the end but then never closes. ps wwaux reports more than a 1000 process consuming 400 MB of memory."}, {"bug_id": "9825", "ground_truth": ["org.eclipse.jdt.debug.ui/plugin.xml", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/RunAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/snippeteditor/StopAction.java", "org.eclipse.jdt.debug.ui/ui/org/eclipse/jdt/internal/debug/ui/JavaDebugImages.java"], "repo": "eclipse.jdt.debug", "reformed_query": "proposed Bug showing approaches plan hover breakpoints Bug Action workbench", "bug_title": " Action icon inconsistencies", "bug_description": "20020212++ The debugger has several different approaches to what \"icon\" is shown depending on the state of the action.  We need to come up with one consistent plan that matches what is proposed for the whole workbench. For example, look at the remove all action icon in the launch view and breakpoint view.  In the launch view, the action has color if it is enabled. In the breakpoints view it does not show color until one hovers over the action. I actually prefer showing the color when the action is active (makes it easy to tell what action is active instead of having to hover)."}, {"bug_id": "100155", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavadocHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Hover Hover hover variables local Bug side note note labels", "bug_title": " [hovering] Hover labels for local variables", "bug_description": "RC2 Hover over a local variable, e.g. x. The hover shows: 'int p.Try2.m().x' in 3.0 we showed 'int x - p.Try2.m()' which I think is much better. As a side note, the important information should be (besides the type of the variable), that this is a local variable or a parameter. class Try2 { int m() { int x = 0; return x; } }"}, {"bug_id": "100174", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorAppearanceConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bug font Bug preference Java preferences Editor link fixing Omission", "bug_title": " [preferences] New link on Java Editor pref page does not honor dialog font", "bug_description": "I20050615-0010 Omission when fixing bug 99714: the new link on the Java editor preference page does not honor the dialog font."}, {"bug_id": "102512", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/TestElement.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/TestViewer.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/TestCaseElement.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/TestElement.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/TestViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "peter peter log method method cut JUnit cut test test", "bug_title": " [JUnit] test method name cut off before (", "bug_description": "In case my test's name is \"log on test (user peter)\", the JUnit view will in the left window only show \"log on test \" leaving out the most interesting part."}, {"bug_id": "102696", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/ReturnTypeQuickFixTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/TypeChangeCorrectionProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/NewVariableCorrectionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "method comment quick", "bug_title": " [quick fix] Quick-Fix fail to update method comment", "bug_description": "When quick-fix changes method signature, the comment of the method fails to update."}, {"bug_id": "103450", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "assist assist remove quick Quick assist remove remove Bug Bug", "bug_title": " [quick assist] Quick fix to remove synchronized block", "bug_description": "I would like a Quick Fix option to \"remove surrounding 'synchronized' statement\", just like you can do with an \"if\" statement."}, {"bug_id": "108115", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/JdtASTMatcher.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bug JDT workaround don ASTMatcher submit problem instance JdtASTMatcher workaround", "bug_title": " [refactoring] Extract Local Variable and Ex. Constant don't find matching invocations of generic methods", "bug_description": "M20050824-1200 See JDT/Core bug 104293. For that specific instance of the problem, there's an easy workaround in JdtASTMatcher that we should submit for 3.1.1."}, {"bug_id": "108247", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "active active scope selected editor selected Enclosing editor Selected Enlcosing", "bug_title": " 'Selected resources' scope disabled but 'Enclosing projects' possible", "bug_description": "I20050823-0800 Open a CU and press Ctrl+H ==> the 'Selected resources' scope is disabled but the 'Enlcosing projects' scope is not. How can the projects be computed if the selected resources are not known? ;-) If an editor is active I would expect that the selected resources are the resources specified by the editor input."}, {"bug_id": "111653", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/EditTemplateDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "GotoLineDialog Bug dialog text feature", "bug_title": " [misc] Dialogs remembering last location will help them open on correct monitor", "bug_description": "The original bug reporting this problem is bug #108801. In that bug we discussed the solution being dialogs remembering their last location. The text dialog specifically mentioned in the original bug was GotoLineDialog, but consider this a request to apply the feature where appropriate."}, {"bug_id": "11317", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarFileExportOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "packages export eclipse create add files project txt system file", "bug_title": " Won't export some files to .jar.", "bug_description": "Create a new java project called \"Foo\". In the file system, create a folder named \"Foo scripts\", and in this folder create a file named \"foo.txt\". Drag this folder into the eclipse packages view and add it to the \"Foo\" project. Now try to export the project \"Foo\" to a .jar file.  Only the manifest file shows up, even if the file \"foo.txt\" is checked!"}, {"bug_id": "113731", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/RefactoringWizardDialog2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "determine bigger preview Window", "bug_title": " [refactoring] preview page gets bigger and bigger", "bug_description": "Hi I am not quite sure if this is the right Component to report this bug - for an outsider it is quite difficult to determine which Component causes a \"strange\" behaviour. Here is my bug: Calling the refactoring on and on again causes the \"Rename Package\" Window to get a little bit bigger every time. I use IBM RAD 6.0.1 but I think this feature has nothing to do with the extra stuff from IBM. Cheers, Thomas"}, {"bug_id": "12044", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "FIELD Search search text Format select references java dialog returns", "bug_title": " [search] Should find constant references in .class files with source attached", "bug_description": "1. In Outline view select java.text.DateFormat.HOUR_OF_DAY0_FIELD 2. Search for References in workspace ==> nothing found Note 1: It finds references in .java files but not in JARs. Note 2: Search for all Occurrences (via search dialog) correctly returns the references"}, {"bug_id": "120615", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/javadoc/JavadocContentAccess2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "doc merge methods doc links IMerge Javadoc properly IFile display", "bug_title": " [hovering] Javadoc Viewer doesn't display {@link ... } properly if text is just whitespace", "bug_description": "I20051213-0010 While browsing doc using the viewer I noticed that the following java doc excerpt from the merge method in IMergeContext: * For two-way merging, clients can either accept changes using the * {@link #merge(IDiffNode[], boolean, IProgressMonitor) } method or reject * them using {@link #markAsMerged(IFile, boolean, IProgressMonitor) }. corresponds to the following output in the Javadoc viewer: For two-way merging, clients can either accept changes using the method or reject them using . It seems that this is only true for links to local methods."}, {"bug_id": "121057", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "start empty JRE list updated preferences", "bug_title": " [jres] 'Execution Environments' preference page not updated after JRE addition", "bug_description": "I20051214-2000 - start with a new workspace and a 1.4 VM - on the 'Installed JREs' page, add a 1.5 SDK - without leaving the preferences dialog, go to the 'Execution Environments' page and select J2SE-1.5 => compatible JREs list is empty, although I just installed one"}, {"bug_id": "124182", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "selection text correct caret Bug open cleared range Status correct", "bug_title": " [navigation] Status line loses annotation text when selection changes", "bug_description": "build I20060110 - open a CU with some compilation error (in my case it was an unused private field) - place the caret some term that has no error, such as a class name - the highlighting does its thing, and the status line is blank (correct) - place the caret in the range of the error - the highlighting does its thing, and the status line shows the error (correct) - move the caret somewhere else in the range (either using mouse or keyboard) - the highlighting is unchanged (correct) but the status line is cleared (incorrect) It looks like the error display is tied to the highlighting, and is optimized to do nothing when the highlighting is unchanged, but someone else is clearing the status line on every selection. Expectation: the status line shows the error text whenever the caret is within the range of an error (likewise for warnings)."}, {"bug_id": "125013", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/PreferencesAdapter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Framework Indicator getClasspathContainer getClasspathVariable JavaProject BundleEvent initialReconcile Thread PreferencesAdapter PropertyChangeListener", "bug_title": " [misc] deadlock in PreferencesAdapter.firePropertyChangeEvent", "bug_description": "I20060119 + ZRH plug-ins from 20060124 - started target workbench, but it never came up - selected threads from the vm dump below. - the trace shows that the syncExec call from PreferenceForwarder waits forever while holding the JavaModelManager waited for by the main thread -> the main thread waits for the lock -> the reconciler waits forever and is never woken up by the main thread -> Not exactly a deadlock, but similar in result. org.eclipse.core.launcher.Main at localhost:32917 (Suspended) Thread [main] (Suspended) waiting for: JavaModelManager  (id=80) JavaModelManager.containerGet(IJavaProject, IPath) line: 337 JavaModelManager.getClasspathContainer(IPath, IJavaProject) line: 1163 ClasspathEntry.validateClasspathEntry(IJavaProject, IClasspathEntry, boolean, boolean) line: 1560 JavaProject.getResolvedClasspath(IClasspathEntry[], IPath, boolean, boolean, Map) line: 2120 DeltaProcessingState$ProjectUpdateInfo.updateProjectReferencesIfNecessary() line: 98 DeltaProcessingState.performClasspathResourceChange(JavaProject, IClasspathEntry[], IClasspathEntry[], IClasspathEntry[], boolean) line: 228 SetClasspathOperation.updateProjectReferencesIfNecessary() line: 799 SetClasspathOperation.executeOperation() line: 254 SetClasspathOperation(JavaModelOperation).run(IProgressMonitor) line: 720 Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1714 SetClasspathOperation(JavaModelOperation).runOperation(IProgressMonitor) line: 784 JavaProject.setRawClasspath(IClasspathEntry[], IPath, IProgressMonitor, boolean, IClasspathEntry[], boolean, boolean) line: 2995 JavaCore$5.run(IProgressMonitor) line: 4167 BatchOperation.executeOperation() line: 39 BatchOperation(JavaModelOperation).run(IProgressMonitor) line: 720 Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1714 JavaCore.run(IWorkspaceRunnable, ISchedulingRule, IProgressMonitor) line: 3976 JavaCore.setClasspathContainer(IPath, IJavaProject[], IClasspathContainer[], IProgressMonitor) line: 4150 JREContainerInitializer.initialize(IPath, IJavaProject) line: 56 JavaModelManager.initializeContainer(IJavaProject, IPath) line: 1748 JavaModelManager$7.run(IProgressMonitor) line: 1694 Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1714 JavaModelManager.initializeAllContainers(IJavaProject, IPath) line: 1703 JavaModelManager.getClasspathContainer(IPath, IJavaProject) line: 1170 JavaCore.getClasspathContainer(IPath, IJavaProject) line: 1458 JavaProject.getResolvedClasspath(IClasspathEntry[], IPath, boolean, boolean, Map) line: 2154 JavaProject.getResolvedClasspath(boolean, boolean, boolean) line: 2058 DeltaProcessingState.initializeRoots() line: 271 BatchOperation(JavaModelOperation).run(IProgressMonitor) line: 717 Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1714 JavaCore.run(IWorkspaceRunnable, ISchedulingRule, IProgressMonitor) line: 3976 JavaCore.setClasspathContainer(IPath, IJavaProject[], IClasspathContainer[], IProgressMonitor) line: 4150 JREContainerInitializer.initialize(IPath, IJavaProject) line: 56 JavaModelManager.initializeContainer(IJavaProject, IPath) line: 1748 JavaModelManager.getClasspathContainer(IPath, IJavaProject) line: 1172 JavaCore.getClasspathContainer(IPath, IJavaProject) line: 1458 JavaProject.getResolvedClasspath(IClasspathEntry[], IPath, boolean, boolean, Map) line: 2154 JavaProject.getResolvedClasspath(boolean, boolean, boolean) line: 2058 JavaModelManager.determineIfOnClasspath(IResource, IJavaProject) line: 735 JavaModelManager.create(IFolder, IJavaProject) line: 624 JavaModelManager.create(IResource, IJavaProject) line: 553 JavaCore.create(IResource) line: 1372 ResourceAdapterFactory.getAdapter(Object, Class) line: 32 AdapterFactoryProxy.getAdapter(Object, Class) line: 63 AdapterManager.getAdapter(Object, Class) line: 253 Folder(PlatformObject).getAdapter(Class) line: 65 NamePatternFilter.select(Viewer, Object, Object) line: 62 PackageExplorerPart$PackageExplorerProblemTreeViewer.filter(Object, Object, ViewerFilter[]) line: 324 PackageExplorerPart$PackageExplorerProblemTreeViewer.isExpandable(Object) line: 313 PackageExplorerPart$PackageExplorerProblemTreeViewer(AbstractTreeViewer).updatePlus(Item, Object) line: 2021 PackageExplorerPart$PackageExplorerProblemTreeViewer(AbstractTreeViewer).createTreeItem(Widget, Object, int) line: 541 AbstractTreeViewer$1.run() line: 519 BusyIndicator.showWhile(Display, Runnable) line: 69 PackageExplorerPart$PackageExplorerProblemTreeViewer(AbstractTreeViewer).createChildren(Widget) line: 499 PackageExplorerPart$PackageExplorerProblemTreeViewer(TreeViewer).createChildren(Widget) line: 794 AbstractTreeViewer$5.run() line: 1002 PackageExplorerPart$PackageExplorerProblemTreeViewer(StructuredViewer).preservingSelection(Runnable) line: 1259 PackageExplorerPart$PackageExplorerProblemTreeViewer.preservingSelection(Runnable) line: 624 PackageExplorerPart$PackageExplorerProblemTreeViewer(AbstractTreeViewer).inputChanged(Object, Object) line: 992 PackageExplorerPart$PackageExplorerProblemTreeViewer(ContentViewer).setInput(Object) line: 249 PackageExplorerPart$PackageExplorerProblemTreeViewer(StructuredViewer).setInput(Object) line: 1475 PackageExplorerPart.createPartControl(Composite) line: 854 ViewReference.createPartHelper() line: 330 ViewReference.createPart() line: 195 ViewReference(WorkbenchPartReference).getPart(boolean) line: 552 ViewPane(PartPane).setVisible(boolean) line: 285 ViewPane.setVisible(boolean) line: 503 PresentablePart.setVisible(boolean) line: 140 PresentablePartFolder.select(IPresentablePart) line: 266 LeftToRightTabOrder.select(IPresentablePart) line: 65 TabbedStackPresentation.selectPart(IPresentablePart) line: 394 ViewStack(PartStack).refreshPresentationSelection() line: 1140 ViewStack(PartStack).createControl(Composite, StackPresentation) line: 621 ViewStack(PartStack).createControl(Composite) line: 530 ViewSashContainer(PartSashContainer).createControl(Composite) line: 557 PerspectiveHelper.activate(Composite) line: 242 Perspective.onActivate() line: 813 WorkbenchPage.onActivate() line: 2221 WorkbenchWindow$6.run() line: 2460 BusyIndicator.showWhile(Display, Runnable) line: 69 WorkbenchWindow.setActivePage(IWorkbenchPage) line: 2442 WorkbenchWindow.restoreState(IMemento, IPerspectiveDescriptor) line: 1881 Workbench.doRestoreState(IMemento, MultiStatus) line: 2704 Workbench.access$14(Workbench, IMemento, MultiStatus) line: 2653 Workbench$17.run() line: 1569 Workbench.runStartupWithProgress(int, Runnable) line: 1321 Workbench.restoreState(IMemento) line: 1567 Workbench.access$12(Workbench, IMemento) line: 1546 Workbench$15.run() line: 1429 SafeRunner.run(ISafeRunnable) line: 37 Platform.run(ISafeRunnable) line: 785 Workbench.restoreState() line: 1373 WorkbenchConfigurer.restoreState() line: 183 IDEWorkbenchAdvisor(WorkbenchAdvisor).openWindows() line: 700 Workbench.init(Display) line: 989 Workbench.runUI() line: 1723 Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 400 PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 143 IDEApplication.run(Object) line: 106 PlatformActivator$1.run(Object) line: 109 EclipseAppLauncher.runApplication(Object) line: 92 EclipseAppLauncher.start(Object) line: 68 EclipseStarter.run(Object) line: 373 EclipseStarter.run(String[], Runnable) line: 168 NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method] NativeMethodAccessorImpl.invoke(Object, Object[]) line: 39 DelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25 Method.invoke(Object, Object...) line: 585 Main.invokeFramework(String[], URL[]) line: 338 Main.basicRun(String[]) line: 282 Main.run(String[]) line: 977 Main.main(String[]) line: 952 Thread [Framework Event Dispatcher] (Suspended) owns: HashMap<K,V>  (id=163) waiting for: RunnableLock  (id=162) Object.wait(long) line: not available [native method] RunnableLock(Object).wait() line: 474 UISynchronizer(Synchronizer).syncExec(Runnable) line: 169 UISynchronizer.syncExec(Runnable) line: 28 Display.syncExec(Runnable) line: 3622 WorkingSetManager(AbstractWorkingSetManager).firePropertyChange(String, Object, Object) line: 301 WorkingSetManager(AbstractWorkingSetManager).getUpdater(WorkingSetDescriptor) line: 585 WorkingSetManager(AbstractWorkingSetManager).bundleChanged(BundleEvent) line: 546 BundleContextImpl.dispatchEvent(Object, Object, int, Object) line: 1205 EventManager.dispatchEvent(EventListeners$ListElement[], EventDispatcher, int, Object) line: 189 EventManager$EventThread.run() line: 291 Thread [org.eclipse.jdt.internal.ui.text.JavaReconciler] (Suspended) owns: JavaModelManager  (id=80) owns: Object  (id=132) waiting for: RunnableLock  (id=131) Object.wait(long) line: not available [native method] RunnableLock(Object).wait() line: 474 UISynchronizer(Synchronizer).syncExec(Runnable) line: 169 UISynchronizer.syncExec(Runnable) line: 28 Display.syncExec(Runnable) line: 3622 PreferencesAdapter.firePropertyChangeEvent(String, Object, Object) line: 127 PreferencesAdapter$PropertyChangeListener.propertyChange(Preferences$PropertyChangeEvent) line: 46 Preferences$1.run() line: 519 SafeRunner.run(ISafeRunnable) line: 37 PreferenceForwarder(Preferences).firePropertyChangeEvent(String, Object, Object) line: 522 PreferenceForwarder.preferenceChange(IEclipsePreferences$PreferenceChangeEvent) line: 101 EclipsePreferences$2.run() line: 746 SafeRunner.run(ISafeRunnable) line: 37 InstancePreferences(EclipsePreferences).firePreferenceEvent(String, Object, Object) line: 749 InstancePreferences(EclipsePreferences).put(String, String) line: 762 JavaModelManager.variablePut(String, IPath) line: 3844 JavaModelManager.updateVariableValues(String[], IPath[], IProgressMonitor) line: 3736 JavaCore.setClasspathVariables(String[], IPath[], IProgressMonitor) line: 4285 JavaCore.setClasspathVariable(String, IPath, IProgressMonitor) line: 4250 EclipseHomeInitializer.resetEclipseHomeVariable() line: 31 EclipseHomeInitializer.initialize(String) line: 24 JavaCore.getClasspathVariable(String) line: 1577 JavaCore.getResolvedVariablePath(IPath) line: 2725 JavaCore.getResolvedClasspathEntry(IClasspathEntry) line: 2687 JavaProject.getResolvedClasspath(IClasspathEntry[], IPath, boolean, boolean, Map) line: 2134 JavaProject.getResolvedClasspath(boolean, boolean, boolean) line: 2058 DeltaProcessingState.initializeRoots() line: 271 BatchOperation(JavaModelOperation).run(IProgressMonitor) line: 717 Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1714 JavaCore.run(IWorkspaceRunnable, ISchedulingRule, IProgressMonitor) line: 3976 JavaCore.setClasspathContainer(IPath, IJavaProject[], IClasspathContainer[], IProgressMonitor) line: 4150 ModelEntry.updateClasspathContainer(boolean) line: 107 RequiredPluginsInitializer.initialize(IPath, IJavaProject) line: 40 JavaModelManager.initializeContainer(IJavaProject, IPath) line: 1748 JavaModelManager.getClasspathContainer(IPath, IJavaProject) line: 1172 JavaCore.getClasspathContainer(IPath, IJavaProject) line: 1458 JavaProject.getResolvedClasspath(IClasspathEntry[], IPath, boolean, boolean, Map) line: 2154 JavaProject.getResolvedClasspath(boolean, boolean, boolean) line: 2058 JavaProject.buildStructure(OpenableElementInfo, IProgressMonitor, Map, IResource) line: 333 JavaProject(Openable).generateInfos(Object, HashMap, IProgressMonitor) line: 235 JavaProject(JavaElement).openWhenClosed(Object, IProgressMonitor) line: 503 JavaProject(JavaElement).getElementInfo(IProgressMonitor) line: 247 JavaProject(JavaElement).getElementInfo() line: 233 JavaProject.getJavaProjectElementInfo() line: 1624 JavaProject.newNameLookup(ICompilationUnit[]) line: 2537 CancelableNameEnvironment(SearchableEnvironment).<init>(JavaProject, ICompilationUnit[]) line: 53 CancelableNameEnvironment(SearchableEnvironment).<init>(JavaProject, WorkingCopyOwner) line: 67 CancelableNameEnvironment.<init>(JavaProject, WorkingCopyOwner, IProgressMonitor) line: 26 CompilationUnitProblemFinder.process(CompilationUnitDeclaration, ICompilationUnit, char[], Parser, WorkingCopyOwner, HashMap, boolean, boolean, IProgressMonitor) line: 156 CompilationUnitProblemFinder.process(ICompilationUnit, char[], WorkingCopyOwner, HashMap, boolean, boolean, IProgressMonitor) line: 239 ReconcileWorkingCopyOperation.makeConsistent(CompilationUnit, IProblemRequestor) line: 146 ReconcileWorkingCopyOperation.executeOperation() line: 71 ReconcileWorkingCopyOperation(JavaModelOperation).run(IProgressMonitor) line: 720 ReconcileWorkingCopyOperation(JavaModelOperation).runOperation(IProgressMonitor) line: 779 CompilationUnit.reconcile(int, boolean, boolean, WorkingCopyOwner, IProgressMonitor) line: 1114 CompilationUnit.reconcile(int, boolean, WorkingCopyOwner, IProgressMonitor) line: 1089 JavaReconcilingStrategy$1.run() line: 97 SafeRunner.run(ISafeRunnable) line: 37 Platform.run(ISafeRunnable) line: 785 JavaReconcilingStrategy.reconcile(boolean) line: 82 JavaReconcilingStrategy.initialReconcile() line: 172 JavaCompositeReconcilingStrategy(CompositeReconcilingStrategy).initialReconcile() line: 114 JavaCompositeReconcilingStrategy.initialReconcile() line: 120 JavaReconciler(MonoReconciler).initialProcess() line: 103 JavaReconciler.initialProcess() line: 328 AbstractReconciler$BackgroundThread.run() line: 170"}, {"bug_id": "125872", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/CleanUpTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/Java50Fix.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/SerialVersionSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/PotentialProgrammingProblemsCleanUp.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/CleanUpRefactoringWizard.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/Java50CleanUp.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/PotentialProgrammingProblemsFix.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/MultiFixMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/MultiFixMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "valid source Bug clean Bug source Serial clean clean source", "bug_title": " [clean up] 'Serial id' should not be in J2SE 5 section", "bug_description": "20060131 'Serial id' should not be in J2SE 5 section. It is valid for all source levels."}, {"bug_id": "129354", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/AbstractJavaEditorTextHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "eclipse Keybinding editor hover editor eclipse Bug persepective Keybinding hover", "bug_title": " Keybinding for 'focus javadoc' only present for editor", "bug_description": "If i'm in the Java persepective with the editor having focus, and I hover to get a javadoc popup, it says \"Press 'F2' for focus.\" However, if my focus is in some other view, annd I hover over the same element to get its javadoc, it says \"Press '' for focus.\", and I can't get the javadoc to take focus with F2. eclipse 3.2M5 on OSX 10.4.5"}, {"bug_id": "12996", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaPlugin.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarFileExportOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Leave Export build editor type Export File Eclipse Export project", "bug_title": " open multipage editor causes Invalid thread access when exporting to a jar", "bug_description": "This also happens in Eclipse 2.0 build 20020214 1. install the mulitpage editor example into the workspace 2. in a project create a file of type .mpe 3. a multipage editor opens on this new file.  Leave the editor open. 4. select File/Export/Jar File.  Fill in the jar file and click finish. You get the following Jar Export Error: Creation of JAR failed Invalid thread access"}, {"bug_id": "13243", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Browsing list types longer units", "bug_title": " [Browsing] package remains if all types are deleted", "bug_description": "1) open Java Browsing Perspective 2) select a package 3) select all types of this package 4) delete all types, agree to also delete the compilation units -> package still in the package list 5) deselect and reselect the project -> package is no longer in package list"}, {"bug_id": "13269", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarFileExportOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "failed operation Save warning Choose note easiest files prehaps jarpackager", "bug_title": " Incorrect operation order in jarpackager", "bug_description": "Steps: 1)select some packages and export jar 2)select 'Export java source files and resources' 3)Next 4)select in 'Save description of this JAR in workspace' a .jardesc that already exists. 5)Next 6)Select 'Use existing manifest from workspace' and choose a manifest that already exist (this is easiest if you run the wizard once and then a second time with the presevered settings). 7)Finish 8)A dialog will appear asking if you wish to overwrite your .jardesc file. Choose NO. 9)A dialog will appear asking if you wish to overwrite your manifest file. Choose NO. Note that an error dialog appears saying JAR creation failed, because saving manifest to workspace failed and saving description to workspace failed. If you click okay you will return to the wizard. 10)Choose Cancel. Go to were your .jar file was to have been generated and note that it was indeed created. This is because the jar file is created before the overwrite verifications happen. Other notes: -the messages 'saving manifest file failed' is perhaps incorrect in this case as the user chose not to overwrite the manifest file (thus it is not really a failure). Same goes for '.jardesc' file. -prehaps a warning in the wizard's header (now that an icon is shown as well) would be better in the case of the '.jardesc' file then a dialog box at the end. Either way not overwriting this file should not cause the wizard to not complete its operation. -The 'use existing manifest from workspace' option should not save a new manifest file. If the user wants that they should use the 'save the manifest in the workspace' option combined with the 'reuse and save the manifest in the workspace' option. >20020409. JRT."}, {"bug_id": "133141", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/ResourceAdapterFactory.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Conventions Factory Resource element consulted FileEditorInput getAdapter runAsyncMessages returned AdapterManager", "bug_title": " Must JavaCore.create(IFile) always do full checks?", "bug_description": "I20060315-1200 I found this while digging into bug 133025. In 3.2 Debug added some code that requests the Java element adapter for an IFile (that's OK). This results in a call to JavaCore.create(IFile). Even though the CU is in the model all checks are made before the CU is returned and the Scanner is consulted, see the stack trace below. NOTE: this is the same behavior as in 3.1 (and maybe before) and not a regression in JDT Core but since many clients are either using JavaCore.create(IFile) or IFile.getAdapter(IJavaElement.class) it could be a good performance benefit if this could be avoided. Thread [main] (Suspended (breakpoint at line 834 in Scanner)) owns: Class<T> (org.eclipse.jdt.core.JavaConventions) (id=270) owns: RunnableLock  (id=310) Scanner.getNextToken() line: 834 JavaConventions.scannedIdentifier(String) line: 89 JavaConventions.validateIdentifier(String) line: 232 Util.isValidFolderNameForPackage(String) line: 1320 Util.packageName(IPath) line: 1474 JavaModelManager.determineIfOnClasspath(IResource, IJavaProject) line: 830 JavaModelManager.createCompilationUnitFrom(IFile, IJavaProject) line: 749 JavaModelManager.create(IFile, IJavaProject) line: 660 JavaModelManager.create(IResource, IJavaProject) line: 624 JavaCore.create(IResource) line: 1378 ResourceAdapterFactory.getAdapter(Object, Class) line: 38 AdapterFactoryProxy.getAdapter(Object, Class) line: 63 AdapterManager.getAdapter(Object, Class) line: 253 File(PlatformObject).getAdapter(Class) line: 65 FileEditorInput.getAdapter(Class) line: 87 ToggleBreakpointAdapter.isRemote(IWorkbenchPart, ISelection) line: 422 ToggleBreakpointAdapter.canToggleWatchpoints(IWorkbenchPart, ISelection) line: 810 RetargetWatchpointAction.canPerformAction(Object, ISelection, IWorkbenchPart) line: 36 RetargetAction$1.run() line: 204 RunnableLock.run() line: 35 UISynchronizer(Synchronizer).runAsyncMessages(boolean) line: 123"}, {"bug_id": "135219", "ground_truth": ["org.eclipse.jdt.ui.tests/performance/org/eclipse/jdt/ui/tests/performance/views/CleanUpPerfTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "clean code Clean field test", "bug_title": " [clean up][code style] Does not qualify field if method parameter", "bug_description": "N20060405-0010 Given: package test; public class E { public int i; public void print(int j) {} public void foo() { print(i); } } 1. 'Source -> Clean Up...' 2. Enable 'Use allways 'this' for method and field accesses' Is: this.print(i); Should: this.print(this.i);"}, {"bug_id": "137091", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/BasicJavaEditorActionContributor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Mark Toggle Occurrences KeyBindings", "bug_title": " [KeyBindings] Toggle Mark Occurrences shortcut is broken", "bug_description": "As of some milestone after M3, SHIFT-ALT-O does not work at all."}, {"bug_id": "13877", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/ProblemTableViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "happen values tool displayed notation values windows Bug NLS notation", "bug_title": " NLS tool - values are not displayed correctly", "bug_description": "On the first page, the values \".\", \"...\", \"\\n\" are displayed as \"\", \"\", \" \". At least the case of \".\" seems to happen for windows as well. I think \"\\n\" should be displayed in the escaped notation again, as \"\\n\"."}, {"bug_id": "139231", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest17.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "clause add surrounding code Add   duplicate", "bug_title": " [quick fix] duplicate exception name after add throws to catch", "bug_description": "Eclipse SDK Version: 3.2.0 Build id: I20060413-1718 \"Add catch clause to surrounding try\" of \"Quick Fix\" generates code with error."}, {"bug_id": "140248", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/buildpath/BuildPathSupport.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/launcher/JUnitLaunchConfiguration.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/JUnitPlugin.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/buildpath/BuildPathSupport.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/JUnitCorePlugin.java"], "repo": "eclipse.jdt.ui", "reformed_query": "disable Bug work support disabled launched disable JUnit scenario work", "bug_title": " JUnit4 support should be disabled if launched with 1.4 VM", "bug_description": "3.2 RC2 The JUnit4 support does not work if the workbench is launched with a 1.4 VM. We should disable the JUnit4 support in the UI in that scenario."}, {"bug_id": "140392", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/TestRunnerViewPart.java", "org.eclipse.jdt.junit4.runtime/META-INF/MANIFEST.MF", "org.eclipse.jdt.junit4.runtime/src/org/eclipse/jdt/internal/junit4/runner/FailuresFirstSorter.java", "org.eclipse.jdt.junit4.runtime/src/org/eclipse/jdt/internal/junit4/runner/JUnit4TestClassReference.java", "org.eclipse.jdt.junit4.runtime/src/org/eclipse/jdt/internal/junit4/runner/JUnit4TestLoader.java", "org.eclipse.jdt.junit4.runtime/src/org/eclipse/jdt/internal/junit4/runner/JUnit4TestMethodReference.java", "org.eclipse.jdt.junit4.runtime/src/org/eclipse/jdt/internal/junit4/runner/JUnit4TestReference.java", "org.eclipse.jdt.ui.tests/junit4/Readme.txt", "org.eclipse.jdt.ui.tests/junit4/org/eclipse/jdt/junit/tests/RerunFailFirstTests.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Rerun failed feature JUnit work disabled work Bug JUnit failed", "bug_title": " [JUnit] Rerun failed first does not work with JUnit4", "bug_description": "3.2 RC3 Bug 139899 has disabled the button, but we should look whether we can support that feature in 3.3."}, {"bug_id": "143171", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitDocumentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "close appears change type Replace History create save message problems", "bug_title": " [misc] 'Update conflicts' dialog appears on save - save no longer possible", "bug_description": "R3.1.2 and 3.2 RC5 1. create a Java project with a CU 2. add some text and save 2. close the Java editor 3. open the Java editor for above class 4. change the text without saving 5. from the Package Explorer's context menu select: Replace With > Previous From Local History 6. Give focus to Java editor 7. click 'No' to the dialog 8. Save ==> \"Save problems\"  dialog appears with message: Save could not be completed. Reason: Update conflict NOTE: does not happen with standard text editor POSSIBLE WORKAROUNDS: - type another character and save works again - use Save As"}, {"bug_id": "144902", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Java preference key navigation Explorer Navigate editor", "bug_title": " [navigation] Show in Package Explorer has no effect", "bug_description": "3.2 RC5 - in the Keys preference page, bind a key sequence like Ctrl+Alt+P to Show In Package Explorer (in the Navigate category) - in a Java editor, press the key sequence - it has no effect"}, {"bug_id": "14837", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/FindAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "shouldn Build search Java Search", "bug_title": " Java Search: actions shouldn't be enabled if folder is selected in packages view", "bug_description": "Build 20020425 Create a folder under a Java project by creating a package and putting a icon into it. Open context menu. Observe that there are actions for search. They always return zero results."}, {"bug_id": "150244", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "File IClass Add Bytes Bug", "bug_title": " [API] Add getBytes() on IClassFile", "bug_description": "R3.2"}, {"bug_id": "150249", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaStringAutoIndentStrategy.java"], "repo": "eclipse.jdt.ui", "reformed_query": "string work doesn code", "bug_title": " [typing] Pasting a contents inside a string to get string concatenation doesn't work if the string is not an empty string", "bug_description": "Using 3.2, copy some code. Open a new empty string. Paste your code and it ends up as string concatenation. Now copy some code. Open a string which is not an empty string. Select the contents of the string except the starting and ending double quote and paste your code. The code is not seen as a string concatenation."}, {"bug_id": "151668", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/reorg/ReorgPolicyFactory.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/ccp/CopyTest.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/RefactoringCoreMessages.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/refactoring.properties", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/reorg/ReorgPolicyFactory.java"], "repo": "eclipse.jdt.ui", "reformed_query": "file file advantage issue reorg reorg contradicts issue Bug advantage", "bug_title": " [reorg] Copy action should NOT add 'copy of' prefix", "bug_description": "Yes, I add this issue though it contradicts to issue #3985 and issue #33071. I really wonder what the advantage of this prefix should be. I never just wanted to create a copy where the name is not important like a backup. Whenever I copy a file I want to specify a new name. And there it is really annoying to remove the prefix over and over again. If this is now different for other people (otherwise it would probably not have been added this way) it might make sense to make this prefix configurable."}, {"bug_id": "152142", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/FindBrokenNLSKeysAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "search NLS actions refactoring plugin NLSSearchPage nls availbale   list", "bug_title": " [nls] the NLS key tab is not available in the search dialog window", "bug_description": "In Eclipse 3.2, the NLS key tab is not available in the search dialog window. It is not listed in the 'Customize...' list either. It is still documented in Eclipse 3.2 doc but the corresponding class NLSSearchPage is no longer part of the o.e.jdt.ui plugin (org.eclipse.jdt.ui_3.2.0.v20060605-1400.jar) http://dev.eclipse.org/viewcvs/index.cgi/org.eclipse.jdt.ui/ui%20refactoring/org/eclipse/jdt/internal/ui/refactoring/nls/search/Attic/NLSSearchPage.java It seems that the documentation is not up to date but in doubt, I open this bug in UI since the new actions related to NLS keys does not cover all the functionalities which were availbale in the NLS search page."}, {"bug_id": "153079", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Java search button   checkboxes", "bug_title": " [search] search button should be disabled when all \"Search In\" checkboxes cleared", "bug_description": "I20060708-2000 - Search > Java - clear all \"Search In\" check boxes - click Search > no results - Ctrl+H again > Search-In state is remembered expected: - Search button is disabled when all Search-In-Boxes cleared - warning message in dialog"}, {"bug_id": "153912", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/model/JavaModelLabelProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "filtered Bug model sync text plan Models folder hiding", "bug_title": " [common navigator] Java model hiding parent folders in sync view", "bug_description": "Build: I20060815-0800 I have a simple (non-Java) project in my workspace like this: eclipse platform-text 3.3 plan.html When there is an incoming change on plan.html, the synch view looks like this when \"All Models\" is selected: eclipse 3.3 plan.html I.e., the \"platform-text\" parent folder is being filtered out.  If the \"Java Workspace\" model is disabled, the problem goes away."}, {"bug_id": "161282", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaTypeCompletionProposalComputer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "content TreeSet type assist proposal choose red Create SPACE history", "bug_title": " [content assist] Applying proposal from the content assist history results in unresolved type", "bug_description": "Create a blank file with a main method, and type in the method: Set[CTRL-SPACE and import Set]<String> my = new [CTRL-SPACE and choose TreeSet, and finish the line] You should have ended up with: Set<String> my = new TreeSet<String>(); Where TreeSet was \"auto-added\" by Eclipse, but it will be underlined red, for you still need to import it. Expected: if Eclipse added TreeSet, it should have added an import line for it."}, {"bug_id": "162434", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/template/java/JavaContextType.java"], "repo": "eclipse.jdt.ui", "reformed_query": "type conpletion trimParts code Bug hot getTrimForParts", "bug_title": " [content assist] Code conpletion for 'for' doesn't choose the correct collection", "bug_description": "N20061026-0010 When using the 'for' xource code completion it used to automatically choose the most recently defined collection but now doesn't... If I enter the following line... List trimParts = presentation.getLayout().getTrimForParts(); ...and hot Ctrl-Space and select 'iterate over collection' I now get the following... for (Iterator iterator = alwaysOffActionSets.iterator(); iterator.hasNext();) { type name = (type) iterator.next(); } Note that the collection is 'alwaysOffActionSets' rather than 'trimParts' which is what I used to get. Not sure but perhaps the choice is alphabetical now?"}, {"bug_id": "162541", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitDocumentProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/saveparticipant/IPostSaveListener.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/CleanUpPostSaveListener.java"], "repo": "eclipse.jdt.ui", "reformed_query": "called Save", "bug_title": " [misc] save participants not called upon 'Save As'", "bug_description": "N20061027-0010 The save participants are not called upon 'Save As'."}, {"bug_id": "162856", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/JavaProjectWizardFirstPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "classpath wizard source error wizard projet test find existing browse", "bug_title": " [build path] new project from existing sources in the workspace", "bug_description": "I have a folder with many subfolders. In this subfolders thera are another subfolders and source folders in them. For example: the main folder name is \"git\" git->s1->f1->src git->s1->f2->src git->s2->f3->src git->s2->f4->src ... The folder \"git\" is in the workspace. There is no project. I want to create project in the folder \"git\". I want Eclipse to find the src folders automatically. I open New Project wizard and select Java Project. I choose \"Create project from existing source\" and browse for folder \"git\". I type a Project name. There is an error. I can't click Next because it is desabled. There is a message \"Cannot create project content in workspace\". Why? Where is the problem? My sources are already in the workspace and Eclipse have to create a project file. I report this bug because there is something strange in the Eclipse and you have to fix it. If I do the following steps everithing is ok and everything work correctly: 1. move folder \"git\" outside the eclipse's workspace 2. create new projet from existing source. The Eclipse automatically found the source folders. The Eclipse create .project file and .classpath file in the \"git\" folder. 3. create new project \"test\" in workspace with no source folders. 4. close eclipse 5. move all files and subfolders from folder \"git\" to the new folder \"test\" in eclipse's workspace. 6. open eclipse 7. I have project with all source folders."}, {"bug_id": "164677", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitDocumentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Mgmt eclipse IURIEditor EditorMgmt IURIEditor java IURIEditor org URI type", "bug_title": " [EditorMgmt] can we remove IURIEditorInput?", "bug_description": "URI cannot be resolved to a type\torg.eclipse.ui.workbench/Eclipse UI/org/eclipse/ui\tIURIEditorInput.java\tline 39\t1163611136718\t748662 This is API that was added in 3.3.  Since URI is not part of J2ME Foundation 1.0, can we do without this API?"}, {"bug_id": "165210", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/BlankLinesTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/FormatterMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/FormatterMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "blank precedence code preserve operation lines don formatter organize preserved", "bug_title": " Fup of bug 74997, add new formatter option for number of blank lines between import groups", "bug_description": "Right now the number of blank lines added by the fix for bug 74997 are not preserved once the code is formatted. We should add a new code formatter option that specifies the number of blank lines between import groups. This should take precedence over the number of blank lines to preserve. If we don't do this, we end up with inconsistencies between the organize import operation and the code formatter."}, {"bug_id": "167590", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/ConvertAnonymousToNestedWizard.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/ConvertAnonymousToNestedWizard.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/ConvertAnonymousToNestedWizard.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/ConvertAnonymousToNestedWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "store behavior normal store settings refactoring anonymous anonymous time refactoring", "bug_title": " [convert anonymous] does not store settings", "bug_description": "I20061212-0010. Each time I use this refactoring I have to check the 'static' check box again? Why? Please store the settings as this is the normal Eclipse behavior."}, {"bug_id": "170192", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/spelling/engine/AbstractSpellDictionary.java"], "repo": "eclipse.jdt.ui", "reformed_query": "STACK charset JavaCompositeReconcilingStrategy Decoder Reader isCorrect BufferedReader SpellingService Checker Correct", "bug_title": " [implementation] IllegalStateException when reading spelling dictionary", "bug_description": "I20070110-1600 and M20070110-1900 !ENTRY org.eclipse.ui.workbench.texteditor 4 2 2007-01-11 11:07:00.628 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench.texteditor\". !STACK 0 java.lang.IllegalStateException: Current state = CODING_END, new state = CODING at java.nio.charset.CharsetDecoder.throwIllegalStateException(CharsetDecoder.java:784) at java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:474) at sun.nio.cs.StreamDecoder$CharsetSD.implRead(StreamDecoder.java:478) at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:223) at java.io.InputStreamReader.read(InputStreamReader.java:208) at java.io.BufferedReader.fill(BufferedReader.java:153) at java.io.BufferedReader.readLine(BufferedReader.java(Compiled Code)) at java.io.BufferedReader.readLine(BufferedReader.java(Compiled Code)) at org.eclipse.jdt.internal.ui.text.spelling.engine.AbstractSpellDictionary.load(AbstractSpellDictionary.java:460) at org.eclipse.jdt.internal.ui.text.spelling.engine.AbstractSpellDictionary.isCorrect(AbstractSpellDictionary.java:370) at org.eclipse.jdt.internal.ui.text.spelling.engine.DefaultSpellChecker.isCorrect(DefaultSpellChecker.java:350) at org.eclipse.jdt.internal.ui.text.spelling.engine.DefaultSpellChecker.execute(DefaultSpellChecker.java:264) at org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingEngine.check(JavaSpellingEngine.java:54) at org.eclipse.jdt.internal.ui.text.spelling.SpellingEngine.check(SpellingEngine.java:77) at org.eclipse.jdt.internal.ui.text.spelling.DefaultSpellingEngine.check(DefaultSpellingEngine.java:75) at org.eclipse.ui.texteditor.spelling.SpellingService$1.run(SpellingService.java:103) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.ui.texteditor.spelling.SpellingService.check(SpellingService.java:108) at org.eclipse.ui.texteditor.spelling.SpellingService.check(SpellingService.java:80) at org.eclipse.ui.texteditor.spelling.SpellingReconcileStrategy.reconcile(SpellingReconcileStrategy.java:179) at org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy.reconcile(JavaSpellingReconcileStrategy.java:125) at org.eclipse.ui.texteditor.spelling.SpellingReconcileStrategy.initialReconcile(SpellingReconcileStrategy.java:162) at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.initialReconcile(CompositeReconcilingStrategy.java:114) at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:122) at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:103) at org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:332) at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:170)"}, {"bug_id": "172388", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/FilteredTypesSelectionDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "lib Bug Search Program Open Steps debugging result Renaming including", "bug_title": " [open type] Open Type dialog shows different JRE libraries with identical text", "bug_description": "Build ID: I20061214-1445 Steps To Reproduce: 1) Compile your own rt.jar for jdk1.6.0, with all debugging information included, for example.  (An exact copy will do for purposes of time.)  Name it rt_g.jar. 2) Go to Eclipse Preferences, Java, Installed JREs.  Copy existing \"jdk1.6.0\" to \"jdk1.6.0_debug\". 3) Edit \"jdk1.6.0\" debug, including built \"rt_g.jar\" directly above default \"rt.jar\". 4) Create 2 projects in workspace, one using the default \"jdk1.6.0\" JRE, the other using the customized \"jdk1.6.0_debug\" JRE. 5) Bring up the \"Open Type\" dialog.  Search for java.lang.Object.  2 identical entries will appear: Object - java.lang - [jdk1.6.0] Object - java.lang - [jdk1.6.0] There is no way to differentiate between these two.  However, opening either does, in fact, open 2 different files.  One opens the Object.class (showing source) for the instance in rt.jar.  The other shows the instance from rt_g.jar. 6) These tagged names appear to be the name as entered on the JRE under preferences.  Renaming \"jdk1.6.0\" to \"test jdk1.6.0\" will result in a repeat of this test showing: Object - java.lang - [test jdk1.6.0] Object - java.lang - [test jdk1.6.0] 7) Now, removing the ORIGINAL \"jdk1.6.0\" all together (now called \"test jdk1.6.0\") shows a different result: Object - java.lang - C:\\Program FilesJava\\jdk1.6.0\\jre\\lib\\rt.jar Object - java.lang - C:\\Program FilesJava\\jdk1.6.0\\rt_g.jar (The above looks much more like what I would like / expect.) 8) Copying the \"jdk1.6.0_debug\" back to \"jdk1.6.0\", AND removing the rt_g.jar from the later will reproduce the undesired result: Object - java.lang - [jdk1.6.0] Object - java.lang - [jdk1.6.0]"}, {"bug_id": "17317", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorPreferencePage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Preferences Editor options windows screen move hidden   Preference", "bug_title": " Preference Pages taller than the screen 1024x768", "bug_description": "build 20020521 The preference pages is to big to fit on the screen 1024x768 1) Go on the menu: Windows -> Preferences 2) Look the page Java->Editor (First Tab: Appearance) When the preference page comes out it is big than the screen, so I have to resize (or move) it in order to reach the Button Close, for instance. For the Java->Editor, when I resize it the Table on bottom (\"Appearance color options\") is hidden, so I have to be dacing with the preference page resizing and moving when I need to change some thing. I guess there to many option on the same page, test replace the table by a Combo, or split the options on one more tabpage. Note, you cannot see the problem on Windows, have to be Motif since the Motif borders and trims are bigger than windows."}, {"bug_id": "176516", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/buildpath/ClasspathModifier.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JavaModelUtil.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/BuildPathsPropertyPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ClasspathContainerPreferencePage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/CompliancePreferencePage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/OptionsConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/BuildPathSupport.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/BuildPathWizard.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/BuildPathsBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/CPListElement.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/LibrariesWorkbookPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/newsourcepage/AddLibraryToBuildpathAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/JavaCapabilityConfigurationPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageOne.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageTwo.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug expected programs updated comment compliance programs project caveat Compliance", "bug_title": " [build path] Compiler Compliance should follow Execution Environment", "bug_description": "From bug 134257 comment 2: When a Java project is bound to an EE (via JRE container), changing the EE should update the compliance setting. For example, I had a project bound to J2SE1.5, and later changed it to J2SE1.4. The compliance settings remained at 5.0 - I was confused when I could not run programs on a 1.4 VM due to incompatible settings (i.e. running 1.5 code on 1.4 VM). I expected that the compliance settings would have updated automatically. Best would be a setting on the Compiler properties page that links the compiler compliance to the EE of the project (caveat: there's currently no default EE for a workspace). The problem is again that JDT/Core does not know about EEs, so JDT/UI would have to listen to classpath changes to update the compiler settings."}, {"bug_id": "178744", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitEditorActionContributor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "touch Scenario find leave action opened Resource refresh edit misc", "bug_title": " [misc] Editor opened upon an out of sync resource should allow for refresh action", "bug_description": "I20070320-0010 Scenario: - create new file test.txt in project P; - edit it; - leave Eclipse; - touch test.txt; - launch Eclipse; - answer 'No' to the 'File Changed' prompt; - you get your editor to display 'Resource is out of sync...'; - while refreshing it from the Navigator is easy, I found no means to refresh the resource from the editor itself, which I find non intuitive. Note: that behavior is somewhat general and other scenarios enable to display the file contents instead of the 'Resource is out of sync...' disclaimer, for which a contextual menu is available, but that menu has no refresh item. Checked behavior for Linux and XP."}, {"bug_id": "179018", "ground_truth": ["org.eclipse.jdt.ui/plugin.xml", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/PreferenceConstants.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Hovers Text Hyperlink hovering Editor Editor Alt Alt Property preference", "bug_title": " [preference][hovering] 'Externalized String' hover modifier key should be same as Hyperlink modifier", "bug_description": "I20070322-1800 'Java > Editor > Hovers > Externalized String' hover modifier key should by default be the same as the 'Editors > Text Editors > Hyperlinking > Java Property Key' modifier keys. Was: unconfigured Expected: Ctrl+Alt"}, {"bug_id": "179109", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/SemanticHighlightingManager.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/SemanticHighlightingReconciler.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Editor Build editor stack AST concurrently", "bug_title": " [misc] Editor computing AST twice concurrently", "bug_description": "Build: I20070322-1800 I did Open Type, and it was taking a long time to open the editor after I clicked finish.  I produced a stack dump while I was waiting, and I noticed that there are two threads creating an AST at the same time. Presumably they are even generating the same AST. It would be good to avoid creating the same AST multiple times when the editor is first opened."}, {"bug_id": "181193", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "java Store core getBoolean code NPE javaeditor MARK", "bug_title": " NPE in JavaEditor.isMarkingOccurrences(...)", "bug_description": "Using I20070403-1110, I got this NPE debugging some code in java.util.zip.ZipFile. java.lang.NullPointerException at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.isMarkingOccurrences(JavaEditor.java:2899) at org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor$3.run(ClassFileEditor.java:683) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58) The guilty line is: return getPreferenceStore().getBoolean(PreferenceConstants.EDITOR_MARK_OCCURRENCES); Not sure how it is possible to get a NPE there, but I got it twice."}, {"bug_id": "183507", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Enabling button Mark valid Position Position Element Editor caret Enabling", "bug_title": " [misc] Enabling mark occurences sometimes doesn't work", "bug_description": "Build ID: M20060629-1905 Steps To Reproduce: 1. Open new Java Editor (or switch to other editor) with \"mark occurences\" button off 2. Position the caret on the valid Java Element 3. Press the button \"Mark occurences\" 4. Nothing will be marked! More information: \"Mark occurences\" doesn't work for the first time (when the new editor is opened). It will work only if I select another Java Element with the button switched on."}, {"bug_id": "185043", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/RenameInformationPopup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Enter mode hover popup Undo character popup popup refactoring Press", "bug_title": " [rename] Undo in in-place refactoring \"animates\" info popup", "bug_description": "In junit.samples.money.Money select Money in Line 27 and start a rename refactoring on this type. Enter something. Press crtl-z. The animation now is quite nasty because the hover is repainted for every character. Enter something else and press ctrl-z again. Each change of a character done by linked mode is undo'ed as single undo."}, {"bug_id": "185102", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/SimpleWorkingSetSelectionDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/JavaProjectWizardFirstPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "dialog message dialog Assign invoke Bug select workspace start Working", "bug_title": " [actions] Assign Working Sets if there are no working sets", "bug_description": "20070502 - start with a new workspace - create a project - invoke 'Assign Working Sets...' - dialog shows up with nothing to select, no message, OK button enabled - I think it would be better to show an information dialog that says: 'No Working Sets have been defined yet' Maybe even offer a button to create a new working set."}, {"bug_id": "185113", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "start working Sets Reveal changed invoke elements start assign lop", "bug_title": " [working sets] Reveal changed element after 'Assign Working Sets'", "bug_description": "20070502 - start with a new workspace, create a project 'A' - In the package explorer, change to 'Working Sets' as lop level elements - create a working set 'X' assign project 'A' to it - invoke 'Assign Working Sets...' on 'A', uncheck all - the project should be revealed in  the 'Other Projects' group after that operation"}, {"bug_id": "185172", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/JavaProjectWizard.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/NewWizardsActionGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "action menu working context add", "bug_title": " [working sets] 'New' action not available if >1 working set selected", "bug_description": "I20070502-0010. If I want to create a new Java project and directly add it to a working set I can select the working set and then 'context menu' > New > 'Java Project'. However, if I want to create the new Java project directly into >1 working sets I'm doomed as the context menu is missing."}, {"bug_id": "186291", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/newsourcepage/NewSourceContainerWorkbookPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "feature explorer restores strips project output restores IDE classes build", "bug_title": " [build path] Output folder on source folders gets stripped when project established in IDE", "bug_description": "When a .classpath file for a java project has different output folders for each source folder.  e.g.: <classpathentry kind=\"src\" output=\"build/classes/core\" path=\"core\"/> <classpathentry kind=\"src\" output=\"build/classes/datamodel\" path=\"build/datamodel\"/> <classpathentry kind=\"src\" output=\"build/classes/dao\" path=\"dao3\"/> <classpathentry kind=\"src\" output=\"build/classes/app\" path=\"app3\"/> <classpathentry kind=\"src\" output=\"build/classes/dao\" path=\"dao\"/> <classpathentry kind=\"src\" output=\"build/classes/app\" path=\"app\"/> <classpathentry kind=\"src\" output=\"build/classes/web\" path=\"web\"/> And the project is either: 1. Committed to SVN and checked out into a new machine. or 2. Project created on a machine that has existing project contents in workspace but project not yet established/registered in package explorer. The Eclipse strips out all of the output=\"\" lines above and begins compiling all the source folders into the same output folder.  After 1. or 2. above you need to revert the .classpath file to what it was before Eclipse mangled it then refresh the project in Eclipse - this restores it. A feature we use widely and a gotcha that gets every developer.  Keen to see if fixed."}, {"bug_id": "186754", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/OpenPropertiesWorkingSetAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/NewWizardsActionGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Assign Bug Workingset empty selection Working explorer Menu Bug Bug", "bug_title": " [package explorer] new context menu not available on empty selection", "bug_description": "I20070514-0010 Right click on an empty package explorer Is: New> Menu is not available anymore Should: Be available, regression Also 'Configure Workingset...' and 'Assign Working Set...' are available, both make no sense in this context."}, {"bug_id": "187316", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/MarkOccurrencesConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Eclipse Build preferences Occurences Mark structure Mark find color link", "bug_title": " [preferences] Mark Occurences Pref Page; Link to", "bug_description": "Build ID: 3.3M7 Steps To Reproduce: There should be a link to the pref page on which you can change the color. Namely: General/Editors/Text Editors/Annotations It's a pain in the a** to find the pref if you do not know Eclipse's preference structure well. More information:"}, {"bug_id": "18780", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingPart.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/MembersView.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingPerspectiveFactory.java"], "repo": "eclipse.jdt.ui", "reformed_query": "method list Build cases working view Bug", "bug_title": " Deleting a member in Members view not always working", "bug_description": "Build F2 I detected that in some cases deleting a memeber (was a method) from the Members view doesn't get removed from the list. Should fix for F3"}, {"bug_id": "188910", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/CleanUpRefactoringWizard.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/CleanUpSaveParticipantConfigurationModifyDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/MultiFixMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/MultiFixMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug Idea dialog list Move Clean tab bullet ugly folder", "bug_title": " [clean up] Clean Up wizard needs too much space/is ugly", "bug_description": "I20070524-0010 Very ugly dialog, needs polish. Idea is to - Move tab folder to a dialog - Show bullet list for selected custom clean ups"}, {"bug_id": "189682", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerActionGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "enabled Menu project enabled pulldown Navigate correct project menu enabled", "bug_title": " [actions] Menu bar Navigate->\"Go Into\" not enabled until popup used", "bug_description": "I0524 1. Startup an Eclipse that has a java project in the Package Explorer 2. Select the project 3. Pulldown the Navigate menu. Observe: \"Go Into\" is disabled.  This is an error, it should be enabled. 4. In the Package Explorer, popup the menu Observe: \"Go Into\" is enabled (correct). 5. Again, pulldown the Navigate menu. Observe: \"Go Into\" is now enabled."}, {"bug_id": "189931", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "build initially editor scroll attachment editor AboutDialog screenshot Source misc", "bug_title": " [misc] Class File Editor without source: message does not wrap", "bug_description": "I20070530-0010 In this build, the source attachment for the JUnit3 container is not correctly resolved. When I add JUnit 3 to the build path and then open an editor on AboutDialog.class, I get a class file editor without source. The message below \"Source not found\" does not wrap, which forces the editor to become very wide. I initially didn't see the vertical scroll bar at all -- I've made the editor wider for the screenshot."}, {"bug_id": "19043", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaUIMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavadocConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "field Javadoc Config ugly Press Doc dialog", "bug_title": " Config dialog in Generate J Doc Wizard look bad", "bug_description": "Build F2 1. Open the Javadoc wizard (export Javadoc) 2. Press Next 3. Select the JRE and press \"Configure\" The dialog looks ugly especially the entry field is way too small. See attached pic of the dialog."}, {"bug_id": "190438", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetConfigurationDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "checked jdt move check checked adding plugins plug link Platform", "bug_title": " [working sets] Assign Working Sets dialog forgets settings after adding and moving new working set", "bug_description": "I20070601-0010 I had the platform and jdt doc plugins in two different working sets: - WS JDT: jdt.doc - WS Platform: platform.doc - selected all doc plug-ins - Assign Working Sets... - New..., create WS \"Doc\" with selection - uncheck both grey-checked WS (JDT & Platform) - click link \"Package Explorer working sets\" - move WS Doc up or down - OK => WS JDT and WS Platform are grey-checked again => Expected: check state should not be changed when working sets are moved around"}, {"bug_id": "19097", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/LexicalSortingAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaOutlinePage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/MemberFilterActionGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "java files freezes remove filter apply outline refreshing swt java", "bug_title": " outline: applying filters freezed the ide for large files [filters]", "bug_description": "F2 .OS.java from swt .apply the 'public' filter .remove the filter the whole thing freezes while the outline is refreshing and there's not even a busy cursor"}, {"bug_id": "193795", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavadocHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "HEAD culprit Hover Javadoc implementation getStatus spell Hover JavaPlugin core", "bug_title": " [implementation] JavadocHover logs incomplete message", "bug_description": "HEAD I just had a bunch of useless messages in my log: !ENTRY org.eclipse.jdt.core 4 969 2007-06-21 19:04:12.500 !MESSAGE   does not exist Using a magic spell, I found that JavadocHover is the culprit. Please replace JavaPlugin.log(ex.getStatus()); with JavaPlugin.log(ex);"}, {"bug_id": "193798", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/JavadocContentAccess.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Released eclipse Key Content getHTMLContentReader Dialog bug newSupertypeHierarchy Match text", "bug_title": " [hovering] \" does not exist\" when hovering over non-Javadoc'd method from fake CU", "bug_description": "I20070615-1200 - take org.eclipse.jface from CVS - open CVS History for DialogCellEditor - open rev. 1.20 - hover over keyReleased on line 225: public void keyReleased(KeyEvent e) { => message in log: !ENTRY org.eclipse.jdt.core 4 969 2007-06-21 19:04:12.500 !MESSAGE   does not exist After fix for bug 193795: Java Model Exception: Java Model Status [  does not exist] at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:776) at org.eclipse.jdt.internal.core.SourceType.newSupertypeHierarchy(SourceType.java:697) at org.eclipse.jdt.internal.core.SourceType.newSupertypeHierarchy(SourceType.java:649) at org.eclipse.jdt.ui.JavadocContentAccess.findDocInHierarchy(JavadocContentAccess.java:148) at org.eclipse.jdt.ui.JavadocContentAccess.getContentReader(JavadocContentAccess.java:73) at org.eclipse.jdt.ui.JavadocContentAccess.getHTMLContentReader(JavadocContentAccess.java:115) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.getHoverInfo(JavadocHover.java:176) at org.eclipse.jdt.internal.ui.text.java.hover.AbstractJavaEditorTextHover.getHoverInfo(AbstractJavaEditorTextHover.java:125) at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo(BestMatchHover.java:102) at org.eclipse.jdt.internal.ui.text.java.hover.JavaEditorTextHoverProxy.getHoverInfo(JavaEditorTextHoverProxy.java:69) at org.eclipse.jface.text.TextViewerHoverManager$4.run(TextViewerHoverManager.java:165)"}, {"bug_id": "194175", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaMatchFilter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "expected Bug search Java filter filter Imports search settings Java", "bug_title": " [search] Search result filters not persisted any more", "bug_description": "N20070625-0010 - search for references to a Java class => search result has filter \"In Imports\" enabled by default - disable filter \"In Imports\" - search for references to another class => search result has filter \"In Imports\" enabled => expected: changed filter settings should apply to all Java searches (old and new ones)"}, {"bug_id": "195808", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaSourceViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "editor segmented document Toggling problems ProjectionViewer Region Bug isSegmented Visible", "bug_title": " [projection] ProjectionViewer: Toggling between segmented and projection mode can fail", "bug_description": "When the ProjectionViewer is toggling from projection mode to segmented mode in setVisibleRegion(), the projection mode is saved in the field fWasProjectionEnabled, but only if isSegmented() returns false. If there is a folded region at the start or end of the document, isSegmented() will return true, the projection mode will not be saved and will therefore not be restored in resetVisibleRegion(). I think isSegmented() is not implemented correctly. It should never return true in projection mode. This causes problems with the CDT editor (see bug 193739 comment 1)."}, {"bug_id": "199064", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/resources/Move/testDestination_yes_fieldToOtherType/out/A.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/reorg/ReorgPolicyFactory.java", "org.eclipse.jdt.ui.tests.refactoring/resources/Move/testDestination_yes_fieldToOtherType/in/A.java"], "repo": "eclipse.jdt.ui", "reformed_query": "format Element field", "bug_title": " [dnd] Element reordering via DnD should not format field comments", "bug_description": "I20070807-0010. Reordering fields formats them. This is not expected. Methods seem to be OK."}, {"bug_id": "200685", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/template/java/JavaContext.java"], "repo": "eclipse.jdt.ui", "reformed_query": "error send BadLocationException text Document rewrite Completion core custom separate", "bug_title": " [templates] JavaContext sets wrong completion length when adding imports", "bug_description": "I20070815-1600 Given: package test; public class E01 { public void foo() { \"A foo bar text\" } } 1. Add a template 'Test' with pattern: foo(${word_selection}); bar(); to java context 2. Select \"A foo bar text\" 3. Ctrl-Space, Ctrl-Space 4. Type 't' 5. Enter Is: package test; public class E01 { public void foo() { foo(\"A foo bar text\"); bar(); Should: package test; public class E01 { public void foo() { foo(\"A foo bar text\"); bar(); } } Now do the same with: package test; public class E01 { public void foo() { \"A foo bar text\" } } Is: org.eclipse.jface.text.BadLocationException at org.eclipse.jface.text.AbstractDocument.addPosition(AbstractDocument.java:347) at org.eclipse.core.internal.filebuffers.SynchronizableDocument.addPosition(SynchronizableDocument.java:193) at org.eclipse.jface.text.AbstractDocument.addPosition(AbstractDocument.java:364) at org.eclipse.jdt.internal.corext.template.java.JavaContext.rewriteImports(JavaContext.java:476) at org.eclipse.jdt.internal.corext.template.java.JavaContext.evaluate(JavaContext.java:167) at org.eclipse.jdt.internal.ui.text.template.contentassist.TemplateProposal.apply(TemplateProposal.java:173) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal(CompletionProposalPopup.java:806) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertSelectedProposalWithMask(CompletionProposalPopup.java:757) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey(CompletionProposalPopup.java:1165) at org.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKey(ContentAssistant.java:788) at org.eclipse.jface.text.TextViewer$VerifyKeyListenersManager.verifyKey(TextViewer.java:460) at org.eclipse.swt.custom.StyledTextListener.handleEvent(StyledTextListener.java:60) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:706) at org.eclipse.swt.custom.StyledText.handleKeyDown(StyledText.java:5052) at org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java:4800) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:975) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:971) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1285) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3772) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3672) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:291) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4390) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2198) at org.eclipse.swt.internal.BidiUtil.windowProc(BidiUtil.java:647) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2284) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3317) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:508) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:447) at org.eclipse.equinox.launcher.Main.run(Main.java:1173) at org.eclipse.equinox.launcher.Main.main(Main.java:1148) Also the error dialog shown is ridiculous, will file separate bug..."}, {"bug_id": "201096", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/SWTTemplateCompletionProposalComputer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "call computer SWT Bug details Type templates attachment Created findType", "bug_title": " [templates] SWT proposal computer must not findType on each call", "bug_description": "Created attachment 76908 [details] proposed fix I20070821-0800"}, {"bug_id": "201718", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/ParameterGuesser.java"], "repo": "eclipse.jdt.ui", "reformed_query": "trigger code guessing proposal   provide", "bug_title": " [content assist] Paramter guessing is very slow", "bug_description": "I am in a Java file and trigger code assist for MessageDialog.open<...> It takes about 1 - 2 seconds until the proposals are computed and around 5 second to insert the proposal. I will attach a yourkit trace and I can provide the code if needed."}, {"bug_id": "202129", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/AbstractWorkingSetWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "working sets click click element element working working remove Bug", "bug_title": " [working sets] double click should add element to working set", "bug_description": "3.4 20070904 - Edit an existing Java working set with the new (two pane) dialog - Double click on an element should add the element to the other pane - Same in the right pane: Double click should remove the element"}, {"bug_id": "202273", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaReconcilingStrategy.java"], "repo": "eclipse.jdt.ui", "reformed_query": "dispatchRun constants Application Sun TextEdit executeDo isn Operation osgi Reconciling", "bug_title": " [reconciling] Organize Imports on selected CU gives error", "bug_description": "I20070904-0800. 1. select a CU in the Pacakge Explorer which isn't open in an editor 2. Source > Organize Imports ==> !SESSION 2007-09-05 15:44:38.143 ----------------------------------------------- eclipse.buildId=I20070625-1500 java.version=1.5.0_10 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH Framework arguments:  -update -keyring c:\\eclipse\\.keyring -showlocation -application org.eclipse.ui.ide.workbench Command-line arguments:  -debug -update -keyring c:\\eclipse\\.keyring -showlocation -application org.eclipse.ui.ide.workbench -data c:\\eclipse\\workspaces\\tmp !ENTRY org.eclipse.osgi 2 0 2007-09-05 15:44:41.708 !MESSAGE The following is a complete list of bundles which are not resolved, see the prior log entry for the root cause if it exists: !SUBENTRY 1 org.eclipse.osgi 2 0 2007-09-05 15:44:41.708 !MESSAGE Bundle update@plugins/org.eclipse.jdt.apt.pluggable.core_1.0.0.v20070529-2100.jar [66] was not resolved. !SUBENTRY 2 org.eclipse.jdt.apt.pluggable.core 2 0 2007-09-05 15:44:41.708 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.tool_0.0.0. !SUBENTRY 2 org.eclipse.jdt.apt.pluggable.core 2 0 2007-09-05 15:44:41.708 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.apt.dispatch_0.0.0. !SUBENTRY 2 org.eclipse.jdt.apt.pluggable.core 2 0 2007-09-05 15:44:41.708 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.apt.model_0.0.0. !SUBENTRY 2 org.eclipse.jdt.apt.pluggable.core 2 0 2007-09-05 15:44:41.708 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.apt.util_0.0.0. !SUBENTRY 1 org.eclipse.osgi 2 0 2007-09-05 15:44:41.708 !MESSAGE Bundle update@plugins/org.eclipse.jdt.compiler.apt_1.0.0.v20070510-2000.jar [68] was not resolved. !SUBENTRY 2 org.eclipse.jdt.compiler.apt 2 0 2007-09-05 15:44:41.708 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.tool_0.0.0. !SUBENTRY 1 org.eclipse.osgi 2 0 2007-09-05 15:44:41.708 !MESSAGE Bundle update@plugins/org.eclipse.jdt.compiler.tool_1.0.0.v_771.jar [69] was not resolved. !SUBENTRY 2 org.eclipse.jdt.compiler.tool 2 0 2007-09-05 15:44:41.708 !MESSAGE Missing Constraint: Bundle-RequiredExecutionEnvironment: JavaSE-1.6 !SESSION 2007-09-05 15:49:50.883 ----------------------------------------------- eclipse.buildId=I20070904-0800 java.version=1.5.0_10 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_CH Framework arguments:  -update -keyring c:\\eclipse\\.keyring -showlocation -application org.eclipse.ui.ide.workbench Command-line arguments:  -debug -update -keyring c:\\eclipse\\.keyring -showlocation -application org.eclipse.ui.ide.workbench -data c:\\eclipse\\workspaces\\tmp !ENTRY org.eclipse.osgi 2 0 2007-09-05 15:49:54.388 !MESSAGE The following is a complete list of bundles which are not resolved, see the prior log entry for the root cause if it exists: !SUBENTRY 1 org.eclipse.osgi 2 0 2007-09-05 15:49:54.388 !MESSAGE Bundle update@plugins/org.eclipse.jdt.apt.pluggable.core_1.0.100.v20070827-1600.jar [66] was not resolved. !SUBENTRY 2 org.eclipse.jdt.apt.pluggable.core 2 0 2007-09-05 15:49:54.388 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.tool_0.0.0. !SUBENTRY 2 org.eclipse.jdt.apt.pluggable.core 2 0 2007-09-05 15:49:54.388 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.apt.dispatch_0.0.0. !SUBENTRY 2 org.eclipse.jdt.apt.pluggable.core 2 0 2007-09-05 15:49:54.388 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.apt.model_0.0.0. !SUBENTRY 2 org.eclipse.jdt.apt.pluggable.core 2 0 2007-09-05 15:49:54.388 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.apt.util_0.0.0. !SUBENTRY 1 org.eclipse.osgi 2 0 2007-09-05 15:49:54.388 !MESSAGE Bundle update@plugins/org.eclipse.jdt.compiler.apt_1.0.100.v20070827-1600.jar [68] was not resolved. !SUBENTRY 2 org.eclipse.jdt.compiler.apt 2 0 2007-09-05 15:49:54.388 !MESSAGE Missing imported package org.eclipse.jdt.internal.compiler.tool_0.0.0. !SUBENTRY 1 org.eclipse.osgi 2 0 2007-09-05 15:49:54.388 !MESSAGE Bundle update@plugins/org.eclipse.jdt.compiler.tool_1.0.100.v_810.jar [69] was not resolved. !SUBENTRY 2 org.eclipse.jdt.compiler.tool 2 0 2007-09-05 15:49:54.388 !MESSAGE Missing Constraint: Bundle-RequiredExecutionEnvironment: JavaSE-1.6 !ENTRY org.eclipse.core.resources 2 10035 2007-09-05 15:49:54.868 !MESSAGE The workspace exited with unsaved changes in the previous session; refreshing workspace to recover changes. !ENTRY org.eclipse.jdt.ui 4 10001 2007-09-05 15:50:17.681 !MESSAGE Internal Error !STACK 0 java.lang.reflect.InvocationTargetException at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:381) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313) at org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:758) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:755) at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2451) at org.eclipse.ui.internal.progress.ProgressManager$5.run(ProgressManager.java:1149) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.ui.internal.progress.ProgressManager.runInUI(ProgressManager.java:1142) at org.eclipse.jdt.ui.actions.OrganizeImportsAction.run(OrganizeImportsAction.java:274) at org.eclipse.jdt.ui.actions.OrganizeImportsAction.run(OrganizeImportsAction.java:217) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:268) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:244) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.ui.actions.RetargetAction.runWithEvent(RetargetAction.java:229) at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:234) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:543) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:489) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:401) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3742) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3353) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:455) at org.eclipse.equinox.launcher.Main.run(Main.java:1193) at org.eclipse.equinox.launcher.Main.main(Main.java:1169) at org.eclipse.core.launcher.Main.main(Main.java:30) Caused by: org.eclipse.core.runtime.AssertionFailedException: assertion failed: at org.eclipse.core.runtime.Assert.isTrue(Assert.java:109) at org.eclipse.core.runtime.Assert.isTrue(Assert.java:95) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.aboutToBeReconciled(JavaReconcilingStrategy.java:194) at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.aboutToBeReconciled(JavaCompositeReconcilingStrategy.java:151) at org.eclipse.jdt.internal.ui.text.JavaReconciler.aboutToBeReconciled(JavaReconciler.java:350) at org.eclipse.jface.text.reconciler.AbstractReconciler$Listener.documentChanged(AbstractReconciler.java:239) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged2(AbstractDocument.java:700) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:673) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:658) at org.eclipse.jface.text.AbstractDocument.fireDocumentChanged(AbstractDocument.java:723) at org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1087) at org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace(SynchronizableDocument.java:151) at org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1110) at org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace(SynchronizableDocument.java:137) at org.eclipse.text.edits.InsertEdit.performDocumentUpdating(InsertEdit.java:81) at org.eclipse.text.edits.TextEdit.traverseDocumentUpdating(TextEdit.java:896) at org.eclipse.text.edits.TextEdit.traverseDocumentUpdating(TextEdit.java:889) at org.eclipse.text.edits.TextEditProcessor.executeDo(TextEditProcessor.java:186) at org.eclipse.text.edits.TextEdit.dispatchPerformEdits(TextEdit.java:736) at org.eclipse.text.edits.TextEditProcessor.performEdits(TextEditProcessor.java:154) at org.eclipse.jface.text.RewriteSessionEditProcessor.performEdits(RewriteSessionEditProcessor.java:93) at org.eclipse.jdt.internal.corext.util.JavaModelUtil.applyEdit(JavaModelUtil.java:945) at org.eclipse.jdt.internal.corext.codemanipulation.OrganizeImportsOperation.run(OrganizeImportsOperation.java:398) at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1797) at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:4501) at org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369) ... 44 more Root exception: org.eclipse.core.runtime.AssertionFailedException: assertion failed: at org.eclipse.core.runtime.Assert.isTrue(Assert.java:109) at org.eclipse.core.runtime.Assert.isTrue(Assert.java:95) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.aboutToBeReconciled(JavaReconcilingStrategy.java:194) at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.aboutToBeReconciled(JavaCompositeReconcilingStrategy.java:151) at org.eclipse.jdt.internal.ui.text.JavaReconciler.aboutToBeReconciled(JavaReconciler.java:350) at org.eclipse.jface.text.reconciler.AbstractReconciler$Listener.documentChanged(AbstractReconciler.java:239) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged2(AbstractDocument.java:700) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:673) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:658) at org.eclipse.jface.text.AbstractDocument.fireDocumentChanged(AbstractDocument.java:723) at org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1087) at org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace(SynchronizableDocument.java:151) at org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1110) at org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace(SynchronizableDocument.java:137) at org.eclipse.text.edits.InsertEdit.performDocumentUpdating(InsertEdit.java:81) at org.eclipse.text.edits.TextEdit.traverseDocumentUpdating(TextEdit.java:896) at org.eclipse.text.edits.TextEdit.traverseDocumentUpdating(TextEdit.java:889) at org.eclipse.text.edits.TextEditProcessor.executeDo(TextEditProcessor.java:186) at org.eclipse.text.edits.TextEdit.dispatchPerformEdits(TextEdit.java:736) at org.eclipse.text.edits.TextEditProcessor.performEdits(TextEditProcessor.java:154) at org.eclipse.jface.text.RewriteSessionEditProcessor.performEdits(RewriteSessionEditProcessor.java:93) at org.eclipse.jdt.internal.corext.util.JavaModelUtil.applyEdit(JavaModelUtil.java:945) at org.eclipse.jdt.internal.corext.codemanipulation.OrganizeImportsOperation.run(OrganizeImportsOperation.java:398) at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1797) at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:4501) at org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313) at org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:758) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:755) at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2451) at org.eclipse.ui.internal.progress.ProgressManager$5.run(ProgressManager.java:1149) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.ui.internal.progress.ProgressManager.runInUI(ProgressManager.java:1142) at org.eclipse.jdt.ui.actions.OrganizeImportsAction.run(OrganizeImportsAction.java:274) at org.eclipse.jdt.ui.actions.OrganizeImportsAction.run(OrganizeImportsAction.java:217) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:268) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:244) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.ui.actions.RetargetAction.runWithEvent(RetargetAction.java:229) at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:234) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:543) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:489) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:401) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3742) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3353) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:455) at org.eclipse.equinox.launcher.Main.run(Main.java:1193) at org.eclipse.equinox.launcher.Main.main(Main.java:1169) at org.eclipse.core.launcher.Main.main(Main.java:30)"}, {"bug_id": "20288", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarPackageWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarPackagerMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/jarpackager/JarWriter.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarPackagerUtil.java"], "repo": "eclipse.jdt.ui", "reformed_query": "create thinking source creating explain directory asks myproject dialog Export", "bug_title": " JAR export does not explain problem", "bug_description": "Select a source folder. Right-menu/Export... JAR File, Next Type in a relative path (or so I thought), e.g. \"myproject/lib/myjar.jar\" Next, Next, Finish At this point, I get a dialog box which asks me if I want to create the directory.  (Would be helpful to tell what directory it's actually thinking of creating.)  If I click \"Yes\", I'm taken back to the last dialog with no explanation of what went wrong. If, instead, I answer \"No\", it actually tells me what directory was missing."}, {"bug_id": "203132", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/GenerateHashCodeEqualsAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "positive superclass safe HashCodeEquals Hash included List Array Bug propose", "bug_title": " [hashcode/equals] Remove unnecessary warning from hashcode/equals generator", "bug_description": "** Background: When using Source->Generate hashCode() and equals(), there is a check on whether all included fields implement their own version of hashCode() and equals().  If one of the fields does not implement hashCode() or equals(), then the following warning is shown (see example below). For example, attempt to run the hashCode/equals generator for the following class: <code> import java.util.ArrayList; public class HashCodeEquals { private ArrayList<Integer> myList; /** * @param myList */ public HashCodeEquals( ArrayList<Integer> myList ) { super(); this.myList = myList; } } </code> The following \"problem\" is found: \"The field type 'java.util.ArrayList<java.lang.Integer>' does not implement equals() and hashCode() - the resulting code may not work correctly.\" ** What I'm requesting: Currently, this check for equals() and hashCode() only looks in the class of the field itself, not any of its ancestors (super classes) of that class.  This make sense, because looking at the entire ancestry would reveal Object's implementation, and so we'd always have a positive.  I propose checking the entire ancestry, except for Object itself.  If one of the ancestor classes (except Object) implements hashCode() and equals(), then the above warning should not be issued for the field in question. In the example above, the superclass of ArrayList, java.util.AbstractList, does in fact implement both hashCode() and equals(), so it should be safe."}, {"bug_id": "209611", "ground_truth": ["org.eclipse.jdt.ui.tests/performance/org/eclipse/jdt/ui/tests/performance/views/OrganizeImportsPerfTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Imports bug Bug Organize Test Imports Bug loop Imports OrganizeImportsPerfTest", "bug_title": " [organize imports] Organize imports perf test has no loop and no warm up", "bug_description": "I20071107-1300 The OrganizeImportsPerfTest has no loop and no warm up, which makes the test unreliable. Also we use clean up to run Organize imports in the UI since a while (bug 181160). We should therefore also test this real world scenario."}, {"bug_id": "211578", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/JARFileSelectionDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/FilteredElementTreeSelectionDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "system Steps folders point Subsequent editing select folders folders openings", "bug_title": " [build path] Dialog to extend classpath variable slow", "bug_description": "Build ID: M20071023-1652 Steps To Reproduce: 1. get a big 3rd party repository on the hard disk >400 folders 2. define a jdt classpath variable to point to the base folder 3. configure the classpath on a java project, on the libraries tab click \"Add Variable...\" 4. double click or select and click \"Extend...\" the classpath variable defined before 5. -> eclipse hangs some seconds (sometimes >10 sec.) until the dialog opens More information: Subsequent uses are somewhat faster but still too slow. Maybe it is possible to optimize it on subsequent openings. We are currently editing the .classpath file direct with a text editor. This is faster for us. Maybe this is related to the windows file system, however I cannot prove this on a e.g. linux machine (I don't have one at work). Our development computers are up-to-date hardware."}, {"bug_id": "215448", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/AbstractWorkingSetWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "working Working dialog reopen", "bug_title": " New working set doesn't appear in Working Set List", "bug_description": "Newly created working set doesn't appear in Working Set List. To see it you must reopen Select Working Set dialog."}, {"bug_id": "215473", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/NLSKeyHyperlink.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesFileEditorMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertyKeyHyperlink.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaElementHyperlink.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/NLSKeyHyperlinkDetector.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesFileEditorMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertyKeyHyperlinkDetector.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaElementHyperlinkDetector.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "preference detect detect exist region hyperlink modifier key exist hover", "bug_title": " [navigation] Show more then one hyperlink per modifier key", "bug_description": "I20080108-1320 If more then one hyperlink exist on a given position only the first detected hyperlink is opened when clicking on the hyperlink region. Which one the first is is not specified. If we detect more then one hyperlink we should: - Show each in a hover, the user can open each one when clicking on it in the hover - Allow to specify on the preference page which hyperlink is opened when clicking on the hyperlink region (the default hyperlink)"}, {"bug_id": "216707", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaMergeViewer.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaTokenComparator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "gray Bug compare cluttered Steps comment Compare", "bug_title": " [compare] Toggle comment causes noisy diff in Compare editor", "bug_description": "Created attachment 87979 [details] A screenshot of the cluttered diff Build ID: I20071213-1700 Steps To Reproduce: 1. Toggle the comment of a block of code 2. Compare the two versions More information: The diff-view is cluttered with a lot of \"different\" braces and some \"changed\" constants whose name includes an underscore. Expected: Since not a even the spaces/tabs are changed, the only thing to highlight in gray are the comment-markers // on each line."}, {"bug_id": "217126", "ground_truth": ["org.eclipse.jdt.ui.tests/performance/org/eclipse/jdt/ui/tests/performance/views/OrganizeImportsPerfTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "users result IMO measure tests performance Table", "bug_title": " [performance] Too many performance tests have only one measure", "bug_description": "Looking at the Scenario Status Table of the JDT/UI component performance tests, it  appears that most of the tests have only one run (eg. standard error = '[n/a]'). This has a strong impact on the tests reliability and make the verification hard to be accurate. The global result is that no regression was noticed on this component although the fingerprints looks not so good; a large number of tests in the fingerprints are red or yellow. IMO, this may give to users a negative feeling about the global performance of this component although there's no real performance issue..."}, {"bug_id": "218437", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/StubUtility.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Suggestions getVariableNameSuggestions Refactoring pick Suggestions runEventLoop Accessor Stub runUI Impl", "bug_title": " [extract local] Extract Local gives ArrayIndexOutOfBoundsException", "bug_description": "Build ID: M20071023-1652 Steps To Reproduce: 1. Select all of the text on LINE 27, excluding the comment. 2. Refactor by extracting a local.  See crash below... --------------------- Bug.java ------------------- import org.eclipse.swt.widgets.*; class Bug{ { abstract class LeafPage<Type extends Short>{ abstract class Row{ final Button radio; final Control[]children; Row(final Composite left,final String name, final Composite rite, final boolean lastFocus,final Control...kids){ children=kids; (radio=new Button(left,0)).getBackground(); radio.setText(name+':'); radio.setData(this); } } Combo pickWay; public void createControl(final Composite parent){ final Composite a=new Composite(parent,0); ////////////// new Row(a,\"\",a,true,(Control)null){} //// LINE 27 //// ///////////// .children[0]=pickWay=new Combo(a,0); } }}} -------------------------------------------------- java.lang.ArrayIndexOutOfBoundsException: 0 at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getVariableNameSuggestions(StubUtility.java:1020) at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getVariableNameSuggestions(StubUtility.java:906) at org.eclipse.jdt.internal.corext.refactoring.code.ExtractTempRefactoring.guessTempNames(ExtractTempRefactoring.java:878) at org.eclipse.jdt.internal.ui.refactoring.ExtractTempWizard.addUserInputPages(ExtractTempWizard.java:54) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.addPages(RefactoringWizard.java:334) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.<init>(RefactoringWizardDialog2.java:173) at org.eclipse.ltk.ui.refactoring.RefactoringUI.createRefactoringWizardDialog(RefactoringUI.java:136) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:132) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:154) at org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:49) at org.eclipse.jdt.ui.actions.ExtractTempAction.run(ExtractTempAction.java:81) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:272) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:244) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:546) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:169) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:508) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:447) at org.eclipse.equinox.launcher.Main.run(Main.java:1173)"}, {"bug_id": "221828", "ground_truth": ["org.eclipse.jdt.ui.tests/performance/org/eclipse/jdt/ui/tests/performance/views/PackageExplorerColdPerfTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Cold Test box PackageExplorerColdPerfTest Perf PackageExplorerColdPerfTest user Explorer minimum PackageExplorerColdPerfTest", "bug_title": " [performance] Regression in performance test PackageExplorerColdPerfTest#testOpen()", "bug_description": "Verifying build I20080305-1100, it looks like there's a serious regression on test PackageExplorerColdPerfTest#testOpen(): between -69.0% and -103.2% Note that the +3.1% result should not be considered as it looks more than a bad result on the baseline. Next baseline (3.3_200706251500_200802221710) is back to normal and so, also shows a big regression on this box. Set as minor because the test time is less than 100ms so, it should not be noticeable by user. However, I think it could be interesting to increase the test time to have more precise numbers (100ms is the minimum, I would say that 200ms for the fastest box would be great!)"}, {"bug_id": "224132", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorBreadcrumb.java"], "repo": "eclipse.jdt.ui", "reformed_query": "dropdown Java breadcrumb Bug breadcrumb Java resources jar Bug MANIFEST", "bug_title": " [breadcrumb] Non-Java resources inside jar cannot be opened", "bug_description": "I20080325-0100 In the breadcrumbs dropdown, non-Java resources inside a jar cannot be opened (e.g. rt.jar/META-INF/MANIFEST.MF)."}, {"bug_id": "224183", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/AbstractAnnotationHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "control popups attachment Hover scroll popups text Hover annotation equally", "bug_title": " [hovering] Hover popups do not allocate a sufficient amount of space", "bug_description": "Created attachment 93666 [details] Screenshot depicting the horror in question. I20080325-0100 If I hover over a marker annotation, wait for the popup to appear (which is miniscule to begin with), and then hit F2, I am presented with an equally miniscule popup dialog. The control doesn't even have a scrollbar for me to use the scrollwheel on, so I am forced to click inside and hit the down key or use my mouse to select text downwards to scroll."}, {"bug_id": "226444", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/TypeHierarchyTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug Hierarchy Loop Starter testHierarchyWithWorkingCopy Update application EclipseTestRunner observable core", "bug_title": " Failing test: TypeHierarchyTest.testHierarchyWithWorkingCopy1(TypeHierarchyTest.java:161)", "bug_description": "N20080407-2000, N20080408-2000. Failed alreadyalso in previous N-builds but now it failed two times in a row - both times on WIN XP, SUN 1.5.0 (OK on 1.4). Update count should be 1, is: 2 junit.framework.AssertionFailedError: Update count should be 1, is: 2 at org.eclipse.jdt.ui.tests.core.TypeHierarchyTest.testHierarchyWithWorkingCopy1(TypeHierarchyTest.java:161) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) at junit.extensions.TestSetup$1.protect(TestSetup.java:21) at junit.extensions.TestSetup.run(TestSetup.java:25) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) at junit.extensions.TestSetup$1.protect(TestSetup.java:21) at junit.extensions.TestSetup.run(TestSetup.java:25) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) at junit.extensions.TestSetup$1.protect(TestSetup.java:21) at junit.extensions.TestSetup.run(TestSetup.java:25) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:354) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:206) at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:195) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:130) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3750) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3375) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2351) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2315) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2181) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:477) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:472) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:112) at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:138) at org.eclipse.test.UITestApplication.run(UITestApplication.java:60) at org.eclipse.test.UITestApplication.start(UITestApplication.java:210) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236) at org.eclipse.equinox.launcher.Main.main(Main.java:1212) at org.eclipse.core.launcher.Main.main(Main.java:30)"}, {"bug_id": "22655", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "file working browsing target Refresh generating refresh compiles list finds", "bug_title": " Types/Refresh adds two list entries for a new .java file [browsing]", "bug_description": "I am working with Sun JAXB 1.0ea and JavaCC 2.1. These two products generate Java source code. The batch files I run to use these tools, first delete the Java source files in the target directory before re-generating the Java sources. When I change the input grammar to these products sufficently new files may be produced. To be precise, I can run the tool, which generates C1.java and C2.java, change the input of the tool which now generates C1.java, C2.java, AND C3.java. After I run the tool, I then fo to Eclipse and do a Types/Refresh on the package that contains the generated source. The refresh finds the files and compiles them nicely BUT there are now TWO entries in the list for \"C3\" (there should be one of course). WORKAROUND: Select a different package in the Packages pane and re-select the package that has the generated source and C3 appears the correct amount of times: once. Thank you, Gary Gregory"}, {"bug_id": "228506", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/CompletionProposalComputerDescriptor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Usage eclipse session Pack Computer Mem attached create quitting Editors", "bug_title": " [content assist] Don't create proposal computer on sessionEnded - was: Problem in jdt.ui.TemplateProposalComputer when closing an Editor", "bug_description": "Created attachment 97308 [details] Screenshot showing the error dialog build ID: I20080422-0800 When quitting Eclipse with several editors open, I saw attached error dialog. I re-started Eclipse and found the .log file (to be attached). Several editors were open. When choosing \"Close all Editors\", I got the same error dialog shown again twice, which likely corresponds to the problems reported for swtBuilderCompletionProposalComputer and TemplateProposalComputer. -----------Enter bugs above this line----------- installation : eclipse-SDK-I20080422-0800, cdt-5.0.0M6, DSF-N20071113, ECF-2.0m6, emf-2.4.0M6, Findbugs-1.3.3, J9Launching-6.1.0, PHPEclipse-1.2.0.200804230602NGT, Releng.Tools-3.4M6, RSE-3.0M6, RXTX-2.1-7r3b, Subversive-0.7.0.v20080423, org.tigris.MemMonitor, WR-Retriever-3.0.v20070604, Mylyn-3.0.0.I20080327-1500, EPP-UsageData-1.0.0.N200804111155 java.runtime : Sun 1.6.0_05-b13 -Xmx512m -XX:MaxPermSize=128m os.name:     : Windows XP 5.1, Service Pack 2 ------------------------------------------------"}, {"bug_id": "228641", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/ProblemHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "problem quick hovering hovering fine Ctrl spelling rich update Works", "bug_title": " [hovering] Spelling quick fix \"Ignore xx during current session\" does not update editor from hover", "bug_description": "N20080423-2000 The spelling quick fix \"Ignore xx during current session\" does not work when invoked from the rich problem hover. Works fine via Ctrl+1. Nothing in the log."}, {"bug_id": "230222", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/breadcrumb/BreadcrumbItemDropDown.java"], "repo": "eclipse.jdt.ui", "reformed_query": "triangle window unfocused leaving focus TOP Alt bit dropdown leaving", "bug_title": " [breadcrumb] unfocused dropdown not closed when leaving workbench window", "bug_description": "I20080502-0100 - show breadcrumb - click on an item (not on triangle) - switch to another application (Alt+Tab or click into another window) => dropdown is not closed (is only closed when workbench window gets focus again) Currently not a big issue, but becomes severe when dropdown gets the SWT.ON_TOP bit."}, {"bug_id": "231263", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/CleanUpStressTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Simple wrongly Clean formatted behavior wrapped full   add", "bug_title": " [formatter] New JavaDoc formatter wrongly indent tags description", "bug_description": "Created attachment 99431 [details] Simple CU with big Javadoc Build ID: I20080502-0100 Steps To Reproduce: 1. Open some compilation unit, with many JavaDoc comments, formatted in 3.4M6; 2. Format full compilation unit; 3. Notice that look of JavaDoc comments is now very different. More information: I see following problems: 1. for @param two tabs are used, but location of first \"tab\" is so that next tab position is just 1 character, so first \"tab\" looks as just space. 2. Same problem for wrapping @return - single \"tab\", that looks as space. 3. {@link ITypeBinding} can now be wrapped in the middle, so \"{@link\" stays on one line, and \"ITypeBinding}\" - on next line. This saves some space, but hurts readability. Now questions for these problems: 1. May be add one more \"space\" after \"* \", so first tab will be rendered as 4 spaces and provide enough indent? 2. Same for @return - one more \"space\" after \"* \". 3. I'm not sure, may be space is more important, but may be make wrapping behavior configurable? 4. In general, I find all these changes very annoying, because I have big codebase, formatted with old style, and use formatting as \"Clean Up\" step, so now I see massive changes in CVS in each compilation unit that I touch. :-("}, {"bug_id": "232333", "ground_truth": ["org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/performance/CodeCompletionPerformanceTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "backported Test Performance backported source Type Test createTypeHierarchy Hierarchy Hierarchy", "bug_title": " Fix typo in CodeCompletionPerformanceTest.createTypeHierarchy()", "bug_description": "R3.4. There's a typo in the source of CodeCompletionPerformanceTest.createTypeHierarchy(): in \"    int\" + field + \";\\n\" + should be a space after int: \"    int \" + field + \";\\n\" + IMPORTANT: this change must be backported to perf34x branch."}, {"bug_id": "232773", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/JavaWorkingSetPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "working Workaround elements context content Bug", "bug_title": " [working sets] 'Assign Working Set... > New...' should pre-fill with selected elements", "bug_description": "I20080516-1333 - select a few projects in Package Explorer - context menu > 'Assign Working Set... > New... > Java' => expected: selected projects should already be in 'Working set content' list => was: list empty Workaround is to create the working set without selecting anything and then check the working set in the 'Working Set Assignments' dialog."}, {"bug_id": "232828", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/template/java/CodeTemplateContextType.java"], "repo": "eclipse.jdt.ui", "reformed_query": "don details Variables problem Bug validate contribute processing Variables CodeTemplateContextType", "bug_title": " [bidi] processing glitch in CodeTemplateContextType", "bug_description": "Created attachment 100934 [details] Fix I20080516-1333 Bidi processing glitch in CodeTemplateContextType.validateVariables(TemplateVariable[]), see patch. Probably not a problem in practice, since users don't contribute these variables."}, {"bug_id": "233559", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/DocumentAdapter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Thread Adapter CompilationUnit ReconcileWorkingCopyOperation Document Document process Closed CompositeReconcilingStrategy ReconcileWorkingCopyOperation", "bug_title": " [implementation] NPE in DocumentAdapter", "bug_description": "Closed an editor right after startup. Will try to reproduce... java.lang.NullPointerException at org.eclipse.jdt.int.ui.javaeditor.DocumentAdapter.getContents(DocumentAdapter.java:371) at org.eclipse.jdt.int.ui.javaeditor.DocumentAdapter.getCharacters(DocumentAdapter.java:363) at org.eclipse.jdt.int.core.CompilationUnit.getContents(CompilationUnit.java:649) at org.eclipse.jdt.int.core.CompilationUnit$1.getContents(CompilationUnit.java:221) at org.eclipse.jdt.int.compiler.parser.Parser.parse(Parser.java:9483) at org.eclipse.jdt.int.compiler.parser.Parser.parse(Parser.java:9455) at org.eclipse.jdt.int.compiler.parser.Parser.dietParse(Parser.java:8102) at org.eclipse.jdt.int.compiler.Compiler.internalBeginToCompile(Compiler.java:696) at org.eclipse.jdt.int.compiler.Compiler.beginToCompile(Compiler.java:376) at org.eclipse.jdt.int.compiler.Compiler.resolve(Compiler.java:838) at org.eclipse.jdt.int.compiler.Compiler.resolve(Compiler.java:904) at org.eclipse.jdt.int.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:182) at org.eclipse.jdt.int.core.CompilationUnitProblemFinder.process(CompilationUnitProblemFinder.java:243) at org.eclipse.jdt.int.core.ReconcileWorkingCopyOperation.makeConsistent(ReconcileWorkingCopyOperation.java:190) at org.eclipse.jdt.int.core.ReconcileWorkingCopyOperation.executeOperation(ReconcileWorkingCopyOperation.java:89) at org.eclipse.jdt.int.core.JavaModelOperation.run(JavaModelOperation.java:709) at org.eclipse.jdt.int.core.JavaModelOperation.runOperation(JavaModelOperation.java:769) at org.eclipse.jdt.int.core.CompilationUnit.reconcile(CompilationUnit.java:1224) at org.eclipse.jdt.int.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:124) at org.eclipse.jdt.int.ui.text.java.JavaReconcilingStrategy.access$0(JavaReconcilingStrategy.java:108) at org.eclipse.jdt.int.ui.text.java.JavaReconcilingStrategy$1.run(JavaReconcilingStrategy.java:89) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.jdt.int.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:87) at org.eclipse.jdt.int.ui.text.java.JavaReconcilingStrategy.initialReconcile(JavaReconcilingStrategy.java:176) at org.eclipse.jdt.int.ui.text.CompositeReconcilingStrategy.initialReconcile(CompositeReconcilingStrategy.java:114) at org.eclipse.jdt.int.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:133) at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:105) at org.eclipse.jdt.int.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:388) at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:173)"}, {"bug_id": "233941", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/ui/refactoring/history/RefactoringHistoryContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Refactoring empty Start Extract year Created History ltk ltk Extract", "bug_title": " [ltk] Refactoring history does not show workspace refactorings from last year", "bug_description": "Created attachment 101960 [details] 2007 history I20080523-0100 Given a fresh workspace: 1. Extract given zip into workspaces .metadata/.plugins folder 2. Start eclipse 3. Refactor>History... Is: The history is empty Should: Show the workspace refactoring made in 2007"}, {"bug_id": "234170", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaElementHyperlinkDetector.java"], "repo": "eclipse.jdt.ui", "reformed_query": "select IJava OpenAction element IJava open links element open select", "bug_title": " [navigation] Java element hyperlink should not be available on imports and package declarations", "bug_description": "3.4 RC2. Java element hyperlink should not be available on imports and package declarations. Test Case: 1. open a class from Eclipse 2. hyperlink over 'org' of an import ==> many links Fix is simple: copy OpenAction.selectOpenableElements(IJavaElement[]) as is."}, {"bug_id": "235750", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/cleanup/CleanUpTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/cleanup/MissingCodeTabPage.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/CleanUpStressTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/CleanUpTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/CleanUpConstants.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/Java50Fix.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/Java50CleanUp.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/PotentialProgrammingProblemsCleanUp.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/cleanup/CleanUpMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/cleanup/CleanUpMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/cleanup/CleanUpTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/cleanup/MissingCodeTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Java annotations enabled Java Bug Build Create generating Note create", "bug_title": " [clean up] 'Save Actions' doesn't add override annotation for interface method implementations (Java6)", "bug_description": "Build ID: M20080221-1800 Steps To Reproduce: 1. Create an interface with a method 2. Manually create an implementation of that interface's method in a class. (Must be manual, because using automatic code generation puts in the annotation.) 3. Save the file. 4. The override annotation isn't added as expected. More information: The problem doesn't happen when automatically generating the method stub (cursor in the editor window; using ctrl+<space> and selecting the interface method). Note: The Java6 API javadoc doesn't mention that interface method implementations can use the override annotation, but it is supported by the compiler. What is the difference between [Java -> Code Style -> Clean Up] and [Java -> Editor -> Save Actions]? I'm using the built-in eclipse profile for Clean Up. Both have the same setting enabled for \"Add missing '@Override' annotations\""}, {"bug_id": "236251", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/PreferenceConstants.java"], "repo": "eclipse.jdt.ui", "reformed_query": "protect mode RGB preferences jdt headless code org", "bug_title": " [implementation] failure when launching headless", "bug_description": "3.4 RC3. When launching in headless mode it might still load the jdt.ui plug-in due to org.eclipse.core.filebuffers.documentSetup extensions being triggered. When it then wants to initialize the preferences it will fail due to calls to JFaceResources.getColorRegistry().getRGB(String). We should protect that code with: if (PlatformUI.isWorkbenchRunning()) { } // else don't initialize the colors"}, {"bug_id": "239442", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/breadcrumb/BreadcrumbItemDropDown.java"], "repo": "eclipse.jdt.ui", "reformed_query": "open revealed tool revealed Drop debug member clicking clicking Major", "bug_title": " [breadcrumb] Drop down stays open on GTK after tool bar drop down menu opened", "bug_description": "I20080702-0939 1. Open a child drop down of a Type in the breadcrumb by clicking on the arrow 2. Select a member to reveal in editor 3. Open a drop down menu in the toolbar (i.e. debug launch configs) 4. Open the types child drop down again 5. Select a member Is: Member is revealed and drop down does not close Should: Drop down must close Major, because from now on the drop downs don't close anymore. No idea what that is, can not reproduce on XP."}, {"bug_id": "239490", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetConfigurationDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetModel.java"], "repo": "eclipse.jdt.ui", "reformed_query": "created Bug Create allowed sets add add Add working Newly", "bug_title": " [working sets][package explorer] Newly created incompatible working sets appear in Package Explorer", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1.Create a plugin project working set. 2.Add a plugin project to this working set. 3.Create a Java project working set. 4.Add a Java project to this working set. 5.Try to add a plugin project working set -> Only Java project working sets are now allowed to be created! Where are the plugin project working sets now? 6. After here only Java project working sets are showed in the Package Explorer. More information:"}, {"bug_id": "239695", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/jarpackager/JarPackageData.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Jar Create directory select exported Eclipse Windows source java place", "bug_title": " [jar exporter] Cannot export JAR to a project folder of a project outside the workspace", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1. Create a new Java project, and delete it again (do not delete contents) 2. Move the java project somewhere outside the workspace using Windows Explorer 3. Create a new Java project from existing source, select that place. 4. File->Export->Jar file, Next 5. Select that project in the \"resources to export\" 6. Browse for export destination, select the project folder and some filename (example.jar). 7. Click Finish. Actual result: Eclipse asks if it should create the folder inside the workspace (in the Explorer selector, I selected the existing folder outside the workspace) and if I say yes, the Jar is exported into the new folder in the workspace. Expected result: The jar is stored in the project directory outside the workspace Workaround: Type the full path to the project directory into the export destination box manually."}, {"bug_id": "239940", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/JavadocView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JavadocView scenario reproduce bar field won field happen tags handle", "bug_title": " [implementation] NPE while editing a javadoc comment", "bug_description": "Using I20080702-0939. I was editing a simple class: public class X01 { /** * <pre> * Unclosed pre tag */ int foo; /** * Sample showing that the formatter does not handle * unclosed html tags properly * * @return  here's a simple return tag which description lines * should be indented when using default Eclipse built-in profile. * however due to the unclosed html 'pre' tag in the field javadoc * comment, this return tag won't be formatted! */ public abstract int bar(); } As I get a compiler error on method bar(), I decided to change this test case to an interface... So, I performed the following changes: 1) change 'class X01' to 'interface X01' 2) remove the abstract modifier on method bar 3) try to change 'foo' to a method: => put the cursor after the name 'foo' (go directly at this point, do not fly or click elsewhere...) => the NPE in JavadocView should happen then... I did it 4 times and the NPE ccured 3 times. I hope you can also reproduce it with this scenario..."}, {"bug_id": "24082", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/MembersView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "browsing Element Order Bug Preference Members refesh", "bug_title": " Do refesh when JavaElementSorter changes", "bug_description": "MembersOrderPreferencePage.PREF_OUTLINE_SORT_OPTION is the pref key. Must be added to the browsing views that show members."}, {"bug_id": "24271", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/JavaElementSorter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Eclipse Bug sorted   Folder", "bug_title": " Source Folders: Sort Java Packages and Simple Folders Together", "bug_description": "In Eclipse 1.0, packages and simple folders were not sorted together within the Project (as the source folder).  Packages were (sorted) and placed first, followed by simple folders (that were also sorted). In Eclipse 2.0, the packages and simple folders are sorted together within the Project (as the source folder).  Unfortunately, if you use Source Folders the packages and source folders are sorted as described above in Eclipse 1.0. It would be useful for packages and simple folders to be sorted together within their Source Folder."}, {"bug_id": "242801", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/VariableCreationDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "layout Preferences VariableCreationDialog problem VariableCreationDialog Variables Build Platform text Variable", "bug_title": " [build path] VariableCreationDialog has a misleading layout", "bug_description": "I20080716-1200 1. Window > Preferences > Java > Build Path > Classpath Variables 2. Click 'New...' 3. The 'File...' and 'Folder...' buttons seem to be placed in an odd spot. One might even think the 'File...' button should match the first text entry and the 'Folder...' the second instead of having them both \"down by one\". Please see bug 20879 for a similar problem in Platform/UI's code. I think the two buttons should be on the same line as the 'Path:' text field or on their own line."}, {"bug_id": "243147", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorBreadcrumb.java"], "repo": "eclipse.jdt.ui", "reformed_query": "dropdown simple Java projects dropdown bug dropdown files simple breadcrumb", "bug_title": " [breadcrumb] Should not show Java projects as simple projects", "bug_description": "After the fix from bug 219405, the first breadcrumb dropdown shows all projects as simple projects. Also Java projects just contain files and folders, rather then Java elements."}, {"bug_id": "243284", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/SemanticHighlightingPresenter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "LeafReflex delete Reflex   EntityType", "bug_title": " [inline] Inline constant gives IAE: Index out of bounds", "bug_description": "I20080805-1307. Found this while verifying bug 237547: Inline constant results in IAE: Index out of bounds. 1. paste this: package bug; public class Constant { public static final String constant //LINE 3 =\"\"; } package bug; import static bug.Constant.constant; public enum EntityType {Address;} package bug2; import static bug.Constant.constant; import bug.EntityType; class LeafReflex{ String editorId(final EntityType type){ switch(type){ case Address:return constant; } throw null; } } 2. delete all whitespace in EntityType (==> caret after '}') 3. save 4. inline Constant.constant ==> exception"}, {"bug_id": "244431", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/ProjectTemplateStore.java"], "repo": "eclipse.jdt.ui", "reformed_query": "eclipse project Checkout cvsroot", "bug_title": " [preferences] Outgoing change to preferences when no change made", "bug_description": "Created attachment 110226 [details] Outgoing changes after not modifying anything Build: I20080807-1402 1) Checkout this project from CVS: /cvsroot/rt/org.eclipse.equinox/p2/bundles/org.eclipse.equinox.p2.tests 2) Open the Properties dialog on the project 3) Click or arrow down to visit each of the JDT property pages 4) Click OK to close the dialog without modifying anything Expected: No outgoing changes to preference files since I didn't modify anything Actual: Both jdt.core.prefs and jdt.ui.prefs have outgoing changes. I will attach a patch showing all the outgoing changes."}, {"bug_id": "244514", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "events Explorer executeRunnables execute explorer Bug order PackageExplorerContentProvider pending thread", "bug_title": " [package explorer] PackageExplorerContentProvider.executeRunnables(Collection) might change event order", "bug_description": "R3.4. [package explorer] PackageExplorerContentProvider.executeRunnables(Collection) might change event order because it runs stuff in the UI thread even if there are other events pending."}, {"bug_id": "244742", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/AddImportTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/AddImportsOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "insert add imports source lead Ideally understand cursor intention", "bug_title": " [organize imports] Add Import will add static import even when compliance is at 1.4", "bug_description": "Build id: I20080812-0800 I have a project with compiler compliance set to 1.4.  I had a reference in my code to \"Status.OK_STATUS\", where the class Status was not imported.  With the cursor inside \"OK_STATUS\" I did Ctrl+Shift+M with the intention to import the Status class. Instead it added a static import to the field Status.OK_STATUS. This is illegal based on my compiler compliance so the resulting source code had a compile error. It should not insert a static import when the compliance is below 1.5. Ideally it could import the class in this case, but I understand this would lead to inconsistent behaviour depending on compliance setting, so alternatively it should not import anything."}, {"bug_id": "245140", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/CodeTemplateBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/ProjectTemplateStore.java"], "repo": "eclipse.jdt.ui", "reformed_query": "tree Templates removes tree Java templates specific tree button completely", "bug_title": " [code templates] Java Code Templates properties: 'Restore Defaults' removes nodes in UI", "bug_description": "I20080821-1005 On the 'Java > Code Style > Code Templates' properties page for project-specific settings, the 'Restore Defaults' button is completely broken: Apart from the data loss problem (bug 130874), it disables project-specific settings and also removes all nodes in the tree except for the top-level 'Comments' and 'Code'."}, {"bug_id": "246501", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/template/java/SignatureUtil.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Array getUpperBound computeDisplayString displayProposals ide press code CompletionProposalLabelProvider Compilation App", "bug_title": " [content assist] ArrayIndexOutOfBoundsException is thrown by SignatureUtil.getUpperBound", "bug_description": "Code assists fails to complete normally.  Using the following code, place the cursor after the 'S' and before the ')' on the line beginning System.out... package foo; public class Bar { public static void main(String[] args) { double[] da = new double [ 0 ]; System.out.println(\"da.getClass().getSuperclass() = \" + da.getClass().getS); } } Use Ctrl + Space to open code assist and the following error occurs: !ENTRY org.eclipse.ui 4 4 2008-09-07 18:34:50.453 !MESSAGE \"Content Assist\" did not complete normally.  Please see the log for more information. !ENTRY org.eclipse.ui 4 0 2008-09-07 18:34:50.453 !MESSAGE 17 !STACK 0 java.lang.ArrayIndexOutOfBoundsException: 17 at org.eclipse.jdt.internal.corext.template.java.SignatureUtil.getUpperBound(SignatureUtil.java:112) at org.eclipse.jdt.ui.text.java.CompletionProposalLabelProvider.createMethodProposalLabel(CompletionProposalLabelProvider.java:271) at org.eclipse.jdt.ui.text.java.CompletionProposalLabelProvider.createStyledLabel(CompletionProposalLabelProvider.java:536) at org.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.computeDisplayString(LazyJavaCompletionProposal.java:245) at org.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.getStyledDisplayString(LazyJavaCompletionProposal.java:224) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.handleSetData(CompletionProposalPopup.java:824) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$24(CompletionProposalPopup.java:814) at org.eclipse.jface.text.contentassist.CompletionProposalPopup$3.handleEvent(CompletionProposalPopup.java:580) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1027) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1012) at org.eclipse.swt.widgets.Table.checkData(Table.java:928) at org.eclipse.swt.widgets.Table.wmNotifyChild(Table.java:6292) at org.eclipse.swt.widgets.Control.wmNotify(Control.java:4718) at org.eclipse.swt.widgets.Composite.wmNotify(Composite.java:1756) at org.eclipse.swt.widgets.Control.WM_NOTIFY(Control.java:4348) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3841) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:337) at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1565) at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1937) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4541) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2273) at org.eclipse.swt.widgets.Table.callWindowProc(Table.java:333) at org.eclipse.swt.widgets.Table.callWindowProc(Table.java:199) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3877) at org.eclipse.swt.widgets.Table.windowProc(Table.java:5476) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4541) at org.eclipse.swt.internal.win32.OS.UpdateWindow(Native Method) at org.eclipse.swt.widgets.Decorations.setVisible(Decorations.java:1378) at org.eclipse.swt.widgets.Shell.setVisible(Shell.java:1764) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.displayProposals(CompletionProposalPopup.java:1189) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$23(CompletionProposalPopup.java:1154) at org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run(CompletionProposalPopup.java:497) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:479) at org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions(ContentAssistant.java:1664) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation(CompilationUnitEditor.java:177) at org.eclipse.ui.texteditor.ContentAssistAction$1.run(ContentAssistAction.java:82) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.texteditor.ContentAssistAction.run(ContentAssistAction.java:80) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:185) at org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:109) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:471) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:822) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:880) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:569) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:511) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:126) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1184) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1027) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1012) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1040) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1036) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1352) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3894) at org.eclipse.swt.widgets.Canvas.WM_CHAR(Canvas.java:341) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3787) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:337) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4528) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2273) at org.eclipse.swt.internal.BidiUtil.windowProc(BidiUtil.java:657) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2370) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3420) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2382) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2346) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2198) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:493) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:488) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:382) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236)"}, {"bug_id": "246635", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/ProjectsWorkbookPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Add Java Mark Bug wizard Press projects Build Project projects", "bug_title": " [build path] Add project screen shows added projects", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1. Create many projects on workspace 2. Open the wizard to create a new Java Project 3. Put the name of the project 4. Select the \"Projects\" tab on \"Java Settings\" 5. Press the button to add new projects 6. Mark many projects and press ok 7. Press the button to add new projects The projects added should not be visible again but some projects appear on screen. More information:"}, {"bug_id": "248659", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/changes/DeletePackageFragmentRootChange.java"], "repo": "eclipse.jdt.ui", "reformed_query": "folder source source InputStream Length folder DeletePackageFragmentRootChange explicitly explicitly DeletePackageFragmentRootChange", "bug_title": " [implementation] Deleting source folder leaks file handle", "bug_description": "Current HEAD DeletePackageFragmentRootChange#getFileLength acquires an InputStream from IFile. JavaDoc explicitly says that the caller is responsible for closing the stream."}, {"bug_id": "249549", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "modifiers modifier proposals correct proposes Bug modifier fixes modifiers proposals", "bug_title": " [quick fix] bad proposal for abstract modifier before constructors in abstract classes", "bug_description": "Build ID: M20080911-1700 Steps To Reproduce: 1. Create a class like this: abstract class Test { public abstract Test(); } of course this code is wrong. But Eclipse proposes two quick fixes: \"Add body\", which is correct and \"Add 'abstract' modifier\", which does not make any sense. When using this one, the result is still wrong, but with two 'abstract' modifiers and the same quick fix proposals. More information: this bug is similar to #208655"}, {"bug_id": "249620", "ground_truth": ["org.eclipse.jdt.ui/META-INF/MANIFEST.MF", "org.eclipse.jdt.ui/plugin.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaBuildConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/OptionsConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "WARNING Bug JRE compatible jdt strict bug configurable bound JRE", "bug_title": " [preferences] Provide UI for 'no strictly compatible JRE available' problem severity", "bug_description": "From bug 244693. Support has been added to org.eclispe.jdt.launching for a configurable problem severity when a project is bound to an EE for which there is no strict match in the workspace. By default, the severity setting is WARNING. A configurable setting should be added to the compiler settings UI for this problem."}, {"bug_id": "250806", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/JavaWorkingSetUpdater.java"], "repo": "eclipse.jdt.ui", "reformed_query": "checkElementExistence check equinox Workbench App Accessor arguments org Existence Java", "bug_title": " Activating working set updaters for bundle org.eclipse.jdt.ui has encountered a problem.", "bug_description": "Build ID: M20080911-1700 Steps To Reproduce: 1.Go to Problems View --> Configure Contents 2. Set Scope ON working set 3. create a working set that contain not all project, just some 4. restart eclipse 5 I got this error and stack trace with NPE bellow I guess that NullPointerException at JavaWorkingSetUpdater.checkElementExistence(JavaWorkingSetUpdater.java:223) is a real problem.... More information: org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException) at org.eclipse.swt.SWT.error(SWT.java:3777) at org.eclipse.swt.SWT.error(SWT.java:3695) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:136) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3800) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3425) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2382) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2346) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2198) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:493) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:488) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:386) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236) Caused by: java.lang.NullPointerException at org.eclipse.jdt.internal.ui.workingsets.JavaWorkingSetUpdater.checkElementExistence(JavaWorkingSetUpdater.java:223) at org.eclipse.jdt.internal.ui.workingsets.JavaWorkingSetUpdater.add(JavaWorkingSetUpdater.java:78) at org.eclipse.ui.internal.AbstractWorkingSetManager$5.runInUIThread(AbstractWorkingSetManager.java:647) at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:94) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:133) ... 22 more eclipse.buildId=M20080911-1700 java.version=1.6.0_07 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=ru_RU Command-line arguments:  -os win32 -ws win32 -arch x86"}, {"bug_id": "250961", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/CPListElement.java"], "repo": "eclipse.jdt.ui", "reformed_query": "ClassFileEditor path sun java App CPList note Path CPListElement createAndRunWorkbench", "bug_title": " [build path] NPE attaching source JAR", "bug_description": "build I20081007-1600 - create new Java project - go to the project properties via the context menu - edit the Java build path - add external JARs - navigate to your install dir and select org.eclipse.update* (not the source JARs) - OK - select first JAR and edit the source attachment - try and add the source JAR - hit OK - note that the dialog is not updated and nothing happens I checked my log and had the following message. Also got the same stack trace when opening a class file in an editor and trying to attach source to it there. !ENTRY org.eclipse.ui 4 0 2008-10-15 11:01:56.567 !MESSAGE Unhandled event loop exception !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.ui.wizards.buildpaths.CPListElement.createFromExisting(CPListElement.java:579) at org.eclipse.jdt.internal.ui.wizards.buildpaths.CPListElement.createFromExisting(CPListElement.java:544) at org.eclipse.jdt.internal.ui.wizards.buildpaths.SourceAttachmentBlock.getNewEntry(SourceAttachmentBlock.java:180) at org.eclipse.jdt.internal.ui.wizards.buildpaths.SourceAttachmentDialog.getResult(SourceAttachmentDialog.java:103) at org.eclipse.jdt.ui.wizards.BuildPathDialogAccess.configureSourceAttachment(BuildPathDialogAccess.java:108) at org.eclipse.jdt.internal.ui.javaeditor.ClassFileEditor$2.widgetSelected(ClassFileEditor.java:285) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3848) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3446) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2382) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2346) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2198) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:493) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:333) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:488) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:370) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:45) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java.lang.reflect.Method.invoke(Method.java:599) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236) at org.eclipse.equinox.launcher.Main.main(Main.java:1212)"}, {"bug_id": "251327", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "ITextEditor Provider Reproduce Java Preveious Preveious browsing custom select clearing", "bug_title": " [browsing] JavaBrowsingPart not clearing fPreveiousSelectionProvider", "bug_description": "Build ID: M20080911-1700 Steps To Reproduce: 1. Open two editors - one must be an ITextEditor (any java file) and the other must not be (extend EditorPart directly and only implement ISelectionProvider) 2. Place a break point in JavaBrowsingPart.selectionChanged(IWorkbenchPart, ISelection) 2. Switch between the two editors in the java browsing perspective (so you can see the packages). 3. When you select the ITextEditor it shows the editor's package, when you select the non-ITextEditor it checks line 718 and determines that the same part last fired the selection event because when the ITextEditor's selection event is processed it doesn't set fPreviousSelectionProvider. More information: A simple fix would seem to be to set the fPreviousSelectionProvider in a finally block with the contents of selectionChanged inside the try portion.  It would be nice if this could make it into the next release as it really makes custom displays a pain to integrate."}, {"bug_id": "251356", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/InlineMethodTests.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bug surfaced download linux JDT Bug downloads invalid breaks test", "bug_title": " Fix for bug 146768 breaks JDT Refactoring and its test", "bug_description": "N20081017-2000. With the changes made to fix bug 146768 it is now possible to inline invalid selections/methods. This is also surfaced by a broken test, see: http://download.eclipse.org/eclipse/downloads/drops/N20081017-2000/testresults/html/org.eclipse.jdt.ui.tests.refactoring_linux.gtk.x86_6.0.html"}, {"bug_id": "251362", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "Note Screenshot Created details placement Elements isn Select Explorer placement", "bug_title": " [package explorer] 'Configure...' looks strange on working set assignment dialog", "bug_description": "Created attachment 115542 [details] Screenshot depicting the odd text. Build id: I20081007-1600 Note: Steps may not be exact. 1. Open the 'Package Explorer' view. 2. View menu > Top Level Elements > Working Sets 3. View menu > Configure Working Sets... > Create one if you don't have one already. 4. Select a project. 5. Context menu > Assign Working Sets... 6. Observe the odd configuration option at the bottom of the dialog. My main issues with the text at the bottom is the odd placement of the link and the fact that it is a capitalized word. It feels like this is all one sentence but that isn't actually the case."}, {"bug_id": "251572", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/sef/SelfEncapsulateFieldRefactoring.java"], "repo": "eclipse.jdt.ui", "reformed_query": "jface Array addGetterSetterChanges Conditions encapsulate jface Create Field Check rewriting", "bug_title": " [encapsulate field] encapsulate field refactoring fails with splitted array type", "bug_description": "N20081005-2000 Invoking \"Encapsulate field\" refactoring on the follow snippet leads to an exception. public class A { boolean[] theField[]; } Exception is: java.lang.IllegalArgumentException at org.eclipse.jdt.core.dom.AST.newArrayType(AST.java:1502) at org.eclipse.jdt.internal.corext.refactoring.sef.SelfEncapsulateFieldRefactoring.createGetterMethod(SelfEncapsulateFieldRefactoring.java:671) at org.eclipse.jdt.internal.corext.refactoring.sef.SelfEncapsulateFieldRefactoring.addGetterSetterChanges(SelfEncapsulateFieldRefactoring.java:581) at org.eclipse.jdt.internal.corext.refactoring.sef.SelfEncapsulateFieldRefactoring.checkFinalConditions(SelfEncapsulateFieldRefactoring.java:397) at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:85) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:121) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) Not sure if this should be handled gracefully eg. rewriting it as \"boolean[][]\" or just disabling the refactoring. This may be related to bug 177099"}, {"bug_id": "251629", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/JUnitQuickFixProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "insert quick Java resources JUnitQuickFixProcessor Listener Work Junit Context Listener", "bug_title": " Adding JUnit by quick fix throws IAE", "bug_description": "N20081005-2000 Paste the following into an empty project: ------------ package p; public class ATest extends TestCase { } ------------ Use quick fix to \"Add Junit 3 to build path\". This throws the following IAE: java.lang.IllegalArgumentException: Attempted to beginRule: MultiRule[P/tests,P/.org.eclipse.jdt.core.external.folders], does not match outer scope rule: P/tests at org.eclipse.core.runtime.Assert.isLegal(Assert.java:64) at org.eclipse.core.internal.jobs.ThreadJob.illegalPush(ThreadJob.java:122) at org.eclipse.core.internal.jobs.ThreadJob.push(ThreadJob.java:232) at org.eclipse.core.internal.jobs.ImplicitJobs.begin(ImplicitJobs.java:58) at org.eclipse.core.internal.jobs.JobManager.beginRule(JobManager.java:231) at org.eclipse.core.internal.resources.WorkManager.checkIn(WorkManager.java:117) at org.eclipse.core.internal.resources.Workspace.prepareOperation(Workspace.java:1747) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1795) at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:786) at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2855) at org.eclipse.jdt.internal.core.JavaProject.setRawClasspath(JavaProject.java:2871) at org.eclipse.jdt.internal.corext.refactoring.changes.ClasspathChange.perform(ClasspathChange.java:88) at org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:278) at org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:260) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:308) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.executeChange(UIPerformChangeOperation.java:110) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:225) at org.eclipse.jdt.internal.junit.ui.JUnitQuickFixProcessor$1.run(JUnitQuickFixProcessor.java:239) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:446) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:354) at org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756) at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2487) at org.eclipse.jdt.internal.junit.ui.JUnitQuickFixProcessor$JUnitClasspathFixCorrectionProposal.apply(JUnitQuickFixProcessor.java:231) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal(CompletionProposalPopup.java:929) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertSelectedProposalWithMask(CompletionProposalPopup.java:875) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey(CompletionProposalPopup.java:1302) at org.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKey(ContentAssistant.java:806) <snip>"}, {"bug_id": "252415", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageOne.java"], "repo": "eclipse.jdt.ui", "reformed_query": "radio Grid visual File time traverse project layout radios JRE", "bug_title": " [build path] New Java Project dialog radios should have same parent", "bug_description": "Build id: I20081027-1800 1) File->New->Java Project The \"New Java Project\" dialog opens, and focus is in the \"Project name:\" text field. 2) Type the Tab key twice to move the focus to the \"JRE\" group of radios. 3) Type Tab one more time. Focus moves to the next radio in the group? This is not supposed to happen. Also, the next radio in the group becomes selected? This is not supposed to happen either. It would be very confusing to a screen reader user, who would not be able to see the visual relationship of the radios. The problem is that the \"Use default JRE\" radio (the topmost one) does not have the same parent as the \"Use a project specific JRE\" or \"Use an exception environment JRE\" radios. They need to have the same parent in order to work the way the platform intended. (i.e. you will also note that you cannot use arrow keys to traverse from the top radio to the other two, but you should be able to). I suspect that this was done in order to do the layout. However, this layout can be achieved with just one Composite and 3 columns in a GridLayout."}, {"bug_id": "252591", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/JavaElementLabelComposer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "render project Path", "bug_title": " [render] External chained jars are not correctly displayed", "bug_description": "Created attachment 116419 [details] Screenshot of Package Explorer I20081029-0100 If an external jar \"lib1.jar\" references another external jar \"lib2.jar\" though the Class-Path: of its manifest, then the package explorer shows \"lib1.jar\" twice. This works fine if \"lib1.jar\" and \"lib2.jar\" are internal to the project."}, {"bug_id": "252779", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/sef/SelfEncapsulateFieldRefactoring.java"], "repo": "eclipse.jdt.ui", "reformed_query": "generation invoice encapsulate values naming GETTER conventions encapsulate field invoice", "bug_title": " [encapsulate field] Encapsulate field does not use parameter prefix code style", "bug_description": "Automatic generation of GETTER and SETTER methods don\u00c2\u00b4t use configured naming conventions. for example. i configured \"par\" as a prefix for parameter values. for the field: private Long   invoiceId ; the generated SETTER looks like: public void setInvoiceId ( Long invoiceId ) { this.invoiceId = invoiceId ; } but it should : public void setInvoiceId ( Long parInvoiceId ) { this.invoiceId = parInvoiceId ; }"}, {"bug_id": "253674", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/CleanUpRefactoringWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "profile select clean Bug configure preview Override java assertion project", "bug_title": " [clean up] does not work after going back from preview", "bug_description": "I20081030-1917 - smoke test setup - open clean up wizard - select the configured profile for the project - Next - Back - select custom profile - configure to only organize imports - Next => AssertionFailedException below Removing the assertion in AbstractCleanUp.java:47 removes the exception, but still does too much (e.g. adds @Override)."}, {"bug_id": "254759", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/FindDeclarationsInWorkingSetAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "runEventLoop Impl internal init working Item Declarations core java actions", "bug_title": " Search declarations in working sets should not fail if no working set is specified", "bug_description": "Using eclipse.buildId=I20081104-0916 java.version=1.6.0_10 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_CA Command-line arguments:  -os win32 -ws win32 -arch x86 -debug -consolelog -console I got:java.lang.IllegalArgumentException: data must not be null at org.eclipse.jdt.internal.ui.search.JavaSearchQuery.<init>(JavaSearchQuery.java:62) at org.eclipse.jdt.ui.actions.FindAction.performNewSearch(FindAction.java:276) at org.eclipse.jdt.ui.actions.FindAction.run(FindAction.java:267) at org.eclipse.jdt.ui.actions.FindAction.run(FindAction.java:230) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:278) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:250) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:412) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3848) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3446) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2382) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2346) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2198) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:493) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:333) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:488) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:370) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236) at org.eclipse.equinox.launcher.Main.main(Main.java:1212) Steps to reproduce: 1) select a method declaration 2) in the search menu, select Search>Declarations>Working sets 3) Select No working sets 4) Do the seach. It fails. Selecting Search>References> with no working sets seems to do something."}, {"bug_id": "255449", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/dialogfields/CheckedListDialogField.java"], "repo": "eclipse.jdt.ui", "reformed_query": "intended method table Table List notice getListStyle lucky tableViewer setting", "bug_title": " CheckedListDialogField uses an unconventional method of setting the table's style", "bug_description": "Its code looks like so... protected TableViewer createTableViewer(Composite parent) { Table table= new Table(parent, SWT.CHECK + getListStyle()); /* commented out */ return tableViewer; } ...notice how it uses a + instead of a | for OR'ing the bits. Is this intended or some lucky typo? If this is intentional, I strongly suggest inlining a comment."}, {"bug_id": "255743", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertyKeyHyperlink.java"], "repo": "eclipse.jdt.ui", "reformed_query": "PropertyKeyHyperlink java Match error jface Boot Bug NullPointerException operation core", "bug_title": " [search] NPE searching for property key", "bug_description": "Using eclipse.buildId=I20081111-0800 java.version=1.6.0_10 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_CA Command-line arguments:  -os win32 -ws win32 -arch x86 -debug -consolelog -console, I got this when I was editing a properties file. I mistyped some characters and suddenly I got this error in an error dialog. I might have triggered a search by mistake. java.lang.NullPointerException at org.eclipse.jdt.internal.core.search.matching.MatchLocator.findIndexMatches(MatchLocator.java:269) at org.eclipse.jdt.internal.core.search.PatternSearchJob.search(PatternSearchJob.java:97) at org.eclipse.jdt.internal.core.search.PatternSearchJob.execute(PatternSearchJob.java:63) at org.eclipse.jdt.internal.core.search.processing.JobManager.performConcurrentJob(JobManager.java:276) at org.eclipse.jdt.internal.core.search.BasicSearchEngine.findMatches(BasicSearchEngine.java:206) at org.eclipse.jdt.internal.core.search.BasicSearchEngine.search(BasicSearchEngine.java:506) at org.eclipse.jdt.core.search.SearchEngine.search(SearchEngine.java:551) at org.eclipse.jdt.internal.ui.propertiesfileeditor.PropertyKeyHyperlink$4.run(PropertyKeyHyperlink.java:458) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)"}, {"bug_id": "256087", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaAutoIndentStrategy.java"], "repo": "eclipse.jdt.ui", "reformed_query": "work expect Build insert Enter statement single Automatically close bit", "bug_title": " [typing] Automatically close brace does not work properly", "bug_description": "Build I20081118-1720. I have the following simple line of code: if (condition) return false; I want to insert brace around the single statement of the if  block. For this, I only type a brace just before the return and simply hit 'Enter': if (condition) {return false; As my Java editor preference 'Automatically close {braces}' is checked, I would expect to get the following code: if (condition) { return false; } But I get the following code instead: if (condition) { }return false; As this code does not compile, it's a little bit annoying..."}, {"bug_id": "256532", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/template/contentassist/TemplateProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "ICompletion deprecated longer code blogspot longer TemplateProposals IDocument templates bad", "bug_title": " [templates] TemplateProposals has API that should be marked deprecated", "bug_description": "The TemplateProposals class has the following methods that should be marked as deprecated: /* * @see ICompletionProposal#apply(IDocument) */ public final void apply(IDocument document) { // not called anymore } /* * @see org.eclipse.jface.text.contentassist.ICompletionProposalExtension#apply(org.eclipse.jface.text.IDocument, char, int) */ public void apply(IDocument document, char trigger, int offset) { // not called any longer } More information in the following blog posting: http://intellectualcramps.blogspot.com/2008/11/unclean-code-bad-documentation.html"}, {"bug_id": "256574", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "length Element IJavaElementDelta Delta analysis Element loop length length analysis", "bug_title": " [package explorer] Possibly broken code in PackageExplorerContentProvider.findAddedElement(IJavaElementDelta)", "bug_description": "I20081125-0840. While doing the dead-code analysis I found this code in org.eclipse.jdt.internal.ui.packageview.PackageExplorerContentProvider.findAddedElement(IJavaElementDelta): for (int i= 0; i < affectedChildren.length; i++) return findAddedElement(affectedChildren[i]); Obviously the loop is either useless as it will at most handle affectedChildren[0] or it is broken."}, {"bug_id": "256575", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchLabelProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Participant broken org code method internal code code Participant SearchLabelProvider", "bug_title": " [search] Possibly broken code in SearchLabelProvider.getParticipantImage(Object)", "bug_description": "I20081125-0840. While doing the dead-code analysis I found this code in org.eclipse.jdt.internal.ui.search.SearchLabelProvider.getParticipantImage(Object): The lower part of the method is never executed."}, {"bug_id": "256879", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Sets preserve check Assign sets preserved assign working box box", "bug_title": " [package explorer] Assign Working Sets dialog should preserve check box setting", "bug_description": "N20081126-2000. The dialog to assign working sets has a check box (show only package explorer working sets). This setting is not preserved but it should be."}, {"bug_id": "258135", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/DeleteWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bar Delete Space Delete check box focus hitting dialog starts", "bug_title": " Confirm Delete package dialog: 'Delete subpackages' should have focus", "bug_description": "I20081209-0100. The 'Delete subpackages' check box in the 'Confirm Delete' package dialog should have focus otherwise hitting Space bar to toggle the check box starts the deletion."}, {"bug_id": "258792", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "created longer Working working Assignemnts Assignments Bug Bug explorer explorer", "bug_title": " [package explorer] 'Working Set Assignments' dialog no longer sorted if new ws is created", "bug_description": "3.5 M4. The 'Working Set Assignemnts' dialog is no longer sorted if a new working set is created."}, {"bug_id": "259093", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/IntroduceParameterObjectProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Object IntroduceParameterObjectProcessor Parameter latest bug", "bug_title": " Reverted latest change to IntroduceParameterObjectProcessor as it causes a test failure", "bug_description": "N20081216-2000. The change made in IntroduceParameterObjectProcessor for fixing bug 33737 caused IntroduceParameterObjectTests.testInlineRename() to fail. I've reverted it."}, {"bug_id": "259408", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/EditorUtility.java"], "repo": "eclipse.jdt.ui", "reformed_query": "compare editor editor Quick editor editor stay HEAD compare editor", "bug_title": " [compare] Quick views should stay in compare editor if same CU", "bug_description": "Not yet in HEAD. Quick views should stay in compare editor if same CU."}, {"bug_id": "259413", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/PreviewWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Java visible preview element handler preview preview start press conflicts", "bug_title": " [refactoring] Handler conflicts in refactoring previews", "bug_description": "Not yet in HEAD. There are handler conflicts in refactoring previews. 1. select a Java element 2. start Rename refactoring (using dialog) 3. when the preview is visible press 'Back' 4. press 'Preview' ==> handler conflicts"}, {"bug_id": "260362", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaMergeViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "execute runWithEvent EclipseStarter viewer texteditor Viewer Sequence compare narrow log", "bug_title": " NPE when using content assist in compare", "bug_description": "HEAD. I get an NPE when doing content assist in the Java compare viewer. It works if the input is the CU but if I narrow down to an element it breaks. When I do Ctrl+Space at the beginning of the file (when the CU is the !ENTRY org.eclipse.ui 4 4 2009-01-08 10:50:41.420 !MESSAGE \"Content Assist\" did not complete normally.  Please see the log for more information. !ENTRY org.eclipse.ui 4 0 2009-01-08 10:50:41.420 !MESSAGE java.lang.NullPointerException !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation(CompilationUnitEditor.java:177) at org.eclipse.ui.texteditor.ContentAssistAction$1.run(ContentAssistAction.java:82) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.texteditor.ContentAssistAction.run(ContentAssistAction.java:80) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:185) at org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:109) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:471) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:823) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:879) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:570) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:511) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:126) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1190) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1027) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1012) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1040) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1036) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1358) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4019) at org.eclipse.swt.widgets.Canvas.WM_CHAR(Canvas.java:346) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3912) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:342) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4584) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2295) at org.eclipse.swt.internal.BidiUtil.windowProc(BidiUtil.java:639) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2392) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3468) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2384) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2348) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2200) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:495) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:333) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:490) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:366) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:550) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:505) at org.eclipse.equinox.launcher.Main.run(Main.java:1237) at org.eclipse.equinox.launcher.Main.main(Main.java:1213)"}, {"bug_id": "260528", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaMergeViewer.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/EditorUtility.java"], "repo": "eclipse.jdt.ui", "reformed_query": "compare side carets prominent", "bug_title": " [compare] wrong caret on right side", "bug_description": "HEAD (regression from last I-build). Now that we use enhanced compare on the left we also have to use it on the right side because otherwise it looks strange the UI is different. Most prominent example being the different carets."}, {"bug_id": "260694", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Changed Event Lock MESSAGE menu text org   invoke", "bug_title": " [compare] NPE in log when opening Java compare editor with breadcrumbs enabled", "bug_description": "HEAD (I20090106-1323 + latest compare, text, jdt) - open a Java editor on a .java file from CVS - show breadcrumbs - open History view - select an old revision and choose context menu > Compare Current with x.y => NPE in log: !ENTRY org.eclipse.ui 4 0 2009-01-12 12:34:28.158 !MESSAGE Unhandled event loop exception !STACK 0 org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException) at org.eclipse.swt.SWT.error(SWT.java:3827) at org.eclipse.swt.SWT.error(SWT.java:3742) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:136) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3852) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2384) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2348) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2200) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:495) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:333) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:490) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:366) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:550) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:505) at org.eclipse.equinox.launcher.Main.run(Main.java:1237) Caused by: java.lang.NullPointerException at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.selectionChanged(JavaEditor.java:2176) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$4.run(CompilationUnitEditor.java:1628) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:133) ... 22 more"}, {"bug_id": "260865", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaStructureDiffViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "editor Steps change structure compare Compare Open Build compare simple", "bug_title": " [compare] Clicking on the structure view breaks the compare editor viewers", "bug_description": "Build id: N20090110-2000 Steps: 1) Create a java project and two classes inside (A.java and B.java). They can be very simple, e.g. public class A { // class A } 2) Compare them using Compare With > Each Other 3) In the compare editor, change something in A.java, e.g. // comment public class A { // class A } 4) Double click on a node in the structure view 5) Notice that the content of the viewer with A.java changed to // comment public class A { // 6) Save, still the content is wrong 7) Open A.java in the java editor, it looks ok"}, {"bug_id": "261100", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/navigator/JavaDropAdapterAssistant.java"], "repo": "eclipse.jdt.ui", "reformed_query": "common clone Dragging common error selection created selection bug bug", "bug_title": " [common navigator] Dragging FileTransfer to closed project shows \"valid drop\"", "bug_description": "+++ This bug was initially created as a clone of Bug #218574 +++ Another thing I noticed while testing was that dragging a local selection onto a closed project results in the icon changing to 'no drop'.  However, dragging a file transfer onto a closed project results in the icon being a 'valid drop'.  Actually performing the drop resulted in an error dialog saying the destination did not exist."}, {"bug_id": "261198", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JavaElementResourceMapping.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug Model project Java model file Provider", "bug_title": " nodes missing in Java Model in Synchronize view", "bug_description": "I have a project with the following structure: 123 (project shared using CVS) +- src (source folder) +- somebusiness +- some-business |  +- file1.txt +-file2.txt Now when I make changes only to file1.txt and do \"Team->Synchronize with Repository\", I don't see the file1.txt, only: 123 +- src But when I make changes to file2.txt, in \"Team->Synchronize with Repository\" I see that both file1.txt and file2.txt have changed. This problem was originally spotted on Eclipse 3.2.2, but appears still on 3.5M4. So far I had traced it to org.eclipse.jdt.internal.ui.model.JavaSynchronizationContentProvider"}, {"bug_id": "261797", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JavaElementResourceMapping.java"], "repo": "eclipse.jdt.ui", "reformed_query": "getTraversals corext Traversals ensureResultCached LogicalPackageResourceMapping Cached Store System jdt ensureResultCached", "bug_title": " CVS decorators broken due to fix to JavaElementResourceMapping", "bug_description": "N20090120-2000. The fix for bug in JavaElementResourceMapping breaks CVS decorators as it causes: !ENTRY org.eclipse.ui 4 4 2009-01-21 12:18:26.639 !MESSAGE java.lang.ArrayStoreException !STACK 0 java.lang.ArrayStoreException at java.lang.System.arraycopy(Native Method) at java.util.ArrayList.toArray(ArrayList.java:306) at org.eclipse.jdt.internal.corext.util.JavaElementResourceMapping$LogicalPackageResourceMapping.getTraversals(JavaElementResourceMapping.java:309) at org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.getTraversalRoots(CVSLightweightDecorator.java:261) at org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.isSupervised(CVSLightweightDecorator.java:248) at org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.decorate(CVSLightweightDecorator.java:209) at org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.decorate(CVSLightweightDecorator.java:161) at org.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.decorate(LightweightDecoratorDefinition.java:263) at org.eclipse.ui.internal.decorators.LightweightDecoratorManager$LightweightRunnable.run(LightweightDecoratorManager.java:81) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.ui.internal.decorators.LightweightDecoratorManager.decorate(LightweightDecoratorManager.java:365) at org.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations(LightweightDecoratorManager.java:347) at org.eclipse.ui.internal.decorators.DecorationScheduler$1.ensureResultCached(DecorationScheduler.java:374) at org.eclipse.ui.internal.decorators.DecorationScheduler$1.run(DecorationScheduler.java:334) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "262050", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageOne.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "directory item wizard Create File Project text selected specific frame", "bug_title": " Unclear directions in New Java Project wizard", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1. File->New->Java Project. 2. In the first panel, in the frame entitled \"Contents\", the option \"Create project from existing source\" should be renamed to \"Create project files in specific directory.\" More information: I am suggesting this change because the new text more closely matches the function of this item: the project files are put in the selected directory, and code can be linked in from any location regardless of where the project files are.  You are not actually bound to put the source in the same directory as the project files."}, {"bug_id": "262389", "ground_truth": ["org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/JavaModelOpCompundUndoTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "IJavaModel operation Text Edit JDT ICompilation compound closes revert Model", "bug_title": " Internal code must not use ICompilationUnit.applyTextEdit", "bug_description": "3.4 and 3.4.1. When we introduced the new ICompilationUnit.applyTextEdit(...) to allow clients a simple and efficient way for batched update of TextEdit/s combined with undo we made a mistake when we changed the internal JDT Core code to use/call that new API (see bug 220565) as each call to this new API also handles the undo for the client and hence closes the current undo operation. This breaks clients who call JDT Core code like IJavaModel.delete(...) as this now closes their current undo operation (actually it closes it n-times as the new API is called for each element) and they can no longer group several calls to the Java model into one undo operation (aka compound change). The simplest fix is to revert the code change from bug 220565."}, {"bug_id": "262511", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "String access Change visible useless visibility", "bug_title": " [quick fix] Wrong quick fixes for \"The type X is not visible\"", "bug_description": "Build id: M20080911-1700 Using the test case below (3 java files), there is one compiler error \"The type Field is not visible\". 2 quick fixes are proposed in the hoover: 1/ Change visibility of 'field' to 'public' 2/ Change to 'field' The first one is wrog because 'field' is already public, AND because the error doens't come from the access of the field, but the access of the type of the field. The second one, is useless since it doesn't do anything. // === package tests; import tests.sub.Container; public class Main { void foo() { Container container = new Container(); String s = container.field.getBar(); } } // === package tests.sub; public class Container { public Field field; } // === package tests.sub; class Field { public String getBar() { return \"Bar\"; } }"}, {"bug_id": "262732", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/model/JavaSynchronizationContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "folder equinox Util Java workspace tree decorateImage Provider Proc getTraversals", "bug_title": " [compare] [common navigator] duplicate changes in model compare (folder and source folder)", "bug_description": "I20090127-0100 When I was making a fix for bug 247943 I noticed couple of Internal Errors in the log. Steps were more less like this: 1. Checkout org.eclipse.compare.tests 2. Open Sync perspective and sync entire workspace, all models => no changes 3. Modify LineReaderTest.java 4. Switch to Resource perspective 5. Move src/org/eclipse/compare/tests/linereaderdata to linereaderdata 6. Go back to Sync view, navigate through changes => You should see duplicated entry for LineReaderTest.java, not sure if this is wrong though => In the error log you should see bunch of Internal Errors: Starting with: org.eclipse.compare.tests.linereaderdata [in src [in org.eclipse.compare.tests]] does not exist Next, couple of: Java Model Exception: Java Model Status [org.eclipse.compare.tests.linereaderdata [in src [in org.eclipse.compare.tests]] does not exist] at org.eclipse.jdt.internal.core.JavaElement.newJavaModelException(JavaElement.java:502) at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:246) at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:515) at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:252) at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:238) at org.eclipse.jdt.internal.core.PackageFragment.getNonJavaResources(PackageFragment.java:300) at org.eclipse.jdt.internal.corext.util.JavaElementResourceMapping.getPackageFragmentTraversals(JavaElementResourceMapping.java:196) at org.eclipse.jdt.internal.corext.util.JavaElementResourceMapping.access$1(JavaElementResourceMapping.java:189) at org.eclipse.jdt.internal.corext.util.JavaElementResourceMapping$PackageFragmentResourceMapping.getTraversals(JavaElementResourceMapping.java:184) at org.eclipse.jdt.internal.ui.model.JavaSynchronizationContentProvider.getResourceTraversals(JavaSynchronizationContentProvider.java:126) at org.eclipse.jdt.internal.ui.model.JavaSynchronizationContentProvider.getDiffs(JavaSynchronizationContentProvider.java:93) at org.eclipse.jdt.internal.ui.model.JavaSynchronizationLabelProvider.getDiff(JavaSynchronizationLabelProvider.java:99) at org.eclipse.team.ui.synchronize.AbstractSynchronizeLabelProvider.decorateImage(AbstractSynchronizeLabelProvider.java:79) at org.eclipse.team.ui.synchronize.AbstractSynchronizeLabelProvider.getImage(AbstractSynchronizeLabelProvider.java:51) at org.eclipse.team.ui.mapping.SynchronizationLabelProvider.getImage(SynchronizationLabelProvider.java:115) at org.eclipse.ui.internal.navigator.NavigatorContentServiceLabelProvider.findImage(NavigatorContentServiceLabelProvider.java:159) at org.eclipse.ui.internal.navigator.NavigatorContentServiceLabelProvider.getImage(NavigatorContentServiceLabelProvider.java:100) at org.eclipse.ui.internal.navigator.NavigatorDecoratingLabelProvider$StyledLabelProviderAdapter.getImage(NavigatorDecoratingLabelProvider.java:58) at org.eclipse.jface.viewers.DelegatingStyledCellLabelProvider.getImage(DelegatingStyledCellLabelProvider.java:184) at org.eclipse.jface.viewers.DecoratingStyledCellLabelProvider.getImage(DecoratingStyledCellLabelProvider.java:167) at org.eclipse.jface.viewers.DelegatingStyledCellLabelProvider.update(DelegatingStyledCellLabelProvider.java:118) at org.eclipse.jface.viewers.DecoratingStyledCellLabelProvider.update(DecoratingStyledCellLabelProvider.java:134) at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:145) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:932) at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:102) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:874) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:1012) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:475) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:874) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2096) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:827) at org.eclipse.ui.navigator.CommonViewer.createTreeItem(CommonViewer.java:168) at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:802) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:776) at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:642) at org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand(AbstractTreeViewer.java:1442) at org.eclipse.jface.viewers.TreeViewer.handleTreeExpand(TreeViewer.java:935) at org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(AbstractTreeViewer.java:1453) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:126) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1027) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1012) at org.eclipse.swt.widgets.Tree.wmNotifyChild(Tree.java:7349) at org.eclipse.swt.widgets.Control.wmNotify(Control.java:4843) at org.eclipse.swt.widgets.Composite.wmNotify(Composite.java:1755) at org.eclipse.swt.widgets.Control.WM_NOTIFY(Control.java:4473) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3966) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4584) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2296) at org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1529) at org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN(Tree.java:6280) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3947) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5821) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4597) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2393) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3468) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2388) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2352) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:499) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:333) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:492) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:550) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:505) at org.eclipse.equinox.launcher.Main.run(Main.java:1264) and: Java Model Exception: Java Model Status [org.eclipse.compare.tests.linereaderdata [in src [in org.eclipse.compare.tests]] does not exist] at org.eclipse.jdt.internal.core.JavaElement.newJavaModelException(JavaElement.java:502) at org.eclipse.jdt.internal.core.Openable.generateInfos(Openable.java:246) at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:515) at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:252) at org.eclipse.jdt.internal.core.JavaElement.getElementInfo(JavaElement.java:238) at org.eclipse.jdt.internal.core.PackageFragment.getNonJavaResources(PackageFragment.java:300) at org.eclipse.jdt.internal.corext.util.JavaElementResourceMapping.getPackageFragmentTraversals(JavaElementResourceMapping.java:196) at org.eclipse.jdt.internal.corext.util.JavaElementResourceMapping.access$1(JavaElementResourceMapping.java:189) at org.eclipse.jdt.internal.corext.util.JavaElementResourceMapping$PackageFragmentResourceMapping.getTraversals(JavaElementResourceMapping.java:184) at org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.getTraversalRoots(CVSLightweightDecorator.java:261) at org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.isSupervised(CVSLightweightDecorator.java:248) at org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.decorate(CVSLightweightDecorator.java:209) at org.eclipse.team.internal.ccvs.ui.CVSLightweightDecorator.decorate(CVSLightweightDecorator.java:161) at org.eclipse.ui.internal.decorators.LightweightDecoratorDefinition.decorate(LightweightDecoratorDefinition.java:263) at org.eclipse.ui.internal.decorators.LightweightDecoratorManager$LightweightRunnable.run(LightweightDecoratorManager.java:81) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.ui.internal.decorators.LightweightDecoratorManager.decorate(LightweightDecoratorManager.java:365) at org.eclipse.ui.internal.decorators.LightweightDecoratorManager.getDecorations(LightweightDecoratorManager.java:347) at org.eclipse.ui.internal.decorators.DecorationScheduler$1.ensureResultCached(DecorationScheduler.java:374) at org.eclipse.ui.internal.decorators.DecorationScheduler$1.run(DecorationScheduler.java:334) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "262766", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/jarexport/FatJarExportTests.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/FatJarAntExporter.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/FatJarRsrcUrlAntExporter.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/UnpackFatJarAntExporter.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/UnpackJarAntExporter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "work src loader Runnable jar zip ANT jar path zip", "bug_title": " [jar exporter] ANT file for Jar-in-Jar option contains relative path to jar-rsrc-loader.zip", "bug_description": "I20090127-2000 The ANT file generated by the Jar-in-Jar option of the Runnable JAR file exporter does not work, since the path of the jar-rsrc-loader.zip is not absolute: <zipfileset src=\"jar-rsrc-loader.zip\"/>"}, {"bug_id": "262877", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/navigator/JavaNavigatorContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Model normal Navigator Java remove ProjectExplorer Project normal lines Model", "bug_title": " The JavaModel object needs to be handled by the JavaNavigatorLabelProvider", "bug_description": "With the addition of Go Into support in the Project Explorer, it is necessary to get the description of the JavaModel object (which is what the Package Explorer does in a hardwired manner).  The Project Explorer cannot do something similar, and has to resolve it through the normal label provider mechanism. A workaround was put in the ProjectExplorer class with bug 262606. To remove the workaround, see the lines in the ProjectExplorer that refer to bug 262606 and remove them."}, {"bug_id": "263751", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/navigator/JavaDropAdapterAssistant.java"], "repo": "eclipse.jdt.ui", "reformed_query": "failed Drag patch common assertion navigator", "bug_title": " [common navigator] Drag Java object from Project Explorer to Package Explorer gets \"assertion failed\"", "bug_description": "This is the companion for bug 261865. Suggested patch is attached."}, {"bug_id": "263935", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaMergeViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "compilation eclipse ZZZ visible editor discarded compare", "bug_title": " [compare] compare holds on to deleted compilation unit", "bug_description": "build I20090203-1200 1) checkout org.eclipse.jdt.core 2) add a type org.eclipse.jdt.core.ZZZ.java 3) select org.eclipse.jdt.core and synchronize with the repository 4) from the synchronize view open ZZZ.java in compare editor 5) in the synchronize view select ZZZ.java and do 'Override and Update' 6) do ctrl+shift+T and type ZZZ ZZZ.java appear 7) try to open ZZZ.java an error window appear The deleted type is also still visible in the package explorer The problem does not occur if i do not open ZZZ.java in compare editor. The problem is caused by a workingcopy of ZZZ.java which was not discarded."}, {"bug_id": "264112", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/CleanUpStressTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "productive Result Java Add Christopher formatted", "bug_title": " [Formatter] Wrap when necessary too aggressive on short qualifiers", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1. Go to Preferences -> Java -> Code Style -> Formatter -> Edit on the \"Eclipse [built-in]\" profile 2. Go to Tab \"Line Wrapping\", Select \"Function Calls\" 3. On the Preview Tab Set Line Width for 25 or smaller The original line: Other.bar(100, 200,....) will be formatted Other. bar( 100, 200, Obviously wrapping is necessary because the original line is longer than the set line width, but wrapping after Other. and bar( doesn't do any good because the identifiers Other and bar are shorter than the indentation depth (2 tabs == 8 spaces). Suggested fix: Add an additional Line Wrapping Policy \"Wrap when benefitial\" which works like \"Wrap when necessary\" but avoids wrapping if the leading line is shorter than the indentation width and thus wrapping is counter-productive. Result: Other.bar( 100, 200,... Thanks for taking note! Christopher P.S.: Note that with \"Wrapping when benefitial\" the resulting format is less Wide than with \"Wrapping if necessary\"."}, {"bug_id": "264504", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitDocumentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Create error copy working change file Editor misc", "bug_title": " [misc] Editor should not create working copy for deleted resource", "bug_description": "Build ID: I20090129-1800 To Reproduce: 1) Create a class A 2) Close the editor, reveal class A in the package explorer 3) Start the rename refactoring for class A via the package explorer's context menu, name it B 4) go back to the last edit location using alt-left observe: there is an editor opened for file A which does not exist anymore. observe: the package explorer now shows a resource A alongside with B, even though it does not exist. Trying to open the file results in an error. 5) keep the editor for the non-existant file A open 6) in the package explorer, start the rename refactoring again, rename the class A again observe: no error is shown observe: the editor for the non-existant file A becomes dirty. observe: the class B still exists and is not touched at all observe: all references to B in other files are change to A, leading to compile errors"}, {"bug_id": "264720", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetConfigurationDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "creates Working creates Working WorkingSetConfigurationDialog Dialog stores getComparator create Remove", "bug_title": " Remove duplicate creation of comparator in WorkingSetConfigurationDialog", "bug_description": "N20090212-2000. Remove duplicate creation of comparator in WorkingSetConfigurationDialog: create a getComparator() which lazily creates it and stores it in a field."}, {"bug_id": "264770", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "setInitialSelection runtime Build openWindows Thu Reference view EclipseAppLauncher JavaBrowsingPart arch", "bug_title": " [browsing][implementation] NPE when starting eclipse with Java Browsing Perspective", "bug_description": "I started eclipse which opened with the Java Browsing Perspective I had previously used, and the packages view had the following exception: Build ID: I20090202-1535 Steps To Reproduce: eclipse.buildId=I20090202-1535 java.version=1.5.0_16 java.vendor=Apple Inc. BootLoader constants: OS=macosx, ARCH=x86_64, WS=cocoa, NL=en_GB Framework arguments:  -keyring /Users/channing/.eclipse_keyring -showlocation Command-line arguments:  -os macosx -ws cocoa -arch x86_64 -keyring /Users/channing/.eclipse_keyring -consoleLog -showlocation Error Thu Feb 12 20:29:42 GMT 2009 Unable to create view ID org.eclipse.jdt.ui.PackagesView: An unexpected exception was thrown. java.lang.NullPointerException at org.eclipse.jdt.internal.ui.browsing.JavaBrowsingPart.setInitialSelection(JavaBrowsingPart.java:916) at org.eclipse.jdt.internal.ui.browsing.JavaBrowsingPart.createPartControl(JavaBrowsingPart.java:377) at org.eclipse.ui.internal.ViewReference.createPartHelper(ViewReference.java:371) at org.eclipse.ui.internal.ViewReference.createPart(ViewReference.java:230) at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:595) at org.eclipse.ui.internal.WorkbenchPage$ActivationList.setActive(WorkbenchPage.java:4203) at org.eclipse.ui.internal.WorkbenchPage$17.runWithException(WorkbenchPage.java:3265) at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:133) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3000) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2749) at org.eclipse.ui.application.WorkbenchAdvisor.openWindows(WorkbenchAdvisor.java:803) at org.eclipse.ui.internal.Workbench$27.runWithException(Workbench.java:1367) at org.eclipse.ui.internal.StartupThreading$StartupRunnable.run(StartupThreading.java:31) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:133) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3000) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2749) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2299) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:499) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:333) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:492) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:556) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:511) at org.eclipse.equinox.launcher.Main.run(Main.java:1270)"}, {"bug_id": "264999", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/FilteredTypesSelectionDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "good HEAD type dialog pattern Type ends dialog Type Bug", "bug_title": " [open type] Does not make matching range bold if pattern ends with < or space", "bug_description": "HEAD The Open Type dialog does not make the matching range bold if the pattern ends with < or space, e.g. \"IStorage\" -> good \"IStorage<\" -> nothing bold"}, {"bug_id": "265188", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/RenameInformationPopup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Refactor java Bug Bug Note Note Popup variable Note popup", "bug_title": " Refactor rename popup (border is black and bottom is missing)", "bug_description": "Select a variable or method in the java editor. Popup menu and select \"Refactor ->Rename\". Note that the popup has a black border and the bottom line is missing."}, {"bug_id": "265645", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetConfigurationDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "box Sets check checkbox Configure checkbox Working dialog checkbox Sets", "bug_title": " Configure Working Sets Dialog: sort checkbox does not use dialog font", "bug_description": "I20090217-2200. The 'Configure Working Sets' dialog's sort check box does not use dialog font."}, {"bug_id": "266085", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/AbstractInformationControl.java"], "repo": "eclipse.jdt.ui", "reformed_query": "key navigation call swt type view call Control TreeItem Send", "bug_title": " [navigation] Quick outline view reproduces StackOverflow on certain key presses (to filter)", "bug_description": "I have a java class on which i open the quick outline view Then if i press f it filters it fine or if i press r it also filters it fine But when i do the same with 's' then i get the stackoverflow error below: The thing is that for another class 's' works fine but if i type there 'd' it crashes.. And i dont see a connection for the first class s would get results, for the second class d wouldnt get results this is with build: I20090224-0800 java.lang.StackOverflowError at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2297) at org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1529) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4002) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5820) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4588) at org.eclipse.swt.internal.win32.OS.SendMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.SendMessage(OS.java:3130) at org.eclipse.swt.widgets.Tree.getItems(Tree.java:3267) at org.eclipse.swt.widgets.TreeItem.getItems(TreeItem.java:787) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:500) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:506) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:480) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:500) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:506) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:480) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:500) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:506) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:480) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:500) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:506) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:480) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:500) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:506) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:480) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:500) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:506) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:480) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.findElement(AbstractInformationControl.java:500)"}, {"bug_id": "266092", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/PullUpMemberPage.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/PushDownWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug Refactor button selected Dialog context members cuts Pull Message", "bug_title": " Extract Superclass, Pull Up and Push Down window cuts off text when more than 9 items are selected", "bug_description": "Created attachment 126692 [details] Snap -shot  of Bug scenario, Select Java class having more than 10 methods in package explorer. Right click-->Refactor Menu-->Extract Superclass. Extract Superclass Dialog box opens up.Press Select All button,Message on dialog box appears indicating number of members selected. This message appears to be truncated. Same is the case with Pull Up ,Push Down Refactor context menus."}, {"bug_id": "266443", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaElementImplementationHyperlink.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Hierarchy Hyperlink opens Hyperlink Bug Java declarations HEAD Element Element", "bug_title": " [navigation] JavaElementImplementationHyperlink does not work for method declarations", "bug_description": "HEAD. The JavaElementImplementationHyperlink does not work for method declarations: it always opens the Quick Hierarchy."}, {"bug_id": "266646", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/navigator/JavaDropAdapterAssistant.java"], "repo": "eclipse.jdt.ui", "reformed_query": "override overriderOperation introduced overrideOperation Drop Bug overrider setCurrentOperation delete Current", "bug_title": " Change CommonDropAdapter method call", "bug_description": "The CommonDropAdapter.setCurrentOperation() is replaced by overrideOperation().  These are both new API introduced in M5.  As soon as JDT switches over to overriderOperation(), I will delete setCurrentOperation().  They both do exactly the same thing. I will provide a patch."}, {"bug_id": "266831", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaElementHyperlinkImplementationDetector.java"], "repo": "eclipse.jdt.ui", "reformed_query": "constructors navigation navigation hyperlink Implementation hyperlink methods navigation Bug hyperlink", "bug_title": " [navigation] Open Implementation hyperlink should not show up for non-overridable methods", "bug_description": "N20090302-2000 The Open Implementation hyperlink should not show up for methods that cannot be overridden, i.e. - static methods - final methods - constructors"}, {"bug_id": "266878", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/reorg/RenameMethodWithOverloadPerfTests.java"], "repo": "eclipse.jdt.ui", "reformed_query": "RenameMethodWithOverloadPerfTests perf error occurred RenameMethodWithOverloadPerfTests Overload Overload build Bug machine", "bug_title": " [perfs] Regression on 'Rename method with overloading' test", "bug_description": "The perf results verification for N20090228-2000 build confirms that a regression occurred for RenameMethodWithOverloadPerfTests#test_100_10() scenario since N20090212-2000 build. Here are the numbers on all machines since 3.5M5: builds\t\tRename method with overloading M4\tI20081211-1908\t-6.0% M5\tI20090202-1535\t0.5% I20090203-1200\t0.1% N20090205-2000\t-0.7% I20090210-0950\t-6.2% N20090212-2000\t-3.1% I20090217-2200\t-18.8% N20090219-2000\t-14.3% SLED 10 Sun 1.5.0_10 (2 x 3.00GHz - 3GB RAM) builds\t\tRename method with overloading M4\tI20081211-1908\t-0.2% M5\tI20090202-1535\t-1.6% I20090203-1200\t-2.8% N20090205-2000\t-2.3% I20090210-0950\t-0.1% N20090212-2000\t-7.0% I20090217-2200\t-10.4% I20090224-0800\t-9.1% N20090226-2000\t-10.0% N20090228-2000\t-9.4% diff M5\t-10.2% diff previous\t-1.2% RHEL 5.0 Sun 6.0_04 (2 x 3.00GHz - 3GB RAM) builds\t\tRename method with overloading M4\tI20081211-1908\t-2.1% M5\tI20090202-1535\t0.9% I20090203-1200\t-3.8% N20090205-2000\t-2.4% I20090210-0950\t0.5% N20090212-2000\t-6.6% I20090217-2200\t-7.2% N20090219-2000\t-7.0% I20090224-0800\t-12.4% N20090226-2000\t-9.9% N20090228-2000\t-5.6% Even if the error on the test is important, the regression seems to be confirmed by the Elapsed Process time graph on each machine..."}, {"bug_id": "26699", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarPackagerMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarFileExportOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JAR invoke menu warning Jar fails file Bug message file", "bug_title": " Create Jar fails with no warning if jar read-only", "bug_description": "Once *.jardesc has been created, if I invoke \"Create JAR\" from the context menu and the jar file already exists and is read-only, the progress dialog flashes and nothing more happens. Please add check for this condition and at least an error message should be displayed. Even better, ask something like \"Jar file read-only, overwrite?\" Y/N and overwrite the file on yes (similar to what the option \"warn if jar file exists\" does)."}, {"bug_id": "267002", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Explorer Working introduced visible Sets selected magically screenshot attachment unchecked", "bug_title": " [working sets] Assign Working Sets dialog does not show new working set", "bug_description": "Created attachment 127463 [details] Screenshot I20090303-0800, probably introduced with bug 190438 See screenshot. - Initially, the projects you see selected in the Package Explorer were only in the JUnit working set. - I selected the projects and chose \"Assign Working Sets...\". - In the \"Working Set Assignments\" dialog, I unchecked 'JUnit'. - I clicked \"New...\", gave the new working set the name 'JUnit/Hamcrest', and confirmed => Now, you can see that the working set has really been created (it shows up at the end of the Package Explorer), but it's not visible in the \"Working Set Assignments\" dialog. Hint: When I toggle the \"Show only in Package Explorer\" checkbox, the new WS magically appears."}, {"bug_id": "267241", "ground_truth": ["org.eclipse.jdt.ui.tests/performance/org/eclipse/jdt/ui/tests/performance/SWTTestProject.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Created SWTTest attachment SWT SWTTest eclipse JRE SWT junit Test", "bug_title": " RenameTypePerfAcceptanceTests (aka \"Rename of Control\") bogus", "bug_description": "Created attachment 127681 [details] Fix for HEAD I20090304-0834, probably been like this during whole 3.5 RenameTypePerfAcceptanceTests (aka \"Rename of Control\") fails: junit.framework.AssertionFailedError: expected:<true> but was:<false> at org.eclipse.jdt.ui.tests.refactoring.infra.RefactoringPerformanceTestCase.executeRefactoring(RefactoringPerformanceTestCase.java:53) at org.eclipse.jdt.ui.tests.refactoring.infra.RefactoringPerformanceTestCase.executeRefactoring(RefactoringPerformanceTestCase.java:38) at org.eclipse.jdt.ui.tests.refactoring.infra.RefactoringPerformanceTestCase.executeRefactoring(RefactoringPerformanceTestCase.java:34) at org.eclipse.jdt.ui.tests.refactoring.reorg.RenameTypePerfAcceptanceTests.testCold(RenameTypePerfAcceptanceTests.java:68) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) at junit.extensions.TestSetup$1.protect(TestSetup.java:21) at junit.extensions.TestSetup.run(TestSetup.java:25) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:354) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:206) at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:195) Problem is that the tests are now run on a 1.5 JRE. The tests create a project and fill it with SWT source, but they don't set a compiler compliance. This makes the refactoring fail because e.g. GridLayout uses 'enum' as identifier. Fix is in org.eclipse.jdt.ui.tests.performance.SWTTestProject and could also affect other tests."}, {"bug_id": "267358", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/WorkingSetDropAdapter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug work working dnd Explorer enabled Bug sorting sets inactive", "bug_title": " [package explorer][working sets][dnd] When sorted, should not show drop target for WS", "bug_description": "I20090304-0834 When the Package Explorer shows working sets and sorting is enabled, rearranging them via drag and drop makes no sense. The drop targets before and after working sets should be inactive then (but DND of an element into another WS should still work)."}, {"bug_id": "267554", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/PasteAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "PasteAction IProgressMonitor Store invoke project Selection Open File Transfer click", "bug_title": " [ccp] Canceling a file copy operation causes an error", "bug_description": "Build id: I20090224-0800 1. File > New > Other... 2. General > Project > Next 3. Give the project a name, click 'Finish'. 4. File > New > Other... 5. General > File 6. Create a file with an arbitrary name in the project created in step 3. 7. Open the 'Package Explorer'. 8. Select the created file. 9. Invoke Ctrl+C to copy, then invoke Ctrl+V to paste. 10. Click 'Cancel' to cancel the operation. 11. An error appears. \"Cannot import 'test.txt'. The source and destination are the same.\" 12. Repeat steps 8 to 10 with the 'Project Explorer'. The same error from step 11 will be seen again. The trace below may be of assistance: Thread [main] (Suspended) CopyFilesAndFoldersOperation.displayError(String) line: 903 CopyFilesAndFoldersOperation.copyFileStores(IContainer, IFileStore[], boolean, IProgressMonitor) line: 788 CopyFilesAndFoldersOperation.copyFiles(String[], IContainer) line: 698 PasteAction$FilePaster.paste(IJavaElement[], IResource[], IWorkingSet[], TransferData[]) line: 1205 PasteAction.run(IStructuredSelection) line: 267 PasteAction(SelectionDispatchAction).dispatchRun(ISelection) line: 274 PasteAction(SelectionDispatchAction).run() line: 250 PasteAction(Action).runWithEvent(Event) line: 498"}, {"bug_id": "267616", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/RenameLinkedMode.java"], "repo": "eclipse.jdt.ui", "reformed_query": "YouProject Rename pops editing yields Steps model editing src Delete", "bug_title": " [rename] Rename method fails to create a method handle", "bug_description": "Build ID: M20090211-1700 Steps To Reproduce: 1. place the cursor in the middle of a method selector 2. Shift-Alt-R to rename it 3. Ctrl-Backspace to delete first part of selector 4. Ctrl-Delete to delete rest of selector 5. type new name 6. Return A dialog pops up saying: Could not create a method handle for project '{0}' with handle identifier '=YouProject/src<your.packagepath{YourClass.java[YourClass~yourMethod~QYourArgtype;' Reproducable in 3.4.2 but NOT in 3.4.1 Initial debugging yields: + the method handle memento is OK, but the method cannot be found in the java model. + refactoring tries to undo the editing but step 5. is missing from the undo history! => Method is not present in the java model due to missing selector."}, {"bug_id": "267776", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/text/java/CompletionProposalLabelProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "qualification constructor completion strange strange type Bug Bug completion Wrong", "bug_title": " [content assist] Wrong post-qualification for constructor and anonymous type completion", "bug_description": "I20090309-0100. The post-qualification should not include the type and in the default package it looks strange."}, {"bug_id": "267829", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingPart.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/WorkingSetAwareContentProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetConfigurationDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetFilterActionGroup.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetModel.java"], "repo": "eclipse.jdt.ui", "reformed_query": "alphabetically menu edit menu Change Change edit Sets sets alphabetically", "bug_title": " [working sets] [package explorer] Working sets not resorted when name changes", "bug_description": "I20090310-0100 Have Package Explorer in working set mode, sorted. Change the name of a working set via context menu > Properties. => Working sets are not sorted alphabetically any more in the Package Explorer. Open the Configure Working Sets dialog and edit a working set's name => Working sets are not sorted alphabetically any more in the dialog."}, {"bug_id": "267918", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaUIMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/GenerateToStringDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaUIMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug dialog String", "bug_title": " [toString] dialog should center widgets", "bug_description": "I20090310-0100. The dialog should center its widgets."}, {"bug_id": "269524", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/ConfigureWorkingSetAssignementAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "runEventLoop dispatchRun SelectionDispatchAction Working readAndDispatch Contribution ConfigureWorkingSetAssignementAction access Handle Table", "bug_title": " [working sets] 'Assign Working Set...' in Package Explorer with 'Top Level Elements > Projects' throws NPE", "bug_description": "HEAD - have Package Explorer in 'Top Level Elements > Projects' mode - select a Java Project that is not in any working set - open context menu and choose 'Assign Working Set...' - select (check) a working set - click OK !ENTRY org.eclipse.ui 4 0 2009-03-20 15:36:47.660 !MESSAGE Unhandled event loop exception !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.ui.workingsets.ConfigureWorkingSetAssignementAction.getActiveWorkingSets(ConfigureWorkingSetAssignementAction.java:733) at org.eclipse.jdt.internal.ui.workingsets.ConfigureWorkingSetAssignementAction.updateWorkingSets(ConfigureWorkingSetAssignementAction.java:692) at org.eclipse.jdt.internal.ui.workingsets.ConfigureWorkingSetAssignementAction.run(ConfigureWorkingSetAssignementAction.java:634) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:250) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:586) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:503) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:413) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:87) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2393) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2357) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2209) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:499) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:492) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:556) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:511) at org.eclipse.equinox.launcher.Main.run(Main.java:1284) at org.eclipse.equinox.launcher.Main.main(Main.java:1260)"}, {"bug_id": "270342", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/GenerateToStringDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "toString Edit Click format Steps Reproduce Generate sneaked combo button", "bug_title": " [toString] can't add new format template", "bug_description": "Created attachment 130156 [details] patch Steps To Reproduce: 1. Select 'Generate  toString()...' action 2. Click 'Edit...' button next to 'String format' combo box 3. Click 'New...' to add a template - nothing happens More information: The template is not added because of an error that sneaked in with bug 267916. Here's a patch to fix it."}, {"bug_id": "271139", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/RefactoringWizardDialog2.java", "org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/RefactoringWizardDialog2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "numbers cancel caused bottom cut button alignment Eclipse finish", "bug_title": " [rename] button clipped in Rename dialog", "bug_description": "20090401 In Eclipse, select a java file, refactor->rename note the 4 buttons at bottom: back|next|cancel|finish the right edge of next is cut off. Kevin indicates that this can be a problem caused by JDT-UI (by using negative numbers for horizonal alignment)."}, {"bug_id": "271757", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaMergeViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "SourceViewer issues BUGS create cgi Composite compare GOALS MergeSourceViewer type", "bug_title": " TextMergeViewer.createSourceViewer(...) should return SourceViewer", "bug_description": "This is one of the issues mentioned on bug 259411. It looks serious enough to make a separate bug out of it and not mix it with the others. GOALS/BENEFITS: org.eclipse.compare.contentmergeviewer.TextMergeViewer.createSourceViewer(Composite, int) should return concrete SourceViewer instead of ISourceViewer interface. The ISourceViewer type is not enough for the MergeSourceViewer to work properly, the MergeSourceViewer requires methods which are not part of the ISourceViewer interface. The concrete class of SourceViewer is the optimal return type. ASSOCIATED BUGS: https://bugs.eclipse.org/bugs/show_bug.cgi?id=259411 RISKS: The bad news is that the method is part API, the good news is that is has been introduced in 3.5. So I guess the risk is low, especially given the fact that the API is marked as \"experimental\" and using it should be consulted with the Workspace team. Impact is limited to JDT which is the only client of the new API so far. Required changes are in the patch. PERFORMANCE IMPACT: None."}, {"bug_id": "27194", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/util/StringMatcher.java"], "repo": "eclipse.jdt.ui", "reformed_query": "StringMatcher matches   JDT copies", "bug_title": " StringMatcher bug - matches too much", "bug_description": "See [Bug 26998] for more information.  JDT's copies of this class need to change."}, {"bug_id": "272366", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/RefactoringWizardDialog2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "preview window Wizard text", "bug_title": " [ltk] LTK RefactoringWizardOpenOperation opens window with no window title text", "bug_description": "If your wizard does not have any user input pages, but performs changes that have a preview, the preview window is opened automatically. However, this preview window does not contain the text that was set using RefactoringWizard#setWindowTitle(). If a user page was specified, it does contain work."}, {"bug_id": "272567", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/javadoc/JavadocContentAccess2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Javadoc javadoc people result text works", "bug_title": " [javadoc][hovering] Rendered Javadoc should strip out * at beginning of line", "bug_description": "I20090415-1348 Rendered Javadoc should strip out * at beginning of line. This works mostly fine, but there are people who put the * at the very beginning of the line, i.e. without any space before, e.g. com.ibm.icu.text.Collator. The result in Javadoc hover and view is a text with * measles."}, {"bug_id": "272737", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetModel.java"], "repo": "eclipse.jdt.ui", "reformed_query": "sets Bug label start working start locale working Bug label", "bug_title": " [working sets] 'Other Projects' keeps label when starting with another locale", "bug_description": "I20090416-1053 The 'Other Projects' working set keeps the label in the original language when I start the same workspace with another locale."}, {"bug_id": "272742", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/ImagesOnFileSystemRegistry.java"], "repo": "eclipse.jdt.ui", "reformed_query": "URL Registry viewsupport getNewFile AbstractInfoView editor Loader real FileOutputStream Javadoc", "bug_title": " ImagesOnFileSystemRegistry is not thread safe", "bug_description": "I20090416-1053 Got the exception below when I clicked/hovered over a type and had the Javadoc view open (linked to editor). This has already been reported as bug 223686, but the real problem is that ImagesOnFileSystemRegistry is not thread safe. I could not find steps to reproduce, but I'm pretty sure this happens if getNewFile() is called in two threads at the same time such that fImageCount is the same for both threads. Later, both threads must call ImageLoader#save(..) concurrently. Exception in thread \"Info view input computer\" org.eclipse.swt.SWTException: i/o error (java.io.FileNotFoundException: C:\\e\\w\\runtime-head-CLEAN-2\\.metadata\\.plugins\\org.eclipse.jdt.ui\\jdt-images\\0.png (The system cannot find the path specified)) at org.eclipse.swt.SWT.error(SWT.java:3864) at org.eclipse.swt.SWT.error(SWT.java:3779) at org.eclipse.swt.graphics.ImageLoader.save(ImageLoader.java:241) at org.eclipse.jdt.internal.ui.viewsupport.ImagesOnFileSystemRegistry.getImageURL(ImagesOnFileSystemRegistry.java:104) at org.eclipse.jdt.internal.ui.viewsupport.ImagesOnFileSystemRegistry.getImageURL(ImagesOnFileSystemRegistry.java:85) at org.eclipse.jdt.internal.ui.infoviews.JavadocView.getInfoText(JavadocView.java:1079) at org.eclipse.jdt.internal.ui.infoviews.JavadocView.getJavadocHtml(JavadocView.java:1009) at org.eclipse.jdt.internal.ui.infoviews.JavadocView.computeInput(JavadocView.java:876) at org.eclipse.jdt.internal.ui.infoviews.AbstractInfoView$2.run(AbstractInfoView.java:620) Caused by: java.io.FileNotFoundException: C:\\e\\w\\runtime-head-CLEAN-2\\.metadata\\.plugins\\org.eclipse.jdt.ui\\jdt-images\\0.png (The system cannot find the path specified) at java.io.FileOutputStream.$$YJP$$open(Native Method) at java.io.FileOutputStream.open(FileOutputStream.java) at java.io.FileOutputStream.<init>(FileOutputStream.java:179) at java.io.FileOutputStream.<init>(FileOutputStream.java:70) at org.eclipse.swt.internal.Compatibility.newFileOutputStream(Compatibility.java:193) at org.eclipse.swt.graphics.ImageLoader.save(ImageLoader.java:239) ... 6 more"}, {"bug_id": "273499", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/AdvancedQuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JDT quick infix assist edit exchanging expression operands Ctrl works", "bug_title": " [quick assist] exchange operands: unavailable for infix != operator", "bug_description": "Build ID: N20090422-2000 Steps To Reproduce: Using the code provided below in a JDT editor window: 1. Hilight the expression within the first if conditional (with == operator). 2. Open \"Quick Fix\" (I use Ctrl+1) 3. Note \"Exchange left and right operands...\" item is available and works as expected. 4. Hilight the expression within the second if conditional (with != operator). 5. Open \"Quick Fix\" 6. Note \"Exchange left and right operands...\" item is NOT available. Sample Code: Object o = new Object(); if (o == null) { } if (o != null) { } More information: I've thought about it a little (and searched for prior reported bugs on the issue) and can't think of a technical reason that exchanging operands around != would be different to doing so around ==, but there may be something I haven't thought of. For now, my workaround is to either edit manually or apply \"Invert Conditions\", \"Exchange Operands\" and \"Invert Conditions\" quick fixes, in that order.  The first will of course convert != to == allowing Exchange Operands to be used."}, {"bug_id": "274023", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/StandardJavaElementContentProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerContentProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/BuildpathIndicatorLabelDecorator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug nested folder resource closer folders library icon wrong lib", "bug_title": " [build path] nested source folder on build path rendered with lib icon", "bug_description": "I20090428-0100. We now show (nested) folders which are on the build path as source folders also in the normal resource tree. But there it gets a library decoration which is wrong. I think it's good to show the folder but we should either have a more generic 'on build path' icon or use one that's closer to a source folder."}, {"bug_id": "274091", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/ExpandWithConstructorsAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "NOTE multi action Bug expected constructors siblings Constructors selected action", "bug_title": " [call hierarchy] Wrong behavior of Expand With Constructors on multi-selection with parent/child", "bug_description": "I20090428-0100. When having a multi-selection of children (not siblings) in the Call Hierarchy the behavior of 'Expand With Constructors' is wrong: it only applies it on the first selected item. Either we should not offer the action in this case or we apply the state to all selected elements, so that when I later expand one of the callers I get the constructors as well. NOTE: multi-selection on siblings works as expected."}, {"bug_id": "274364", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "missing quick method ASTNode Factory   Invoking", "bug_title": " [quick fix] NPE in ASTNodeFactory when method return type is missing", "bug_description": "I20090428-0100 Invoking quick fix on \"foo\" results in an NPE: public class Snippet { abstract foo(); } If Snippet is declared as interface the quick fix works fine."}, {"bug_id": "275286", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaStructureDiffViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "setting Compare stacks Object Creator side org Dani Dani Reconciler", "bug_title": " [compare] createStructure is called three times for both sides when opening compare editor", "bug_description": "3.5M7 Select two Java files in PE and do Compare With > Each Other. org.eclipse.compare.structuremergeviewer.StructureCreator.createStructure(Object, IProgressMonitor) is called 3 times for each side resulting in creating AST 6 times total. - first, when setting input on structure pane - second, when updating content of content pane - third,  called by JavaReconciler Individual stacks will follow. The issue is similar to what Dani observed in bug 262557, comment 7, bullet 2."}, {"bug_id": "275308", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/OpenTestAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug fails JUnit SimpleParamTest Exception Method JVM straight open Parameters", "bug_title": " [JUnit] @RunWith(Parameterized) results don't navigate", "bug_description": "Build ID: 3.5M7 ** This is trivial and safe (a 1 liner).  Can you please get it in 3.5 before release ** Steps To Reproduce: 1. Compile and run the test below in with JUnit4, JDK5+ 2. Double-click on the failed test in the JUnit view Expected result: Should open the testIsFirst() method Actual result: \"Method 'testIsFirst[1]' not found\" Proposed (quick, safe) solution: trim to first \"[\" if search for the method fails, and try again. Could prob trim to first \"[\" straight away, but I'm no expert on what chars are allowed in function names by the JVM. ---- import static org.junit.Assert.assertEquals; import java.util.Collection; import org.junit.Test; import org.junit.runner.RunWith; import org.junit.runners.Parameterized; import org.junit.runners.Parameterized.Parameters; @RunWith(Parameterized.class) public class SimpleParamTest { @Parameters public static Collection<?> data() { return Parameterized.eachOne(\"First\", \"Second\"); } private final String o; public SimpleParamTest(String o) { this.o = o; } @Test public void testIsFirst() throws Exception { assertEquals(\"First\", o); } }"}, {"bug_id": "275370", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/source/GenerateToStringTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/tostringgeneration/AbstractToStringGenerator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "method Limit suffix variable suffixes maxLen max local maxLen parameter", "bug_title": " [toString] Generator uses wrong suffixes and prefixes", "bug_description": "Steps To Reproduce: When \"Limit number of items...\" option is selected, the maxLen variable in generated toString() method has parameter prefix and suffix appended instead of local variable ones."}, {"bug_id": "276285", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/CodeAssistFavoritesConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "preferences resize Java vertically assist Java preference assist Edit Edit", "bug_title": " [content assist][preferences] 'Favorites' should grow list on resize", "bug_description": "I20090513-2000 The Java > Editor > Content Assist > Favorites preference page needs some polish: - list should grow vertically - 'Edit' button should be 'Edit...'"}, {"bug_id": "276466", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyContentProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/ExpandWithConstructorsConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/ExpandWithConstructorsDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/PreferenceConstants.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Menu configure bug constructors user configure https constructors Preferences bugs", "bug_title": " [call hierarchy] Improve UI for View Menu Preferences", "bug_description": "Build ID: I20090514-2000 Steps To Reproduce: From bug <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=274087\"></a> Need to improve the UI for Preferences action in the call hierarchy view menu for configuring the expand with constructors by default. It should allow the user to configure a list of types or/and methods for which the call hierarchy is by default expand with constructors. More information:"}, {"bug_id": "276744", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/GenerateHashCodeEqualsAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "investigate Wizard blocks broken Markus hashcode hashcode investigate investigate bug", "bug_title": " [hashcode/equals] New 3.5 feature not working: [hashcode/equals] Wizard should allow to specify that blocks should always be used", "bug_description": "I20090515-1143. See bug 250621: this used to work in M3 but got broken during M6. Markus, please investigate. We should fix this for 3.5."}, {"bug_id": "27687", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarPackagerMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarFileExportOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "brings export Jar eclipse java path Problem Jar writing Generate", "bug_title": " Jar export: Cannot export java project as a jar when manifest file is present", "bug_description": "Steps to reproduce: 1. Create a java project 2. Create a simple folder in your project.  Call it \"META-INF\". 3. Create a simple file in the META-INF folder.  Call it \"MANIFEST.MF\". 4. In the context menu of your java project, click \"Export\" and select JAR file. 5. Fill in the export destination path and click Next. 6. Click Next again to go to the JAR Manifest Specification page of the wizard. The same thing happens whether you choose \"Generate the manifest file\" or \"Use existing manifest from workspace\" and select the file, then click Finish.  The popup appears: Confirm Replace The file 'E:\\eclipse_workbench\\eclipse\\workspace\\Test.jar' already exists. Do you want to overwrite it? Yes    No No: takes you back to the JAR Manifest Specification page of the JAR Export wizard. Yes: brings up the following error popup: JAR Export JAR creation failed.  See details for additional information Details: Problem writing /<project name>/META-INF/MANIFEST.MF to JAR: duplicate entry: META-INF/MANIFEST.MF"}, {"bug_id": "276906", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/BuildPathsBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "build bin ROOT remove telling deletion Create Dialog Dialog output", "bug_title": " [build path] Dialog telling about output folder deletion should be improved", "bug_description": "Build id: I20090515-1143 Steps: 1. Create a linked folder \"bin_ext\" in your workspace 2. Change Default output folder to \"bin_ext\" 4. You have a prompt whether to remove the old location 5. Click Yes and \"bin\" is deleted 6. Change Default output folder back to \"bin\" 7. You have a prompt whether to remove the old location Actual: 8A. Click Yes and \"bin_ext\" is not deleted Expected: 8B. Click Yes and \"bin_ext\" is deleted, it's clear from the prompt: \"The output folder has changed. Do you want to remove the old location \"<ROOT/>/bin_ext\" and its content?\""}, {"bug_id": "278201", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "modifier args constants quick Eclipse", "bug_title": " [quick fix] 'Remove static modifier' is not a possible solution for constants in interfaces", "bug_description": "Build ID: Version: 3.4.2 Build id: M20090211-1700 Steps To Reproduce: In interface I { int i = 2; } class IImpl implements I { public static void main( String[] args ) { IImpl impl = new IImpl(); System.out.println( impl.i );  // <- } } Eclipse gives a message on impl.i to remove the static modifier. This shouldn't be in the list of quick fixes. More information:"}, {"bug_id": "279124", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/ExpressionsFix.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Microsystems parenthesis destroyed variable remove Recieve Remove eclipse epp PND", "bug_title": " [quick assist] 'Remove extra parenthesis' removes comment", "bug_description": "Build ID: I20090522-1710 java.version=1.6.0_13 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_GB Framework arguments:  -product org.eclipse.epp.package.jee.product Command-line arguments:  -os win32 -ws win32 -arch x86 -product org.eclipse.epp.package.jee.product Steps To Reproduce: 1. Create a class like: class PND { void foo() { int a = 7; if (a != 4 && // check a is 5 (a != 5)) { System.out.println(a); } } } 2. Place the cursor before the the open bracket: (a != 5) 3. Quick-fix -> remove extra parenthesis 4. Recieve: if (a != 4 && a != 5) { System.out.println(a); } ..with the comment destroyed. There are other issues about comments being removed when, say, a local variable is inlined, but I believe this to be a separate case."}, {"bug_id": "279981", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/TargetProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "result Constructor Local hash   Build", "bug_title": " Constructor inlining produces illegal result.", "bug_description": "Build ID: I20090605-1444   (3.5RC4) Please select identifier \"Local\" on LINE 4 and try to inline.  The result won't compile. class Bug { { class Local { Local(int x){ //LINE 4 } } new Local(hashCode()); } }"}, {"bug_id": "280333", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/ui/refactoring/RefactoringWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "finish terminates Finish refactoring Exception closed printStackTrace operation Wizard Refactoring", "bug_title": " [refactoring] enhance Javadoc of RefactoringWizard.performFinish() (was: Refactoring wizard remains open with enabled buttons after refactoring operation completes)", "bug_description": "Refactoring wizard remains open with enabled buttons after refactoring operation completes. When an extension of the org.eclipse.ltk.ui.refactoring.RefactoringWizard performs steps after the call to org.eclipse.ltk.ui.refactoring.RefactoringWizard.performFinish() in the <subclass>.performFinish() method, the refactoring wizard remains open with the Finish/Next buttons enabled until the <subclass>.performFinish() method terminates. Steps to reproduce: 1) Create a extension of the org.eclipse.ltk.ui.refactoring.RefactoringWizard. 2) In the <subclass>.performFinish() method, call org.eclipse.ltk.ui.refactoring.RefactoringWizard.performFinish() and then: try { Thread.sleep(5000); } catch (Exception e) { e.printStackTrace(); } 3) Open the refactoring wizard and finish the operation (click Finish). 4) Note the Next/Finish buttons remain disabled until the refactoring operation terminates and then enable for the 5 second sleep before the refactoring wizard is closed."}, {"bug_id": "28277", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "refresh Java   reappear undergo", "bug_title": " Double-clicking in the Types view refreshes decorators", "bug_description": "In build I20021210, with CVS decorators turned on, in the Java browing perspective, if I double click on a class in the Types view, the decorators in the view undergo a visible refresh (i.e. they go away and then reappear)."}, {"bug_id": "283697", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "missing Add bunch quick methods", "bug_title": " [quick fix] Add missing @Override should be first on suggestions", "bug_description": "When using JDK 1.5, and I press control-1 on an elem with a missing override warning, the \"Add missing @Override\" is last on the list, after a bunch of (most of the time) useless suggestions about renaming or creating methods.  Adding the @Override is what is wanted almost all of the time."}, {"bug_id": "283851", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/JUnitMessages.properties", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/JUnitMessages.properties", "org.eclipse.jdt.junit/src/org/eclipse/jdt/junit/launcher/JUnitLaunchConfigurationTab.java"], "repo": "eclipse.jdt.ui", "reformed_query": "nit fTestMethodLabel Text accepts setTestMethodLabel JUnitLaunchConfigurationTab Messages Bug setText Original", "bug_title": " Very Minor cleanup in JUnitLaunchConfigurationTab", "bug_description": "Build ID: M20090211-1700 Steps To Reproduce: private void setTestMethodLabel(String testMethodName) { if (!\"\".equals(testMethodName)) { fTestMethodLabel.setText(JUnitMessages.JUnitLaunchConfigurationTab_label_method+fOriginalTestMethodName); } else { fTestMethodLabel.setText(\"\"); } } This method is only used once, accepts the test method name, and yet still uses the class variable. Minor nit, but you should consistently use the parameter. More information:"}, {"bug_id": "284728", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/JavadocView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "empty view widget stays view Bug widget widget browser Javadoc", "bug_title": " [misc] Javadoc view stays empty if browser widget is not available", "bug_description": "3.5 and I20090721-1200, was OK in 3.4 The Javadoc view stays empty if browser widget is not available."}, {"bug_id": "285024", "ground_truth": ["org.eclipse.ltk.core.refactoring/src/org/eclipse/ltk/core/refactoring/PerformChangeOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug Perform API loosen Perform Bug scheduling TextChange Scheduling Change", "bug_title": " [ltk] Cannot run PerformChangeOperation in \"null\" ISchedulingRule", "bug_description": "It is not fair for the PerformChangeOperation#setSchedulingRule() API call to not allow a \"null\" scheduling rule. There are some TextChange's that do not require any rules at all to run, like DocumentChange. Please loosen the API restrictions to allow a null scheduling rule."}, {"bug_id": "285523", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/navigator/OpenAndExpand.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JFaceUtil RetargetAction lang Expanded runWithDefault arguments OpenAndExpand getExpandedState Table", "bug_title": " [actions] Error by open a .js file", "bug_description": "What steps will reproduce the problem? 1. \t I switch to the web perspective 2. choose a .js file in my project 3. double klick to open this file -- Error Details -- Date: Tue Aug 04 08:25:42 CEST 2009 Message: Beim Aufrufen des Codes vom Plug-in sind Fehler aufgetreten: \"org.eclipse.jface\". Severity: Fehler Product: Eclipse 1.2.0.20090618-0925 (org.eclipse.epp.package.php.product) Plugin: org.eclipse.jface Session Data: eclipse.buildId=I20090611-1540 java.version=1.6.0_14 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_DE Framework arguments:  -product org.eclipse.epp.package.php.product Command-line arguments:  -os win32 -ws win32 -arch x86 -product org.eclipse.epp.package.php.product Exception Stack Trace: org.eclipse.core.runtime.AssertionFailedException: null argument: at org.eclipse.core.runtime.Assert.isNotNull(Assert.java:85) at org.eclipse.core.runtime.Assert.isNotNull(Assert.java:73) at org.eclipse.jface.viewers.AbstractTreeViewer.getExpandedState(AbstractTreeViewer.java:1196) at org.eclipse.jdt.internal.ui.navigator.OpenAndExpand.expand(OpenAndExpand.java:265) at org.eclipse.jdt.internal.ui.navigator.OpenAndExpand.run(OpenAndExpand.java:51) at org.eclipse.ui.actions.RetargetAction.run(RetargetAction.java:221) at org.eclipse.ui.navigator.CommonNavigatorManager$3.open(CommonNavigatorManager.java:202) at org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48) at org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:842) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:840) at org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1101) at org.eclipse.ui.navigator.CommonViewer.handleOpen(CommonViewer.java:467) at org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1205) at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:264) at org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:258) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:298) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311)"}, {"bug_id": "285556", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/RemoveFromViewAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "items execute hierarchy grandparent Bug call Clear items occurred Remove", "bug_title": " [call hierarchy] Remove from View fails if grandchild is in progress", "bug_description": "I20090803-1800 FUP to bug 41702: When I expand a grandchild node and while the node is still in progress execute Remove from View on the grandparent, I get a \"Multiple problems have occurred\" dialog with items: Adding children Clear Clear Nothing in the log."}, {"bug_id": "285852", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavadocConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "invalid url javaee api location path Validating javaee location http", "bug_title": " [build path] Validating Javadoc url seems to have no effect", "bug_description": "I20090611-1540 1. Right click a referenced library 2. Properties 3. Javadoc 4. add a javadoc url path i.e. http://java.sun.com/javaee/5/docs/api/ 5. Validate... Is: Nothing happens, no feedback Should: Say: \"location is likely valid/invalid\" This is on GTK"}, {"bug_id": "285854", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javadocexport/JavadocWizard.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavadocConfigurationPropertyPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "javadoc resolves guess Workaround java property javadoc click Reopen build", "bug_title": " [build path] javadoc location can't be changed to domain name if ip is given", "bug_description": "I20090611-1540 1. Right click a referenced library 2. Properties 3. Javadoc 4. Provide a javadoc location url, take: http://72.5.124.55/javaee/5/docs/api/ 5. Ok 6. Reopen the javadoc property page 7. Change url to: http://java.sun.com/javaee/5/docs/api/ 8. Ok 9. Reopen the javadoc property page Is: The javadoc location url is still http://72.5.124.55/javaee/5/docs/api/ Should: be changed to http://java.sun.com/javaee/5/docs/api/ 72.5.124.55 resolves to java.sun.com. I guess a compare is made on the URLs, which resolves the IP and hence the dialog thinks, that the two urls are equals. Workaround is to change the url to a dummy url first and then to the correct one."}, {"bug_id": "286221", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/MoveInstanceMethodProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Move method move type refactoring methods status", "bug_title": " [move method] Move refactoring can produce duplicate methods [refactoring]", "bug_description": "Build ID: I20090611-1540 Steps To Reproduce: Steps To Reproduce: 1. Create the following classes: public class O { private S _s; public void m(){} } public class S { public void m(){} } 2. Now use the move refactoring to move method O.m to S. 3. The refactoring performs and produces the compile error without indicating an error status: Duplicate method m() in type S\tS.java More information:"}, {"bug_id": "286406", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/ClassPathDetector.java"], "repo": "eclipse.jdt.ui", "reformed_query": "verified folder files entry Steps attaching File attached string", "bug_title": " [build path] File -> New Java Project not identifying source files correctly", "bug_description": "Created attachment 144251 [details] default Java import method Build ID: 20090619-0625 Steps To Reproduce: 1. Download the ZIP file attached, it will be in a DoubleIt folder that contains one Eclipse subproject (service-war). 2. Now, import DoubleIt into Eclipse.  File -> New -> Java Project -> Create Project from existing Source -> Choose \"DoubleIt\" folder and click \"Next\". 3. The default source code import is not loading from service-war/target/generated-sources correctly--creates subsequent classpath problems if not manually changed on this page. org.example.contract.doubleit under this folder loads correctly but not org.example.schema.doubleit--unsure why one would but not the other. More information: The .classpath entry of the default (incorrect) source file detection is this: <classpath> ... <classpathentry excluding=\"org/example/schema/doubleit/\" kind=\"src\" path=\"service-war/target/generated-sources\"/> <classpathentry kind=\"src\" path=\"service-war/target/generated-sources/org/example/schema/doubleit\"/> It should be this by default: <classpath> ... <classpathentry kind=\"src\" path=\"service-war/target/generated-sources\"/> ... The incorrect default causes Eclipse to complain that classes in the org.example.schema.doubleit package should have a package name of \"\" (empty string). I'm attaching screenshots showing the bad default and what should be the good default, as well as the Navigator view consequences of having the bad default. (Note: screenshots from Eclipse 3.4 but verified same problem with 3.5.)"}, {"bug_id": "28698", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Ctrl editor", "bug_title": " Ctrl+O (show outline) does not work if the file being shown in the editor is read only", "bug_description": "M4 The summary tells all. Works if the file is not read only. Is this by design?"}, {"bug_id": "287049", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/AddImportsOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Save AddImport Java text util Shift Ctrl java", "bug_title": " [actions] 'Add Import' always marks the editor as if it has unsaved changes", "bug_description": "Build ID: I20090611-1540 Steps To Reproduce: 1. Save the Java source file. 2. Put the cursor to any class name which already has an appropriate 'import' statement or doesn't need it, press Shift-Ctrl-M or use corresponding menu item for 'Add Import'. The editor will be marked by an asterisk as if it has unsaved changes, and the 'Save' button on the toolbar will become available, but no text is really changed. More information: Example: import java.util.Map; public class AddImport { Map map; String s; } Pressing Shift-Ctrl-M on either 'Map' or 'String' causes the described things to happen."}, {"bug_id": "287078", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/AbstractJavaCompletionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "proposals Overwrite caret good good endsWth proposals mode endsWth Overwrite", "bug_title": " [content assist] Overwrite mode not rendered after filtering proposals", "bug_description": "I20090818-0800 void m(String s) { s.endsWth(s); } - enable Java > Editor > Content Assist > Completion overwrites - set caret after 's.e' - Ctrl+Space => word gets yellow bg (good) - type 'q' => after a second, the yellow bg is not drawn any more"}, {"bug_id": "288121", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/reorg/RenameMethodWithOverloadPerfTests.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Comments suite Comments Tests referencing RenameMethodWithOverloadPerfTests explainDegradation method code perfs", "bug_title": " [perfs] Comments applied for performance tests are obsolete", "bug_description": "Looking at code in HEAD today, I can see that RenameMethodWithOverloadPerfTests test suite has a method explainDegradation() method referencing the Performance.setComment method with the following comment: \"The degradation is a consequence of fixing bug 250454 in JDT Core.\" As bug 250454 was fixed in 3.5 this comment should be removed for 3.6 performance tests, hence update the 3 methods using it (i.e. calling explainDegradation())."}, {"bug_id": "288385", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/AbstractCleanUp.java"], "repo": "eclipse.jdt.ui", "reformed_query": "BusyIndicator PlatformUI EclipseAppLauncher AbstractCleanUp Adapter runWithEvent java Cleanup Refactoring Deferred", "bug_title": " [clean up] Internal error with configured profiles from multiple projects", "bug_description": "During clean up of sources the internal error occured. -- Configuration Details -- Product: Eclipse 1.2.0.20090619-0620 (org.eclipse.epp.package.java.product) Installed Features: org.eclipse.jdt 3.5.0.v20090527-2000-7r88FEeFJePyvYeA33DjZ_c1 eclipse.buildId=I20090611-1540 java.version=1.6.0_16 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_GB Framework arguments:  -product org.eclipse.epp.package.java.product Command-line arguments:  -os win32 -ws win32 -arch x86 -product org.eclipse.epp.package.java.product Error Wed Sep 02 19:10:58 CEST 2009 Internal Error java.lang.reflect.InvocationTargetException at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421) at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:944) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.internalPerformFinish(RefactoringWizard.java:557) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.performFinish(UserInputWizardPage.java:153) at org.eclipse.jdt.internal.ui.fix.CleanUpRefactoringWizard$CleanUpConfigurationPage.performFinish(CleanUpRefactoringWizard.java:443) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.performFinish(RefactoringWizard.java:621) at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:752) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog.finishPressed(RefactoringWizardDialog.java:108) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:143) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:155) at org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:38) at org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startCleanupRefactoring(RefactoringExecutionStarter.java:251) at org.eclipse.jdt.internal.ui.actions.AllCleanUpsAction.performRefactoring(AllCleanUpsAction.java:75) at org.eclipse.jdt.internal.ui.actions.CleanUpAction.runOnMultiple(CleanUpAction.java:203) at org.eclipse.jdt.internal.ui.actions.CleanUpAction.run(CleanUpAction.java:108) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:250) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:119) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:470) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:824) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:880) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:569) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:510) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:125) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1191) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1027) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1012) at org.eclipse.swt.widgets.Control.traverse(Control.java:3658) at org.eclipse.swt.widgets.Control.translateMnemonic(Control.java:3502) at org.eclipse.swt.widgets.Composite.translateMnemonic(Composite.java:1065) at org.eclipse.swt.widgets.Control.translateMnemonic(Control.java:3520) at org.eclipse.swt.widgets.Display.translateMnemonic(Display.java:4401) at org.eclipse.swt.widgets.Display.filterMessage(Display.java:1205) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3469) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) Caused by: org.eclipse.core.runtime.AssertionFailedException: assertion failed: at org.eclipse.core.runtime.Assert.isTrue(Assert.java:110) at org.eclipse.core.runtime.Assert.isTrue(Assert.java:96) at org.eclipse.jdt.internal.ui.fix.AbstractCleanUp.setOptions(AbstractCleanUp.java:47) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.setOptionsFromProfile(CleanUpRefactoring.java:724) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.checkFinalConditions(CleanUpRefactoring.java:654) at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:85) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:121) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:211) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) Root exception: org.eclipse.core.runtime.AssertionFailedException: assertion failed: at org.eclipse.core.runtime.Assert.isTrue(Assert.java:110) at org.eclipse.core.runtime.Assert.isTrue(Assert.java:96) at org.eclipse.jdt.internal.ui.fix.AbstractCleanUp.setOptions(AbstractCleanUp.java:47) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.setOptionsFromProfile(CleanUpRefactoring.java:724) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.checkFinalConditions(CleanUpRefactoring.java:654) at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:85) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:121) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:211) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)"}, {"bug_id": "288529", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javadocexport/JavadocSpecificsWizardPage.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JavaModelUtil.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageOne.java"], "repo": "eclipse.jdt.ui", "reformed_query": "list implies behavior compiler target handle handle compliance order order", "bug_title": " Add new compliance 1.7 in the compiler compliance list", "bug_description": "In order to start to investigate 1.7 support and also to handle 1.7 specific behavior in the compiler we would need to be able to set the compliance 1.7 in the UI. By default compliance 1.7 implies source 1.7 and target 1.7."}, {"bug_id": "288847", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/typehierarchy/TypeHierarchyContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "User NativeMethodAccessorImpl runWithEvent Compatible basicRun hierarchy TreeViewer Launcher runWithDefault reflect", "bug_title": " [type hierarchy] NPE from type hierarchy view when refactoring a method", "bug_description": "I20090901-0800 I added an argument to a method using the refactoring wizard and received this error. java.lang.NullPointerException at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyContentProvider.isCompatibleMethod(TypeHierarchyContentProvider.java:118) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyContentProvider.hasCompatibleMethod(TypeHierarchyContentProvider.java:107) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyContentProvider.hasMemberFilterChildren(TypeHierarchyContentProvider.java:301) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyContentProvider.isInTree(TypeHierarchyContentProvider.java:287) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyContentProvider.hasTypeChildren(TypeHierarchyContentProvider.java:315) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyContentProvider.isInTree(TypeHierarchyContentProvider.java:287) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyContentProvider.hasTypeChildren(TypeHierarchyContentProvider.java:315) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyContentProvider.hasChildren(TypeHierarchyContentProvider.java:251) at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTreeViewer.java:2083) at org.eclipse.jface.viewers.TreeViewer.isExpandable(TreeViewer.java:587) at org.eclipse.jdt.internal.ui.viewsupport.ProblemTreeViewer.isExpandable(ProblemTreeViewer.java:246) at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTreeViewer.java:2109) at org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus(AbstractTreeViewer.java:2791) at org.eclipse.jface.viewers.TreeViewer.updatePlus(TreeViewer.java:847) at org.eclipse.jface.viewers.AbstractTreeViewer.updateChildren(AbstractTreeViewer.java:2684) at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(AbstractTreeViewer.java:1863) at org.eclipse.jface.viewers.TreeViewer.internalRefreshStruct(TreeViewer.java:716) at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefreshStruct(AbstractTreeViewer.java:1870) at org.eclipse.jface.viewers.TreeViewer.internalRefreshStruct(TreeViewer.java:716) at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1838) at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1794) at org.eclipse.jface.viewers.AbstractTreeViewer.internalRefresh(AbstractTreeViewer.java:1780) at org.eclipse.jface.viewers.StructuredViewer$7.run(StructuredViewer.java:1457) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1392) at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:402) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1353) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1455) at org.eclipse.jface.viewers.ColumnViewer.refresh(ColumnViewer.java:537) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1414) at org.eclipse.jdt.internal.ui.typehierarchy.TraditionalHierarchyViewer.updateContent(TraditionalHierarchyViewer.java:40) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart$12.run(TypeHierarchyViewPart.java:1135) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.updateHierarchyViewer(TypeHierarchyViewPart.java:1138) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.methodSelectionChanged(TypeHierarchyViewPart.java:1199) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.doSelectionChanged(TypeHierarchyViewPart.java:1180) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart$4.selectionChanged(TypeHierarchyViewPart.java:339) at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:864) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:862) at org.eclipse.jface.viewers.StructuredViewer.setSelection(StructuredViewer.java:1670) at org.eclipse.jface.viewers.TableViewer.setSelection(TableViewer.java:158) at org.eclipse.jface.viewers.Viewer.setSelection(Viewer.java:392) at org.eclipse.jdt.internal.ui.typehierarchy.MethodsViewer.handleInvalidSelection(MethodsViewer.java:287) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1405) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1353) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1455) at org.eclipse.jface.viewers.ColumnViewer.refresh(ColumnViewer.java:537) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1414) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.doTypeHierarchyChangedOnViewers(TypeHierarchyViewPart.java:1479) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart$16.run(TypeHierarchyViewPart.java:1449) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3860) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3481) at org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:173) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:388) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.run(RefactoringWizardDialog2.java:330) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.internalPerformFinish(RefactoringWizard.java:557) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.performFinish(UserInputWizardPage.java:153) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.performFinish(RefactoringWizard.java:630) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.okPressed(RefactoringWizardDialog2.java:453) at org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:472) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3885) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3478) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:143) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:155) at org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:38) at org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startChangeSignatureRefactoring(RefactoringExecutionStarter.java:213) at org.eclipse.jdt.ui.actions.ModifyParametersAction.run(ModifyParametersAction.java:127) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:250) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3885) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3478) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:610) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:565) at org.eclipse.equinox.launcher.Main.run(Main.java:1362) at org.eclipse.equinox.launcher.Main.main(Main.java:1338)"}, {"bug_id": "288931", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/TestRunHandler.java"], "repo": "eclipse.jdt.ui", "reformed_query": "test downloads runApplication Failures Handle testcase application test read start", "bug_title": " [JUnit] Test failure in TestRunSessionSerializationTests3.testFailures in I20090908-0800", "bug_description": "I20090908-0800 Test failure in TestRunSessionSerializationTests3.testFailures, see http://download.eclipse.org/eclipse/downloads/drops/I20090908-0800/testresults/html/org.eclipse.jdt.ui.tests_linux.gtk.x86.html : expected:<...rs=\"1\" ignored=\"0\"> [ <testsuite name=\"pack.Failures\" time=\"\"> <testcase name=\"testNasty\" classname=\"pack.Failures\" time=\"\"> <failure>junit.framework.AssertionFailedError: </failure> </failure> </testcase> <testcase name=\"testError\" classname=\"pack.Failures\" time=\"\"> <error>java.lang.IllegalStateException: </failure> </error> </testcase> <testcase name=\"testCompare\" classname=\"pack.Failures\" time=\"\"> <failure> <expected> Hello World. </expected> <actual> Hello my friend.</actual>junit.framework.ComparisonFailure: expected:< [Hello World. ]> but was:< [ Hello my friend.]> </failure> </testcase> <testcase name=\"testCompareNull\" classname=\"pack.Failures\" time=\"\"> <failure>junit.framework.ComparisonFailure: expected:<Hello World.> but was:<null> </failure> </testcase> ]</testsuite> </testr...> but was:<...rs=\"1\" ignored=\"0\"> [<testsuite name=\"pack.Failures\" time=\"\"> <testcase name=\"testNasty\" classname=\"pack.Failures\" time=\"\"> <failure>junit.framework.AssertionFailedError: </failure> </failure> </testcase> <testcase name=\"testError\" classname=\"pack.Failures\" time=\"\"> <error>java.lang.IllegalStateException: </failure> </error> </testcase> <testcase name=\"testCompare\" classname=\"pack.Failures\" time=\"\"> <failure> <expected> Hello World. </expected> <actual> Hello my friend.</actual> junit.framework.ComparisonFailure: expected:< [Hello World. ]> but was:< [ Hello my friend.]> </failure> </testcase> <testcase name=\"testCompareNull\" classname=\"pack.Failures\" time=\"\"> <failure>junit.framework.ComparisonFailure: expected:<Hello World.> but was:<null> </failure> </testcase> ]</testsuite> </testr...> junit.framework.ComparisonFailure: expected:<...rs=\"1\" ignored=\"0\"> [ <testsuite name=\"pack.Failures\" time=\"\"> <testcase name=\"testNasty\" classname=\"pack.Failures\" time=\"\"> <failure>junit.framework.AssertionFailedError: </failure> </failure> </testcase> <testcase name=\"testError\" classname=\"pack.Failures\" time=\"\"> <error>java.lang.IllegalStateException: </failure> </error> </testcase> <testcase name=\"testCompare\" classname=\"pack.Failures\" time=\"\"> <failure> <expected> Hello World. </expected> <actual> Hello my friend.</actual>junit.framework.ComparisonFailure: expected:< [Hello World. ]> but was:< [ Hello my friend.]> </failure> </testcase> <testcase name=\"testCompareNull\" classname=\"pack.Failures\" time=\"\"> <failure>junit.framework.ComparisonFailure: expected:<Hello World.> but was:<null> </failure> </testcase> ]</testsuite> </testr...> but was:<...rs=\"1\" ignored=\"0\"> [<testsuite name=\"pack.Failures\" time=\"\"> <testcase name=\"testNasty\" classname=\"pack.Failures\" time=\"\"> <failure>junit.framework.AssertionFailedError: </failure> </failure> </testcase> <testcase name=\"testError\" classname=\"pack.Failures\" time=\"\"> <error>java.lang.IllegalStateException: </failure> </error> </testcase> <testcase name=\"testCompare\" classname=\"pack.Failures\" time=\"\"> <failure> <expected> Hello World. </expected> <actual> Hello my friend.</actual> junit.framework.ComparisonFailure: expected:< [Hello World. ]> but was:< [ Hello my friend.]> </failure> </testcase> <testcase name=\"testCompareNull\" classname=\"pack.Failures\" time=\"\"> <failure>junit.framework.ComparisonFailure: expected:<Hello World.> but was:<null> </failure> </testcase> ]</testsuite> </testr...> at org.eclipse.jdt.junit.tests.AbstractTestRunSessionSerializationTests.assertEqualXML(AbstractTestRunSessionSerializationTests.java:144) at org.eclipse.jdt.junit.tests.AbstractTestRunSessionSerializationTests.runExportImport(AbstractTestRunSessionSerializationTests.java:98) at org.eclipse.jdt.junit.tests.AbstractTestRunSessionSerializationTests.runCUTest(AbstractTestRunSessionSerializationTests.java:234) at org.eclipse.jdt.junit.tests.TestRunSessionSerializationTests3.testFailures(TestRunSessionSerializationTests3.java:53) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) at junit.extensions.TestSetup$1.protect(TestSetup.java:21) at junit.extensions.TestSetup.run(TestSetup.java:25) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) at junit.extensions.TestSetup$1.protect(TestSetup.java:21) at junit.extensions.TestSetup.run(TestSetup.java:25) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:354) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:206) at org.eclipse.test.UITestApplication$3.run(UITestApplication.java:195) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3475) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3122) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:138) at org.eclipse.test.UITestApplication.run(UITestApplication.java:60) at org.eclipse.test.UITestApplication.start(UITestApplication.java:210) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:610) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:565) at org.eclipse.equinox.launcher.Main.run(Main.java:1362) at org.eclipse.equinox.launcher.Main.main(Main.java:1338) at org.eclipse.core.launcher.Main.main(Main.java:34)"}, {"bug_id": "289028", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/LazyJavaTypeCompletionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Platform runWithDefault Breakpoint basic Lazy app code InternalListener launcher LazyJavaCompletionProposal", "bug_title": " [content assist] Missing null check", "bug_description": "Using eclipse.buildId=I20090908-0800 java.version=1.6.0_17-ea java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_CA Command-line arguments:  -os win32 -ws win32 -arch x86 -console, I got this exception while trying to define a condition into a breakpoint. I typed \"Arrays+<code assist>\". I got this stack trace in the console: java.lang.NullPointerException at org.eclipse.jdt.internal.corext.util.JavaModelUtil.isPackageInfo(JavaModelUtil.java:868) at org.eclipse.jdt.internal.ui.text.java.LazyJavaTypeCompletionProposal.computeReplacementString(LazyJavaTypeCompletionProposal.java:102) at org.eclipse.jdt.internal.ui.text.java.LazyJavaCompletionProposal.getReplacementString(LazyJavaCompletionProposal.java:308) at org.eclipse.jdt.internal.ui.text.java.AbstractJavaCompletionProposal.apply(AbstractJavaCompletionProposal.java:357) at org.eclipse.jdt.internal.ui.text.java.LazyJavaTypeCompletionProposal.apply(LazyJavaTypeCompletionProposal.java:200) at org.eclipse.jdt.internal.ui.text.java.AbstractJavaCompletionProposal.apply(AbstractJavaCompletionProposal.java:470) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertProposal(CompletionProposalPopup.java:928) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.insertSelectedProposalWithMask(CompletionProposalPopup.java:879) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.verifyKey(CompletionProposalPopup.java:1306) at org.eclipse.jface.text.contentassist.ContentAssistant$InternalListener.verifyKey(ContentAssistant.java:806) at org.eclipse.jface.text.TextViewer$VerifyKeyListenersManager.verifyKey(TextViewer.java:489) at org.eclipse.swt.custom.StyledTextListener.handleEvent(StyledTextListener.java:62) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1011) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:769) at org.eclipse.swt.custom.StyledText.handleKeyDown(StyledText.java:5840) at org.eclipse.swt.custom.StyledText$7.handleEvent(StyledText.java:5542) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1026) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1011) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1039) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1035) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1367) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4058) at org.eclipse.swt.widgets.Canvas.WM_CHAR(Canvas.java:346) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3951) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:342) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4594) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2418) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3476) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.jdt.internal.debug.ui.actions.JavaBreakpointPropertiesAction.run(JavaBreakpointPropertiesAction.java:44) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:251) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3885) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3478) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:610) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:565) at org.eclipse.equinox.launcher.Main.run(Main.java:1362) at org.eclipse.equinox.launcher.Main.main(Main.java:1338)"}, {"bug_id": "289280", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/IntroduceIndirectionInputPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "classes indirection open Agent choose exist displays Windows exist Mozilla", "bug_title": " [introduce indirection] wizard uses wrong path for inner classes as target", "bug_description": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; de; rv:1.9.1.2) Gecko/20090729 Firefox/3.5.2 (.NET CLR 3.5.30729) Build Identifier: 20090621-0832 Open the select dialog in the \"introduce indirection\" dialog. When you choose some inner class as target (for example Y inner class of X), then the class \"X$Y\" instead of \"X.Y\" is selected. Reproducible: Always Steps to Reproduce: 1. open \"Introduce Indirection\" dialog. 2. select \"Browse\" button 3. choose some inner class 4. select \"OK\" button 5. wonder why Eclipse displays \"Class ... does not exist\""}, {"bug_id": "289455", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/TestRunnerViewPart.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/JUnitPlugin.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JUnit create fresh Test active simple start simple active Bug", "bug_title": " [JUnit] JUnit view not active after test", "bug_description": "I20090915-0100. JUnit view is not active after tests are run. 1. start fresh workspace 2. create a simple JUnit test 3. Run As > JUnit Test ==> Package Explorer is active and JUnit view behind it."}, {"bug_id": "289655", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/RenameInformationPopup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "key change update region pack updatePopupLocation region variable Refactor Popup", "bug_title": " [rename] Refactor rename in editor is slow with many matches", "bug_description": "test case: public class Test { public void test(Object asdf) { if (asdf == null) asdf = null; if (asdf == null) asdf = null; if (asdf == null) asdf = null; if (asdf == null) asdf = null; if (asdf == null) asdf = null; if (asdf == null) asdf = null; } } Use Alt-Shift-R refactoring to change the name of asdf variable. Type quickly and you'll notice the editor quickly falls behind your typing. While investigating this we found that RenameInformationPopup calls updatePopupLocation every time a textChanged or keyPressed event occurs. This means a lot of calls to pack the shell, then update the region and change the shell's height to be one pixel taller. Resizing the shell less would really improve perfomance here on all platforms."}, {"bug_id": "289992", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/BuildPathsBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Monitor deprecated Derived workspace", "bug_title": " Use IResource#setDerived(boolean, IProgressMonitor) instead of IResource#setDerived(boolean)", "bug_description": "IResource#setDerived(boolean) is deprecated. New Use IResource#setDerived(boolean, IProgressMonitor) should be use instead which is a workspace operation and generates delta. See bug 45805."}, {"bug_id": "290034", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "SuppressWarnings Foo warning broader raw   Effects", "bug_title": " Effects of @SuppressWarnings(\"unchecked\") are broader in Eclipse than in javac", "bug_description": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.9.1.3) Gecko/20090824 Firefox/3.5.3 (.NET CLR 3.5.30729) Build Identifier: 20090619-0625 Eclipse seems to overload \"unchecked\" warning suppression to also suppress raw uses of parameterized classes.  Javac doesn't issue a warning in this case so there's nothing to suppress.  However this does pose an issue when working with other IDE's as they will complain about the use of a raw parameterized class.  The following snippet illustrates the difference: public class Foo<T> { //This is unchecked assignment //and should be suppressed using \"unchecked\" //This will appear as a warning in javac Foo<T>[] a = new Foo[10]; //This is raw use of a paramterized type //Not suppressed in javac using \"unchecked\" //This will NOT appear as a warning in javac Foo[] b = new Foo[10]; } The workaround is to declare b with a wildcard, e.g.: Foo<?>[] b = new Foo[10]; Reproducible: Always"}, {"bug_id": "290491", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bottom doesn doesn doesn compliance bottom version compiler longer Compiler", "bug_title": " [preferences] EE/JRE vs. compiler compliance inconsistency should be better visible", "bug_description": "R3.5. We show a message at the bottom of the 'Java Compiler' page if the JRE/EE doesn't fit well together with the compiler compliance. Unfortunately this can easily be overseen. We should either show a warning icon along with a small text pointing to the longer version at the bottom or put a warning icon in front of the current message. The latter might be a better solution."}, {"bug_id": "291716", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/WorkingSetFilter.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/JavaWorkingSetPageContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "working jar resource Resource reproduce level Select impression", "bug_title": " [package explorer] hides jars non-java resources when working set is selected", "bug_description": "I am not sure if this is the right component. Steps to reproduce: 1. Create a java project that has a jar with resources (f.e. properties file) in the referenced libraries. 2. Open package explorer, set top level element to projects, deselect all working sets. 3. Expand the jar. Notice all files (java classes and resource file) 4. Assign the project to any working set. Select the working set. 5. Expand the jar. Resource files (.properties, Manifest) are gone. This is not what user expects. And also gives false impression about jar file state."}, {"bug_id": "291996", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaMergeViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "init processDamage Thread Code TextMergeViewer Chained Compatibility JavaMergeViewer Reconciler access", "bug_title": " [compare] Invalid thread access from JavaMergeViewer during extracting method", "bug_description": "I was extracting method in the source with compilation errors. Error dialog disappeared, so I guess some shell was presented and closed after the error. org.eclipse.swt.SWTException: Invalid thread access at org.eclipse.swt.SWT.error(SWT.java:3952) at org.eclipse.swt.SWT.error(SWT.java:3867) at org.eclipse.swt.SWT.error(SWT.java:3838) at org.eclipse.swt.widgets.Widget.error(Widget.java:463) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:355) at org.eclipse.swt.custom.StyledText.replaceStyleRanges(StyledText.java:7191) at org.eclipse.jface.text.TextViewer.addPresentation(TextViewer.java:4776) at org.eclipse.jface.text.TextViewer.changeTextPresentation(TextViewer.java:4855) at org.eclipse.jface.text.presentation.PresentationReconciler.applyTextRegionCollection(PresentationReconciler.java:579) at org.eclipse.jface.text.presentation.PresentationReconciler.processDamage(PresentationReconciler.java:568) at org.eclipse.jface.text.presentation.PresentationReconciler.access$3(PresentationReconciler.java:564) at org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.textChanged(PresentationReconciler.java:225) at org.eclipse.jface.text.TextViewer.updateTextListeners(TextViewer.java:2806) at org.eclipse.jface.text.TextViewer.invalidateTextPresentation(TextViewer.java:3426) at org.eclipse.compare.contentmergeviewer.TextMergeViewer.invalidateTextPresentation(TextMergeViewer.java:1686) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer.handlePropertyChange(JavaMergeViewer.java:174) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer.access$4(JavaMergeViewer.java:166) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer$2.propertyChange(JavaMergeViewer.java:455) at org.eclipse.ui.texteditor.ChainedPreferenceStore.firePropertyChangeEvent(ChainedPreferenceStore.java:164) at org.eclipse.ui.texteditor.ChainedPreferenceStore.handlePropertyChangeEvent(ChainedPreferenceStore.java:431) at org.eclipse.ui.texteditor.ChainedPreferenceStore.access$0(ChainedPreferenceStore.java:408) at org.eclipse.ui.texteditor.ChainedPreferenceStore$PropertyChangeListener.propertyChange(ChainedPreferenceStore.java:69) at org.eclipse.ui.preferences.ScopedPreferenceStore$3.run(ScopedPreferenceStore.java:375) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.preferences.ScopedPreferenceStore.firePropertyChangeEvent(ScopedPreferenceStore.java:372) at org.eclipse.ui.preferences.ScopedPreferenceStore$2.preferenceChange(ScopedPreferenceStore.java:194) at org.eclipse.core.internal.preferences.EclipsePreferences$2.run(EclipsePreferences.java:753) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.preferences.EclipsePreferences.firePreferenceEvent(EclipsePreferences.java:756) at org.eclipse.core.internal.preferences.EclipsePreferences.put(EclipsePreferences.java:769) at org.eclipse.ui.preferences.ScopedPreferenceStore.setValue(ScopedPreferenceStore.java:789) at org.eclipse.jface.text.templates.persistence.TemplateStore.save(TemplateStore.java:215) at org.eclipse.jdt.internal.ui.CompatibilityTemplateStore.load(CompatibilityTemplateStore.java:64) at org.eclipse.jdt.internal.ui.JavaPlugin.getCodeTemplateStore(JavaPlugin.java:899) at org.eclipse.jdt.internal.ui.viewsupport.ProjectTemplateStore.<init>(ProjectTemplateStore.java:47) at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getCodeTemplate(StubUtility.java:1439) at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getMethodComment(StubUtility.java:616) at org.eclipse.jdt.ui.CodeGeneration.getMethodComment(CodeGeneration.java:196) at org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createNewMethod(ExtractMethodRefactoring.java:908) at org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createChange(ExtractMethodRefactoring.java:486) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:124) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:209) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) org.eclipse.swt.SWTException: Invalid thread access at org.eclipse.swt.SWT.error(SWT.java:3952) at org.eclipse.swt.SWT.error(SWT.java:3867) at org.eclipse.swt.SWT.error(SWT.java:3838) at org.eclipse.swt.widgets.Widget.error(Widget.java:463) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:355) at org.eclipse.swt.custom.StyledText.replaceStyleRanges(StyledText.java:7191) at org.eclipse.jface.text.TextViewer.addPresentation(TextViewer.java:4776) at org.eclipse.jface.text.TextViewer.changeTextPresentation(TextViewer.java:4855) at org.eclipse.jface.text.presentation.PresentationReconciler.applyTextRegionCollection(PresentationReconciler.java:579) at org.eclipse.jface.text.presentation.PresentationReconciler.processDamage(PresentationReconciler.java:568) at org.eclipse.jface.text.presentation.PresentationReconciler.access$3(PresentationReconciler.java:564) at org.eclipse.jface.text.presentation.PresentationReconciler$InternalListener.textChanged(PresentationReconciler.java:225) at org.eclipse.jface.text.TextViewer.updateTextListeners(TextViewer.java:2806) at org.eclipse.jface.text.TextViewer.invalidateTextPresentation(TextViewer.java:3426) at org.eclipse.compare.contentmergeviewer.TextMergeViewer.invalidateTextPresentation(TextMergeViewer.java:1686) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer.handlePropertyChange(JavaMergeViewer.java:174) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer.access$4(JavaMergeViewer.java:166) at org.eclipse.jdt.internal.ui.compare.JavaMergeViewer$2.propertyChange(JavaMergeViewer.java:455) at org.eclipse.ui.texteditor.ChainedPreferenceStore.firePropertyChangeEvent(ChainedPreferenceStore.java:164) at org.eclipse.ui.texteditor.ChainedPreferenceStore.handlePropertyChangeEvent(ChainedPreferenceStore.java:431) at org.eclipse.ui.texteditor.ChainedPreferenceStore.access$0(ChainedPreferenceStore.java:408) at org.eclipse.ui.texteditor.ChainedPreferenceStore$PropertyChangeListener.propertyChange(ChainedPreferenceStore.java:69) at org.eclipse.ui.preferences.ScopedPreferenceStore$3.run(ScopedPreferenceStore.java:375) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.preferences.ScopedPreferenceStore.firePropertyChangeEvent(ScopedPreferenceStore.java:372) at org.eclipse.ui.preferences.ScopedPreferenceStore$2.preferenceChange(ScopedPreferenceStore.java:194) at org.eclipse.core.internal.preferences.EclipsePreferences$2.run(EclipsePreferences.java:753) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.preferences.EclipsePreferences.firePreferenceEvent(EclipsePreferences.java:756) at org.eclipse.core.internal.preferences.EclipsePreferences.put(EclipsePreferences.java:769) at org.eclipse.ui.preferences.ScopedPreferenceStore.setValue(ScopedPreferenceStore.java:789) at org.eclipse.jface.text.templates.persistence.TemplateStore.save(TemplateStore.java:215) at org.eclipse.jdt.internal.ui.CompatibilityTemplateStore.load(CompatibilityTemplateStore.java:64) at org.eclipse.jdt.internal.ui.JavaPlugin.getCodeTemplateStore(JavaPlugin.java:899) at org.eclipse.jdt.internal.ui.viewsupport.ProjectTemplateStore.<init>(ProjectTemplateStore.java:47) at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getCodeTemplate(StubUtility.java:1439) at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility.getMethodComment(StubUtility.java:616) at org.eclipse.jdt.ui.CodeGeneration.getMethodComment(CodeGeneration.java:196) at org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createNewMethod(ExtractMethodRefactoring.java:908) at org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createChange(ExtractMethodRefactoring.java:486) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:124) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:209) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)"}, {"bug_id": "292903", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/GetterSetterCorrectionSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "reflect Command Exception Setter Trace EclipseAppLauncher observable SafeCorrectionProcessorAccess getProposal IDEApplication", "bug_title": " [quick fix] NPE for quick fix on array fields", "bug_description": "I20091020-0931 Use the following snippet and hit Ctrl+1 while the cursor is on \"length\". public class A { public int f() { String[] foo = new String[] {}; return foo.length; } } -- Error Details -- Date: Wed Oct 21 16:50:03 CEST 2009 Message: Exception while processing quick fixes or quick assists Severity: Error Product: Eclipse SDK 3.6.0.v200910200931 (org.eclipse.sdk.ide) Plugin: org.eclipse.jdt.ui Exception Stack Trace: java.lang.NullPointerException at org.eclipse.jdt.internal.corext.dom.Bindings.findMethodInType(Bindings.java:345) at org.eclipse.jdt.internal.corext.dom.Bindings.findMethodInHierarchy(Bindings.java:371) at org.eclipse.jdt.internal.ui.text.correction.GetterSetterCorrectionSubProcessor.findGetter(GetterSetterCorrectionSubProcessor.java:301) at org.eclipse.jdt.internal.ui.text.correction.GetterSetterCorrectionSubProcessor.addGetterProposal(GetterSetterCorrectionSubProcessor.java:273) at org.eclipse.jdt.internal.ui.text.correction.GetterSetterCorrectionSubProcessor.getProposal(GetterSetterCorrectionSubProcessor.java:262) at org.eclipse.jdt.internal.ui.text.correction.GetterSetterCorrectionSubProcessor.addGetterSetterProposal(GetterSetterCorrectionSubProcessor.java:234) at org.eclipse.jdt.internal.ui.text.correction.GetterSetterCorrectionSubProcessor.addGetterSetterProposal(GetterSetterCorrectionSubProcessor.java:211) at org.eclipse.jdt.internal.ui.text.correction.AdvancedQuickAssistProcessor.getAssists(AdvancedQuickAssistProcessor.java:165) at org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor$SafeAssistCollector.safeRun(JavaCorrectionProcessor.java:399) at org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor$SafeCorrectionProcessorAccess.run(JavaCorrectionProcessor.java:337) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor$SafeCorrectionProcessorAccess.process(JavaCorrectionProcessor.java:327) at org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.collectAssists(JavaCorrectionProcessor.java:503) at org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.collectProposals(JavaCorrectionProcessor.java:285) at org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionProcessor.computeQuickAssistProposals(JavaCorrectionProcessor.java:240) at org.eclipse.jface.text.quickassist.QuickAssistAssistant$ContentAssistProcessor.computeCompletionProposals(QuickAssistAssistant.java:73) at org.eclipse.jface.text.contentassist.ContentAssistant.computeCompletionProposals(ContentAssistant.java:1834) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.computeProposals(CompletionProposalPopup.java:557) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.access$16(CompletionProposalPopup.java:554) at org.eclipse.jface.text.contentassist.CompletionProposalPopup$2.run(CompletionProposalPopup.java:489) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.text.contentassist.CompletionProposalPopup.showProposals(CompletionProposalPopup.java:483) at org.eclipse.jface.text.contentassist.ContentAssistant.showPossibleCompletions(ContentAssistant.java:1660) at org.eclipse.jface.text.quickassist.QuickAssistAssistant.showPossibleQuickAssists(QuickAssistAssistant.java:126) at org.eclipse.jdt.internal.ui.text.correction.JavaCorrectionAssistant.showPossibleQuickAssists(JavaCorrectionAssistant.java:190) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$AdaptedSourceViewer.doOperation(CompilationUnitEditor.java:194) at org.eclipse.ui.texteditor.TextOperationAction$1.run(TextOperationAction.java:131) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.texteditor.TextOperationAction.run(TextOperationAction.java:129) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:185) at org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:109) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:470) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:824) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:880) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:569) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:510) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:125) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1472) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1185) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1210) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1195) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1222) at org.eclipse.swt.widgets.Widget.gtk_key_press_event(Widget.java:712) at org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:2824) at org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:703) at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:1627) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4573) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4176) at org.eclipse.swt.internal.gtk.OS._gtk_main_do_event(Native Method) at org.eclipse.swt.internal.gtk.OS.gtk_main_do_event(OS.java:7643) at org.eclipse.swt.widgets.Display.eventProc(Display.java:1190) at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method) at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:1871) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3095) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2404) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2368) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2220) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:611) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:566) at org.eclipse.equinox.launcher.Main.run(Main.java:1363)"}, {"bug_id": "294322", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/FatJarRsrcUrlManifestProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JAR files Select NoClassDefFoundError loading Exception included loader Firefox", "bug_title": " [jar exporter] Runnable JAR Export - problem with special characters in included JAR-in-JAR filenames", "bug_description": "User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; de; rv:1.9.0.14) Gecko/2009091008 Firefox/3.0.6 (Debian-3.0.6-3) Build Identifier: 20090619-0625 When exporting a \"Runnable JAR File\" from an Eclipse project which itself contains JAR files, a class loader is included in the runnable JAR. This JAR-in-JAR class loader seems to have problems loading classes from JAR-files with filenames containing special characters like '+'. When running such a runnable JAR, an InvocationTargetException caused by NoClassDefFoundError is thrown. Reproducible: Always Steps to Reproduce: 1. Export a Runnable JAR File from an Eclipse project which references a JAR library. 2. Select option \"Package required libraries into generated JAR\" in the Export dialog. 3. Execute the runnable JAR."}, {"bug_id": "294763", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ProblemSeveritiesPreferencePage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Dear Dear Bug preference Warnings Compiler Created JDT resize preference", "bug_title": " Compiler Errors/Warnings preference page doesn't resize well", "bug_description": "Created attachment 151849 [details] screenshot Dear JDT, Would it be possible to have just one scrollbar on this page?"}, {"bug_id": "295230", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/JUnitPreferencesConstants.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/EnableStackFilterAction.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/FailureTrace.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/JUnitPreferencePage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug JUnit preference loads", "bug_title": " [JUnit] Opening JUnit view loads preference page class", "bug_description": "I20091110-0800. Opening JUnit view loads preference page class. This is a blooper."}, {"bug_id": "29531", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/AbstractJavaScanner.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Text initialize java Document NullPointerException TextBufferFactory getColor addToken Manager", "bug_title": " JavaColorManager initialized in non UI thread", "bug_description": "Build I20030114 - open Workspace - select CU without opening in editor - activate Move refactoring - select different package - press Preview Caused by: java.lang.NullPointerException at org.eclipse.jdt.internal.ui.text.JavaColorManager.getColor(JavaColorManager.java:53) at org.eclipse.jdt.internal.ui.text.JavaColorManager.getColor(JavaColorManager.java:85) at org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.addToken(AbstractJavaScanner.java:90) at org.eclipse.jdt.internal.ui.text.AbstractJavaScanner.initialize(AbstractJavaScanner.java:75) at org.eclipse.jdt.internal.ui.text.java.JavaCodeScanner.<init>(JavaCodeScanner.java:126) at org.eclipse.jdt.ui.text.JavaTextTools.<init>(JavaTextTools.java:80) at org.eclipse.jdt.internal.ui.JavaPlugin.getJavaTextTools(JavaPlugin.java:316) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.initializeDocument(CompilationUnitDocumentProvider.java:979) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createDocument(CompilationUnitDocumentProvider.java:994) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$BufferFactory.internalGetDocument(CompilationUnitDocumentProvider.java:630) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider$BufferFactory.createBuffer(CompilationUnitDocumentProvider.java:646) at org.eclipse.jdt.internal.core.WorkingCopy.openBuffer(WorkingCopy.java:365) at org.eclipse.jdt.internal.core.Openable.getBuffer(Openable.java:192) at org.eclipse.jdt.internal.core.CompilationUnit.getContents(CompilationUnit.java:367) at org.eclipse.jdt.internal.compiler.parser.Parser.parse(Parser.java:7095) at org.eclipse.jdt.internal.compiler.SourceElementParser.parseCompilationUnit(SourceElementParser.java:1051) at org.eclipse.jdt.internal.core.CompilationUnit.generateInfos(CompilationUnit.java:323) at org.eclipse.jdt.internal.core.CompilationUnit.buildStructure(CompilationUnit.java:77) at org.eclipse.jdt.internal.core.Openable.openWhenClosed(Openable.java:395) at org.eclipse.jdt.internal.core.Openable.open(Openable.java:346) at org.eclipse.jdt.internal.core.WorkingCopy.open(WorkingCopy.java:354) at org.eclipse.jdt.internal.core.CompilationUnit.getWorkingCopy(CompilationUnit.java:609) at org.eclipse.jdt.internal.core.CompilationUnit.getSharedWorkingCopy(CompilationUnit.java:581) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitDocumentProvider.createElementInfo(CompilationUnitDocumentProvider.java:845) at org.eclipse.ui.texteditor.AbstractDocumentProvider.connect(AbstractDocumentProvider.java:302) at org.eclipse.jdt.internal.corext.textmanipulation.TextBufferFactory.acquire(TextBufferFactory.java:85) at org.eclipse.jdt.internal.corext.textmanipulation.TextBuffer.acquire(TextBuffer.java:371) at org.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.aquireTextBuffer(ImportsStructure.java:538) at org.eclipse.jdt.internal.corext.codemanipulation.ImportsStructure.<init>(ImportsStructure.java:85) at org.eclipse.jdt.internal.corext.codemanipulation.ImportEdit.<init>(ImportEdit.java:33) at org.eclipse.jdt.internal.corext.refactoring.reorg.MoveCuUpdateCreator.getImportEdit(MoveCuUpdateCreator.java:217) at org.eclipse.jdt.internal.corext.refactoring.reorg.MoveCuUpdateCreator.addImportToSourcePackageTypes(MoveCuUpdateCreator.java:176) at org.eclipse.jdt.internal.corext.refactoring.reorg.MoveCuUpdateCreator.addUpdates(MoveCuUpdateCreator.java:121) at org.eclipse.jdt.internal.corext.refactoring.reorg.MoveCuUpdateCreator.addUpdates(MoveCuUpdateCreator.java:112) at org.eclipse.jdt.internal.corext.refactoring.reorg.MoveCuUpdateCreator.createChangeManager(MoveCuUpdateCreator.java:88) at org.eclipse.jdt.internal.corext.refactoring.reorg.MoveRefactoring.createChangeManager(MoveRefactoring.java:448) at org.eclipse.jdt.internal.corext.refactoring.reorg.MoveRefactoring.checkInput(MoveRefactoring.java:151) at org.eclipse.jdt.internal.ui.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:59) at org.eclipse.jdt.internal.ui.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:94) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:95)"}, {"bug_id": "29553", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/template/default-templates.xml", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/ASTFlattener.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Declaration Dimensions   setExtraDimensions", "bug_title": " ASTRewrite - extra dimensions lost", "bug_description": "20030114 try creating a new MethodDeclaration and adding to a TypeDeclaration when you set MethodDeclaration.setExtraDimensions to something more than 0 it gets lost"}, {"bug_id": "295901", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/OpenEditorAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "start OpenEditorAction access Exception launcher jface Command ide App Platform", "bug_title": " [JUnit] CCE when opening an editor", "bug_description": "Using eclipse.buildId=I20091118-1342 java.version=1.6.0_18-ea java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_CA Command-line arguments:  -os win32 -ws win32 -arch x86 -console I got this exception in my .log file. I don't know exactly what I was doing when this occurred. java.lang.ClassCastException: org.eclipse.compare.internal.CompareEditor cannot be cast to org.eclipse.ui.texteditor.ITextEditor at org.eclipse.jdt.internal.junit.ui.OpenEditorAction.run(OpenEditorAction.java:76) at org.eclipse.jdt.internal.junit.ui.FailureTrace$1.handleOpen(FailureTrace.java:77) at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:264) at org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:258) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:298) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1050) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3931) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3524) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2404) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2368) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2220) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:611) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:566) at org.eclipse.equinox.launcher.Main.run(Main.java:1363) at org.eclipse.equinox.launcher.Main.main(Main.java:1339)"}, {"bug_id": "296229", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/javadoc/JavadocContentAccess2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Type Debian comment preceded block tag displayed Iceweasel Identifier code", "bug_title": " @code tag always prepended by space", "bug_description": "User-Agent:       Mozilla/5.0 (X11; U; Linux x86_64; sv-SE; rv:1.9.0.14) Gecko/2009091008 Iceweasel/3.0.14 (Debian-3.0.14-1) Build Identifier: 20090619-0625 The {@code} tag is always prepended by a space when Javadoc is displayed. For example, the text \"non-{@code null}\" is rendered as \"non- null\". This is not the case in Javadoc generated by e.g. the javadoc tool. Reproducible: Always Steps to Reproduce: 1. Create a Javadoc comment 2. Type a sentence that contains a {@code} block immediately preceded by some other text. 3. View the Javadoc and observe the inserted space."}, {"bug_id": "296498", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/TestRunSession.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/TestRunnerViewPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "completely dirty JUnit test view passes happy prompts cancel", "bug_title": " [JUnit] Launching from the 'JUnit' view with dirty editors causes two save prompts", "bug_description": "Build id: I20091124-0800 1. Create a JUnit test. 2. Put a test method in it. 3. Run it. The test passes, everyone's happy. 4. Make the editor dirty by typing stuff in it. 5. Try to run the same test from the 'JUnit' view. 6. A 'Save Resource' prompt appears, hit the 'ESC' key to cancel. 7. The 'Save and Launch' prompt appears. Dismiss it. The launching operation should've just been canceled completely. 8. Redo step 5. 9. Redo step 6 but click the 'Cancel' button. 10. Same result as step 7. 11. Redo step 5. 12. Redo step 6 but click the 'No' button. 11. Same result as step 7. The prompt should not have appeared as I already said 'No'."}, {"bug_id": "296589", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/breadcrumb/EditorBreadcrumb.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Opening focus CLR bar hilites ncogroup click breadcrumb Mozilla breadcrumbs", "bug_title": " [breadcrumb] Opening a file via breadcrumb does not retarget the status line", "bug_description": "User-Agent:       Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0; GTB0; .NET CLR 1.1.4322; .NET CLR 3.0.04506.30; .NET CLR 3.0.04506.648; InfoPath.1; .NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729) Build Identifier: 20090920-1017 When I choose a class via the breadcrumb, the line numbers at the bottom of the screen do not update themselves. In addition, Source -> Clean Up fails to work until I've fixed the problem. The only way for the line numbers to update themselves again (and for Source -> Clean Up) is for me to select a document not using breadcrumbs and go back to my document. Another way is to control+pageup and control+pagedown to get back to where I'm at. Reproducible: Always Steps to Reproduce: 1.I'm in the Java Perspective. My breadcrumb bar looks like the following: ncoserver-business-cbservices -> src/main/java -> com.ncogroup.ncoserver.business.service -> NcoDeceasedService 2. I observe the line number at the bottom of the screen. It reflects the current file I'm in, for this example line 10 of NcoDeceasedService.java. 3. I click on the 4th item in the breadcrumb to choose another file. For this example, I choose NcoDependentService. 4. The cursor focus moves to line 3 and hilites the class name. The bottom of the screen still shows that I'm on line number 10 of the previous file. 5. When I move the cursor around the screen via keyboard or mouse, the line number does not update."}, {"bug_id": "296781", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/AlreadyExistsDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "clones bugs Mozilla bugs User AlreadyExistsDialog bugs Composite implementation Gecko", "bug_title": " AlreadyExistsDialog.initializeComposite clones Dialog.createDialogArea", "bug_description": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.1) Gecko/20090715 Firefox/3.5.1 Build Identifier: similar problems and same solution as verified bugs #296581 and #296481 AlreadyExistsDialog.createDialogArea should extend the super implementation of Dialog.createDialogArea. Reproducible: Always"}, {"bug_id": "296784", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/RefactoringStatusDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Constants Reproducible Mozilla darmstadt comply stg RefactoringStatusDialog IDialogConstants defined IDialogConstants", "bug_title": " [patch] Layout of RefactoringStatusDialog not standard", "bug_description": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.1) Gecko/20090715 Firefox/3.5.1 Build Identifier: RefactoringStatusDialog.createDialogArea could reuse the super implementation to comply with the standard layout defined in IDialogConstants Also, the call to initializeDialogUnits is unecessary, since it is already in Dialog.createContents Strange code found with the Code Recommender System of TU Darmstadt (http://www.stg.tu-darmstadt.de/research/core/) Reproducible: Always"}, {"bug_id": "296998", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Unit Compilation Unused System good java compiler Test CompilationUnitScope lang", "bug_title": " Unused imports should not prevent execution", "bug_description": "Given this class: import java.util.List; public class Test { public static void main(String[] args) { System.out.println(\"Hello\"); } } compile like: $ ecj -proceedOnError -err:+unused Test.java and execute: $ java Test gives Exception in thread \"main\" java.lang.Error: Unresolved compilation problem: at Test.main(Test.java:4) Normally, the eclipse compiler does a good job in producing usable code even in the presence of errors. In this simple case it fails to do so. This is because an unused import is flagged against the CompilationUnitScope. In that case generateCode assumes that all code within this CU is useless. An immediate soluation would be to make ImportReference extend ReferenceContext and let ProblemReporter.unusedImport(ImportReference) set the import reference as the reference context. This should then be applied to other errors against imports, too. As an alternative trying to generate code for a CUD with errors is probably not a good option."}, {"bug_id": "297116", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/junit/wizards/NewTestCaseWizardPageOne.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JUnit Test Identifier Wizard Firefox Build Mozilla", "bug_title": " Default for new JUnit Test should be JUnit 4.X", "bug_description": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 5.1; en-GB; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 Build Identifier: 20090920-1017 Hi, in the \"NewTestCaseCreationWizard\" the default is \"New JUnit 3 testcase\". I suggest to change this to \"New JUnit 4 testcase\". Best regarsd, Lars Reproducible: Always"}, {"bug_id": "297183", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/source/AddUnimplementedMethodsTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/MethodsSourcePositionComparator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "method Bug patch agree Methods methods unimplemented   top bug", "bug_title": " [quick fix] \"Add unimplemented methods\" should add methods from top of hierarchy first", "bug_description": "HEAD (Follow-up to bug 140971 comment 20) > - \"Override/Implement Methods\" : For this case the super super class method > comes first and then super class methods. > - \"Add unimplemented methods\" :  Methods from immediate super class comes first > and then the methods from super super class. > > I prefer the implementation for \"Override/Implement Methods\" case. And I think > that both cases should follow the same ordering of methods. I agree, we should be consistent. As always, a patch would be welcome ;-)."}, {"bug_id": "297280", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/TestRunSession.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Unrooted red org click stack Trace Open User Trace Unrooted", "bug_title": " JUnit view not showing @BeforeClass exception when single test is run", "bug_description": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.0; en-GB; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 (.NET CLR 3.5.30729) Build Identifier: M20090917-0800 This is a bug that only occurs when the user runs a single JUnit 4 test by selecting the test method name and chosing \"Run As JUnit Test\" from the context menu. If a @BeforeClass method is defined that throws an exception, the JUnit view shows a tree like this: -test method -\"Unrooted Tests\" |-test class None of the nodes are marked with crosses or ticks and none of them show a Failure Trace. I would expect to see a tree like this: - Test method [X] Or maybe one like this: -Test class [X] |-Test method Either way I would expect to see a red cross somewhere in the tree and be able to click on it to bring up the stack trace for the exception. Reproducible: Always Steps to Reproduce: import org.junit.BeforeClass; import org.junit.Test; public class BugExample { @BeforeClass public static void beforeClass() { throw new RuntimeException(); } @Test public void test() throws Exception { } } 1. Make sure you have JUnit4 on the project classpath. 2. Create the class above in the default package. 3. Select the name of the method named \"test\". 4. Right-click, Run As, JUnit Test. 5. Open the JUnit view and expand the \"Unrooted Tests\" node. You should find three nodes, none of them marked with crosses or ticks and no Failure Trace associated with any of them."}, {"bug_id": "297593", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewContainerWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Java source change project warning wizards field wizards warning fine", "bug_title": " [type wizards] Java class wizard gives incorrect warning message", "bug_description": "Build id: I20091210-1301 1. Make a new Java project. 2. File > New > Class 3. Give it a name. 4. The warning says 'The use of the default package is discouraged.', that's fine. 5. Now in the source folder text field, change it from 'test/src' to 'test/' or 'test'. 6. Now the warning says 'Source folder is not a Java project.' even though 'test' really is a Java project. This is slightly misleading. The warning message should state that it is not a Java source folder or something of that sort."}, {"bug_id": "297663", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/buildpath/P2Utils.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/buildpath/P2Utils.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/buildpath/P2Utils.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JDT config dropin JDT version install Agent jdt installation reference", "bug_title": " [JUnit] JUnit not found when JDT installed as dropin", "bug_description": "User-Agent:       Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9.1.5) Gecko/20091105 Fedora/3.5.5-1.fc12 Firefox/3.5.5 Build Identifier: M20090917-0800 Fedora 12 packages JDT as a dropin in the shared installation area, which is read-only to normal users. If you try to add the JUnit library to a project, you receive a message in the wizard saying \"The selected JUnit version is not available\". I've tracked this down to the following problem: The install area bundles.info does not have the org.junit plugin in it. This file is in: /usr/lib/eclipse/configuration/org.eclipse.equinox.simpleconfigurator/bundles.info The config area bundles.info actually does have the org.junit plugin in it. It looks like: [phiggins@xeno ~]$ grep '^org.junit' .eclipse/*/configuration/org.eclipse.equinox.simpleconfigurator/bundles.info org.junit,3.8.2.v20090203-1005,dropins/jdt/plugins/org.junit_3.8.2.v20090203-1005/,4,false org.junit4,4.5.0.v20090824,dropins/jdt/plugins/org.junit4_4.5.0.v20090824/,4,false As you can see, it uses a relative URL to the dropins directory, which is actually in the shared install location: /usr/lib/eclipse/dropins The plugin does not exist in my private config area. I have created a patch to org/eclipse/jdt/internal/junit/buildpath/P2Utils.java which resolves relative URLs first to the config area and then to the install location when reading bundles from the config area. This patch fixes the problem for me. I will attach the patch shortly. Reproducible: Always Steps to Reproduce: 1. Install the org.junit plugin in a shared install location 2. Remove the org.junit plugin from your config area if it exists 3. Remove the reference to the org.junit plugin from the shared install location bundles.info 4. Add a reference to the org.junit plugin to your config area bundles.info using a relative URL 5. Try to add a junit library to a project"}, {"bug_id": "297709", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "open tree explorer link Windows Bug behavior explorer Identifier wizard", "bug_title": " [package explorer] JDT error behavior when \"link with editor\" option opening", "bug_description": "User-Agent:       Mozilla/5.0 (Windows; U; Windows NT 6.1; zh-CN; rv:1.9.1.5) Gecko/20091102 Firefox/3.5.5 GTB6 Build Identifier: I20091210-1301 JDT frequencely synchronize the package tree when link with editor option opening. Reproducible: Always Steps to Reproduce: 1.open some other class in editor, like Composite, SWT, Control and so on 2.new java class wizard, after completed, the editor should open the newly java file. 3.At this moment, the package tree change change and change again. 4.where change to. the before opened class resource item. 5, sometimes, autocomplete result to same synchronize actions."}, {"bug_id": "298066", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/nls/PropertyFileDocumentModel.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Examine key internal nls compare Change   Select", "bug_title": " [nls tooling] Refactoring removes comments in *.properties when done for a message key", "bug_description": "I20091215-1320 Steps: 1. Checkout o.e.compare 2. Open /org.eclipse.compare/compare/org/eclipse/compare/internal/patch/PatchMessages.java 3. Select InputPatchPage_SingleFileError_format field 4. Do Refactor > Rename or Alt+Shift+R with Rename Dialog 5. Change the field name 6. Examine changes made to PatchMessages.properties in the preview dialog => Lines below 'InputPatchPage_SingleFileError_format', those starting with '#' are selected for removal. I think this should not happen."}, {"bug_id": "298520", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/LazyGenericTypeProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Space content type generalized select arguments Code Type main parameter", "bug_title": " [5.0][content assist] Constructor completion ignores outer type when completing type arguments", "bug_description": "Build Identifier: M20090917-0800 When completing initializer of variable, which is of generalized type, content assist ignores outer type of type parameter. For example, if I type List<SelectDirective.Option> r = new then type Ctrl+Space and select ArrayList from the list, the following gets inserted: List<SelectDirective.Option> r = new ArrayList<Option> As you may see, outer type SelectDirective has been skipped, which is wrong. Reproducible: Always Steps to Reproduce: 1. Create following class structure: class SelectDirective { class Option() { } } public class Main () { public static void main(String[] args) { } } 2. Type inside method main : List<SelectDirective.Option> r = new 3. Press Ctrl+Space and select ArrayList from the dropdown list. 4. Code with errors gets inserted: List<SelectDirective.Option> r = new ArrayList<Option>"}, {"bug_id": "298951", "ground_truth": ["org.eclipse.jdt.ui.tests/performance/org/eclipse/jdt/ui/tests/performance/views/OpenTypePerfTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "machines stabilize perf test Test tests testWarmException machines Bug Open", "bug_title": " OpenTypePerfTest#testWarmException() perf tests results are not reliable", "bug_description": "Verifying performance results for all 3.6M4 scenarios, it appears that results for OpenTypePerfTest#testWarmException() test are completely unreliable (on all test machines). It seems that something should be done to stabilize this test or remove it from the benchmark."}, {"bug_id": "299127", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/FilteredElementTreeSelectionDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "dialog Identifier text Identifier select top filter crashes dialog Filter", "bug_title": " 'Refresh Filter' problem: NullPointerException when entering a blank in JAR selection dialog", "bug_description": "Build Identifier: 20090920-1017 In the Java Build Path properties select the button \"Add JARs...\". The \"JAR Selection\" dialog pops up, where you can filter the jars by the text entered in the textbox at the top. When you insert a blank in the textbox, the 'Refresh Filter' crashes with a NullPointerException. Reproducible: Always Steps to Reproduce: 1.In the Java Build Path properties of a Java project select the button \"Add JARs...\". 2. Set the focus into the text box at the top of the dialog and press the space bar. 3.: Result: 'Refresh Filter' crashes with a NullPointerException."}, {"bug_id": "299667", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/reorg/ParentChecker.java"], "repo": "eclipse.jdt.ui", "reformed_query": "java investigate UITestApplication RemotePluginTestRunner IDEApplication", "bug_title": " Test failure in org.eclipse.jdt.ui.tests.refactoring.ccp.CopyToClipboardActionTest.testEnabled20()", "bug_description": "HEAD. Raksha, please investigate. I suspect this is caused by your recent changes. CopyToClipboardActionTest org.eclipse.jdt.ui.tests.refactoring.RefactoringTestSetup org.eclipse.jdt.ui.tests.refactoring.ccp.CopyToClipboardActionTest testEnabled20(org.eclipse.jdt.ui.tests.refactoring.ccp.CopyToClipboardActionTest) junit.framework.AssertionFailedError: action should be enabled at junit.framework.Assert.fail(Assert.java:47) at junit.framework.Assert.assertTrue(Assert.java:20) at org.eclipse.jdt.ui.tests.refactoring.ccp.CopyToClipboardActionTest.checkEnabled(CopyToClipboardActionTest.java:185) at org.eclipse.jdt.ui.tests.refactoring.ccp.CopyToClipboardActionTest.testEnabled20(CopyToClipboardActionTest.java:589) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at junit.framework.TestCase.runTest(TestCase.java:164) at junit.framework.TestCase.runBare(TestCase.java:130) at junit.framework.TestResult$1.protect(TestResult.java:106) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.framework.TestResult.run(TestResult.java:109) at junit.framework.TestCase.run(TestCase.java:120) at junit.framework.TestSuite.runTest(TestSuite.java:230) at junit.framework.TestSuite.run(TestSuite.java:225) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:24) at junit.extensions.TestSetup$1.protect(TestSetup.java:21) at junit.framework.TestResult.runProtected(TestResult.java:124) at junit.extensions.TestSetup.run(TestSetup.java:25) at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130) at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:61) at org.eclipse.pde.internal.junit.runtime.UITestApplication$1.run(UITestApplication.java:116) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3906) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3527) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2407) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2371) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2220) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.pde.internal.junit.runtime.UITestApplication.start(UITestApplication.java:47) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:611) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:566) at org.eclipse.equinox.launcher.Main.run(Main.java:1363) at org.eclipse.equinox.launcher.Main.main(Main.java:1339)"}, {"bug_id": "299928", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/ProblemHover.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavadocProblemsConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "project preferences Bug Errors settings Errors Errors Bug preferences toolbar", "bug_title": " [hovering] 'Problem hover > Configure Problem Severity' does not consider project-specific Javadoc preferences", "bug_description": "HEAD In a Java project with project-specific Javadoc preferences but no project-specific Java Errors/Warnings, hover over a Javadoc problem, focus the hover, and then click 'Configure Problem Severity' in the hover toolbar. A dialog asks me whether I want to use project-specific settings, but since I already have such settings, the dialog should not show up."}, {"bug_id": "300157", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaMergeViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "compare Happend Editor Typed Activated editor Safe workbench Listener Widget", "bug_title": " [compare] NPE while opening compare editor", "bug_description": "-- Error Details -- Date: Wed Jan 20 11:14:32 CET 2010 Message: Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench\". Severity: Error Product: Eclipse SDK 3.6.0.v201001120800 (org.eclipse.sdk.ide) Plugin: org.eclipse.ui.workbench Session Data: eclipse.buildId=I20100112-0800 java.version=1.6.0_16 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US Framework arguments:  -server Command-line arguments:  -os linux -ws gtk -arch x86 -server Happend as I opened a compare editor, NPE was thrown about 50 times. Had 5 other java files open in the meantime. Exception Stack Trace: java.lang.NullPointerException at org.eclipse.ui.texteditor.AbstractTextEditor$ActivationListener.windowActivated(AbstractTextEditor.java:994) at org.eclipse.ui.internal.Workbench$12.run(Workbench.java:823) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.Workbench.fireWindowActivated(Workbench.java:821) at org.eclipse.ui.internal.WorkbenchWindow$28.shellActivated(WorkbenchWindow.java:3089) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:82) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1218) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1242) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1223) at org.eclipse.swt.widgets.Shell.filterProc(Shell.java:728) at org.eclipse.swt.widgets.Display.filterProc(Display.java:1516) at org.eclipse.swt.internal.gtk.OS._g_main_context_iteration(Native Method) at org.eclipse.swt.internal.gtk.OS.g_main_context_iteration(OS.java:2132) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3129) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2407) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2371) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2220) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:611) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:566) at org.eclipse.equinox.launcher.Main.run(Main.java:1363)"}, {"bug_id": "300536", "ground_truth": ["org.eclipse.ltk.core.refactoring/src/org/eclipse/ltk/core/refactoring/UndoTextFileChange.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Document fire fireDocumentEvent UndoTextFileChange Updating Styled master UndoTextFileChange UndoTextFileChange quick", "bug_title": " [quick fix] Invalid thread access while undoing quick fix", "bug_description": "[I20100122-0800] I quick-fixed a dead code error and then used undo to see previous state. Got this error: org.eclipse.swt.SWTException: Invalid thread access at org.eclipse.swt.SWT.error(SWT.java:4083) at org.eclipse.swt.SWT.error(SWT.java:3998) at org.eclipse.swt.SWT.error(SWT.java:3969) at org.eclipse.swt.widgets.Widget.error(Widget.java:664) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:491) at org.eclipse.swt.custom.StyledText.getLinePixel(StyledText.java:4167) at org.eclipse.swt.custom.StyledText.handleTextChanging(StyledText.java:6241) at org.eclipse.swt.custom.StyledText$6.textChanging(StyledText.java:5611) at org.eclipse.jface.text.DefaultDocumentAdapter.fireTextChanging(DefaultDocumentAdapter.java:392) at org.eclipse.jface.text.DefaultDocumentAdapter.documentAboutToBeChanged(DefaultDocumentAdapter.java:309) at org.eclipse.jface.text.AbstractDocument.fireDocumentAboutToBeChanged(AbstractDocument.java:641) at org.eclipse.jface.text.projection.ProjectionDocument.delayedFireDocumentAboutToBeChanged(ProjectionDocument.java:769) at org.eclipse.jface.text.projection.ProjectionDocument.masterDocumentAboutToBeChanged(ProjectionDocument.java:728) at org.eclipse.jface.text.projection.ProjectionDocumentManager.fireDocumentEvent(ProjectionDocumentManager.java:121) at org.eclipse.jface.text.projection.ProjectionDocumentManager.documentAboutToBeChanged(ProjectionDocumentManager.java:138) at org.eclipse.jface.text.AbstractDocument.fireDocumentAboutToBeChanged(AbstractDocument.java:645) at org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1148) at org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace(SynchronizableDocument.java:195) at org.eclipse.jface.text.AbstractDocument.replace(AbstractDocument.java:1176) at org.eclipse.core.internal.filebuffers.SynchronizableDocument.replace(SynchronizableDocument.java:181) at org.eclipse.text.edits.ReplaceEdit.performDocumentUpdating(ReplaceEdit.java:82) at org.eclipse.text.edits.TextEditProcessor.executeUndo(TextEditProcessor.java:223) at org.eclipse.text.edits.UndoEdit.dispatchPerformEdits(UndoEdit.java:57) at org.eclipse.text.edits.TextEditProcessor.performEdits(TextEditProcessor.java:156) at org.eclipse.text.edits.TextEdit.apply(TextEdit.java:711) at org.eclipse.ltk.core.refactoring.UndoTextFileChange.perform(UndoTextFileChange.java:195) at org.eclipse.jdt.core.refactoring.UndoCompilationUnitChange.perform(UndoCompilationUnitChange.java:74) at org.eclipse.ltk.internal.core.refactoring.UndoableOperation2ChangeAdapter$1.run(UndoableOperation2ChangeAdapter.java:321) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1859) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1841) at org.eclipse.ltk.internal.core.refactoring.UndoableOperation2ChangeAdapter.executeChange(UndoableOperation2ChangeAdapter.java:351) at org.eclipse.ltk.internal.core.refactoring.UndoableOperation2ChangeAdapter.undo(UndoableOperation2ChangeAdapter.java:183) at org.eclipse.core.commands.operations.TriggeredOperations.undo(TriggeredOperations.java:228) at org.eclipse.core.commands.operations.DefaultOperationHistory.doUndo(DefaultOperationHistory.java:415) at org.eclipse.core.commands.operations.DefaultOperationHistory.undo(DefaultOperationHistory.java:1280) at org.eclipse.ui.operations.UndoActionHandler.runCommand(UndoActionHandler.java:78) at org.eclipse.ui.operations.OperationHistoryActionHandler$4.run(OperationHistoryActionHandler.java:311) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)"}, {"bug_id": "300542", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/UserLibraryPreferencePage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "source Reproducible Libraries user JAR Bug dialog library JARs Click", "bug_title": " [build path] user library dialog should allow to select JAR from workspace", "bug_description": "Build Identifier: When adding a jar to a user library, you are give the dialog for selecting a file with an external path. When attaching the source attachment or native library location you can select either an external path or a workspace path. It would be useful to also be able to specify the jar location as a workspace path, which would aid in sharing projects with other people. Reproducible: Always Steps to Reproduce: 1. Open preferences, navigate to Java -> Build Path -> User Libraries 2. Click New, and enter a name for the User Library. 3. Click \"Add JARs\", note the dialog type. 4. Select the \"Native libary location\" element, click \"Edit\". 5. Note the dialog type which allows for choosing an External Folder or Workspace path."}, {"bug_id": "300780", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/spelling/SpellCheckEngine.java"], "repo": "eclipse.jdt.ui", "reformed_query": "initialProcess Checker workbench resetUserDictionary Spell NullPointerException initial Reconciling texteditor SpellingService", "bug_title": " [spell checking] NPE in SpellCheckEngine.resetUserDictionary on shutdown", "bug_description": "I20100124-2000 - new workspace - paste a dummy class - Exit => NPE in log: !ENTRY org.eclipse.ui.workbench.texteditor 4 2 2010-01-26 10:48:52.254 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.ui.workbench.texteditor\". !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.ui.text.spelling.SpellCheckEngine.resetUserDictionary(SpellCheckEngine.java:400) at org.eclipse.jdt.internal.ui.text.spelling.SpellCheckEngine.getSpellChecker(SpellCheckEngine.java:312) at org.eclipse.jdt.internal.ui.text.spelling.SpellingEngine.check(SpellingEngine.java:88) at org.eclipse.jdt.internal.ui.text.spelling.DefaultSpellingEngine.check(DefaultSpellingEngine.java:75) at org.eclipse.ui.texteditor.spelling.SpellingService$1.run(SpellingService.java:104) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.texteditor.spelling.SpellingService.check(SpellingService.java:109) at org.eclipse.ui.texteditor.spelling.SpellingReconcileStrategy.reconcile(SpellingReconcileStrategy.java:198) at org.eclipse.jdt.internal.ui.text.spelling.JavaSpellingReconcileStrategy.reconcile(JavaSpellingReconcileStrategy.java:126) at org.eclipse.ui.texteditor.spelling.SpellingReconcileStrategy.initialReconcile(SpellingReconcileStrategy.java:169) at org.eclipse.jdt.internal.ui.text.CompositeReconcilingStrategy.initialReconcile(CompositeReconcilingStrategy.java:114) at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:133) at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:105) at org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:398) at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:173)"}, {"bug_id": "300901", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyLabelProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "colour hierarchy Bug force Ctrl call Colors matches dice Appearance", "bug_title": " [call hierarchy] 'Counter color' is ignored", "bug_description": "I20100125-1800 1. Make a Java file like the one below. 2. Invoke Ctrl+Alt+H on v(), you'll get something like \"w() : void - Test (2 matches)\" 3. Window > Preferences > General > Appearance > Colors and Fonts > Basic > Counter Color 4. Change the colour to something else. 5. Hit 'Apply'. Nothing happens. 6. Hit 'OK'. Nothing happens. 7. Try invoking call hierarchy again to force a \"refresh\". No dice. This seemed to work on Boris's Mac though."}, {"bug_id": "300981", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/PasteAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Build click ccp Paste resource Identifier pasted", "bug_title": " [ccp] \"Paste\" is enabled in jars", "bug_description": "Build Identifier: I20100127-0100 Open a JAR in the Package Explorer. Right click on any resource in the jar, 'Paste' is enabled though nothing can be pasted. (Follow up from Bug 297449) Reproducible: Always"}, {"bug_id": "301242", "ground_truth": ["org.eclipse.ltk.core.refactoring/src/org/eclipse/ltk/internal/core/refactoring/UndoableOperation2ChangeAdapter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Undo eclipse enabled", "bug_title": " [refactoring][clean up] UI locked by 2 dialogs after repeated Undos in Java editor", "bug_description": "Created attachment 157616 [details] Stacktrace I20100128-1731 The UI can be locked up by 2 dialogs when the user repeatedly performs Undo in a Java editor with the 'Format all' Save Action enabled. My test case: - check out org.eclipse.ui.workbench - open class SearchPattern, go to validateMatchRule(..) - add spaces at the beginning of a few lines - press Ctrl+S - add more spaces at the beginning of a few lines - press Ctrl+S again - press and hold Ctrl+Z"}, {"bug_id": "30169", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaMarkerAnnotation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bookmark bookmark hovering message bookmarks message Bug hover bookmark hovering", "bug_title": " no hover message for bookmarks in overview ruler", "bug_description": "20030121 hovering over bookmarks in the overview ruler should show the bookmark name it does not"}, {"bug_id": "302831", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/AssignToVariableAssistProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "assign assign cursor assign assignment Assigning change existingReference assign field", "bug_title": " [quick assist] Assigning a parameter to an existing field allows incomplete linked mode", "bug_description": "Build Identifier: I20100129-1300 Assume the following example: public class Foo { int existing; public Foo(int existingVal) { } void existingReference() { existing++; } } 1) on the constructor, move the cursor on the existingVal parameter. 2) Use quick fix to assign the parameter to the field existing observe: the editor is now in linked mode, but only with the field declaration and the assignment 3) change the name of the field observe: a compile error results expected: the linked mode should include the field's references as well Reproducible: Always"}, {"bug_id": "303313", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/util/SelectionAwareSourceRangeComputer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "main initializeRanges getText IProgressMonitor findInContext Map OpenableElementInfo getTypes ASTVisitor initialize", "bug_title": " Test failures in SurroundWithTests when run in AllAllRefactoringTests", "bug_description": "When I run the AllAllRefactoringTests, I get 4 failures in SurroundWithTests: testNoException() testAlreadyCaught() testRuntimeException2() testThenStatement() SurroundWithTests run alone is green. I've debugged it, and the problem is e.g. visible here: Thread [main] (Suspended) owns: RunnableLock  (id=102) SelectionAwareSourceRangeComputer.initializeRanges() line: 72 SelectionAwareSourceRangeComputer.computeSourceRange(ASTNode) line: 47 ASTRewriteAnalyzer.getExtendedRange(ASTNode) line: 186 ASTRewriteAnalyzer.getExtendedOffset(ASTNode) line: 190 ASTRewriteAnalyzer$ParagraphListRewriter(ASTRewriteAnalyzer$ListRewriter).rewriteList(ASTNode, StructuralPropertyDescriptor, int, String) line: 527 ASTRewriteAnalyzer.rewriteParagraphList(ASTNode, StructuralPropertyDescriptor, int, int, int, int) line: 998 ASTRewriteAnalyzer.visit(Block) line: 1679 Block.accept0(ASTVisitor) line: 134 Block(ASTNode).accept(ASTVisitor) line: 2480 ASTRewrite.internalRewriteAST(char[], LineInformation, String, List, Map, ASTNode, RecoveryScannerData) line: 271 ASTRewrite.rewriteAST() line: 260 SurroundWithTryCatchRefactoring.createChange(IProgressMonitor) line: 197 CreateChangeOperation.run(IProgressMonitor) line: 124 PerformRefactoringOperation.run(IProgressMonitor) line: 102 BatchOperation.executeOperation() line: 39 BatchOperation(JavaModelOperation).run(IProgressMonitor) line: 728 Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1986 JavaCore.run(IWorkspaceRunnable, ISchedulingRule, IProgressMonitor) line: 4725 JavaCore.run(IWorkspaceRunnable, IProgressMonitor) line: 4682 SurroundWithTests(AbstractSelectionTestCase).performTest(ICompilationUnit, Refactoring, int, String, boolean) line: 126 SurroundWithTests.performTest(IPackageFragment, String, String, int) line: 58 SurroundWithTests.tryCatchTest() line: 66 SurroundWithTests.testAlreadyCaught() line: 74 The problem is that the buffer is closed and Buffer#getText(..) returns \"\". The buffer gets closed here: Thread [main] (Suspended (breakpoint at line 102 in Buffer)) owns: BufferManager  (id=3641) owns: RunnableLock  (id=102) Buffer.close() line: 102 BufferCache.closeBuffers() line: 67 BufferManager.addBuffer(IBuffer) line: 60 CompilationUnit.openBuffer(IProgressMonitor, Object) line: 1161 CompilationUnit.buildStructure(OpenableElementInfo, IProgressMonitor, Map, IResource) line: 116 CompilationUnit(Openable).generateInfos(Object, HashMap, IProgressMonitor) line: 258 CompilationUnit(JavaElement).openWhenClosed(Object, IProgressMonitor) line: 515 CompilationUnit(JavaElement).getElementInfo(IProgressMonitor) line: 252 CompilationUnit(JavaElement).getElementInfo() line: 238 CompilationUnit(JavaElement).getChildren() line: 193 CompilationUnit(JavaElement).getChildrenOfType(int) line: 207 CompilationUnit.getTypes() line: 920 CompilationUnit.getAllTypes() line: 605 ContextSensitiveImportRewriteContext.findInContext(String, String, int) line: 148 ImportRewrite.internalAddImport(String, ImportRewrite$ImportRewriteContext) line: 927 ImportRewrite.addImport(ITypeBinding, ImportRewrite$ImportRewriteContext) line: 578 SurroundWithTryCatchRefactoring.createTryCatchStatement(IBuffer, String) line: 217 SurroundWithTryCatchRefactoring.createChange(IProgressMonitor) line: 190 CreateChangeOperation.run(IProgressMonitor) line: 124 PerformRefactoringOperation.run(IProgressMonitor) line: 102 BatchOperation.executeOperation() line: 39 BatchOperation(JavaModelOperation).run(IProgressMonitor) line: 728 Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1986 JavaCore.run(IWorkspaceRunnable, ISchedulingRule, IProgressMonitor) line: 4725 JavaCore.run(IWorkspaceRunnable, IProgressMonitor) line: 4682 SurroundWithTests(AbstractSelectionTestCase).performTest(ICompilationUnit, Refactoring, int, String, boolean) line: 126 SurroundWithTests.performTest(IPackageFragment, String, String, int) line: 58 SurroundWithTests.tryCatchTest() line: 66 SurroundWithTests.testRuntimeException2() line: 174"}, {"bug_id": "303314", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/FormatterMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/LineWrappingTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/FormatterMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "formatter constant code preferences Add preference expose fixed", "bug_title": " [preferences] Add new options to 'code formatter' to expose constant from bug 282030", "bug_description": "Once bug 282030 is fixed, the new constant needs to be exposed in the code formatter preference page."}, {"bug_id": "303617", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/RefactoringAvailabilityTester.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaTextSelection.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Reproducible selected inconsistent Annotation", "bug_title": " [extract constant] Refactoring not available on pop-up if selected string is an annotation", "bug_description": "Build Identifier: 3.5.1 If I select a string that is the value for an annotation, \"Extract constant...\" is available on the Refactor menu, but not on the Shift-Alt-T quick menu. This is inconsistent, as it is on that menu for string constants outside of annotations. Reproducible: Always Steps to Reproduce: 1. Select a string constant within  @Annotation(\"string constant\") 2. Press Shift-Alt-T 3. Menu item is not available"}, {"bug_id": "303698", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/reorg/ReorgPolicyFactory.java"], "repo": "eclipse.jdt.ui", "reformed_query": "matches Resources Phantom element empty enable IResource exists Build policy", "bug_title": " [ccp] ReorgPolicies' canEnable() methods return true too often", "bug_description": "Build Identifier: M20090917-0800 Have a look at ReorgPolicy.canEnable(): public boolean canEnable() throws JavaModelException { IResource[] resources= getResources(); for (int i= 0; i < resources.length; i++) { IResource resource= resources[i]; if (!resource.exists() || resource.isPhantom() || !resource.isAccessible()) return false; } IJavaElement[] javaElements= getJavaElements(); for (int i= 0; i < javaElements.length; i++) { IJavaElement element= javaElements[i]; if (!element.exists()) return false; } return true; } The last \"return true\" is wrong, as it would enable the policy even if the resources and javaElements arrays are empty. The same problem occurs in many other ReorgPolicy classes. We experience this bug when using an own IQueryParticipant that creates non-IJavaElement matches. I'll attach a patch against HEAD. Reproducible: Always"}, {"bug_id": "303705", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/LevelTreeContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "IJava hierarchically Provider superclasses LevelTreeContentProvider propose hierarchical checks IResource search", "bug_title": " [search] Custom search results not shown hierarchically in the java search results view", "bug_description": "Build Identifier: M20090917-0800 Consider an instance of org.eclipse.search.ui.text.Match with an element that is neither an IResource nor an IJavaElement. It might be an element in a class diagram, for example. When such an element is reported, it will be shown as a plain, flat element in the otherwise hierarchical java search results view. This is because the LevelTreeContentProvider and its superclasses only check for IJavaElement and IResource. I propose to also check for IAdaptable and try to adapt to IJavaElement and IResource, if the other checks fail. I'll attach a patch. Reproducible: Always"}, {"bug_id": "304083", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/javadoc/JavaDocLocations.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/util/JavaElementUtil.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javadocexport/JavadocLinkRef.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorBreadcrumb.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavadocConfigurationPropertyPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/NativeLibrariesPropertyPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/SourceAttachmentPropertyPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/BuildPathSupport.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/LibrariesWorkbookPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceAttachmentBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "testing attachment JARs patch Source wrong path path Source automatically", "bug_title": " [build path] Source attachments wrong for automatically added libraries (UI changes)", "bug_description": "Created attachment 160355 [details] First fixes (just for testing, not ready for release) Use new APIs from bug 281551 in the UI. Here's a first patch that implements Properties pages on referenced JARs."}, {"bug_id": "30412", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/JavaBrowsingPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "open result browsing browsing Build contained selected created Build types", "bug_title": " ClassCastException selecting package in java browsing perspective", "bug_description": "Build: I20030122 I have the java browsing perspective open.  I selected a package in the packages view, and there was an error trying to open the type browsing view.  I can't seem to reproduce it, but hopefully the stack trace will be useful.  The result was that the types view could not be initialized (the view contained an error message saying it could not be created."}, {"bug_id": "304174", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/GenerateHashCodeEqualsOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Code equals Reproducible", "bug_title": " [hashcode/equals] Generated equals() invalid if there's an 'Object' class in scope", "bug_description": "Build Identifier: I20100129-1300 Generating hashCode() and equals() for this class: package test; public class Object { public String s; } yields invalid equals() signature: public boolean equals(Object obj) With another class called 'Object' in scope it should be: public boolean equals(java.lang.Object obj) Reproducible: Always"}, {"bug_id": "304191", "ground_truth": ["org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/performance/CodeCompletionPerformanceTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Paramter appeared Guesses RHEL Test build error Completion test bug", "bug_title": " [content assist] Suspected regression on CodeCompletionPerformanceTest#testApplicationWithParamterGuesses2() test", "bug_description": "Verifying results for I20100224-2242 build, it looks like there's a confirmed regression on CodeCompletionPerformanceTest#testApplicationWithParamterGuesses2 test. Looking at history it seems to have appeared between N20100121-2000 and N20100123-2000 build. It's sure that depending on the machine, this test result is not constant (e.g. on RHEL machine), has different amplitude and also has a big error, but looking at history, I'm strongly convinced that something went slow in this area and I prefer open a bug to warn about it..."}, {"bug_id": "304217", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/typehierarchy/TypeHierarchyViewPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "eclipse Dispatch updateHierarchyViewer SWT computation Hierarchy hierarchy hierarchies PlatformUI Viewer", "bug_title": " [type hierarchy] Widget is disposed error on type hierarchy computation", "bug_description": "Using I20100224-2242, it looks like background processing of type hierarchies can cause some issues when a widget is disposed. I don't have steps to reproduce. org.eclipse.swt.SWTException: Failed to execute runnable (org.eclipse.swt.SWTException: Widget is disposed) at org.eclipse.swt.SWT.error(SWT.java:4083) at org.eclipse.swt.SWT.error(SWT.java:3998) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:137) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3989) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3608) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2408) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2372) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:501) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:494) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:195) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:611) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:566) at org.eclipse.equinox.launcher.Main.run(Main.java:1363) at org.eclipse.equinox.launcher.Main.main(Main.java:1339) Caused by: org.eclipse.swt.SWTException: Widget is disposed at org.eclipse.swt.SWT.error(SWT.java:4083) at org.eclipse.swt.SWT.error(SWT.java:3998) at org.eclipse.swt.SWT.error(SWT.java:3969) at org.eclipse.swt.widgets.Widget.error(Widget.java:467) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:340) at org.eclipse.swt.widgets.Label.setText(Label.java:387) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.updateHierarchyViewer(TypeHierarchyViewPart.java:1163) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.clearInput(TypeHierarchyViewPart.java:612) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart.access$13(TypeHierarchyViewPart.java:608) at org.eclipse.jdt.internal.ui.typehierarchy.TypeHierarchyViewPart$20.run(TypeHierarchyViewPart.java:1779) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) ... 23 more"}, {"bug_id": "304792", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/RefactoringAvailabilityTester.java"], "repo": "eclipse.jdt.ui", "reformed_query": "method single Move   Reproducible", "bug_title": " [move method] Move a single function between interfaces does not work.", "bug_description": "Build Identifier: 20090619-0625 Move more than one function between interfaces works fine. Moving a single function shows the message: \"This refactoring cannot be used to move interface methods\". Reproducible: Always Steps to Reproduce: 1. Select a single function in the outline 2. Press refactor->move"}, {"bug_id": "304927", "ground_truth": ["org.eclipse.ltk.core.refactoring/src/org/eclipse/ltk/core/refactoring/Change.java"], "repo": "eclipse.jdt.ui", "reformed_query": "method Data Data refers initializeValidationData Validation Created correct Attached org", "bug_title": " Incorrect Javadoc for org.eclipse.ltk.core.refactoring.Change", "bug_description": "Created attachment 161233 [details] fix Javadoc for org.eclipse.ltk.core.refactoring.Change refers to a 'initializeValidationState' method, however the correct method name is 'initializeValidationData'. Attached patch should fix it."}, {"bug_id": "305155", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageOne.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "folder Check Explorer General wizard nesting generated correctly rcjsuen created", "bug_title": " Java project wizard does not allow \"nesting\" in the workspace", "bug_description": "Build id: I20100309-0100 1. Make a new workspace somewhere, in my case I used: C:\\rcjsuen\\eclipse-SDK-I20100309-0100-win32\\ws2 2. Make a new folder in it via Windows Explorer. C:\\rcjsuen\\eclipse-SDK-I20100309-0100-win32\\ws2\\test 3. File > New > Other... > General > Project 4. Uncheck default location. 5. Use C:\\rcjsuen\\eclipse-SDK-I20100309-0100-win32\\ws2\\test\\b 6. Give the project a name 'b'. 7. Click 'Finish'. 8. Check Windows Explorer. The 'b' folder is created correctly, the .project file is generated. Things seem to be okay. 9. File > New > Java Project 10. Uncheck default location. 11. Use C:\\rcjsuen\\eclipse-SDK-I20100309-0100-win32\\ws2\\test\\a 12. Give the project a name 'a'. 13. Click 'Finish'. 14. Check Windows Explorer. The project ends up being created as C:\\rcjsuen\\eclipse-SDK-I20100309-0100-win32\\ws2\\a. The C:\\rcjsuen\\eclipse-SDK-I20100309-0100-win32\\ws2\\test folder only has \\b\\ in it."}, {"bug_id": "305255", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "build compatibility Bug Accept Java properties target details jsr properties", "bug_title": " [preferences] Accept jsr14 as a build target", "bug_description": "Created attachment 161539 [details] Screenshot showing the problem In p2 we are currently targeting jsr14, that is, using Java 5 syntax but building down to Java 1.4 bytecode.  The target was set manually in the jdt preferences, but if you open the project properties, you get some strange errors (see attached screenshot). Can jsr14 be added as a option for generated .class compatibility?"}, {"bug_id": "306392", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/SemanticHighlightings.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Enum staticMetod EnumType java staticMetod highlighting Bug Metod editor colorized", "bug_title": " [syntax highlighting] No syntax coloring in enum type", "bug_description": "/* * Using syntax coloring in java editor: * The enum type name, when used to access a static metod, is not colorized, * while it is colorized rigth when used to access a static field. */ public class TestEnum { public enum EnumType { // \"EnumType\" is right colorized FIRST, SECOND; public static int staticField; public static void staticMetod() { }; } public void test() { EnumType.staticField = 1; // \"EnumType\" is right colorized EnumType.staticMetod(); // \"EnumType\" is not colorized } }"}, {"bug_id": "306970", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/Strings.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Styled originalString length StyledString stops insertMarks stops copying length stops", "bug_title": " Strings#insertMarks(..) drops directional punctuation characters at end of StyledString", "bug_description": "I20100323-0800 Strings#insertMarks(..) drops directional punctuation characters at end of StyledString. It stops copying at originalString.length()."}, {"bug_id": "307756", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitDocumentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "revision Save editor text Bug System opened sysout", "bug_title": " [compare] Compare with local history reverts changes in dirty editor", "bug_description": "I20100330-0800 Compare with local history reverts changes in a dirty Java editor. This leads to data loss if the user doesn't notice it. Steps: - Paste this: package xy; public class Try { public static void main(String[] args) { //        System.out.println(); } } - uncomment the sysout - Save - add \"Hello\" as argument of println() - context menu > Compare With > Local History... - double-click the most recent revision (the bold one) => compare editor is opened and \"Hello\" is removed in the local revision (in both editors) This works fine for a plain text compare editor."}, {"bug_id": "308199", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaElementAdapterFactory.java"], "repo": "eclipse.jdt.ui", "reformed_query": "references Element Bug Element JavaElementAdapterFactory IHistory Factory loads Adapter IHistory", "bug_title": " JavaElementAdapterFactory loads Team UI", "bug_description": "I20100406-0800. JavaElementAdapterFactory loads Team UI because it references IHistoryPageSource. We could use a lazy approach like for ISearchPageScoreComputer."}, {"bug_id": "308957", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewPackageWizardPage.java", "org.eclipse.jdt.junit/src/org/eclipse/jdt/junit/wizards/NewTestSuiteWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewSourceFolderWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewTypeWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.properties", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/wizards/WizardMessages.properties", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/wizards/WizardMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "filtered wizard wizards resources File", "bug_title": " New wizards need to check for filtered resources", "bug_description": "FUP of bug 297184. Like the New File wizard we need to protect the JDT wizards from creating filtered resources."}, {"bug_id": "308978", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/JavaElementLabelComposer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "append appendTypeParameterLabel Element   Bug", "bug_title": " JVME (does not exist) in JavaElementNameComposer.appendTypeParameterLabel", "bug_description": "HEAD. Test Case: run org.eclipse.jdt.ui.tests.refactoring.RenameTypeParameterTests"}, {"bug_id": "309415", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/nls/search/NLSSearchResultRequestor.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/nls/NLSScanner.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Source Strings project properties Locale message Identifier correctly Search Find", "bug_title": " [implementation][nls tooling] DBCS3.6: 'Find Broken Externalized Strings' not handle constants with CJK Ext-B.", "bug_description": "Build Identifier: I20100406-1034 JRE: IBM Java 1.6 Locale:Japanese 'Find Broken Externalized Strings' can not handle constants with CJK Ext-B (Surrogates) correctly. The following message is displayed in Search view. 'Unused keys in: messages.properties - bugXXXXXX/src' Reproducible: Always Steps to Reproduce: 1.Import bugXXXXXX.zip that is a Java project 2.Mouse right clik on the project name, bugXXXXXX. 3.[Source] -> [Find Broken Externalized Strings] 4.In Search view, 'Unused keys in: messages.properties - bugXXXXXX/src'"}, {"bug_id": "309977", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/VariableBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "ENTRY Binds log VariableBlock failure FOO VariableBlock ClasspathVariableInitializer Reproducible silently", "bug_title": " Classpath variable initialization doesn't fail silently", "bug_description": "Build Identifier: 3.6.0 I20100312-1448 We have a classpath variable initializer which may or may not set the actual variable depending on certain conditions. According to the Javadoc for the ClasspathVariableInitializer.initialize(), it is ok to fail silently: Binds a value to the workspace classpath variable with the given name, or fails silently if this cannot be done. When we fail silenty by having the method just return, the .log file contains an entry: !ENTRY org.eclipse.jdt.ui 4 10001 2010-04-21 10:52:23.125 !MESSAGE VariableBlock: Classpath variable with null value: FOO_VAR This is not a silent failure - at least not to our product's users. Reproducible: Always Steps to Reproduce: 1. In a self-hosting environment, create a simple variable initializer that does nothing. 2. Launch an instance of the runtime configuration. 3. Open Window => Preferences => Java => Build Path => Classpath Variables 4. See the .log file"}, {"bug_id": "310424", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/CreateMultipleSourceFoldersDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/newsourcepage/AddFolderToBuildpathAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "folders Path virtual converted Path select select good Java Follow", "bug_title": " Inconsistent behavior with virtual source folders", "bug_description": "Follow up on Bug 297442 File -> New -> Source Folder -> Browse - select a virtual folder => Wizard shows an error 'Source folder cannot be a virtual folder.' : good Java Build Path -> Source tab -> Add Folder - select a virtual folder => virtual folder becomes a source folder : *not* good A virtual folder should not be converted to a source folder."}, {"bug_id": "310609", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/JavaElementLabelComposer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "BAR OSX Strange lines abbreviation abbreviation attachment Bug abbreviation problem", "bug_title": " [render] Strange rendering problem in PE when using package abbreviation pattern", "bug_description": "Created attachment 166182 [details] PE using abbreviation pattern OSX 10.4.11 I20100426-0852 1. Create a project containing a package foo.bar.test 2. Define abbreviation patterns: foo.bar=BAR BAR=foo.bar IS: looks like the package name spans multiple lines (new line in package name). See screen shot"}, {"bug_id": "310903", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavadocHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Annotations binding Annotations HEAD annotations binding IType constructor Info java", "bug_title": " [hovering] Javadoc hovers don't show annotations on constructors", "bug_description": "HEAD Javadoc hovers don't show annotations on constructor invocations, e.g. references to java.lang.management.LockInfo(String, int) in JDK6. Problem is bug 62605: In JavadocHover#getAnnotations(IJavaElement, ITypeRoot, IRegion), \"((SimpleName)node).resolveBinding()\" returns the type binding and not the constructor binding."}, {"bug_id": "311603", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/UserLibraryWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "attributes Project implementation edit project project doesn Persistence User Close", "bug_title": " [build path] editing user library properties drops classpath entry attributes", "bug_description": "In the Java Persistence properties for a JPA project choose the JPA implementation type of User Library and select an appropriate library.  Close and save the project properties.  Right click on the library in the Project Explorer and choose 'Properties'.  Select 'User Libraries...' and add/remove a jar from the user library.  It can be any jar, doesn't have to be one that is needed for this library to be valid for the particular JPA platform.  Now go back to the Project properties and view the Java Persistence page and you will see that the library has been unselected and there is an error. I can only get this to happen if I edit the library as described above.  If you instead edit it through the Project properties 'Java Build Path' page, the JPA implementation library never gets unselected."}, {"bug_id": "312014", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/util/SWTUtil.java", "org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/RefactoringStatusViewer.java", "org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/util/SWTUtil.java"], "repo": "eclipse.jdt.ui", "reformed_query": "arrows item workaround exercise closed customize NVDA tested result folders", "bug_title": " content of tree view (projects and folders) to export to a jar is not read by some screen readers", "bug_description": "Build Identifier: N20100505-2000 I tested it with JAWS and NVDA and they gave me the same result. The workaround is to use the JAWS cursor to do the mapping between the project/folder names and their selected state, but it's a boring task. There are tree views in eclipse that are well red by JAWS, such as window > customize perstective... Reproducible: Always Steps to Reproduce: 1. Create one or two projects to exercise this test. 2. go to file > export > java > jar file and press next. 3. You are now focused on the tree view which displays projects and folders to select. 4. Press up and down arrows. Expected results: screen reader should say something like: \"<project name|folder name> <state of tree view item (closed|opened)> <state of checkbox>\" Actual results: screen reader says: \"select projects and folders to export <state of tree view item (closed|opened)> <state of checkbox>\""}, {"bug_id": "31214", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug create Fails create editor Text Bug Explorer visible Explorer", "bug_title": " [Show in] Fails for Package Explorer in non-Java project", "bug_description": "- create a simple project P - create a simple file called \"x.java\" in P - open it with the Default Text Editor - in the editor activate \"Show in\" and select Package Explorer as target -> nothing happens even if P and \"x.java\" are visible in the Package Explorer"}, {"bug_id": "312966", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/SourceViewerInformationControl.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Javadoc Bug screenshot screenshot background colors Bug hovering hover background", "bug_title": " [hovering] Some text in Javadoc hover/view not visible using Ubuntu 10.04", "bug_description": "I20100513-1500 I am using the default colors on Ubuntu 10.04 and some of the tooltips display black text on black background. Will attach a screenshot."}, {"bug_id": "31300", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/filters/NonSharedProjectFilter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "filter projects file build RepositoryProvider isv View wizards doc log", "bug_title": " RepositoryProvider.isShared has problems with closed projects [API]", "bug_description": "build i0206 (1700), win2k, j9sc20030205 In the Packages View, when I select to filter out projects which are non- shared, I get the following warnings in my log file. Note that all these are all the closed projects in my workspace and they are all shared. !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.574 !MESSAGE Resource /org.eclipse.core.tests.resources.saveparticipant is not open. !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.604 !MESSAGE Resource /org.eclipse.core.tests.resources.saveparticipant1 is not open . !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.614 !MESSAGE Resource /org.eclipse.core.tests.resources.saveparticipant2 is not open . !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.644 !MESSAGE Resource /org.eclipse.core.tests.resources.saveparticipant3 is not open . !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.674 !MESSAGE Resource /org.eclipse.core.tools.wizards is not open. !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.694 !MESSAGE Resource /org.eclipse.platform.doc.isv is not open. !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.734 !MESSAGE Resource /org.eclipse.platform.doc.user is not open. !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.774 !MESSAGE Resource /org.eclipse.webdav.tests is not open. !ENTRY org.eclipse.core.resources 4 372 Feb 07, 2003 09:45:50.934 !MESSAGE Resource /org.eclipse.core.tests.resources.saveparticipant is not open."}, {"bug_id": "313478", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/junit/wizards/NewTestCaseWizardPageOne.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JUnit Test File wizard test selection", "bug_title": " [JUnit] New Test Case wizard: Browse... does nothing", "bug_description": "Broken since R3.0. 1. make sure the Package Explorer is active but has no selection 2. File > New > JUnit Test Case 3. try to enter 'Class under test' by clicking on 'Browse...' ==> nothing happens"}, {"bug_id": "313751", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickFixProcessor.java", "org.eclipse.jdt.ui.tests/META-INF/MANIFEST.MF", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/UnresolvedMethodsQuickFixTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug   typo", "bug_title": " Fix typo \"modfier\" in code", "bug_description": "N20100519-2000."}, {"bug_id": "314069", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/IntroduceParameterObjectAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "databinding org IntroduceParameterObjectAction handleEvent dispatchRun open Select Loop Workbench read", "bug_title": " [introduce parameter] NPE while 'Introduce Parameter Object' when CU not on Build path", "bug_description": "I20100520-1744 - New workspace - Open a Java file placed anywhere on the file system (but is not on build path) (OR can open a file from CVS repository ) Use the following snippet package q; public class B { void foo() { System.out.println(); } } - Select 'foo' - From the Menu bar 'Refactor' -> Introduce Parameter Object => NPE in error log java.lang.NullPointerException at org.eclipse.jdt.internal.ui.actions.IntroduceParameterObjectAction.getSingleSelectedMethod(IntroduceParameterObjectAction.java:165) at org.eclipse.jdt.internal.ui.actions.IntroduceParameterObjectAction.run(IntroduceParameterObjectAction.java:113) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:278) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:250) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.ui.actions.RetargetAction.runWithEvent(RetargetAction.java:230) at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:234) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1052) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4066) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3657) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2629) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2593) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2427) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:670) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:663) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:618) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) at org.eclipse.equinox.launcher.Main.run(Main.java:1407)"}, {"bug_id": "314354", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/navigator/JavaNavigatorContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Explorer project Manually Workspace Workspace Library common Bug common Add", "bug_title": " [common navigator] Project Explorer does not refresh on adding/removing library to a project", "bug_description": "I20100520-1744 Steps - New Workspace - New Java project - In 'Project Explorer' right click on the java project -> Build Path -> Configure Build Path - 'Libraries' tab -> 'Add Library' -> add JUnit 3 and click Ok to close the dialog => The newly added library does not show up in Project Explorer - Manually refresh the project (F5) => Library added in last step shows up Auto refresh also does not happen when the library is removed."}, {"bug_id": "314585", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavadocHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JavaElementLinks Soap add SoapImpl Annotation contained jar getHoverInfo viewsupport add", "bug_title": " [hovering] NPE in JavadocHover when annotation value is a primitive type", "bug_description": "Build Identifier: I20100429-1549 From within the java editor, hovering over the interface (Service1Soap) of an implementation such as: \"public class Service1_Service1SoapImpl implements Service1Soap {...\" Produces the following stack trace: java.lang.NullPointerException at org.eclipse.jdt.internal.ui.viewsupport.JavaElementLabelComposer.appendElementLabel(JavaElementLabelComposer.java:263) at org.eclipse.jdt.internal.ui.viewsupport.JavaElementLinks.getElementLabel(JavaElementLinks.java:514) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.addValue(JavadocHover.java:1013) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.addValue(JavadocHover.java:1040) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.addAnnotation(JavadocHover.java:1003) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.getAnnotations(JavadocHover.java:980) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.addAnnotations(JavadocHover.java:928) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.getHoverInfo(JavadocHover.java:595) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.internalGetHoverInfo(JavadocHover.java:546) at org.eclipse.jdt.internal.ui.text.java.hover.JavadocHover.getHoverInfo2(JavadocHover.java:538) at org.eclipse.jdt.internal.ui.text.java.hover.BestMatchHover.getHoverInfo2(BestMatchHover.java:141) at org.eclipse.jdt.internal.ui.text.java.hover.JavaEditorTextHoverProxy.getHoverInfo2(JavaEditorTextHoverProxy.java:82) at org.eclipse.jface.text.TextViewerHoverManager$4.run(TextViewerHoverManager.java:166) The interface class is contained within a jar. Reproducible: Always Steps to Reproduce: 1.Create a Dynamic Web Project 2.Import a jar with a webservice endpoint interface 3.Create a service implementation that references this interface 4.Hover over the interface name from the implementation (I have a jar and implementation available let me know thxs)"}, {"bug_id": "316155", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/OpenEditorAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Test open classes view project exported Steps View Reproducible exported", "bug_title": " JUnit View: can't open source for test classes in fragments", "bug_description": "Build Identifier: M20090917-0800 I have plugins A, B and C which is a fragment to B. A is a test harness which creates a JUnit3 TestSuite, containing test classes from both B and C. A is dependent on B. When a test in B fails, I can open the test class from the JUnit view. When a test in C fails, I get the \"Test class not found in selected project\" error. This is related to bug 87492: that added code to look for source in non-exported packages of dependent plugins; what is still missing is looking for source in _fragments_ of dependent plugins (which may not be dependencies themselves). Reproducible: Always Steps to Reproduce: see above"}, {"bug_id": "316627", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/ActionUtil.java", "org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/AbstractChangeNode.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Create compile Reproducible changing classes Eclipse derived complete resource edit", "bug_title": " [refactoring] Refactoring does not give warning about modifying derived resources", "bug_description": "Build Identifier: M20100211-1343 The first time I try to edit a derived resource, Eclipse gives a warning about the resource being derived. However, when some refactoring would change that same resource, no warning is issued. Reproducible: Always Steps to Reproduce: 1. Generate some Java classes with some tool like ANTLR 2. Mark the generated sources as derived 3. Create a normal class that refers to one of the generated classes 4. Rename the generated class by changing its name in the class that refers it 5. Eclipse will complete the refactor without any warning, but once you regenerate your ANTLR code, you will have compile errors"}, {"bug_id": "317057", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/PasteAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Paste project work snippet add source create", "bug_title": " [create on paste] Paste to Working Set should work", "bug_description": "Pasting a source snippet to a working set in the the Package Explorer should paste the snippet to a new project and add the project to the working set."}, {"bug_id": "317224", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/resources/ExtractConstant/canExtract/A_test38_out.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractConstantRefactoring.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractConstant/canExtract/A_test38_in.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractConstant/canExtract/A_test38_out.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/ExtractConstantTests.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/Checks.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/RefactoringAvailabilityTester.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/RefactoringCoreMessages.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractConstantRefactoring.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractMethodAnalyzer.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractTempRefactoring.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/IntroduceParameterRefactoring.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/refactoring.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "annotation don Extract bug initial precondition packages refactoring bug select", "bug_title": " [refactoring] Fix enablement and precondition checking of Extract... refactorings for packages names and annotations", "bug_description": "I20100608-0911 While looking at bug 303617, I found that we have a few bugs in enablement and precondition checking of Extract... refactorings with certain selections. E.g. if you select a package name or an annotation, the refactorings are available in the quick menu and don't even stop in the initial condition checking. Same problem for Extract Local and Extract Method for selections in an annotation's arguments."}, {"bug_id": "317474", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/JavadocView.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavadocHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "attachment Declaration tooltip Created Bug view Javadoc Bug Open Open", "bug_title": " [render] Javadoc view has 'Open Declaration' tooltip but image is not a link", "bug_description": "Created attachment 172340 [details] Fix Javadoc view has 'Open Declaration' tooltip but image is not a link."}, {"bug_id": "317497", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/OverrideCompletionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "stub suggestion CloneNotSupportedException Override method content Exception", "bug_title": " [content assist] Overriding content assist suggestion immediately after closing brace generates invalid code", "bug_description": "I20100603-1500 public class Test { public void v() { }//<-invoke CC here } Select the second option, the clone() method, and you will get... public class Test { public void v() { }protected Object clone() throws CloneNotSupportedException {};//<-invoke CC here } ...if you put a space first, you will get... public class Test { public void v() { } @Override protected Object clone() throws CloneNotSupportedException { // TODO Auto-generated method stub return super.clone(); }//<-invoke CC here }"}, {"bug_id": "318388", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/ProblemsLabelDecorator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "eclipse Marker MARKER jreContainerMarker launching FUP eclipse JavaRuntime jreContainerMarker eclipse", "bug_title": " Replace \"org.eclipse.jdt.launching.jreContainerMarker\" with JavaRuntime.JRE_CONTAINER_MARKER", "bug_description": "FUP of Bug 312402"}, {"bug_id": "318731", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/reorg/MoveStaticMembersPerfTests1.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/reorg/MoveStaticMembersPerfTests2.java", "org.eclipse.jdt.ui.tests/performance/org/eclipse/jdt/ui/tests/performance/views/CleanUpPerfTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "shortly performance tests JDT   applied", "bug_title": " [perfs] Comments applied for JDT/UI performance tests are obsolete", "bug_description": "Degradation comments have been added while 3.6 dvpt for following performance bugs: - bug 304193 As 3.7 performance tests will restart shortly, these obsolete comments have to be removed as soon as possible..."}, {"bug_id": "318734", "ground_truth": ["org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/performance/ContentTypeTest.java", "org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/performance/OpenJavaEditorStartupTest.java", "org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/performance/OpenTextEditorStartupTest.java", "org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/performance/CodeCompletionPerformanceTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "performance Text Comments JDT", "bug_title": " [perfs] Comments applied for JDT/Text performance tests are obsolete", "bug_description": "Degradation comments have been added while 3.6 dvpt for following performance bugs: - bug 304191 - bug 298928 As 3.7 performance tests will restart shortly, these obsolete comments have to be removed as soon as possible..."}, {"bug_id": "318772", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SetFilterWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceContainerWorkbookPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/UserLibraryWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/dialogfields/ListDialogField.java"], "repo": "eclipse.jdt.ui", "reformed_query": "clicked Folder left corner Inclusion Open Open folder Source bar", "bug_title": " [build path] help button on \"Inclusion and Exclusion Patterns\" wizard page does not work", "bug_description": "The help button shown as a question mark icon on the \"Inclusion and Exclusion Patterns\" page of the \"Edit source folder\" wizard does not work when clicked.  However, the previous page titled, \"Source Folder\" does work. Steps to duplicate: * Create a new Java project. * Open the project's properties. * Navigate to Java Build Path. * Click \"Add Folder\". * Choose a path and click next. * On the \"Inclusion and Exclusion Patterns\" page, click the help button in the lower-left corner. Actual behavior: * Nothing happens. Expected behavior: * Help side-bar panel opens on the right side of the page. Version: Helios Release Build id: 20100617-1415"}, {"bug_id": "319854", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchUtil.java"], "repo": "eclipse.jdt.ui", "reformed_query": "condition warn IJava warnIfBinaryConstant Constant IField Bug matter problem IJavaElement", "bug_title": " [search] wrong condition for warning about references to inlined constant", "bug_description": "Created attachment 174289 [details] Fix I20100713-0800 (old problem) The condition in SearchUtil.warnIfBinaryConstant(IJavaElement, Shell) is wrong. It tests whether the field is declared in a binary type, but that doesn't matter for this problem. What matters is whether a *reference* is in a binary type (since only those references are not being found due to bug 12044). I first thought we could improve the test by using \"IField.getConstant() != null\", but that Java model method doesn't work reliably since it doesn't resolve the initializer (bug 202293). So we have to keep the warning for all static final fields of a \"dangerous\" type."}, {"bug_id": "320511", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/generics/InferTypeArgumentsConstraintsSolver.java"], "repo": "eclipse.jdt.ui", "reformed_query": "check code types generics code lang Exception Interfaces Solver generics", "bug_title": " [infer type arguments] NPE in InferTypeArgumentsConstraintsSolver#getNonTaggingInterfaces()", "bug_description": "Created attachment 174852 [details] Fix I20100720-0800 NPE in InferTypeArgumentsConstraintsSolver#getNonTaggingInterfaces() when trying to infer type arguments of org.eclipse.jdt.ui: Root exception: java.lang.NullPointerException at org.eclipse.jdt.internal.corext.refactoring.generics.InferTypeArgumentsConstraintsSolver.getNonTaggingInterfaces(InferTypeArgumentsConstraintsSolver.java:358) at org.eclipse.jdt.internal.corext.refactoring.generics.InferTypeArgumentsConstraintsSolver.chooseSingleType(InferTypeArgumentsConstraintsSolver.java:321) at org.eclipse.jdt.internal.corext.refactoring.generics.InferTypeArgumentsConstraintsSolver.chooseTypes(InferTypeArgumentsConstraintsSolver.java:280) at org.eclipse.jdt.internal.corext.refactoring.generics.InferTypeArgumentsConstraintsSolver.solveConstraints(InferTypeArgumentsConstraintsSolver.java:129) at org.eclipse.jdt.internal.corext.refactoring.generics.InferTypeArgumentsRefactoring.checkFinalConditions(InferTypeArgumentsRefactoring.java:235) at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:85) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:121) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1975) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) Problem is that InferTypeArgumentsConstraintsSolver#getNonTaggingInterfaces() assumes that all types are from the same project. The code was stupid anyway (expensive AST parsing is not required at all), so the fix will also improve performance."}, {"bug_id": "320878", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/changes/DynamicValidationStateChange.java"], "repo": "eclipse.jdt.ui", "reformed_query": "preview undo eclipse cleanup left DynamicValidationStateChange Dynamic Thread Redo Runnable", "bug_title": " [refactoring] DynamicValidationStateChange throws away valid changes after 30 minutes", "bug_description": "I20100720-0800, has been like this forever I ran the Infer Generic Type Arguments refactoring and left the preview open for > 30 minutes. When I tried to continue and apply the changes, I got the ConcurrentModificationException below. Initial changes should not be DynamicValidationStateChanges that throw away their children. Only undo changes should clean up after a while. Fix idea: Add a new constructor to DynamicValidationStateChange that prevents cleanup for that change (but implements it for Undo/Redo changes). java.util.ConcurrentModificationException at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372) at java.util.AbstractList$Itr.remove(AbstractList.java:357) at org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:297) at org.eclipse.jdt.internal.corext.refactoring.changes.DynamicValidationStateChange.access$0(DynamicValidationStateChange.java:1) at org.eclipse.jdt.internal.corext.refactoring.changes.DynamicValidationStateChange$1.run(DynamicValidationStateChange.java:98) at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:728) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1975) at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:4777) at org.eclipse.jdt.internal.corext.refactoring.changes.DynamicValidationStateChange.perform(DynamicValidationStateChange.java:101) at org.eclipse.ltk.core.refactoring.CompositeChange.perform(CompositeChange.java:278) at org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:258) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1975) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:306) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.executeChange(UIPerformChangeOperation.java:92) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.run(PerformChangeOperation.java:223) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1975) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)"}, {"bug_id": "321035", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JavaModelUtil.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageOne.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JavaModelUtil.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "compliance compliance compliance Enable compiler compiler revert revert compiler compiler", "bug_title": " Enable 1.7 compiler compliance in the UI", "bug_description": "Enable 1.7 compiler compliance in the UI (revert bug 309163)."}, {"bug_id": "321157", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaElementHyperlinkImplementationDetector.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaElementImplementationHyperlink.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/ActionMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/OpenImplementationAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Open method Reproduce methods quick overridable call navigation Editor Java", "bug_title": " [navigation] 'Open Implementation' should work for private methods seamlessly", "bug_description": "Build Identifier: 20100617-1415 The Navigate->Open Implementation call complains (\"The operation is not applicable to the current selection. Select an overridable method\") about a method that is private. This is rather annoying. Instead the call should fall back to open the method directly. That way a user does not have to think about if a given method is an interfaced method or a direct method. Only when you really want to navigate to the Interface you will have to think about Interfaces and Implementations. This is annoying, because if you navigate code you don't know intimately you won't know before hand if the method is overridable and so have to do multiple clicks before you get where you intended to go. This call is about fast and quick navigation and such de-tours are the opposite of the goal. Reproducible: Always Steps to Reproduce: 1. Select the call of a private method in your Java Editor 2. Select Navigate-->Open Implementation 3."}, {"bug_id": "321385", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/search/SearchLeakTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Queries change ZRHTests Bug change Reverting Search SearchView View machine", "bug_title": " SearchLeakTestWrapper#testRemoveSearchQueries() fails on build machine", "bug_description": "SearchLeakTestWrapper#testRemoveSearchQueries() fails on build machine when running AllZRHTests. No problem when run by itself. Reverting the last change in SearchView makes the test green again."}, {"bug_id": "321574", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/SearchScopeHierarchyAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/SearchInDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/SearchScopeActionGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "dialog Call Call hierarchy dialog scope call Remove dialog Search", "bug_title": " [call hierarchy] Remove Hierarchy scope for Call Hierarchy", "bug_description": "I2010070802-1800. Search In dialog: \"Note:\" should be bold like in the preference dialog."}, {"bug_id": "321608", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/junit/wizards/NewTestCaseWizardPageOne.java"], "repo": "eclipse.jdt.ui", "reformed_query": "add wizard appears JUnit Steps superclass junit field add JUnit", "bug_title": " [JUnit] New JUnit 4 Test Case wizard is confusing without class under test", "bug_description": "I20100802-1800 Steps: 1) File -> New JUnit Test Case -> choose New JUnit 4 Test (say Test1) in the radio button => the super class field is uneditable 2) Enter other values and Finish 3) Open the New JUnit Test Suite wizard : File -> New JUnit Test Suite => The new test Test1 case does not appear in the list of 'Test classes to include in suite' 4) Open the Test1 class and add the superclass as junit.framework.TestCase and repeat step (3) it appears now in the list"}, {"bug_id": "322812", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/buildpath/BuildPathSupport.java"], "repo": "eclipse.jdt.ui", "reformed_query": "imported bundle fail bundle imported hamcrest attachment details Bug details", "bug_title": " [JUnit] JUnit library container can't resolve binary-imported org.hamcrest.core", "bug_description": "Created attachment 176684 [details] Fix HEAD The JUnit library container can't resolve a binary-imported org.hamcrest.core bundle. This makes e.g. TestRunSessionSerializationTests4 fail."}, {"bug_id": "323690", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/RefreshElementAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyViewPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "requested call opened tree simply Alt call actual work Refresh", "bug_title": " [call hierarchy] Refresh view when selection is empty", "bug_description": "Build Identifier: 20100617-1415 If I open the call hierarchy for a given method by placing the caret on the method and then pressing Ctrl+Alt+H, it can still happen, that the resulting tree is empty. In Eclipse 3.5 I could then simply press F5 3 or 4 times to refresh the tree until it show the actual result. Now in 3.6 the call hierarchy refreshes only, if it is non-empty. Pressing Ctrl+Alt+H again after the call hierarchy opened and the selection is on the requested method does it though. But F5 should also work, since I don'T have to worry about the selection then. Reproducible: Always"}, {"bug_id": "32412", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/ReorgCopyStarter.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/ReorgMoveStarter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "copy", "bug_title": " [ccp] Get progress monitor before rename prompt when copy/pasting file", "bug_description": "build I20030220 - in package explorer, - select a CU - Ctrl+C - Ctrl+V - you get a progress dialog, then another dialog prompting you to choose a different name Should get the new name dialog first, then only show the progress monitor if the first dialog is not canceled."}, {"bug_id": "324719", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/util/JavaUIHelp.java"], "repo": "eclipse.jdt.ui", "reformed_query": "runEventLoop EclipseStarter isOnBuildPath EventTable UIHelp sendEvent IDEApplication NullPointerException invoke Action", "bug_title": " NPE in context help in Java Editor when CU not on build path", "bug_description": "- Open an external java file - Focus in the Java editor - Press F1 java.lang.NullPointerException at org.eclipse.jdt.internal.ui.actions.ActionUtil.isOnBuildPath(ActionUtil.java:93) at org.eclipse.jdt.internal.ui.util.JavaUIHelp$JavaUIHelpListener.helpRequested(JavaUIHelp.java:99) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:147) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4066) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3657) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2629) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2593) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2427) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:670) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:663) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java.lang.reflect.Method.invoke(Method.java:600) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:621) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:576) at org.eclipse.equinox.launcher.Main.run(Main.java:1409) at org.eclipse.equinox.launcher.Main.main(Main.java:1385)"}, {"bug_id": "325523", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/ui/refactoring/RefactoringWizardOpenOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "invoke openDeleteWizard runtime swt steps Pointer HandlerProxy Resources executeCommandInContext NPE", "bug_title": " NPE when deleting resource", "bug_description": "3.7M2 test build - observed on Linux-motif, but presumably affects other platforms as well I could not find reproducable steps for this, but I'm pretty sure it happened while either dragging a resource within the Package Explorer, or deleting a resource there by pressing Delete.  The stack follows. java.lang.NullPointerException at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:192) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:115) at org.eclipse.ltk.internal.ui.refactoring.actions.DeleteResourcesHandler.execute(DeleteResourcesHandler.java:40) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:293) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommandInContext(HandlerService.java:270) at org.eclipse.ui.internal.ide.actions.LTKLauncher.runCommand(LTKLauncher.java:95) at org.eclipse.ui.internal.ide.actions.LTKLauncher.openDeleteWizard(LTKLauncher.java:47) at org.eclipse.ui.actions.DeleteResourceAction.run(DeleteResourceAction.java:481) at org.eclipse.jdt.internal.ui.refactoring.reorg.DeleteAction.run(DeleteAction.java:162) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:250) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:929) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3224) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2895) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2629) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2593) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2427) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:670) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:663) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:621) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:576) at org.eclipse.equinox.launcher.Main.run(Main.java:1409)"}, {"bug_id": "32714", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/PackagesView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "layout subtrees subtrees looses logical flickers select views select loosing", "bug_title": " Packages View: flickering and loosing expanded state when logical package is selected with hierarchical layout", "bug_description": "In the java browsing perspective: - enable hierarchical layout for the packages view - select a logical package in the packages view - select types/methods in the types/methods views -> the packages view flickers and looses the expanded state (the tree is only expanded upto the logical package, other expanded subtrees are collapsed)"}, {"bug_id": "328554", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/resources/MoveInstanceMethod/canMove/test41/in/A.java", "org.eclipse.jdt.ui.tests.refactoring/resources/MoveInstanceMethod/canMove/test41/out/A.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/MoveInstanceMethodTests.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/MoveInstanceMethodProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Identifier Manually exception Reproduce Bug Steps Manually exception exception move", "bug_title": " [move method] NPE during move method refactoring", "bug_description": "Build Identifier: M20090917-0800 Manually (not using refactor assist) move a field F in class A to class B and this field is used by a method in class A.  The method will show an error because it doesn't know . Then try to use refactor move method from class A to class B.  You'll receive the error \"an unhandled exception occurred while performing the refactoring.\" Reproducible: Always Steps to Reproduce: Manually (not using refactor assist) move a field F in class A to class B and this field is used by a method in class A.  The method will show an error because it doesn't know . Then try to use refactor move method from class A to class B.  You'll receive the error \"an unhandled exception occurred while performing the refactoring.\""}, {"bug_id": "328694", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyViewPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Hierarchy method clear Steps Clearing history Clear Search bar Steps", "bug_title": " [call hierarchy] Clearing history should clear the status bar of the view", "bug_description": "I20101025-1800 Steps - Open call hierarchy on a method - Call Hierarchy view > History > Clear History => the status bar at the top of the view still says \"Members calling 'foo() - in workspace\" This works correctly in Search view"}, {"bug_id": "329248", "ground_truth": ["org.eclipse.ltk.core.refactoring/src/org/eclipse/ltk/internal/core/refactoring/resource/RenameResourceProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Rename Create Reproducible Reproducible resource appears rename Rename Reproduce Identifier", "bug_title": " [ltk] \"A file or folder with this name already exist\" on empty input for resource rename dialog", "bug_description": "Build Identifier: Version: 3.6.1 Build id: M20100909-0800 Inappropriate error message \"A file or folder with this name already exist\" appears on empty input for Resource Rename dialog. Reproducible: Always Steps to Reproduce: Steps to reproduce: 1) Create any file 2) Press F2 on it 3) Delete all text in opened \"Rename Resource\" dialog 4) Inappropriate error message \"A file or folder with this name already exist\" will appear"}, {"bug_id": "329252", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/CodeAssistAdvancedConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "IRC preferences Assist   mention", "bug_title": " [preferences][content assist] Auto-activation delay does not mention what unit of time it is in", "bug_description": "Today someone on IRC mentioned that it was not clear what unit of time the 'Auto activation delay:' in the 'Java > Editor > Content Assist' preferences were in."}, {"bug_id": "329626", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/AssistQuickFixTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "statements statement assist   box SPACE", "bug_title": " [quick assist] RFE: Quick fix to set all case statements in an Enum switch", "bug_description": "Build Identifier: It would be nice if Eclipse would allow me to CTRL+SPACE inside a new switch statement for an Enum, and give me the option to populate all case statements for each value. And if you really want to get fancy, a dialog box where I can check/uncheck the values I desire. Reproducible: Always"}, {"bug_id": "32967", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/EditorUtility.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorPreferencePage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorHoverConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavaEditorTextHoverDescriptor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/PreferenceConstants.java"], "repo": "eclipse.jdt.ui", "reformed_query": "error hover constant Ctrl externalized Hover constant preference translations japanese", "bug_title": " Java Editors preference page uses externalized values for constant", "bug_description": "RC1 The value for Ctrl is externallized for the Hover page of the Java Editors preference page. As a result when you run in Japanese you immediately get an error: \"Modifer <japanese version of Ctrl> for Source hover is not valid.\" I don't think this is in the 2.0 translations - I generated some for 2.1 to test Japanese"}, {"bug_id": "329677", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchQuery.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/JavaOutlineInformationControl.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/typehierarchy/HierarchyLabelProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/HistoryAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/typehierarchy/MethodsLabelProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/typehierarchy/HierarchyInformationControl.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/typehierarchy/HistoryAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "respect Call qualified works honor hierarchy abbreviation view", "bug_title": " [type hierarchy] view must honor package name abbreviation setting", "bug_description": "Created attachment 182620 [details] screenshot I use package name abbreviation to make it easier to parse information in Java views, and to reduce clutter. But Type Hierarchy view does not respect this setting... this is irritating (Call Hierarchy works correctly) Steps - Enable 'Show qualified type names' from the Type Hierarchy view menu - Enable package name abbreviation - Open type hierarchy on something"}, {"bug_id": "329720", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/RefactoringStatusDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/CPVariableElementLabelProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Lucid Bug background   Eclipse", "bug_title": " [hover] There is no preference to change background color of debug hover popup", "bug_description": "The background color of the debug hover popup on Linux Lucid Lynx is inherited from the desktop theme. For dark color schemes this leads to black text on a dark grey background. There should be a preference for setting background color of debug hover popup within Eclipse independently from the desktop theme."}, {"bug_id": "330415", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_in/TestDiffDiff.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_in/TestDivideDivide.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_in/TestPlusDiff.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_in/TestTimesDivide.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_in/TestTimesTimes.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_out/TestDiffDiff.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_out/TestDivideDivide.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_out/TestPlusDiff.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_out/TestPlusPlus.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_out/TestTimesDivide.java", "org.eclipse.jdt.ui.tests.refactoring/resources/InlineMethodWorkspace/TestCases/operator_out/TestTimesTimes.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/InlineMethodTests.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/SourceProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "observe subtracted functions expression test test Bug produces wrong expression", "bug_title": " [inline] Refactor > Inline fails to parenthesize replaced arguments", "bug_description": "Build Identifier: M20100211-1343 Inlining a subtracted expression produces the wrong result because the refactoring tool fails to parenthesize the arguments. Example: instead of x - (y + z), you can end up with x - y + z. (See attached test case). Reproducible: Always Steps to Reproduce: 1. Run the test case as-is. 2. Inline each of the functions in main(). 3. Run the test case again and observe the difference."}, {"bug_id": "330640", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/OptionsConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "checkWidget Data java EclipseAppLauncher access Impl equinox getData application filter", "bug_title": " [preferences] SWTException in OptionsConfigurationBlock (Widget is disposed)", "bug_description": "I got the following exception when closing the preference page for Errors/Warnings after changing the filter field. Eclipse SDK Version: 3.7.0 Build id: I20101028-1441 org.eclipse.swt.SWTException: Widget is disposed at org.eclipse.swt.SWT.error(SWT.java:4091) at org.eclipse.swt.SWT.error(SWT.java:4006) at org.eclipse.swt.SWT.error(SWT.java:3977) at org.eclipse.swt.widgets.Widget.error(Widget.java:468) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:340) at org.eclipse.swt.widgets.Widget.getData(Widget.java:525) at org.eclipse.jdt.internal.ui.preferences.OptionsConfigurationBlock.getExpandableComposite(OptionsConfigurationBlock.java:1473) at org.eclipse.jdt.internal.ui.preferences.OptionsConfigurationBlock$FilteredPreferenceTree.updateUI(OptionsConfigurationBlock.java:628) at org.eclipse.jdt.internal.ui.preferences.OptionsConfigurationBlock$FilteredPreferenceTree.updateUI(OptionsConfigurationBlock.java:647) at org.eclipse.jdt.internal.ui.preferences.OptionsConfigurationBlock$FilteredPreferenceTree.access$2(OptionsConfigurationBlock.java:617) at org.eclipse.jdt.internal.ui.preferences.OptionsConfigurationBlock$3.runInUIThread(OptionsConfigurationBlock.java:655) at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:95) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4059) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3678) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2629) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2593) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2427) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:670) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:663) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:621) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:576) at org.eclipse.equinox.launcher.Main.run(Main.java:1409)"}, {"bug_id": "331028", "ground_truth": ["org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/JavaHeuristicScannerTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Indentation bug indentation HEAD indented HEAD Number loop copying List", "bug_title": " [typing] Indentation broken in enhanced for loop", "bug_description": "Broken in M3, HEAD, and in HEAD with patch from bug 330556 comment 8 OK up to at least 3.7 M1. Auto-indentation is broken when copying lines with Ctrl+Alt+ArrowDown. Example (using default code formatter): package p; import java.util.List; class A { void x() { List<? extends Number> nums = getNums(); for (Number n : nums) { Number n2 = (Number) n; // copy with Ctrl+Alt+ArrowDown System.out.println(n); } } private List getNums() { return null; } } => Copied line indented too much: for (Number n : nums) { Number n2 = (Number) n; Number n2 = (Number) n;"}, {"bug_id": "331053", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/JUnitModel.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/ModelMessages.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/ModelMessages.properties", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/TestRunHandler.java"], "repo": "eclipse.jdt.ui", "reformed_query": "URL details doesn Created Cancel working JUnit doesn Importing Bug", "bug_title": " [JUnit] Importing from URL doesn't show whether connection is working and doesn't cancel", "bug_description": "Created attachment 183791 [details] Fix HEAD Importing from URL doesn't show whether the connection is working (bug 293446 comment 2) and doesn't cancel the download when I click Cancel (it just looks like it does...)."}, {"bug_id": "331115", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/AdvancedQuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "conditional String args String Replace apply Replace comment Bug conditional", "bug_title": " Replace if-else with conditional removes comment right above if-else", "bug_description": "If I apply the mentioned quick fix to an if-else block which has a comment above, the comment is removed. Please see the below class for an example. pre.. public class Bug { public static void main(String[] args) { boolean flag = false; String value; // this comment will be erased if ( flag ) value = \"true\"; else value = \"false\"; System.out.format(\"flag: %b, value: %s%n\", flag, value); } }"}, {"bug_id": "331116", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/AssistQuickFixTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "reproduce declaration assignment String assist joining   removes", "bug_title": " [quick assist] Join declaration quick fix removes comments between declaration and assignment", "bug_description": "See the below example for the shortest way to reproduce when joining a declaration. pre.. String message; // this comment gets removed message = \"\";"}, {"bug_id": "331320", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaElementHyperlinkReturnTypeDetector.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Open current settled Open method primitive Open hyperlink settled navigation", "bug_title": " [navigation] Open Return Type hyperlink should not show up when return type is void", "bug_description": "HEAD I know we settled to the current solution in bug 88434, but in daily usage, I find it confusing that the \"Open Return Type\" hyperlink shows up when the return type is void (especially on a method declaration where I want to jump to the implementation). Could we disable the hyperlink for primitive and void return types?"}, {"bug_id": "332421", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertyKeyHyperlink.java"], "repo": "eclipse.jdt.ui", "reformed_query": "checkInstanceLocation workspaceCannotLockTitle internal plug workspace open CVS key Hyperlink Shell", "bug_title": " [nls tooling] Hyperlink on properties file key doesn't work across projects", "bug_description": "N20101212-2000 - import org.eclipse.ui.ide and org.eclipse.ui.ide.application from CVS - open this file: /org.eclipse.ui.ide/src/org/eclipse/ui/internal/ide/messages.properties - Ctrl+Click on the key on line 952: IDEApplication_workspaceCannotLockTitle=Workspace Cannot Be Locked => just beeps but doesn't open the reference in IDEApplication#checkInstanceLocation(Shell). Problem is probably that the reference is in another plug-in."}, {"bug_id": "333461", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/JavadocView.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/JavadocView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "eclipse click solutions Open Bug hover context swt browser solutions", "bug_title": " [actions] Javadoc view: \"Open Attached Javadoc in External Browser\" should open URL", "bug_description": "N20101221-2000 Show Javadoc of org.eclipse.swt.layout.FormLayout in the Javadoc view. Scroll down and click the link \"Sample code and further information\". This shows the linked URL in the Javadoc view. But now, I have no way to open the shown page in an external browser. I see 2 solutions (preferring A): A) When the Javadoc view shows an URL, rename the button / context menu action to \"Open in External Browser\" and then open the URL. B) Never show a linked page in the Javadoc view, but always open an external browser (like the Javadoc hover)."}, {"bug_id": "333541", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/OptionsConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "enabling Text works whitespace Steps checkbox link option", "bug_title": " [preferences] \"Show whitespace characters\" gets toggled when \"whitespace characters\" dialog is opened", "bug_description": "Build Identifier: 20101216-1529 Using eclipse-java-indigo-M4-linux-gtk When you click on the \"whitespace characters\" link to open the \"Show Whitespace Characters\" dialog, then checkbox is always toggled For the use case of someone enabling the option, that works fine - click the link, tweak the options in the dialog, close and the option is enabled However, if the option is already enabled and you just want to tweak the options, it gets really annoying - click the link, tweak the options, close and notice the option is now disabled Suggest that the the checkbox should never be toggled from on to off by clicking on this link For reference, the option was added by bug #257313 Reproducible: Always Steps to Reproduce: 1. In Preferences -> General -> Text Editors 2. Click the \"whitespace characters\" link and get the \"Show Whitespace Characters\" dialog 3. Notice the checkbox has been toggled"}, {"bug_id": "333631", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/nls/PropertyFileDocumentModel.java"], "repo": "eclipse.jdt.ui", "reformed_query": "property key file tooling", "bug_title": " [nls tooling] Rename properties key/field adds additional '='", "bug_description": "3.4. Renaming a property key/field in the Java editor can result in an additional '=' being added to property value. Steps: 0. start with new workspace using 1.6 JRE 1. Import the attached ZIP as 'Existing Project into Workspace' 2. open type 'Test' 3. select the 'Test_0' 4. Refactor > Rename it to \"Bug\" ==> The entry in the properties file now has an additional '=': BUG== BUG"}, {"bug_id": "333654", "ground_truth": ["org.eclipse.jdt.ui.tests/leaks/org/eclipse/jdt/ui/leaktest/reftracker/IdentityHashSet.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Insertion failures AIOOBE large number Insertion Code reftracker extremely number", "bug_title": " AIOOBE in IdentityHashSet.getInsertionIndex(*)", "bug_description": "On of the test teams reported intermittent failures from ArrayIndexOutOfBoundsExceptions on 64 bit JVMs in org.eclipse.jdt.ui.leaktest.reftracker.IdentityHashSet.getInsertionIndex(Object, Object[]). It seems System.identityHashCode(*) is returning an extremely large number, which results in the modulo being negative.  It should probably be protected against numbers larger than 0x7FFFFFFF PW"}, {"bug_id": "334625", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/AbstractJarDestinationWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "broken relative relative Destination file wizard Bug current working exporter", "bug_title": " [jar exporter] Destination starting with '/' or '\\' announced as being relative to the workspace", "bug_description": "3.7 M4 but broken since 3.0. When using a destination starting with '/' or '\\' in the JAR exporter the wizard's descriptions says that it will be relative to the workspace. This is wrong, it will be in the root of the current working directory (user.dir). 1. in the JAR Export wizard's 'JAR file' field enter: \"/foo.jar or \\foo.jar ==> the wizard's description says: \"The export destination will be relative to your workspace.\" 2. export ==> observe: the file will not be placed relative to the workspace."}, {"bug_id": "334864", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/OpenTestAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "method Bug Junit Method Build view open don Steps", "bug_title": " [JUnit] Opening @Ignored test classes from JUnit view leads to \"Method '...' not found. Opening the test class.\" warning", "bug_description": "Build Identifier:  20100917-0705 I have some JUnit 4 unit tests where I've marked the whole class with @Ignore. This gives a (correct) output on the JUnit view. If I want to open those tests via double-click in the JUnit view, I get a \"Method '...' not found. Opening the test class.\" warning. This is not ok, since I never indended to open a method but the whole class. Clicking on ok opens the class (which is again ok) --> please don't show that warning in that case since it makes no sense Reproducible: Always Steps to Reproduce: 1. write a Junit 4 unit test 2. mark the whole class with @Ignore 3. run your tests 4. double-click on the ignored test in the Junit view"}, {"bug_id": "335132", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/SourceActionDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Resize dialog Override position subsequent larger", "bug_title": " [actions] Override / Implement dialog size / position are not saved", "bug_description": "Build Identifier: 20100917-0705 The size and position of \"override/implement method\" dialog box is not saved. If I make the dialog larger to see more methods at once (I have a large monitor), then on subsequent invocations the dialog resets to default size / position. Reproducible: Always Steps to Reproduce: 1. Bring up override/implement method dialog. 2. Resize the dialog, e.g. make it larger. 3. Finish by overriding a method (clicking \"Ok) 4. Bring up the dialog again. ---> The dialog has the old, default size - its size and position are not saved."}, {"bug_id": "336841", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/packageview/PackageExplorerShowInTests.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerPart.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/packageview/PackageExplorerShowInTests.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "java view Synchronize attachment explorer test explorer file details classpath", "bug_title": " [package explorer] \"Show In\" doesn't work in Synchronize view for open .java file outside of classpath", "bug_description": "Created attachment 188698 [details] Fix & test HEAD \"Show In > Package Explorer\" doesn't work in the Synchronize view for an open .java file that is not on the classpath."}, {"bug_id": "337209", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/JUnitUIPreferencesConstants.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/JunitPreferenceInitializer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "views views stored exit Bug HEAD preference lost Bug Bug", "bug_title": " [preferences][JUnit] 'Show newly launched test in all JUnit views' not stored", "bug_description": "3.7 M1 and HEAD. 1. enable  'Show newly launched test in all JUnit views' 2. exit 3. start ==> preference is lost."}, {"bug_id": "337514", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/ASTBatchParser.java"], "repo": "eclipse.jdt.ui", "reformed_query": "TypedListener Remove NativeMethodAccessorImpl Conditions Selected Unit ASTs Application Project InvocationTargetException", "bug_title": " [clean up] Out of memory error while using Source > Cleanup", "bug_description": "- On the clean up preference page enable 'Remove unnecessary parentheses' and disable all other clean-ups - Select o.e.jdt.core in PE, Source > Clean up => I got this out of memory exception. I can try to increase the available memory, but there should not be a problem in the first place as the Clean up does not require more than one AST at a time. ------------------------------------------------------------------------------- java.lang.reflect.InvocationTargetException at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421) at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:1029) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.createChange(RefactoringWizard.java:599) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.computeUserInputSuccessorPage(RefactoringWizard.java:438) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.computeSuccessorPage(UserInputWizardPage.java:74) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.getNextPage(UserInputWizardPage.java:114) at org.eclipse.jdt.internal.ui.fix.CleanUpRefactoringWizard$CleanUpConfigurationPage.getNextPage(CleanUpRefactoringWizard.java:448) at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:908) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:428) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:240) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1258) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3549) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3170) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:181) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:193) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:116) at org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:38) at org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startCleanupRefactoring(RefactoringExecutionStarter.java:251) at org.eclipse.jdt.internal.ui.actions.AllCleanUpsAction.performRefactoring(AllCleanUpsAction.java:75) at org.eclipse.jdt.internal.ui.actions.CleanUpAction.runOnMultiple(CleanUpAction.java:203) at org.eclipse.jdt.internal.ui.actions.CleanUpAction.run(CleanUpAction.java:108) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:250) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1258) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3549) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3170) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2700) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2664) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2498) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:674) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:667) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:600) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577) at org.eclipse.equinox.launcher.Main.run(Main.java:1410) Caused by: java.lang.OutOfMemoryError at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2027) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1665) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1828) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2465) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1834) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2465) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1160) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2441) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2814) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2533) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:532) at org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:183) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2723) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1279) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:876) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:577) at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:888) at org.eclipse.jdt.internal.corext.dom.ASTBatchParser.createASTs(ASTBatchParser.java:108) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring$CleanUpFixpointIterator.next(CleanUpRefactoring.java:399) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.cleanUpProject(CleanUpRefactoring.java:707) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.checkFinalConditions(CleanUpRefactoring.java:663) at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:85) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:121) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2310) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) Root exception: java.lang.OutOfMemoryError at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2027) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1665) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1828) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2465) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1834) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2465) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1160) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2441) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2814) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2533) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:532) at org.eclipse.jdt.core.dom.ASTConverter.buildBodyDeclarations(ASTConverter.java:183) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:2723) at org.eclipse.jdt.core.dom.ASTConverter.convert(ASTConverter.java:1279) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:876) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:577) at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:888) at org.eclipse.jdt.internal.corext.dom.ASTBatchParser.createASTs(ASTBatchParser.java:108) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring$CleanUpFixpointIterator.next(CleanUpRefactoring.java:399) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.cleanUpProject(CleanUpRefactoring.java:707) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.checkFinalConditions(CleanUpRefactoring.java:663) at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:85) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:121) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2310) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) -----------------------------------------------------------------------------"}, {"bug_id": "338089", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Arguments String java Type creations quick List", "bug_title": " [quick fix] \"Infer Generic Type Arguments...\" shows up twice", "bug_description": "HEAD The \"Infer Generic Type Arguments...\" shows up twice, e.g on class instance creations: package xy; import java.util.ArrayList; import java.util.List; public class Try { void foo() { List<String> var= new ArrayList(); // caret in ArrayList, Ctrl+1 } }"}, {"bug_id": "338638", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "fixes empty left NLS Relevance Bug   externalization", "bug_title": " [quick assist][quick fix] Relevance for externalization quick fixes too low with non-empty selection", "bug_description": "The order for string externalization quick fixes is different when invoked by clicking on the marker on the left margin compared to one that comes by pressing Ctrl + 1 on the non-NLS'ed string. See snapshots"}, {"bug_id": "338656", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/TypeMismatchQuickFixTests.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/TypeChangeCorrectionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Quick mode arguments Change offer quick offer mode offer type", "bug_title": " [quick fix] \"Change type of '*' to *\" should offer matching type with type arguments first", "bug_description": "Created attachment 190134 [details] Fix HEAD The \"Change type of '*' to *\" Quick Fix should offer matching type with type arguments first in the linked mode proposals."}, {"bug_id": "338673", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/NewJavaProjectPreferencePage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/NewJavaProjectPreferencePage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "replaced Preference entries pack Messages languages translations dropdown Latin NewJavaProjectPreferencePage", "bug_title": " [preferences][implementation] Encoding problem for \"As JRE library use\" preference dropdown box", "bug_description": "Created attachment 190145 [details] As JRE library use.jpg Using a pseudo translation language pack where all Latin characters are replaced with double-byte characters, entries in the \"As JRE library use\" preference dropdown box do not display. This problem will cause all translations in other languages to be displayed as question marks too. Test Data: ========== Replace the following string NewJavaProjectPreferencePage_jre_container_description=JRE container in eclipse\\plugins\\org.eclipse.jdt.ui\\org\\eclipse\\jdt\\internal\\ui\\preferences\\PreferencesMessages.properties to NewJavaProjectPreferencePage_jre_container_description=[G'\\uff2a\\uff32\\uff25 \\uff43\\uff4f\\uff4e\\uff54\\uff41\\uff49\\uff4e\\uff45\\uff52\\u0130\\u0131\\uff5c]"}, {"bug_id": "338731", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/CUCorrectionProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/LinkedProposalModelPresenter.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/SurroundWithTryCatchAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Quick attachment position mode editor editor mode wrong linked jump", "bug_title": " [quick fix] Quick fixes with linked mode in different editor jump to a wrong end position", "bug_description": "Created attachment 190200 [details] Fix HEAD Quick fixes with linked mode in different editor jump to a wrong default end position, e.g. in scenario from bug 338439."}, {"bug_id": "339000", "ground_truth": ["org.eclipse.ltk.core.refactoring/src/org/eclipse/ltk/internal/core/refactoring/UndoManager2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "source fOperationHistory Build org core Operation Manager misspelled java refactoring", "bug_title": " Misspelling for field name UndoManager2.fOperationHistroy", "bug_description": "Build Identifier: M20100909-0800 The field name is misspelled. It should be UndoManager2.fOperationHistory (instead of UndoManager2.fOperationHistroy). Reproducible: Always Steps to Reproduce: It is in the source code, so I just open UndoManager2.java in org.eclipse.ltk.internal.core.refactoring"}, {"bug_id": "339223", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ReorgCorrectionsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/GetterSetterCorrectionSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/SuppressWarningsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/UnresolvedElementsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/TypeMismatchSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/text/java/IJavaCompletionProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/DefaultClasspathFixProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickFixProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/MarkerResolutionProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/JavaCorrectionProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ReturnTypeSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/spelling/DisableSpellCheckingProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/AdvancedQuickAssistProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/CorrectMainTypeNameProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/spelling/WordIgnoreProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/SerialVersionSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/IProposalRelevance.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/RenameRefactoringProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/VarargsWarningsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/LinkedNamesAssistProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/spelling/AddWordProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/JavadocTagsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/TypeArgumentMismatchSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "relevance fixes fixes Relevance replace compare fixes Quick search easier", "bug_title": " [quick fix][quick assist] Replace integer literals for relevance with int constants", "bug_description": "Relevance of Quick fixes and Quick assists is hardcoded as integer literals, which makes it almost impossible to compare relevance of Quick fixes/assists. We should replace integer literals with int constants so that a reference search on the constants can be done to make it easier to compare relevance."}, {"bug_id": "339614", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaElementLine.java"], "repo": "eclipse.jdt.ui", "reformed_query": "springsource IndentManipulation Eclipse JavaElementLine File syntax crashes Workspaces JavaElementLine Adapter", "bug_title": " [search] JavaElementLine crashes with ArrayIndexOutOfBoundsException when there is EOF encountered", "bug_description": "The constructor org.eclipse.jdt.internal.ui.search.JavaElementLine.JavaElementLine(ITypeRoot, int, int) expects that the end of the line ends with a \\n or a \\r char.  However, there are situations where an EOF is reached with no \\r or \\n. The only time I have encountered this in Java code is with a syntax error.  See this class: class Foo { int x Now, select the x field and do CTRL-Shift-U.  And the result is an exception in the log: eclipse.buildId=M20110210-1200 java.version=1.6.0_22 java.vendor=Apple Inc. BootLoader constants: OS=macosx, ARCH=x86, WS=cocoa, NL=en_US Framework arguments:  -product com.springsource.sts.ide Command-line arguments:  -os macosx -ws cocoa -arch x86 -product com.springsource.sts.ide -data /users/Andrew/Eclipse/Workspaces/workspaceAJDT36 Error Thu Mar 10 14:42:35 PST 2011 An internal error occurred during: \"Search for Occurrences in File\". java.lang.ArrayIndexOutOfBoundsException at org.eclipse.jdt.internal.ui.javaeditor.DocumentAdapter.getChar(DocumentAdapter.java:369) at org.eclipse.jdt.internal.ui.search.JavaElementLine.<init>(JavaElementLine.java:70) at org.eclipse.jdt.internal.ui.search.OccurrencesSearchQuery.getLineElement(OccurrencesSearchQuery.java:113) at org.eclipse.jdt.internal.ui.search.OccurrencesSearchQuery.run(OccurrencesSearchQuery.java:79) at org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run(InternalSearchUI.java:91) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) The fix is simple.  In the condition for the while loop on line 64, add a check for EOF: while (i < length && !IndentManipulation.isLineDelimiterChar(ch) && !IndentManipulation.isEOFChar(ch)) {"}, {"bug_id": "339896", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/ChangeSignatureProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Identifier change incorrect parameter Change Reproduce Method change varargs Steps", "bug_title": " [change method signature] Preview is incorrect when a varargs parameter is present", "bug_description": "Build Identifier: 20100617-1415 When adding a varargs parameter (or if one is already present), the type of that parameter is not used in the preview. Reproducible: Always Steps to Reproduce: 1. Trigger \"Change Method Signature...\" for some method 2. Add a varargs parameter if there is not already one 3. The \"Method signature preview\" at the bottom does not contain the type of the varargs parameter (even if it is not a new parameter)"}, {"bug_id": "340338", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/LazyJavaCompletionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "invoking overwrites select select Ctrl charAtBytes charAt replace characters proposal", "bug_title": " [content assist] Proposal does not replace leading chars if there's a selection", "bug_description": "3.1. Inserting a proposal does not replace the leading characters if there's a selection when invoking content assist. Test Case: 1. set 'Completion overwrites' 2. have: ---%<--- void test() { String s; s.getBytes(); } ---%<--- 3. select \"get\" 4. Ctrl+Space 5. select 'charAt' and insert it ==> s.charAtBytes(); EXPECTED: s.charAt();"}, {"bug_id": "341109", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/CustomFiltersActionGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "invoking removed filters result BUG invoking User Remove explorer filters", "bug_title": " [package explorer] Remove filters on \"Show In > Package Explorer\" removes too many filters", "bug_description": "When invoking \"Show In->Package Explorer\" action on a Type that come from \"Libraries from external\", I choose \"Yes\" to remove some filters so that the Type can be shown. BUG: Both \"Empty library containers\" and \"Libraries from external\" filters are removed. EXPECTED: Only \"Libraries from external\" should be removed. I assume this is just a naive algorithm that removes filters until the Type can be shown.  Once it has removed enough filters to show the type, the algorithm should then go back and attempt to turn on all (except maybe the last) filters to see if they were unnecessarily removed. As a result, the User must re-enable 2 or more filters instead of just the one which allowed the Type to be shown."}, {"bug_id": "341851", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/rename/RenameJavaProjectProcessor.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/rename/RenameJavaProjectProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "letting Project letting java letting exists Create change exists error", "bug_title": " [rename] Refactoring (renaming) gives \"already exists\" error for upper/lower case change", "bug_description": "Build Identifier: M20100909-0800 When I try to rename my project from \"project1\" to \"Project1\" using rightclick->refactor->rename, I get the error \"A folder with that name already exists\". I have to first change it to something else like \"proj1\" and then back to \"Project1\". Reproducible: Always Steps to Reproduce: 1. Create new java project name \"project1\" 2. Refactor the project name to \"Project1\" 3. Will see the error in the dialogue box not letting you continue."}, {"bug_id": "342391", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JavaModelUtil.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageOne.java"], "repo": "eclipse.jdt.ui", "reformed_query": "creates compliance project selects creates support compliance Java misleading creates", "bug_title": " New Java Project wizard and 'Java Compiler' property page misleading when 1.7 EE is used", "bug_description": "HEAD. The 'Java Compiler' preference/property page is misleading when a 'JavaSE-1.7' EE is used on a project: it says that we use the compliance from the EE but we don't support 1.7 compliance. Though we show '1.6' below this can be misleading, especially when one creates a new Java projects and selects 'JavaSE-1.7'. We should show a warning on that page and also on the new Java project wizard."}, {"bug_id": "342410", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/AdvancedQuickAssistTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Pick java coverage correction reports Bug", "bug_title": " [quick assist] 'Pick out selected part of string' does not have any tests", "bug_description": "Link for code coverage tool report http://download.eclipse.org/eclipse/downloads/drops/I20110315-0800/testresults/reports/org.eclipse.jdt.ui_3.7.0.v20110315-0800/org.eclipse.jdt.ui/org.eclipse.jdt.internal.ui.text.correction/AdvancedQuickAssistProcessor.java.html#L1507"}, {"bug_id": "342858", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/TargetProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "fails refactoring type Reproducible declaration Frequency invocations inlining type invocations", "bug_title": " [inline] inlining all invocations of a method does not work for method with non-final enum type", "bug_description": "Build Identifier: M20110210-1200 Not always, but often, selecting a method and inlining \"All invocations\" of it does not work.  If you have \"Delete method declaration\" selected, that does take affect, leaving all the callers referring to a now deleted method, and thus compilation breaks. There are no errors from the refactoring itself, it just fails silently. I'm marking this Major, I think of this as being a critical refactoring.  It's necessary whenever a change to a method is more than just a signature change. Reproducible: Always Steps to Reproduce: 1. Inline CouponChoice.getFrequency(). 2. See the caller not change."}, {"bug_id": "342926", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/junit/wizards/NewTestCaseWizardPageOne.java", "org.eclipse.jdt.junit/META-INF/MANIFEST.MF"], "repo": "eclipse.jdt.ui", "reformed_query": "testCjkExtensionB code DBCS JUnit methods generates click java create XXXXXXTest", "bug_title": " [JUnit] DBCS4.1: JUnit4 can not generate a method name with CJK extension B.", "bug_description": "Build Identifier: I20110407-2200 OS: SLES11 Eclipse: 4.1 I20110407-2200 JDK: IBM 1.6.0 When I create a methods name such as cjkExtensionB\\ud842\\udf9f() by JUnit4, JUnit generates testCjkExtensionB() instead of cjkExtensionB\\ud842\\udf9f(). Reproducible: Always Steps to Reproduce: 1. Paste the following code in your Java Editor and create the class BugXXXXXX. -------------------------------- public class BugXXXXXX { public void cjk\\u4e00() { } public void cjkExtensionB\\ud842\\udf9f() { } } ---------------------------------- 2. From the context menu of BugXXXXXX.java -> [New] -> [JUnit Test Case...] 3. Type BugXXXXXXTest for 'Name' field and select BugXXXXXX for 'Class under test', then click [Next:. 4. Select 'cjk\\u4e00()' and 'cjkExtensionB\\ud842\\udf9f()', then click [Finish]. 5. JUnit4 can generate testCJK\\u4e00(), but it can not generate testCjkExtensionB\\ud842\\udf9f(). 6. It generates testCjkExtensionB() and truncates the name after '\\ud842'."}, {"bug_id": "343245", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/model/JUnitModel.java"], "repo": "eclipse.jdt.ui", "reformed_query": "topic REMOVE ApplicationElement JUnit lang services consolelog SESSION Max linux", "bug_title": " [JUnit] DBCS4.1: JUnit can not import URL with CJK Extension B from clipboard", "bug_description": "Build Identifier: I20110412-2200 OS: SELS4 Eclipse SDK: 4.1.0 JRE: IBM JDK 1.6.0 JUnit view can not import URL with CJK Extension B from clipboard. Eclipse hangs up. Reproducible: Always Steps to Reproduce: 1.Launch Eclipse and show JUnit view by [Window]->[Show View...]->[Others]->[Java]->[JUnit] 2.Open U20BOF_\\ud842\\udf9f.xml, attached to this report, in your browser. 3.Select your browser's URL field and copy it to clipboard 4.Click JUnit menu icon and select 'import URL from clipboard'. 5.Eclipse hangs up and it outputs the following error log. !SESSION 2011-04-19 17:06:45.167 ----------------------------------------------- eclipse.buildId=I20110412-2200 java.fullversion=JRE 1.6.0 IBM J9 2.4 Linux x86-32 jvmxi3260sr9-20110203_74623 (JIT enabled, AOT enabled) J9VM - 20110203_074623 JIT  - r9_20101028_17488ifx3 GC   - 20101027_AA BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=ja_JP Command-line arguments:  -os linux -ws gtk -arch x86 -consolelog !ENTRY org.eclipse.equinox.event 4 0 2011-04-19 17:07:58.964 !MESSAGE Exception while dispatching event org.osgi.service.event.Event [topic=org/eclipse/e4/ui/model/application/ApplicationElement/tags/REMOVE] to handler org.eclipse.e4.ui.services.internal.events.UIEventHandler@3ed83ed8 !STACK 0 java.lang.NullPointerException at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon.restore(MinMaxAddon.java:345) at org.eclipse.e4.ui.workbench.addons.minmax.MinMaxAddon$3.handleEvent(MinMaxAddon.java:221) at org.eclipse.e4.ui.services.internal.events.UIEventHandler$1.run(UIEventHandler.java:41) ..."}, {"bug_id": "343422", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javadocexport/JavadocWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "form form wizard export options Javadoc form CUs export form", "bug_title": " [javadoc wizard] Generating Javadoc for CUs with UTF-8 names fails on Windows", "bug_description": "3.6. Generating Javadoc for CUs with 'UTF-8' names fails on Windows (where 'Cp1252' is the default encoding). 1. start new workspace 2. import project form attachment 193329 [details] 3. set project encoding to UTF-8 4. try to export Javadoc ==> fails because the file names are mangled There's no way to fix this by using VM arguments or extra Javadoc program arguments because the options file is created using the encoding with which the workspace was launched and the '-encoding' parameter is not used when reading the options file."}, {"bug_id": "344544", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/StubUtility.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/CodeGeneration.java", "org.eclipse.jdt.ui.tests.refactoring/resources/IntroduceIndirection/test17/out/Foo.java", "org.eclipse.jdt.ui.tests.refactoring/resources/IntroduceIndirection/test21/out/Foo.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/JavadocTagsSubProcessor.java", "org.eclipse.jdt.ui.tests.refactoring/resources/IntroduceIndirection/test20/out/Foo.java", "org.eclipse.jdt.ui.tests.refactoring/resources/IntroduceIndirection/test30/out/MultiGenerics.java", "org.eclipse.jdt.ui.tests.refactoring/resources/IntroduceIndirection/test22/out/Foo.java", "org.eclipse.jdt.ui.tests.refactoring/resources/IntroduceIndirection/test19/out/Foo.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/IntroduceIndirectionTests.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Generate type Element Comment generation Ignore generation tags add missing", "bug_title": " Javadoc for method type parameters should not be generated if 'Ignore method type parameters' is disabled", "bug_description": "3.7 M7. The Javadoc generation for 'Add all missing tags' quick fix and 'Generate Element Comment' (Alt+Shift+J) should not add the tags for type parameters if 'Ignore method type parameters' is disabled (default)."}, {"bug_id": "344552", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/AbstractInfoView.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/JavadocView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "opened Bug Javadoc display menu Delete", "bug_title": " Source tabs not cleared when project is closed", "bug_description": "Build Identifier: M20100211-1343 When a project is opened, Problems, Javadoc & Declarations display the relevant data. If the project is closed, these tab fields are not cleared and the (now irrelevant) data remains displayed. It remains displayed even if the project is deleted (from the Edit menu). Reproducible: Always Steps to Reproduce: 1.create a new project 2.Close it from Project menu 3.Delete it from the Edit menu"}, {"bug_id": "348758", "ground_truth": ["org.eclipse.ltk.core.refactoring/src/org/eclipse/ltk/core/refactoring/resource/DeleteResourceChange.java", "org.eclipse.ltk.core.refactoring/src/org/eclipse/ltk/internal/core/refactoring/RefactoringCoreMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "Resource DeleteResourceChange HEAD Bug attachment Delete details", "bug_title": " [ltk] DeleteResourceChange should tell which resource could not be deleted", "bug_description": "Created attachment 197606 [details] Fix HEAD DeleteResourceChange should tell which resource could not be deleted."}, {"bug_id": "352785", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractMethodAnalyzer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "NPE Write Choose error unexpected extract error Highlight attempt statement", "bug_title": " [extract method] Refactor > Extract Method with break statement in switch causes NPE", "bug_description": "Build Identifier: 20110615-0604 If I attempt to Refactor > Extract Method which includes a break statement inside a switch, an unexpected exception occurs, which is an NPE (will attach stack later). It should give an error which says something like you can't refactor a method which includes multiple exit points, or something like that. Reproducible: Always Steps to Reproduce: 1. Write some code: public void foo(int i) { switch (i) { case 1: if (true) { break; } } } 2. Highlight the some code within the case 1 statement. 3. Choose Refactor > Extract Method"}, {"bug_id": "353126", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/binary/StubCreator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "calling problems generated Creator constructors attachment find constructor StubCreator Bug", "bug_title": " improve StubCreator", "bug_description": "Created attachment 200367 [details] Fix HEAD The patch fixes problems with generated super(..) calls in constructor stubs: - tries to find a super constructor that doesn't throw an exception - tries to avoid calling overloaded constructors - adds cast to null where necessary to avoid ambiguous method invocation"}, {"bug_id": "35339", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/javadoc/JavaDocScanner.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/comment/IJavaDocTagConstants.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/javadoc/JavaDoc2HTMLTextReader.java"], "repo": "eclipse.jdt.ui", "reformed_query": "inheritedoc javadoc inheritdoc", "bug_title": " @inheritedoc no consistently rendered", "bug_description": "Javadoc code completion now understands @inheritdoc but it isn't rendered consistently with the other javadoc tags like @param"}, {"bug_id": "353731", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/SuperTypeHierarchyCache.java"], "repo": "eclipse.jdt.ui", "reformed_query": "product IBM corext SaveableHelper Context HierarchyCacheEntry notify Bug broadcastPostChange process", "bug_title": " [type hierarchy] Exception occurred in listener of Type hierarchy change notification", "bug_description": "No steps, sorry. Noticed it in the Error Log an hour later. -- Error Details -- Date: Wed Aug 03 11:10:31 CEST 2011 Message: Exception occurred in listener of Type hierarchy change notification Severity: Error Product: Eclipse SDK 3.7.0.v201107291200 (org.eclipse.sdk.ide) Plugin: org.eclipse.jdt.core Session Data: eclipse.buildId=I20110729-1200 java.fullversion=JRE 1.6.0 IBM J9 2.4 Windows XP x86-32 jvmwi3260sr7-20091214_49398 (JIT enabled, AOT enabled) J9VM - 20091214_049398 JIT  - r9_20091123_13891 GC   - 20091111_AA BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=pl_PL Framework arguments:  -product org.eclipse.sdk.ide Command-line arguments:  -product org.eclipse.sdk.ide -data D:\\workspace\\eclipse\\web -dev file:D:/workspace/eclipse/team/dev.eclipse.org_HEAD_extssh/.metadata/.plugins/org.eclipse.pde.core/Eclipse (web)/dev.properties -os win32 -ws win32 -arch x86 Exception Stack Trace: java.lang.NullPointerException at org.eclipse.jdt.internal.corext.util.SuperTypeHierarchyCache$HierarchyCacheEntry.dispose(SuperTypeHierarchyCache.java:57) at org.eclipse.jdt.internal.corext.util.SuperTypeHierarchyCache.removeHierarchyEntryFromCache(SuperTypeHierarchyCache.java:211) at org.eclipse.jdt.internal.corext.util.SuperTypeHierarchyCache.access$0(SuperTypeHierarchyCache.java:208) at org.eclipse.jdt.internal.corext.util.SuperTypeHierarchyCache$HierarchyCacheEntry.typeHierarchyChanged(SuperTypeHierarchyCache.java:41) at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy$1.run(TypeHierarchy.java:365) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.jdt.internal.core.hierarchy.TypeHierarchy.fireChange(TypeHierarchy.java:360) at org.eclipse.jdt.internal.core.DeltaProcessor$5.run(DeltaProcessor.java:1697) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.jdt.internal.core.DeltaProcessor.notifyTypeHierarchies(DeltaProcessor.java:1688) at org.eclipse.jdt.internal.core.DeltaProcessor.resourceChanged(DeltaProcessor.java:2081) at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(DeltaProcessingState.java:470) at org.eclipse.core.internal.events.NotificationManager$1.run(NotificationManager.java:291) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:285) at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:149) at org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:395) at org.eclipse.core.internal.resources.Workspace.endOperation(Workspace.java:1530) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2353) at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:118) at org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:75) at org.eclipse.ui.internal.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:65) at org.eclipse.ui.editors.text.TextFileDocumentProvider.executeOperation(TextFileDocumentProvider.java:456) at org.eclipse.ui.editors.text.TextFileDocumentProvider.saveDocument(TextFileDocumentProvider.java:772) at org.eclipse.ui.texteditor.AbstractTextEditor.performSave(AbstractTextEditor.java:5048) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.performSave(CompilationUnitEditor.java:1247) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSave(CompilationUnitEditor.java:1301) at org.eclipse.ui.texteditor.AbstractTextEditor$TextEditorSavable.doSave(AbstractTextEditor.java:7177) at org.eclipse.ui.Saveable.doSave(Saveable.java:214) at org.eclipse.ui.internal.SaveableHelper.doSaveModel(SaveableHelper.java:349) at org.eclipse.ui.internal.SaveableHelper$3.run(SaveableHelper.java:195) at org.eclipse.ui.internal.SaveableHelper$5.run(SaveableHelper.java:277) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:464) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:372) at org.eclipse.jface.window.ApplicationWindow$1.run(ApplicationWindow.java:759) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.window.ApplicationWindow.run(ApplicationWindow.java:756) at org.eclipse.ui.internal.WorkbenchWindow.run(WorkbenchWindow.java:2642) at org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation(SaveableHelper.java:285) at org.eclipse.ui.internal.SaveableHelper.runProgressMonitorOperation(SaveableHelper.java:264) at org.eclipse.ui.internal.SaveableHelper.saveModels(SaveableHelper.java:207) at org.eclipse.ui.internal.SaveableHelper.savePart(SaveableHelper.java:144) at org.eclipse.ui.internal.EditorManager.savePart(EditorManager.java:1399) at org.eclipse.ui.internal.WorkbenchPage.savePart(WorkbenchPage.java:3416) at org.eclipse.ui.internal.WorkbenchPage.saveEditor(WorkbenchPage.java:3429) at org.eclipse.ui.internal.handlers.SaveHandler.execute(SaveHandler.java:54) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:293) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:468) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:786) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:885) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:567) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:508) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:123) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1262) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1052) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1104) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1098) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1509) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4640) at org.eclipse.swt.widgets.Canvas.WM_CHAR(Canvas.java:345) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4528) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:341) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4972) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2531) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3752) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2696) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2660) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2494) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:674) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:667) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:37) at java.lang.reflect.Method.invoke(Method.java:600) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577) at org.eclipse.equinox.launcher.Main.run(Main.java:1410) at org.eclipse.equinox.launcher.Main.main(Main.java:1386)"}, {"bug_id": "354766", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/MethodProposalInfo.java"], "repo": "eclipse.jdt.ui", "reformed_query": "InnerFinalException InnerFinalException param window bug Build info informational constructors constructor", "bug_title": " Javadoc content does not appear in content assist info window for non-static inner class constructors", "bug_description": "Build Identifier: 20110615-0604 Bug 334652 missed fixing one spot -- the content-assist informational window does not display the javadoc, although the editor will be capable of doing so. Hopefully this can find its way into 3.7.1 or 3.7.2 as it affects the usability of our commercial product; it makes it tricky for users to understand one of our API points, which method to call. Reproducible: Always Steps to Reproduce: To reproduce, take the attachments from bug 334652 and simply add a new constructor, say: /** * javadoc for InnerFinalException(String property, Throwable cause) * @param property the property argument * @param cause the chained exception */ public InnerFinalException(String property, Throwable cause) { } then, you will notice that any call like InnerFinalException e = new InnerFinalException([invoke-content-assist] will display both constructors, but fail to display javadoc during the content assist chooser."}, {"bug_id": "356778", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaMatchFilter.java"], "repo": "eclipse.jdt.ui", "reformed_query": "steps Type Inexact InExact search Select function search Paste Inexact", "bug_title": " [search] \"Inexact Type Arguments\" filter is not showing up even when results are filtered", "bug_description": "The \"Inexact Type Arguments\" filter is not showing up even when results are filtered with this filter. ########## public class Test<T> { public void standard(T t) { } public <U> T generic(U u) { return null; } public void foo() { Test<Object>t = new Test<Object>(); t.<Object>generic(null); t.<String>generic(null); t.standard(null); new Test<String>().standard(null); } } ########## Reproducible steps: 1. Paste the above program 2. Select 'generic' in the function foo() and search for references. 3. There will be two references. Now, filter one of the results by filtering InExact Type Arguments. 4. Now select 'standard' in the function foo() and search for references. 5. You should see only one result and see that one reference is filtered. However, you don't see that filter in the view menu."}, {"bug_id": "357997", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/typehierarchy/TypeHierarchyViewPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "gray visible horizontally Hierarchy Hierarchies View view unpainted Identifier view", "bug_title": " [type hierarchy] Type Hierarchy View has button bar painting issues on workspace startup", "bug_description": "Build Identifier: 20110615-0604 My workspace has type hierarchy active on my Workspace on startup.  I believe that View is responsible for leaving an unpainted, gray modeless floating rectangle over or under other parts of UI. If I horizontally expand and collapse the column that the type hierarchy is in, I can get the rectangle to be clearly visible.  If I collapse the column enough, I can get the rectangle to disappear, and briefly I catch that the rectangle is actually the Type Hierarchy button bar, just unpainted.  (The buttons appear for one frame before the bar disappears.)  While the button bar is unpainted, it does not respond to mouse clicks or drags. The button bar I am referring to contains the \"Show the Type Hierarchy\", \"Show the Supertype Hierarchy\", \"Show the Subtype Hierarchy\", and \"Previous Type Hierarchies\" buttons. Reproducible: Always Steps to Reproduce: 1. Start Eclipse 2. Expand/collapse the Type Hierarchy view horizontally 3. View the modeless rectangle occlude other parts of the UI"}, {"bug_id": "358823", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/cleanup/CleanUpTabPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "screenshot Created wrongly Win preference enabled Checkbox Clean Linux preference", "bug_title": " Checkbox wrongly enabled on Clean up preference page", "bug_description": "Created attachment 203971 [details] screenshot Win 7 and Eclipse 4.2 (I20110916-1615). In the past I have also seen this on Linux, but I think this used to work correctly on Win XP. See attached screenshot."}, {"bug_id": "361535", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesFileEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesAssistContext.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesFileEditorMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesFileEditorMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesQuickAssistProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesCorrectionProcessor.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/PropertiesFileQuickAssistTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/FindBrokenNLSKeysAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "match properties classes open tooling names open names Dissimilar properties", "bug_title": " [nls tooling] Messages.java is not found from messages.properties in all cases.", "bug_description": "From bug 358384 comment 2. > Note that for these quick assists to work the names of the properties file and > the accessor class have to be similar e.g. messages.properties and > Messages.java.  Dissimilar names like abc.properties and XYZ.java will not > work. This is similar to the behavior when a properties file is selected and > 'Find broken externalized strings' action is invoked. This is because there is > no information in the properties file about the accessor class. (I can try to > do a search for accessor classes and then inspect it to find the correct match, > but this may affect the responsiveness of the quick assists.) Possible solution - when we open the editor we start a job that finds the corresponding message class in the background."}, {"bug_id": "362404", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ProblemSeveritiesConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Problem compiler Bug problem preferences preferences resource Problem Code Resource", "bug_title": " [1.7][preferences] new warning for missing try-with-resources is in wrong category", "bug_description": "The \"Resource not managed via try-with-resource\" option is in the wrong category in the UI. The compiler problem is in the CategorizedProblem#CAT_CODE_STYLE category, so we should also show the option in the corresponding UI section (Code style, not Potential programming problem)."}, {"bug_id": "362496", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesQuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "getCreateFieldsInAccessorClassProposals addFields properties nls Key Identifier Properties addFields dom getNewFinalStringFieldDeclaration", "bug_title": " [quick assist][nls tooling] IAE in new 'Create field...' quick assist in properties editor", "bug_description": "If a property is not a valid java identifier the following exception is thrown on invoking the quick assist. java.lang.IllegalArgumentException at org.eclipse.jdt.core.dom.SimpleName.setIdentifier(SimpleName.java:198) at org.eclipse.jdt.core.dom.AST.newSimpleName(AST.java:2031) at org.eclipse.jdt.internal.corext.refactoring.nls.AccessorClassModifier.getNewFinalStringFieldDeclaration(AccessorClassModifier.java:331) at org.eclipse.jdt.internal.corext.refactoring.nls.AccessorClassModifier.addKey(AccessorClassModifier.java:291) at org.eclipse.jdt.internal.corext.refactoring.nls.AccessorClassModifier.addKey(AccessorClassModifier.java:282) at org.eclipse.jdt.internal.corext.refactoring.nls.AccessorClassModifier.addFields(AccessorClassModifier.java:191) at org.eclipse.jdt.internal.ui.propertiesfileeditor.PropertiesQuickAssistProcessor.getCreateFieldsInAccessorClassProposals(PropertiesQuickAssistProcessor.java:188) at org.eclipse.jdt.internal.ui.propertiesfileeditor.PropertiesQuickAssistProcessor.collectAssists(PropertiesQuickAssistProcessor.java:87) at org.eclipse.jdt.internal.ui.propertiesfileeditor.PropertiesCorrectionProcessor.computeQuickAssistProposals(PropertiesCorrectionProcessor.java:8"}, {"bug_id": "364539", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/SourceActionDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "modifier Create Bug sets create Generate   perfectly", "bug_title": " [generate constructor] Generate constructor using fields globally sets access modifier to private", "bug_description": "Build Identifier: 20110916-0149 When using 'Generate Constructor using fields...' on an enum with private field the access modifier is disabled and set to private (which is perfectly ok). Afterwards the access modifier is always set to private, even if you use 'Generate Constructor using fields...' on a class. Eclipse should not remember the private access modifier when it is given and disabled. Reproducible: Always Steps to Reproduce: 1. Create an Enum 2. Create a private field 3. Use 'Generate Constructor using fields...' to create the constructor 4. Create a class 5. Create a private field 6. Use 'Generate Constructor using fields...' to create the constructor -> the access modifier is now set to private regardless of the previous setting"}, {"bug_id": "364628", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/buildpath/P2Utils.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Removing readAndDispatch BusyIndicator Widget handlePostSelect path arguments Variable equinox version", "bug_title": " [JUnit] Having a plus sign in Eclipse's path causes NPE in the Classpath Variables preferences page", "bug_description": "Build Identifier: M20110909-1335 If a plus sign ('+') exists in Eclipse's path (e.g. \"C:\\Apps\\Eclipse\\3.7+SDK\\eclipse.exe\"), opening the Classpath Variables preferences page (Window -> Preferences -> Java -> Build Path -> Classpath Variables) causes the following error: > Unable to create the selected preference page. >>  java.lang.NullPointerException Removing the plus sign from the path fixes the issue. Here is the full stack trace from the log: !SESSION 2011-11-23 19:10:46.063 ----------------------------------------------- eclipse.buildId=M20110909-1335 java.version=1.7.0_01 java.vendor=Oracle Corporation BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US Command-line arguments:  -os win32 -ws win32 -arch x86_64 !ENTRY org.eclipse.equinox.registry 4 1 2011-11-23 19:11:37.403 !MESSAGE Unable to create the selected preference page. !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport$JUnitPluginDescription.getSourceLocation(BuildPathSupport.java:112) at org.eclipse.jdt.internal.junit.buildpath.BuildPathSupport$JUnitPluginDescription.getSourceBundleLocation(BuildPathSupport.java:64) at org.eclipse.jdt.internal.junit.buildpath.JUnitHomeInitializer.initializeSource(JUnitHomeInitializer.java:50) at org.eclipse.jdt.internal.junit.buildpath.JUnitHomeInitializer.initialize(JUnitHomeInitializer.java:31) at org.eclipse.jdt.core.JavaCore.getClasspathVariable(JavaCore.java:2921) at org.eclipse.jdt.internal.ui.wizards.buildpaths.VariableBlock.refresh(VariableBlock.java:409) at org.eclipse.jdt.internal.ui.wizards.buildpaths.VariableBlock.<init>(VariableBlock.java:111) at org.eclipse.jdt.internal.ui.preferences.ClasspathVariablesPreferencePage.<init>(ClasspathVariablesPreferencePage.java:50) at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source) at java.lang.reflect.Constructor.newInstance(Unknown Source) at java.lang.Class.newInstance0(Unknown Source) at java.lang.Class.newInstance(Unknown Source) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:184) at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:905) at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243) at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:55) at org.eclipse.ui.internal.WorkbenchPlugin.createExtension(WorkbenchPlugin.java:260) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceNode.createPage(WorkbenchPreferenceNode.java:47) at org.eclipse.jface.preference.PreferenceDialog.createPage(PreferenceDialog.java:1339) at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.createPage(FilteredPreferenceDialog.java:376) at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1230) at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage(FilteredPreferenceDialog.java:674) at org.eclipse.jface.preference.PreferenceDialog$10.run(PreferenceDialog.java:708) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.preference.PreferenceDialog$9.selectionChanged(PreferenceDialog.java:704) at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:888) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:886) at org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:1226) at org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:1251) at org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:262) at org.eclipse.jface.util.OpenStrategy.access$5(OpenStrategy.java:256) at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:433) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:4140) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3757) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.open(WorkbenchPreferenceDialog.java:215) at org.eclipse.ui.internal.handlers.ShowPreferencePageHandler.execute(ShowPreferencePageHandler.java:54) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:293) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.handlers.SlaveHandlerService.executeCommand(SlaveHandlerService.java:241) at org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:157) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4165) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3754) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2696) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2660) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2494) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:674) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:667) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577) at org.eclipse.equinox.launcher.Main.run(Main.java:1410) at org.eclipse.equinox.launcher.Main.main(Main.java:1386) Reproducible: Always Steps to Reproduce: 1. Rename the Eclipse folder to a name containing a plus sign ('+'), e.g. \"C:\\Apps\\Eclipse+SDK\" 2. Run Eclipse. 3. Open Window -> Preferences -> Java -> Build Path -> Classpath Variables"}, {"bug_id": "365775", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ProblemSeveritiesConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug Bug correctness annotation settings annotation Validate correctness preferences fully", "bug_title": " [preferences] Validate syntactic correctness of null annotation option settings", "bug_description": "Validate syntactic correctness of null annotation option settings (must be a fully qualified name)."}, {"bug_id": "367465", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/OptionalMessageDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/SortMembersMessageDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/FatJarPackageWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "dialog project operation referenced checkbox exported Window Jars exporting Project", "bug_title": " [jar exporter] Runnable Jar File Export \"repacks referenced libraries\" warning cannot be disabled", "bug_description": "Build Identifier: 20110615-0604 When exporting to a Runnable Jar file with Library Handling option \"Extract required libraries into the generated JAR\", a warning dialog box appears that begins with \"This operation repacks referenced libraries. Please review the licenses associated...\". There is a checkbox on the dialog to disable the message, but it has no effect. Reproducible: Always Steps to Reproduce: 1. Obtain a library jar file. I downloaded jdom-1.1.2.tar.gz from http://www.jdom.org/dist/binary/ 2. Go to Project / Properties menu / Java Build Path / Libraries tab. 3. Select Add Jars and select <download_dir>/jdom-1.1.2.jar 4. Select File > Export, then Java > Runnable Jar file 5. In Jar Export Window, select the following - Launch Configuration:  Select project being exported - Export Destination: Select folder and enter jar file name, e.g. myProgram,jar - Library Handling: Extract required libraries into the generated JAR 6. Click Finish ...warning will appear 7. Check \"Do not show this message again\" 8. Repeat steps 4-6. ...warning still appears."}, {"bug_id": "367629", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/JavaElementLinks.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Ole stacktrace createAndRunWorkbench layout location method Event URISyntax Launcher viewsupport", "bug_title": " [hovering] JavaDoc-Navigation broken if there are spaces in the URL", "bug_description": "If the JavaDoc location e.g. on the local file system has spaces in it navigating to internal links is broken. Not sure if this once more a problem of the browser control which should have escaped such spaces with \"%20\" or this is the task of the handler. Here's the relevant stacktrace: !ENTRY org.eclipse.jdt.ui 4 10001 2011-12-29 15:56:37.740 !MESSAGE Internal Error !STACK 0 java.net.URISyntaxException: Illegal character in path at index 17: file://C:/Program Files (x86)/Oracle/JavaFX 2.0 SDK/docs/api/javafx/scene/layout/Region.html at java.net.URI$Parser.fail(URI.java:2809) at java.net.URI$Parser.checkChars(URI.java:2982) at java.net.URI$Parser.parseHierarchical(URI.java:3066) at java.net.URI$Parser.parse(URI.java:3014) at java.net.URI.<init>(URI.java:578) at org.eclipse.jdt.internal.ui.viewsupport.JavaElementLinks$1.changing(JavaElementLinks.java:222) at org.eclipse.swt.browser.IE$7.handleEvent(IE.java:499) at org.eclipse.swt.ole.win32.OleEventTable.sendEvent(OleEventTable.java:55) at org.eclipse.swt.ole.win32.OleEventSink.notifyListener(OleEventSink.java:145) at org.eclipse.swt.ole.win32.OleEventSink.Invoke(OleEventSink.java:120) at org.eclipse.swt.ole.win32.OleEventSink.access$1(OleEventSink.java:97) at org.eclipse.swt.ole.win32.OleEventSink$1.method6(OleEventSink.java:71) at org.eclipse.swt.internal.ole.win32.COMObject.callback6(COMObject.java:119) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2545) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3752) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:977) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:893) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:91) at org.eclipse.ui.internal.Workbench$3.run(Workbench.java:565) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:520) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:352) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:624) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:579) at org.eclipse.equinox.launcher.Main.run(Main.java:1433) at org.eclipse.equinox.launcher.Main.main(Main.java:1409)"}, {"bug_id": "368015", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceAttachmentBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceAttachmentBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/SourceAttachmentPropertyPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/UserLibraryPreferencePage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/NewWizardMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/CPListElement.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/LibrariesWorkbookPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceAttachmentBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceAttachmentDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/dialogfields/DialogField.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/BuildPathDialogAccess.java"], "repo": "eclipse.jdt.ui", "reformed_query": "level Bug Bug classpath extra encoding entries attribute level Bug", "bug_title": " Support for source attachment encoding at classpath entry level", "bug_description": "Refer to bug #361356. We have to be able to specify encoding for classpath entries, which can be used for source attachments. The encoding will be stored on the classpath using an extra classpath attribute. For more details, look at bug 361356."}, {"bug_id": "368390", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ProblemSeveritiesConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "check Include options redundant pot check pot option options Bug", "bug_title": " [preferences] UI for null analysis for fields", "bug_description": "This bug can be used for the discussion and work around the new UI preferences related to the work in bug 247564. The current proposal is as follows: Only one additional option will be surfaced in the UI [  ] Include fields in null analysis Each null analysis related warning viz. null pointer access, pot. NPA, redundant null check, redundant assignment, etc. in the case of fields will respect the existing settings for these options."}, {"bug_id": "368452", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/OptionsConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "settings \u00e2\u20ac\u0153The build appears rebuild rebuild effect\u00e2\u20ac projects dialog effect\u00e2\u20ac", "bug_title": " Full rebuild is asked on compiler options changed even when workspace is empty", "bug_description": "Build Identifier: Version: Indigo Service Release 1 Build id: 20110916-0149 When a compiler option has been changed (through Preferences / Java / Compiler / Errors/Warnings), a dialog box appears and tells you that \u00e2\u20ac\u0153The Error/Warning settings have changed\u00e2\u20ac? and that \u00e2\u20ac\u0153A full rebuild is required for changes to take effect\u00e2\u20ac? and asks you if you want to \u00e2\u20ac\u0153Do the full build now\u00e2\u20ac?. The question should not be asked when the workspace contains no project to possibly rebuild. Reproducible: Always Steps to Reproduce: 1. Grab a fresh eclipse install. (Optional, but just to be sure.) 2. Start eclipse, pointing it to a blank, new workspace directory. (So that it starts with no projects.) 3. Go straight to Preferences, change some Java compiler option, e.g., ask for \u00e2\u20ac\u0153Include 'assert' in null analysis\u00e2\u20ac?. Click Apply or OK."}, {"bug_id": "369319", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/JUnitPropertyTester.java"], "repo": "eclipse.jdt.ui", "reformed_query": "correctly current JUnit implementation renders Bug Argument Illegal Property Element", "bug_title": " [junit] interesting warning in JUnitPropertyTester", "bug_description": "While playing with null analysis for more kinds of expressions (bug 331649 and bug 364326) I tried my current implementation against  org.eclipse.jdt.junit.core to find the following interesting warning: 1. WARNING in src/org/eclipse/jdt/internal/junit/JUnitPropertyTester.java (in line 47): throw new IllegalArgumentException(\"Element must be of type 'IAdaptable', is \" + receiver == null ? \"null\" : receiver.getClass().getName()); //$NON-NLS-1$ //$NON-NLS-2$ ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ Null comparison always yields false: this expression cannot be null I hope the above renders correctly in bugzilla so that you can see what the compiler sees :)"}, {"bug_id": "369510", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceAttachmentBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceAttachmentBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "encodings viewed attachment don Unable kind change export encoding Bug", "bug_title": " Unable to set the encoding without specifying the source attachment", "bug_description": "One can export a jar with source code. If this jar is added as a depndent external jar , it's source can be viewed without having an entry in the source attachment. I am unable to set the encoding for this kind of jars. If I change the encoding for this kind of jar and click OK, the dialog box gets dismissed, but If I open the dialog box again, I don't see the changes. UI should allow to set the encodings without the need to specify the source attachment."}, {"bug_id": "372128", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/JavaPairMatcher.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug multiple ArrowRight Highlight takes brackets massive Test", "bug_title": " [syntax highlighting] \"Highlight enclosing brackets\" has massive performance problems", "bug_description": "N20120217-2000 \"Highlight enclosing brackets\" has massive performance problems: - open CleanUpTest - go to the last test and set caret in front of \"public\" - hold down ArrowRight => takes multiple seconds to move caret"}, {"bug_id": "372973", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/callhierarchy/CallHierarchyUI.java"], "repo": "eclipse.jdt.ui", "reformed_query": "CTRL editor hierarchy structure Bug hierarchy call packageA element reveals", "bug_title": " [call hierarchy] Selecting element in callee hierarchy reveals wrong editor location", "bug_description": "Build Identifier: Version: 3.7.2 Build id: M20120208-0800 package packageA; public class A { public static void m1() {m2();}; public static void m2() {m3();}; public static void m3() {} } package packageB; public class B { static void m1() { packageA.A.m2(); packageA.A.m1(); } static void main() { m1(); } } This CTRL+ALT+H produces the graph m1() : void - packageB.B m2() : void - packageA.A m3() : void - packageA.A m1() : void - packageA.A m2() : void - packageA.A m3() : void - packageA.A The structure is ok and jumps to invocation site, as expected, when asked to focus. The only problem is clicking on m1->m1 and m1->m2. It oscillates between invocation site and invoked method declaration with every click. Reproducible: Always"}, {"bug_id": "373885", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/FatJarPackageWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "ant script click jar subdirectory directory Indigo saved folder produced", "bug_title": " [jar exporter] save runnable jar export as ant script with relative name saves in eclipse program folder not workspace", "bug_description": "Build Identifier: Version: Indigo Service Release 2 Build id: 20120216-1857 When saving settings for producing a runnable jar file as an ant script, if you enter a relative filename in the filename box, a message appears suggesting that this will be relative to the workspace root.  However, when the file is actually saved, it is saved relative to the directory eclipse is installed in. Reproducible: Always Steps to Reproduce: 1. export > runnable jar file 2. check 'save as ant script' 3. enter a relative path (e.g. 'myproject/exportjar.xml') in the filename box 4. click finish the file is not produced in the myproject directory of the workspace, but in a new subdirectory of the eclipse program directory."}, {"bug_id": "373944", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorBreadcrumb.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Breadcrumb java", "bug_title": " [breadcrumb] should show package-info.java", "bug_description": "Breadcrumb should show package-info.java as child of a package (as a CU)."}, {"bug_id": "373950", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/OptionsConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ProblemSeveritiesConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "lesser bug Enable preferences analysis recommendations analysis turned Bug Enable", "bug_title": " [preferences] Getting recommendations about the null settings even if annotation-based null analysis is not enabled", "bug_description": "Through the bug 371968, a popup was added to warn about lesser compiler setting than the setting for null annotation based analysis. I am getting this popup even if the 'Enable annotation-based null analysis' is turned off. I am using I20120306-0800."}, {"bug_id": "374689", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "entire buttons selection reach locations selected leads Limit experience search", "bug_title": " [search] Difficult to Select Limit To options in Search dialog with keyboard", "bug_description": "1. Open the search dialog (Ctrl+H). 2. Tab through the items until you reach the Limit To area (you mush search for either Type or Method). 3. The \"Match locations\" is in a different grouping from the other radio buttons, so when selecting one of the first few options then tabbing forward leads to the selection being lost and Match locations being selected. This makes it difficult to select any of the other options, though you could Shift+Tab backwards through the entire dialog after selecting a option, but that's not a very nice experience."}, {"bug_id": "374920", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorAppearanceConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Editor Bracket checkboxes checkboxes higher buttons preference tab higher editor", "bug_title": " [preferences] Non-intuitive tab order on editor preferences dialog", "bug_description": "1. Open preferences. 2. Go to the Editor option. 3. Tab through the various preferences. The Bracket highlighting radio buttons come before any of the checkboxes above them. It should probably be made so it is consistent with the rest of the preference dialogs, i.e. so that the tab order has the higher up controls first."}, {"bug_id": "375354", "ground_truth": ["org.eclipse.ltk.ui.refactoring/src/org/eclipse/ltk/internal/ui/refactoring/PreviewWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "tips Refactor Preview toolbar Open buttons Preview Open toolbar Preview", "bug_title": " toolbar button tool tips are not read by screen reader", "bug_description": "While using either JAWS or NVDA: 1. Open the Extract Constant dialog from the Refactor menu (the other options like that probably work too). 2. Click Preview. 3. Shift+Tab backwards, the top toolbar buttons are only read as \"buttons\", without an accessible label."}, {"bug_id": "376381", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/cleanup/ContributedCleanUpTabPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Service margin start IClean Tab parent pass preferences doCreatePreferences marginWidth", "bug_title": " [preferences][clean up] ICleanUpConfigurationUI parent Composite has excess margins", "bug_description": "Build Identifier: Version: Indigo Service Release 2 Build id: 20120216-1857 ContributedCleanUpTabPage.doCreatePreferences(...) creates a Composite to pass into fContribution.createContents(parent). This composite is setup with a GridData and GridLayout as follows: final Composite parent= new Composite(composite, SWT.NONE); GridData layoutData= new GridData(SWT.FILL, SWT.FILL, true, true); layoutData.horizontalSpan= numColumns; parent.setLayoutData(layoutData); parent.setLayout(new GridLayout(1, false)); This results in adding extra margin around UI within contributed tabs. To work around this I have to use the following code at the start of my createContents(...) method: // Fix parent layout which added some extra margin GridLayout parentLayout = new GridLayout(); parentLayout.marginHeight = 0; parentLayout.marginWidth = 0; parent.setLayout(parentLayout); Reproducible: Always Steps to Reproduce: 1. Implement ICleanUpConfigurationUI. 2. Create some UI within the createContents(...) method. 3. Resulting UI has extra margin compared to the existing UI tabs."}, {"bug_id": "376882", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewPackageWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "wizards Documentation NewPackageWizardPage late late type isCreatePackageDocumentation Create NewPackageWizardPage NewPackageWizardPage", "bug_title": " [type wizards] Make NewPackageWizardPage#isCreatePackageDocumentation() API", "bug_description": "Make NewPackageWizardPage#isCreatePackageDocumentation() API. Bug 86168 was too late for 3.8."}, {"bug_id": "377318", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/RefactoringAvailabilityTester.java"], "repo": "eclipse.jdt.ui", "reformed_query": "introduces ENCAPSULATE compilation field Field   Reproduce", "bug_title": " [encapsulate field] Encapsulate field in an interface introduces methods (therefore compilation errors)", "bug_description": "Build Identifier: Version: 3.7.2 Build id: M20120208-0800 Encapsulate field in an interface introduces methods, which leads to compilation errors. public interface EncapsulateField { // ENCAPSULATE FIELD F (use default values in the dialog) public static final int F = 1; } Reproducible: Always Steps to Reproduce: 1. Invoke \"Encapsulate Field ...\" refactoring on field F (from the example) 2. Refactoring introduces methods in the interface"}, {"bug_id": "378068", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/ImportOrganizeTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Organize update bugs Bug Test backported Bug attachment Organize Bug", "bug_title": " Update ImportOrganizeTest (FUP of bug 376734 and bug 376930)", "bug_description": "The patch being backported in bug 376734 contains UI tests that also need to be backported, otherwise they will fail. The patch https://bugs.eclipse.org/bugs/attachment.cgi?id=214395 contains the update to ImportOrganizeTest"}, {"bug_id": "381714", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/IJavaHelpContextIds.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/FatJarPackageWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "find context Bug Jar couldn sensitive", "bug_title": " [help] Export runnable jar wizard not documented", "bug_description": "To answer the following question http://www.eclipse.org/forums/index.php/m/881911/#msg_881911, I couldn't get context sensitive help for 'Runnable Jar File Export' wizard.I couldn't find documentation also."}, {"bug_id": "383491", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/SourceAttachmentBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "referenced XXX varies mechanism file reside Attempting Source LOC External", "bug_title": " Unable to reference a virtual folder as Java source attachment path", "bug_description": "Build Identifier: Version: 4.2.0 Build id: I20120531-1500 I'm building a plugin for a Java application. The source code and classes for my plugin all reside within an eclipse project workspace. However, the application jar and its source code are maintained outside of the eclipse workspace and the application jar is produced by another build mechanism.  I have referenced the application jar file in my project using drag and drop and the 'Link to files' option specifying it 'Create link locations relative to: MYDEV', where MYDEV is a Linked Resource Variable I have created for each Eclipse installation. This lets me use the same eclipse project on multiple machines where the path to the application jar varies, but is always the same relative to MYDEV. However, I cannot associate the application source code with this jar unless I use an absolute path. If I include a reference to MYDEV in the Path for Workspace location or External location, the Properties dialogue will not accept the path and gives a 'The path XXX does not exist' error. The work around is to use absolute paths for the source location.  However, this is a problem when the same project is used on different machines where the path to the external source is not the same. Reproducible: Always Steps to Reproduce: 1. Create a new Java Project 2. Drop in an external jar file and select - Link to files - Create link locations relative to: PROJECT_LOC 3. Refresh 4. Select jar file under Referenced Libraries and open Properties 5. Select Java Source Attachment 6 [details]. Attempting to use PROJECT_LOC in any path setting is not allowed."}, {"bug_id": "38499", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/SourceViewerInformationControl.java"], "repo": "eclipse.jdt.ui", "reformed_query": "key Bug source Hover Source Editor seconds disappears", "bug_title": " Source Hover oszillates", "bug_description": "I20030604 MacOS 10.2.6 - in Java Editor preferences configure source hover to activate without pressing a modifier key - activate source hover and stop moving the mouse Observe: after two seconds the hover disappears and reappears a second later; this oszillates indefinitetly"}, {"bug_id": "386518", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractMethodAnalyzer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "lang MESSAGE Info jobs core buildId logfile gtk ClassCastException Body", "bug_title": " [extract method] CCE in ExtractMethodRefactoring#createMethodBody(..)", "bug_description": "From my logfile: !SESSION 2012-08-02 08:19:17.758 ----------------------------------------------- eclipse.buildId=I20120608-1400 java.version=1.7.0_04 java.vendor=Oracle Corporation BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=de_DE Command-line arguments:  -os linux -ws gtk -arch x86 !ENTRY org.eclipse.jface.text 2 0 2012-08-02 10:10:56.675 !MESSAGE !STACK 0 java.lang.ClassCastException: org.eclipse.jdt.core.dom.ChildPropertyDescriptor cannot be cast to org.eclipse.jdt.core.dom.ChildListPropertyDescriptor at org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createMethodBody(ExtractMethodRefactoring.java:1115) at org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createNewMethod(ExtractMethodRefactoring.java:960) at org.eclipse.jdt.internal.corext.refactoring.code.ExtractMethodRefactoring.createChange(ExtractMethodRefactoring.java:508) at org.eclipse.jdt.internal.ui.text.correction.proposals.RefactoringCorrectionProposal.createTextChange(RefactoringCorrectionProposal.java:59) at org.eclipse.jdt.ui.text.java.correction.CUCorrectionProposal.createChange(CUCorrectionProposal.java:244) at org.eclipse.jdt.ui.text.java.correction.ChangeCorrectionProposal.getChange(ChangeCorrectionProposal.java:355) at org.eclipse.jdt.ui.text.java.correction.CUCorrectionProposal.getTextChange(CUCorrectionProposal.java:254) at org.eclipse.jdt.ui.text.java.correction.CUCorrectionProposal.getAdditionalProposalInfo(CUCorrectionProposal.java:141) at org.eclipse.jdt.internal.ui.text.correction.proposals.RefactoringCorrectionProposal.getAdditionalProposalInfo(RefactoringCorrectionProposal.java:71) at org.eclipse.jface.text.contentassist.AdditionalInfoController$3.run(AdditionalInfoController.java:106) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)"}, {"bug_id": "387536", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewClassWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "wizard add create create Bug String ignores method add comment", "bug_title": " [type wizards] generate main method stub ignores generate comments setting", "bug_description": "The new class wizard allows to create a main(String[]) method stub. However it ignores the \"Do you want to add comments?\" setting and always adds a comment."}, {"bug_id": "388342", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewClassWizardPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "don wizard args Checked previous Stub Wizard creating generate method", "bug_title": " [type wizards] Main Method Stub Check Box in the Class Wizard Stays Checked the Next Time It Loads", "bug_description": "Back in version 3.7 of the Eclipse Java IDE, when you checked the box \"public static void main(String[] args)\", it would generate the main method, but the next time you created a class with the wizard, that box would not be checked. Now that I am using version 4.2, I am noticing that the check box stays checked. This is annoying because most of the time, when creating a class, you don't need a main. It is a special case. So the default should be unchecked, not whatever the previous state of the box was. It would be nice if the behaviour returned to the original, that is, that the box always starts out as unchecked."}, {"bug_id": "390546", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaSelectAnnotationRulerAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "simply left ruler proposals marker annotation", "bug_title": " [rulers] Quick fix invoked even if warning/error is not shown in vertical ruler", "bug_description": "A line of java can have multiple markers, e.g. the yellow warning marker AND the up arrow marker for opening the 'super' declaration. The general annotation preferences can be set such that the yellow warning marker will not appear in the left margin, and then the only thing that appears is the up arrow for opening the supertype declaration. However, if I click that up arrow, what pops up is still the set of proposals to fix the warning. Eclipse simply does not react to what is actually displayed."}, {"bug_id": "392946", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/FixMessages.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/FixMessages.properties", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/UnusedCodeFix.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/JavadocTagsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickFixProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "remove Bug type add parameters parameters parameter unused unused existing", "bug_title": " [quick fix] for unused type parameter", "bug_description": "Add quick fixes for unused type parameters. This is similar to unused method parameters, so fixes will also be similar (remove, add documentation). Don't add a clean up to remove all, since this would break existing references."}, {"bug_id": "393143", "ground_truth": ["org.eclipse.jdt.ui/icons/full/elcl16/sync_broken.gif", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/AbstractInfoView.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/InfoViewMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/JavadocView.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/InfoViewMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "usable enabled Info link Info enabled views linking input icon", "bug_title": " Info views should indicate when the linking is not in sync", "bug_description": "4.3 M3 When linking is enabled and the new input is not usable, we used to clear the view. Recently we changed this to keep the old input. We should indicate this to the user by using a different link icon."}, {"bug_id": "393602", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/AbstractAnnotationHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "cut Link Link imported hover create hover fonts cut Combined", "bug_title": " Problem hover - Link text cut at end for some OSes / fonts", "bug_description": "Created attachment 223196 [details] Combined hover - values missing and ctrl-1 hover - everything is ok Hello, I have Arch Linux x64, KDE. The problem that appeared is that when I hover over a problem, e.g. a class that isn't imported, the combined hover appears but some values are not present. If I press ctrl+1, everything appears fine. This happens to: \"import\", \"create class\", \"change to\" etc. I attach an example (2 pictures)"}, {"bug_id": "393932", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/constraints/SuperTypeRefactoringProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "creates proper originate pulling test change AST SuperTypeRefactoringProcessor String bug", "bug_title": " [refactoring] pull-up with \"use the destination type where possible\" creates bogus import of nested type", "bug_description": "Given this class: package p; public class C { protected class I1 { } protected class I2 extends I1 { protected void foo() { } } void test(I2 i) { i.foo(); } } When pulling up foo() to I1 and enabling \"use the destination type where possible\" the change in test(..) creates a bogus import of the inner class I1. Result is: package p; import p.C.I1; // BUG public class C { protected class I1 { protected void foo() { } } protected class I2 extends I1 { } void test(I1 i) { i.foo(); } } The bug seems to originate from the fact that SuperTypeRefactoringProcessor.createCorrespondingNode(CompilationUnitRewrite, TType) calls ImportRewrite.addImportFromSignature(String,AST) with no proper ImportRewriteContext."}, {"bug_id": "394296", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/cleanup/CleanUpRequirements.java"], "repo": "eclipse.jdt.ui", "reformed_query": "SDK serial suppressed Suppress Clean missing Suppress Override work Warnings", "bug_title": " [clean up] Clean up doesn't work if warnings were suppressed", "bug_description": "I noticed that the \"Source > Clean Up...\" action doesn't cleanup defects when warnings were suppressed. For example, if I ask the cleanup to add missing Overrides and I have disabled all warnings, then the @Override is not added. If I remove the \"@SuppressWarnings(\"all\")\", then the @Override is added: @SuppressWarnings(\"all\") public class Test extends java.util.ArrayList<String> { private static final long serialVersionUID = -394398626433235653L; public boolean add(String e) { return super.add(e); } } The same thing happens for \"use modifier 'final' where possible\", \"Change all accesses through subtypes\", \"Remove unnecessary '$NON-NLS$' tags\", etc. rendering the Cleanup action much less useful in the presence of a @SuppressWarnings(\"all\"). -- Eclipse SDK Version: 3.8.1 Build id: M20120914-1540"}, {"bug_id": "394692", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/ModifierCorrectionsQuickFixTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/UnresolvedMethodsQuickFixTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/UnresolvedTypesQuickFixTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/UnresolvedVariablesQuickFixTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/Bindings.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JdtFlags.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ModifierCorrectionSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/UnresolvedElementsSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bugs visibility visibility bugs Top visibility quick Bug visibility Level", "bug_title": " [quick fix] Fix several visibility issues", "bug_description": "Top-Level Bug for several quick-fix visibility bugs which can be fixed in one go."}, {"bug_id": "395257", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaStringAutoIndentStrategy.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/text/JavaSourceViewerConfiguration.java"], "repo": "eclipse.jdt.ui", "reformed_query": "formatter Bug Indentation literal String typing Bug typing indentation literal", "bug_title": " [typing] Indentation after String literal split not always as specified by the formatter", "bug_description": "3.8. The indentation after String literal split is not always as specified by the formatter. See also bug 48433 and 375844."}, {"bug_id": "395691", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Listener util core ActionDelegateHandlerProxy JavaSearchPage Bindings search Selected steps lang", "bug_title": " [search] NPE when trying to search for a method declaration", "bug_description": "3.8.1 M20121003-1000 What steps will reproduce the problem? 1. Ctrl + H 2. Java Search 3. get*raw* 4. Method, Declarations, Source, Workspace These are the exact steps, however I wasn't able to reproduce it once I closed and reopened the dialog. While it was open I was hit by the exception each time I pressed 'Search'. -- Error Details -- Date: Tue Dec 04 12:43:54 CET 2012 Message: Unhandled event loop exception Severity: Error Product: Eclipse SDK 3.8.1.v201210031000 (org.eclipse.sdk.ide) Plugin: org.eclipse.ui Session Data: eclipse.buildId=M20121003-1000 java.version=1.7.0_07 java.vendor=Oracle Corporation BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=pl_PL Command-line arguments:  -os win32 -ws win32 -arch x86_64 Exception Stack Trace: java.lang.NullPointerException at org.eclipse.jdt.internal.ui.viewsupport.JavaElementLabelComposer.appendElementLabel(JavaElementLabelComposer.java:258) at org.eclipse.jdt.ui.JavaElementLabels.getElementLabel(JavaElementLabels.java:518) at org.eclipse.jdt.ui.JavaElementLabels.getElementLabel(JavaElementLabels.java:491) at org.eclipse.jdt.internal.ui.search.JavaSearchScopeFactory.getSelectionScopeDescription(JavaSearchScopeFactory.java:254) at org.eclipse.jdt.internal.ui.search.JavaSearchScopeFactory.getSelectionScopeDescription(JavaSearchScopeFactory.java:243) at org.eclipse.jdt.internal.ui.search.JavaSearchPage.performNewSearch(JavaSearchPage.java:331) at org.eclipse.jdt.internal.ui.search.JavaSearchPage.performAction(JavaSearchPage.java:298) at org.eclipse.search.internal.ui.SearchDialog.performAction(SearchDialog.java:476) at org.eclipse.search.internal.ui.util.ExtendedDialogWindow.buttonPressed(ExtendedDialogWindow.java:164) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.search.internal.ui.OpenSearchDialogAction.run(OpenSearchDialogAction.java:54) at org.eclipse.search.internal.ui.OpenSearchDialogAction.run(OpenSearchDialogAction.java:45) at org.eclipse.ui.internal.handlers.ActionDelegateHandlerProxy.execute(ActionDelegateHandlerProxy.java:289) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:499) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:468) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:786) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:885) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:567) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:508) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:123) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1262) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1052) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1077) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1062) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1104) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1100) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1521) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:4640) at org.eclipse.swt.widgets.Tree.WM_CHAR(Tree.java:5962) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4528) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5958) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4989) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2546) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3756) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414)"}, {"bug_id": "395919", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorColoringConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Preview declarations missing Editor strike Steps Syntax variables Preferences Preview", "bug_title": " [preferences][syntax coloring] Preview incorrect for parameter variables setting", "bug_description": "Build id: 20120920-0800 Steps to reproduce: 1. Go to Syntax Coloring [Window -> Preferences -> Java -> Editor -> Syntax Coloring] 2. Enable coloring of parameter variables [Java -> Parameter variables] 3. Turn on strike-through. 4. Check in Preview that the parameter declaration has changed but a reference to the parameter has not. 5. Click Apply. 6. Check in a Java Editor that both parameter declarations and parameter references have changed. There are two settings for local variables, Local variable declarations and Local variable references, so from the way the Preview pane works it seems like there should be a separate setting called Parameter variable references but it is missing."}, {"bug_id": "396808", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavadocHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "jars link java Bug hovering contents Javadoc java hover build", "bug_title": " [hovering] Package hovering shows multiple hyperlinks if the package is present in multiple location in the build path.", "bug_description": "Hover over the package import java.lang.*; code present in a java file. Make sure the package is present in multiple jars and the jars are included in the classpath of the current project. While hovering multiple links of \"java.lang\" are displayed in the hover window and all of them point to the same Javadoc content. Duplicate link should not be displayed in the hover window if the Javadoc contents are the same."}, {"bug_id": "397842", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileDocumentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "root point equal content project file files Editor", "bug_title": " Class file shown with incorrect content", "bug_description": "If output folder is equal to source folder, trying to open a class file shows previous content of source file. Steps to reproduce: 1. Create new Java project. Use project folder as root for sources and class files for simplicity. 2. Create new class X. 3. Build project, X.class is generated. 4. Try to open X.class. => ClassFileEditor is opened for X.class showing content of X.java. 5. Modify X.java e.g. add new method. 6. Build project, X.class is regenerated. 7. Try to open X.class. => ClassFileEditor is opened for X.class showing previous content of X.java. In point 4 and 7, if output folder was different than source folder, ClassFileEditor would show \"Source not found\" message and correct compiled content of X.java."}, {"bug_id": "398648", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/javadoc/JavadocContentAccess2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug java Javadoc link works source source Javadoc linebreak friend", "bug_title": " Javadoc View inserts wrong asterisk when @see contains link with linebreak", "bug_description": "Reproduce: - Create a class Main.java in Eclipse and open it: /** * @see <a href=\"http://www.google.com/\">Google * is your friend</a> */ public class Main {} - open Javadoc quick preview: Put the cursor on the word \"Main\" and press \"F2\" - or open Javadoc View for Main What happens: The text of the link is shown as \"Google * is your friend\" What should happen: The text of the link should be \"Goolge is you friend\". Without the asterisk from the left side of the Javadoc. When the Javadoc is created with the Javadoc tool, the asterisk is not in the text. This works correctly when the link with linebreak is in the normal Javadoc body and not in the @see-tag. I encountered this bug when my link was very long and formatting the source would insert the linbreak. For long links this is quite annoying."}, {"bug_id": "398995", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/NullAnnotationsQuickFixTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/FixMessages.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/FixMessages.properties", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/NullAnnotationsFix.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/fix/NullAnnotationsCleanUp.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/NullAnnotationsCorrectionProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickFixProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/ExtractToNullCheckedLocalProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Nullable checked bug Extract local implementation safest safest variable Extract", "bug_title": " [quick fix] Extract field access to checked local variable", "bug_description": "This was first proposed in Bug 331649 comment 32: When dereferencing a @Nullable field the safest solution is to assign the field to a local variable before null-checking and dereferencing. The quick fix does exactly that. My implementation was first attached to bug 337977 comment 18 but I think it deserves a bug on its own."}, {"bug_id": "399087", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/PushDownRefactoringProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "push code Push Result searchResult Utils Push add Push problem", "bug_title": " [push down] search Referencing problem in PushDownRefactoringProcessor", "bug_description": "the code in the method PushDownRefactoringProcessor.getReferencingElementsFromSameClass(): for (int j= 0; j < results.length; j++) { SearchMatch searchResult= results[i]; result.add(SearchUtils.getEnclosingJavaElement(searchResult)); } It seems results[i] should be results[j]."}, {"bug_id": "400374", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaSourceViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "TypedListener start Utility Delayed widget basicRun custom invoke Source gotoSelectedElement", "bug_title": " opening an editor when the maximum allowed is reached will result in an exception (and editor will not be opened)", "bug_description": "this is the exception: !ENTRY org.eclipse.ui 4 0 2013-02-08 23:36:40.932 !MESSAGE Unhandled event loop exception !STACK 0 org.eclipse.core.runtime.AssertionFailedException: assertion failed: at org.eclipse.core.runtime.Assert.isTrue(Assert.java:110) at org.eclipse.core.runtime.Assert.isTrue(Assert.java:96) at org.eclipse.jdt.internal.ui.javaeditor.JavaSourceViewer.prepareDelayedProjection(JavaSourceViewer.java:658) at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.internalDoSetInput(JavaEditor.java:2582) at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.doSetInput(JavaEditor.java:2571) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.doSetInput(CompilationUnitEditor.java:1395) at org.eclipse.ui.texteditor.AbstractTextEditor.setInputWithNotify(AbstractTextEditor.java:4289) at org.eclipse.ui.texteditor.AbstractTextEditor.setInput(AbstractTextEditor.java:4311) at org.eclipse.ui.internal.WorkbenchPage.reuseEditor(WorkbenchPage.java:2885) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3023) at org.eclipse.ui.internal.WorkbenchPage.access$22(WorkbenchPage.java:2969) at org.eclipse.ui.internal.WorkbenchPage$8.run(WorkbenchPage.java:2951) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2947) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2911) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2902) at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:373) at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:179) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.gotoSelectedElement(AbstractInformationControl.java:440) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl.access$0(AbstractInformationControl.java:435) at org.eclipse.jdt.internal.ui.text.AbstractInformationControl$2.widgetDefaultSelected(AbstractInformationControl.java:227) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:119) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4169) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3758) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1057) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:941) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:79) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:588) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:543) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) I already had that also in my 3.8.x version, but now i am on the 4.3 stream: Version: 4.3.0 Build id: I20130205-0800 i i still have this. For that workspace i really need to say that it shouldn't close editors automatically for a specific number (16) now. If this happens, i really have first to close 1 and then i can reopen on."}, {"bug_id": "401666", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/BracesTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/FormatterMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/FormatterMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/WhiteSpaceOptions.java"], "repo": "eclipse.jdt.ui", "reformed_query": "options code Lambda formatter options options code options Bug formatter", "bug_title": " [1.8] UI for new Lambda code formatter options", "bug_description": "We need UI for the Java 8 code formatter options from bug 400830."}, {"bug_id": "403927", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/ASTNodes.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/GenericVisitor.java", "org.eclipse.jdt.ui.tests.refactoring/resources/SefWorkSpace/SefTests/.classpath", "org.eclipse.jdt.ui.tests.refactoring/resources/SefWorkSpace/SefTests/.settings/org.eclipse.jdt.core.prefs", "org.eclipse.jdt.ui.tests.refactoring/resources/SefWorkSpace/SefTests/object_in/TestArrayAnnotations.java", "org.eclipse.jdt.ui.tests.refactoring/resources/SefWorkSpace/SefTests/object_out/TestArrayAnnotations.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/SefTests.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/ASTFlattener.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/ASTNodeFactory.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/DimensionRewrite.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/util/JDTUIHelperClasses.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/TypeContextChecker.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/PromoteTempToFieldRefactoring.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/sef/SelfEncapsulateFieldRefactoring.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/ChangeSignatureProcessor.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/ExtractClassRefactoring.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/structure/HierarchyProcessor.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/util/AbstractExceptionAnalyzer.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/MethodExitsFinder.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ASTResolving.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/ChangeMethodSignatureProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/TypeChangeCorrectionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "JLS", "bug_title": " [1.8] Switch ASTs to JLS8", "bug_description": ""}, {"bug_id": "405780", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/ExtractConstantTests.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Extract IdentifierOrNew inserting JLS compiler Identifier Statement Tests result JDT", "bug_title": " [1.8][compiler] Bad syntax error 'insert \":: IdentifierOrNew\"' for missing semicolon", "bug_description": "JDT UI's org.eclipse.jdt.ui.tests.refactoring.ExtractConstantTests#test34() fails in BETA_JAVA8 because we get an unexpected second syntax error when trying to compile the result of the refactoring. Source: package p; import java.util.List; class A { private static final String STRING = new String(); { Object o= STRING; Object o2= STRING } } In master, we get the error: - Syntax error, insert \";\" to complete LocalVariableDeclarationStatement In BETA_JAVA8, we get: - Syntax error, insert \":: IdentifierOrNew\" to complete Expression - Syntax error, insert \";\" to complete LocalVariableDeclarationStatement The first error should not be issued. It doesn't make sense at all in pre-JLS8 ASTs, and even in JLS8, inserting a method reference would not fix the problem."}, {"bug_id": "406171", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "runApplication Starter LinkedPosition NextSubWordAction assertion codebase Word App Key callSuper", "bug_title": " [navigation] \"Next Word\" did not complete normally", "bug_description": "While navigating some code in the Scala IDE v3.0.0 for Eclipse 3.7, the following exception was reported by the Eclipse platform: \"Next Word\" did not complete normally. I believe this happened while pressing \"CMD + Right arrow\" on a dirty (i.e., not yet saved) editor. Unfortunately, I can't reproduce it. I'm filing a ticket here and not the Scala IDE issue tracker because in the stacktrace (see below) there isn't any call that involves the Scala IDE codebase. That being said, the Scala IDE could still be in fault, because the Scala Editor is built on top of the Java Editor. Below follows the full stacktrace org.eclipse.core.runtime.AssertionFailedException: assertion failed: at org.eclipse.core.runtime.Assert.isTrue(Assert.java:110) at org.eclipse.core.runtime.Assert.isTrue(Assert.java:96) at org.eclipse.jface.text.Position.<init>(Position.java:62) at org.eclipse.jface.text.link.LinkedPosition.<init>(LinkedPosition.java:43) at org.eclipse.jface.text.link.LinkedPosition.<init>(LinkedPosition.java:58) at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$NextSubWordAction.findNextPosition(JavaEditor.java:806) at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor$NextSubWordAction.run(JavaEditor.java:768) at org.eclipse.ui.texteditor.TextNavigationAction.runWithEvent(TextNavigationAction.java:99) at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:185) at org.eclipse.ui.internal.handlers.LegacyHandlerWrapper.execute(LegacyHandlerWrapper.java:109) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:468) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:786) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:885) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:567) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:508) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:123) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1069) at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4127) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1457) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1480) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1465) at org.eclipse.swt.widgets.Control.traverse(Control.java:4768) at org.eclipse.swt.widgets.Control.translateTraversal(Control.java:4552) at org.eclipse.swt.widgets.Control.doCommandBySelector(Control.java:1058) at org.eclipse.swt.widgets.Display.windowProc(Display.java:5563) at org.eclipse.swt.internal.cocoa.OS.objc_msgSend(Native Method) at org.eclipse.swt.internal.cocoa.NSResponder.interpretKeyEvents(NSResponder.java:68) at org.eclipse.swt.widgets.Composite.keyDown(Composite.java:587) at org.eclipse.swt.widgets.Display.windowProc(Display.java:5473) at org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Native Method) at org.eclipse.swt.widgets.Widget.callSuper(Widget.java:220) at org.eclipse.swt.widgets.Widget.windowSendEvent(Widget.java:2095) at org.eclipse.swt.widgets.Shell.windowSendEvent(Shell.java:2253) at org.eclipse.swt.widgets.Display.windowProc(Display.java:5535) at org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Native Method) at org.eclipse.swt.widgets.Display.applicationSendEvent(Display.java:4989) at org.eclipse.swt.widgets.Display.applicationProc(Display.java:5138) at org.eclipse.swt.internal.cocoa.OS.objc_msgSend(Native Method) at org.eclipse.swt.internal.cocoa.NSApplication.sendEvent(NSApplication.java:128) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3610) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2701) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2665) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2499) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:679) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:668) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577) at org.eclipse.equinox.launcher.Main.run(Main.java:1410)"}, {"bug_id": "406995", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaMethodCompletionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "method getReplacementString compute JavaMethodCompletionProposal Context method compute check assist Java", "bug_title": " [content assist] Context Information is not shown after completion of void method", "bug_description": "With the automatic addition of ';' to void-returning method completion proposals, we don't show Context Information any more for such completions. Example: Complete after \"wait\" here and choose a method with parameters: package xy; public class CompletionTest { { wait } } The problem in this case is that JavaMethodCompletionProposal#computeContextInformation() needs another condition \"|| getReplacementString().endsWith(SEMICOLON)\". Need to check other proposals as well."}, {"bug_id": "407759", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/SortMembersOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "AllCleanUpsAction Starter main window CompilationUnitSorter Children Check ASTNode ActionContributionItem enum", "bug_title": " Sort Members causes IAE: Comparison method violates its general contract!", "bug_description": "Created attachment 230786 [details] Source file that causes error when cleanup is applied Greetings. The stack trace reproduced below is generated when I try to run a cleanup operation on the attached source file. My cleanup function is configured to run these operations: Change non static accesses to static members using declaring type Change indirect accesses to static members to direct accesses (accesses through subtypes) Convert control statement bodies to block Convert 'for' loops to enhanced 'for' loops Add final modifier to private fields Add final modifier to local variables Remove unused imports Add missing '@Override' annotations Add missing '@Override' annotations to implementations of interface methods Add missing '@Deprecated' annotations Remove unnecessary casts Remove unnecessary '$NON-NLS$' tags Sort members excluding fields, enum constants, and initializers Organize imports Format source code Remove trailing white spaces on all lines Correct indentation eclipse.buildId=4.3.0.I20130314-1330 java.version=1.7.0_21 java.vendor=Oracle Corporation BootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_US Framework arguments:  -product org.eclipse.epp.package.classic.product Command-line arguments:  -os linux -ws gtk -arch x86_64 -product org.eclipse.epp.package.classic.product Error Thu May 09 17:03:12 PDT 2013 Internal Error java.lang.reflect.InvocationTargetException at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:421) at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:1028) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.createChange(RefactoringWizard.java:663) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.computeUserInputSuccessorPage(RefactoringWizard.java:502) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.computeSuccessorPage(UserInputWizardPage.java:74) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.getNextPage(UserInputWizardPage.java:114) at org.eclipse.jdt.internal.ui.fix.CleanUpRefactoringWizard$CleanUpConfigurationPage.getNextPage(CleanUpRefactoringWizard.java:456) at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:908) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:428) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:628) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1392) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3717) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3338) at org.eclipse.jface.window.Window.runEventLoop(Window.java:826) at org.eclipse.jface.window.Window.open(Window.java:802) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:187) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:202) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:122) at org.eclipse.jdt.internal.ui.refactoring.actions.RefactoringStarter.activate(RefactoringStarter.java:38) at org.eclipse.jdt.internal.corext.refactoring.RefactoringExecutionStarter.startCleanupRefactoring(RefactoringExecutionStarter.java:251) at org.eclipse.jdt.internal.ui.actions.AllCleanUpsAction.performRefactoring(AllCleanUpsAction.java:78) at org.eclipse.jdt.internal.ui.actions.CleanUpAction.run(CleanUpAction.java:176) at org.eclipse.jdt.internal.ui.actions.CleanUpAction.run(CleanUpAction.java:108) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:275) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:251) at org.eclipse.jface.action.Action.runWithEvent(Action.java:499) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1392) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3717) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3338) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1108) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:992) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:137) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:600) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:555) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426) Caused by: java.lang.IllegalArgumentException: Comparison method violates its general contract! at java.util.TimSort.mergeHi(TimSort.java:868) at java.util.TimSort.mergeAt(TimSort.java:485) at java.util.TimSort.mergeForceCollapse(TimSort.java:426) at java.util.TimSort.sort(TimSort.java:223) at java.util.TimSort.sort(TimSort.java:173) at java.util.Arrays.sort(Arrays.java:659) at java.util.Collections.sort(Collections.java:217) at org.eclipse.jdt.internal.core.SortElementsOperation$2.sortElements(SortElementsOperation.java:258) at org.eclipse.jdt.internal.core.SortElementsOperation$2.visit(SortElementsOperation.java:302) at org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:467) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2514) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2585) at org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:219) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2514) at org.eclipse.jdt.internal.core.SortElementsOperation.sortCompilationUnit(SortElementsOperation.java:250) at org.eclipse.jdt.internal.core.SortElementsOperation.calculateEdit(SortElementsOperation.java:134) at org.eclipse.jdt.core.util.CompilationUnitSorter.sort(CompilationUnitSorter.java:455) at org.eclipse.jdt.internal.corext.fix.SortMembersFix.createCleanUp(SortMembersFix.java:41) at org.eclipse.jdt.internal.ui.fix.SortMembersCleanUp.createFix(SortMembersCleanUp.java:66) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.calculateChange(CleanUpRefactoring.java:807) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring$CleanUpASTRequestor.calculateSolutions(CleanUpRefactoring.java:305) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring$CleanUpASTRequestor.acceptAST(CleanUpRefactoring.java:283) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:892) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:581) at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:894) at org.eclipse.jdt.internal.corext.dom.ASTBatchParser.createASTs(ASTBatchParser.java:100) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring$CleanUpFixpointIterator.next(CleanUpRefactoring.java:406) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.cleanUpProject(CleanUpRefactoring.java:718) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.checkFinalConditions(CleanUpRefactoring.java:674) at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:85) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:121) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2345) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121) Root exception: java.lang.IllegalArgumentException: Comparison method violates its general contract! at java.util.TimSort.mergeHi(TimSort.java:868) at java.util.TimSort.mergeAt(TimSort.java:485) at java.util.TimSort.mergeForceCollapse(TimSort.java:426) at java.util.TimSort.sort(TimSort.java:223) at java.util.TimSort.sort(TimSort.java:173) at java.util.Arrays.sort(Arrays.java:659) at java.util.Collections.sort(Collections.java:217) at org.eclipse.jdt.internal.core.SortElementsOperation$2.sortElements(SortElementsOperation.java:258) at org.eclipse.jdt.internal.core.SortElementsOperation$2.visit(SortElementsOperation.java:302) at org.eclipse.jdt.core.dom.TypeDeclaration.accept0(TypeDeclaration.java:467) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2514) at org.eclipse.jdt.core.dom.ASTNode.acceptChildren(ASTNode.java:2585) at org.eclipse.jdt.core.dom.CompilationUnit.accept0(CompilationUnit.java:219) at org.eclipse.jdt.core.dom.ASTNode.accept(ASTNode.java:2514) at org.eclipse.jdt.internal.core.SortElementsOperation.sortCompilationUnit(SortElementsOperation.java:250) at org.eclipse.jdt.internal.core.SortElementsOperation.calculateEdit(SortElementsOperation.java:134) at org.eclipse.jdt.core.util.CompilationUnitSorter.sort(CompilationUnitSorter.java:455) at org.eclipse.jdt.internal.corext.fix.SortMembersFix.createCleanUp(SortMembersFix.java:41) at org.eclipse.jdt.internal.ui.fix.SortMembersCleanUp.createFix(SortMembersCleanUp.java:66) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.calculateChange(CleanUpRefactoring.java:807) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring$CleanUpASTRequestor.calculateSolutions(CleanUpRefactoring.java:305) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring$CleanUpASTRequestor.acceptAST(CleanUpRefactoring.java:283) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:892) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:581) at org.eclipse.jdt.core.dom.ASTParser.createASTs(ASTParser.java:894) at org.eclipse.jdt.internal.corext.dom.ASTBatchParser.createASTs(ASTBatchParser.java:100) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring$CleanUpFixpointIterator.next(CleanUpRefactoring.java:406) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.cleanUpProject(CleanUpRefactoring.java:718) at org.eclipse.jdt.internal.corext.fix.CleanUpRefactoring.checkFinalConditions(CleanUpRefactoring.java:674) at org.eclipse.ltk.core.refactoring.CheckConditionsOperation.run(CheckConditionsOperation.java:85) at org.eclipse.ltk.core.refactoring.CreateChangeOperation.run(CreateChangeOperation.java:121) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2345) at org.eclipse.ltk.internal.ui.refactoring.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:87) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)"}, {"bug_id": "408060", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/nls/search/NLSSearchQuery.java"], "repo": "eclipse.jdt.ui", "reformed_query": "exists NLSSearchQuery wrapper search query file bug check Created properties", "bug_title": " Bug in NLSSearchQuery", "bug_description": "Created attachment 230978 [details] proposed fix While looking at how the search works for bug 408059 I found that the search query checks twice to see if the wrapper class exists, when it should probably be testing if the properties file exists in the second check."}, {"bug_id": "408072", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/nls/search/NLSSearchResultRequestor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug nls org tooling Manager Build NLS matches key", "bug_title": " [nls tooling] Interface is flagged as missing NLS key", "bug_description": "Version: 4.3.0 Build id: I20130513-2000 While scanning org.eclipse.jface I got the following during the search: Undefined keys in: MenuManager.java - org.eclipse.jface.action (2 matches) One of the matches is: ExternalActionManager.ICallback callback = ExternalActionManager.getInstance().getCallback(); with ExternalActionManager.ICallback highlighted. There are 17 of these flagged for all of jface."}, {"bug_id": "408330", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/AbstractInfoView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "foo internal org element newNotPresentException compute core computeInput Content infoviews", "bug_title": " Java Model Exception from Javadoc view if element is deleted", "bug_description": "Select foo() in the following example and open the Javadoc view: public class Test { private void foo() {} } Now, delete the method: private void foo() {} An error is logged in the Error Log view on deletion: Java Model Exception: Java Model Status [foo() [in Test [in [Working copy] Test.java [in test.bugs.var [in src [in com.bugs.test]]]]] does not exist] at org.eclipse.jdt.internal.core.JavaElement.newNotPresentException(JavaElement.java:498) at org.eclipse.jdt.internal.core.JavaElement.openWhenClosed(JavaElement.java:532) ... at org.eclipse.jdt.internal.ui.text.javadoc.JavadocContentAccess2.getHTMLContentFromSource(JavadocContentAccess2.java:600) at org.eclipse.jdt.internal.ui.text.javadoc.JavadocContentAccess2.getHTMLContent(JavadocContentAccess2.java:495) at org.eclipse.jdt.internal.ui.infoviews.JavadocView.getJavadocHtml(JavadocView.java:1097) at org.eclipse.jdt.internal.ui.infoviews.JavadocView.computeInput(JavadocView.java:908)"}, {"bug_id": "409707", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesFileEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "TestSetup Property File runWithDefault swt nls org cocoa Bug", "bug_title": " PropertiesFileQuickAssistTest.testRemoveProperty3 and testRemoveProperty4 failed", "bug_description": "I20130531-2000. PropertiesFileQuickAssistTest.testRemoveProperty3 and testRemoveProperty4 failed. http://download.eclipse.org/eclipse/downloads/drops4/I20130531-2000/testresults/html/org.eclipse.jdt.ui.tests_macosx.cocoa.x86_5.0.html nls file expected:<... static String Test_[]2; } > but was:<... static String Test_[1; public static String Test_]2; } > junit.framework.ComparisonFailure: nls file expected:<... static String Test_[]2; } > but was:<... static String Test_[1; public static String Test_]2; } > at org.eclipse.jdt.ui.tests.quickfix.PropertiesFileQuickAssistTest.assertEqualLines(PropertiesFileQuickAssistTest.java:153) at org.eclipse.jdt.ui.tests.quickfix.PropertiesFileQuickAssistTest.checkContentOfCu(PropertiesFileQuickAssistTest.java:124) at org.eclipse.jdt.ui.tests.quickfix.PropertiesFileQuickAssistTest.testRemoveProperty3(PropertiesFileQuickAssistTest.java:641) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23) at junit.extensions.TestSetup$1.protect(TestSetup.java:23) at junit.extensions.TestSetup.run(TestSetup.java:27) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23) at junit.extensions.TestSetup$1.protect(TestSetup.java:23) at junit.extensions.TestSetup.run(TestSetup.java:27) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23) at junit.extensions.TestSetup$1.protect(TestSetup.java:23) at junit.extensions.TestSetup.run(TestSetup.java:27) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:655) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:310) at org.eclipse.test.UITestApplication$2.run(UITestApplication.java:197) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3976) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3653) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1113) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:997) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:138) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:610) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:567) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:140) at org.eclipse.test.UITestApplication.run(UITestApplication.java:62) at org.eclipse.test.UITestApplication.start(UITestApplication.java:212) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426) at org.eclipse.core.launcher.Main.main(Main.java:34) nls file expected:<... static String Test_[]5; public static...> but was:<... static String Test_[3; public static String Test_4; public static String Test_]5; public static...> junit.framework.ComparisonFailure: nls file expected:<... static String Test_[]5; public static...> but was:<... static String Test_[3; public static String Test_4; public static String Test_]5; public static...> at org.eclipse.jdt.ui.tests.quickfix.PropertiesFileQuickAssistTest.assertEqualLines(PropertiesFileQuickAssistTest.java:153) at org.eclipse.jdt.ui.tests.quickfix.PropertiesFileQuickAssistTest.checkContentOfCu(PropertiesFileQuickAssistTest.java:124) at org.eclipse.jdt.ui.tests.quickfix.PropertiesFileQuickAssistTest.testRemoveProperty4(PropertiesFileQuickAssistTest.java:709) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23) at junit.extensions.TestSetup$1.protect(TestSetup.java:23) at junit.extensions.TestSetup.run(TestSetup.java:27) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23) at junit.extensions.TestSetup$1.protect(TestSetup.java:23) at junit.extensions.TestSetup.run(TestSetup.java:27) at junit.extensions.TestDecorator.basicRun(TestDecorator.java:23) at junit.extensions.TestSetup$1.protect(TestSetup.java:23) at junit.extensions.TestSetup.run(TestSetup.java:27) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:655) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:310) at org.eclipse.test.UITestApplication$2.run(UITestApplication.java:197) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3976) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3653) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1113) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:997) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:138) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:610) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:567) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:140) at org.eclipse.test.UITestApplication.run(UITestApplication.java:62) at org.eclipse.test.UITestApplication.start(UITestApplication.java:212) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426) at org.eclipse.core.launcher.Main.main(Main.java:34)"}, {"bug_id": "409717", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/JavaElementLinks.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/JavaElementLinks.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/JavaElementLinks.java"], "repo": "eclipse.jdt.ui", "reformed_query": "parse Bug Javadocs javax annotation IPackage URI links linkplain Type", "bug_title": " [hovering] Javadoc link to package doesn't work in attached package-info.java", "bug_description": "The Javadoc in javax.lang.model's package-info.java (in attached source) contains: \"{@linkplain javax.annotation.processing annotation processing}\" The parsing of this link fails in JavaElementLinks#parseURI(URI) because the \"if (element instanceof IPackageFragment)\" branch only resolves types, but not packages. We should use the same code as in \"if (element instanceof IType)\" to resolve a link to package as well. Also need to check whether the Javadoc tool supports links to members. If it does, then reuse that part of \"if (element instanceof IType)\" as well. And last but not least, Javadocs of JavaElementLinks need to tell that refTypeName can also refer to a package."}, {"bug_id": "411585", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaElementLine.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/OccurrencesSearchLabelProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/OccurrencesSearchResultPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "shift occurrences view reports Bug occurrences list Version occurrence number", "bug_title": " [mark occurrence][search] Mark occurrences reports 0 based line numbers but the actual line numbers in the line number rulers starts with 1", "bug_description": "If i do ctrl-shift-u on a identifier i get a list of lines in the search view where those are found. But the line numbers that are reported are 1 off. It does jump to the right line but it is funny to see that the search view reports \"203:\" and the actual code is according to the line of the ruler is on  204 It seems that the search view reports 0 based but the line number ruler starts with 1 Eclipse SDK Version: 4.3.0 Build id: I20130605-2000"}, {"bug_id": "411636", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/packageview/ContentProviderTests6.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "file Build workspace Explorer   project Stack", "bug_title": " Save is very slow (burns cycles in the Package and Project Explorer)", "bug_description": "Created attachment 232751 [details] Stack trace I noticed that when I saved a Java file, the UI would be come unresponsive for about 5 seconds.  I did a stack trace (attached) and noticed that the main thread seemed to be hung up somewhere in the project explorer.  When I unchecked \"Link With Editor\" this delay went away. I tried doing the same action on the exact same workspace in Indigo and did not notice the same delay.  My workspace is very large (100+ projects, maybe 50-100K files). I'm using: Version: 4.3.0 Build id: I20130605-2000"}, {"bug_id": "411641", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/template/java/JavaContext.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Template System", "bug_title": " [content assist] Unnecessary content assist popup after decimal", "bug_description": "If you are typing a floating point number say 3.14 then content assist window pops up after typing '.', e.g. in this situation below void bar() { System.out.println(3.); } Tried this with 4.3 RC4. (Likely a consequence of changes for showing Template and keyword proposals without prefix)"}, {"bug_id": "4121", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarPackageWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarPackagerMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug exported sync GILQD include exported message sync project directory", "bug_title": " JarExporter causes out of Sync (1GILQD5)", "bug_description": "PA (8/17/01 2:03:29 PM) if you export a directory (project) and place the exported jar in the same directory (project) then you will get an out of sync message when you overwrite the exported jar-file the 2nd time. -> maybe the exported jar file should not include itself ? NOTES:"}, {"bug_id": "41302", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/AssistQuickFixTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "assist Selection quick method extract   foo", "bug_title": " [quick assist] [extract method] Calling extract method from a selection", "bug_description": "In 3.0M2 If you select the following code (up to the very last character) and ask for \"extract method\" you'll get an error dialog indication \"Selection ends inside a comment\" foo();//a comment"}, {"bug_id": "416016", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "TARGET platform target Java support COMPILER Bug JavaCore Javadoc CODEGEN", "bug_title": " [1.8][preferences] Add support for target 1.8 in the compiler preference page", "bug_description": "Update the preference UI to support Java 1.8 target platform. Jay, kindly update the Javadoc for JavaCore.COMPILER_CODEGEN_TARGET_PLATFORM."}, {"bug_id": "416022", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/CleanUpRefactoring.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/FixMessages.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/FixMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug epp problems project exception mapped Actual supported change Clean", "bug_title": " Clean Up Refactoring should report which file caused the exception (was: Eclipse code formatter crashes with exception in handling Cp1252 character encoding)", "bug_description": "Performed code formatting at project level containing more than 100 Java files. Expected: The code must be formatted as per the template. Actual: The formatter threw exception saying: Some characters cannot be mapped using \"Cp1252\" character encoding. Either change the encoding or remove the characters which are not supported by the \"Cp1252\" character encoding. There are two problems here: 1) The root cause for the exception 2) The exception details are not enough - it doesn't state in which file the exception occurred. Now I have to dig through all the files one by one. -- Configuration Details -- Product: Eclipse 2.0.0.20130613-0530 (org.eclipse.epp.package.jee.product) Installed Features: org.eclipse.jdt 3.9.0.v20130605-2000"}, {"bug_id": "416401", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/ComplianceConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "blocks compiler Java compiler wrong select compiler compliance preferences click", "bug_title": " [preferences] Incorrect enablement of 'Inline finally blocks' preference option", "bug_description": "Found that 'Inline finally blocks' option is enabled incorrectly: 1. In the compiler preference page, select 'Configure Project Specific Settings' and choose a Java 1.4 project. Select the 'Java Build Path' and modify the EE to J2SE-1.5. Use the back button or directly click on the Java Compiler to come back to the previous page where the project specific setting was being modified. See that the 'Inline finally blocks' is enabled for Java-1.5, which is wrong. 2. In the compiler preference page, select 1.4 compliance level. Now uncheck 'Inline finally blocks' option. Now change the compliance level to 1.5 and then change to 1.6 and now change it back to 1.4, the checkbox is now checked. This also looks wrong."}, {"bug_id": "41688", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaOutlinePage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug tree editor Bug Outline Outline add Java editor Java", "bug_title": " [misc] incorrect reconciling in Java Outline page", "bug_description": "20030813 add this to a class open in an editor public int a, b; note that only 'b' is added to the outliner tree"}, {"bug_id": "416935", "ground_truth": ["org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/buildpath/BuildPathSupport.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/buildpath/BuildPathSupport.java"], "repo": "eclipse.jdt.ui", "reformed_query": "APIs JDT implementation info assume JUNIT container Surefire JUNIT JDT", "bug_title": " [JUnit] Initialize JUnit container & JUNIT_HOME doesn't work when there is no bundle.info", "bug_description": "In the context of running JDT tests with Tycho, I noticed that the implementation of JUnitHomeInitializer relies on SimpleConfigurator and assumes that the product uses a bundles.info file to work. However, it's not the case with Tycho Surefire tests, bundles are instead passed in the config.ini file, using the \"osgi.bundles\" property. So it seems like current implementation is based on the wrong assumption that all RCP products use a bundles.info. Instead, it should leverage the OSGi APIs, as we can more safely assume that any application using JDT is started in an OSGi container."}, {"bug_id": "416998", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/ASTNodes.java"], "repo": "eclipse.jdt.ui", "reformed_query": "updated Bug Variable Bug ASTNodes Type callers VariableDeclaration iff parameter", "bug_title": " [1.8] Update callers of ASTNodes#getType(VariableDeclaration) to handle 'null' for type inferred lambda parameter", "bug_description": "After ASTNodes#getType(VariableDeclaration) method is updated to return 'null' for a type inferred lambda parameter, callers of the method need to be fixed iff there's a possibility that the given VariableDeclaration is a type inferred lambda parameter. Patch to update ASTNodes#getType(VariableDeclaration) to return 'null' is attached in bug 407985 comment #3."}, {"bug_id": "417765", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/ImageDescriptorRegistry.java"], "repo": "eclipse.jdt.ui", "reformed_query": "viewsupport Capability org eclipse BatchOperation reproduced Exec Block disposeExec workspace", "bug_title": " ImageDescriptorRegistry.hookDisplay() causes SWT Invalid thread access", "bug_description": "Eclipse Kepler There appears to be a case where NewJavaProjectWizardPageTwo causes an SWT Invalid Thread Access when using Bndtools.  This problem has been reproduced by others. To reproduce, create a new workspace, switch to the Bndtools perspective, create a new Bndtools OSGi project.  You should get the Invalid Thread Access. The workaround is to delete the project you just created and create it again. I believe the key here is that you have a brand new workspace. Here is the stack trace. org.eclipse.swt.SWTException: Invalid thread access at org.eclipse.swt.SWT.error(SWT.java:4397) at org.eclipse.swt.SWT.error(SWT.java:4312) at org.eclipse.swt.SWT.error(SWT.java:4283) at org.eclipse.swt.widgets.Display.error(Display.java:1204) at org.eclipse.swt.widgets.Display.checkDevice(Display.java:759) at org.eclipse.swt.widgets.Display.disposeExec(Display.java:1181) at org.eclipse.jdt.internal.ui.viewsupport.ImageDescriptorRegistry.hookDisplay(ImageDescriptorRegistry.java:77) at org.eclipse.jdt.internal.ui.viewsupport.ImageDescriptorRegistry.<init>(ImageDescriptorRegistry.java:40) at org.eclipse.jdt.internal.ui.JavaPlugin.internalGetImageDescriptorRegistry(JavaPlugin.java:954) at org.eclipse.jdt.internal.ui.JavaPlugin.getImageDescriptorRegistry(JavaPlugin.java:347) at org.eclipse.jdt.internal.ui.wizards.buildpaths.CPListLabelProvider.<init>(CPListLabelProvider.java:68) at org.eclipse.jdt.internal.ui.wizards.buildpaths.BuildPathsBlock.<init>(BuildPathsBlock.java:189) at org.eclipse.jdt.ui.wizards.JavaCapabilityConfigurationPage.getBuildPathsBlock(JavaCapabilityConfigurationPage.java:95) at org.eclipse.jdt.ui.wizards.JavaCapabilityConfigurationPage.init(JavaCapabilityConfigurationPage.java:151) at org.eclipse.jdt.ui.wizards.NewJavaProjectWizardPageTwo.initializeBuildPath(NewJavaProjectWizardPageTwo.java:318) at bndtools.wizards.project.NewBndProjectWizardPageTwo.initializeBuildPath(NewBndProjectWizardPageTwo.java:106) at org.eclipse.jdt.ui.wizards.NewJavaProjectWizardPageTwo.updateProject(NewJavaProjectWizardPageTwo.java:252) at org.eclipse.jdt.ui.wizards.NewJavaProjectWizardPageTwo.performFinish(NewJavaProjectWizardPageTwo.java:484) at org.eclipse.jdt.internal.ui.wizards.JavaProjectWizard.finishPage(JavaProjectWizard.java:82) at org.eclipse.jdt.internal.ui.wizards.NewElementWizard$2.run(NewElementWizard.java:118) at org.eclipse.jdt.internal.core.BatchOperation.executeOperation(BatchOperation.java:39) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:728) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:2345) at org.eclipse.jdt.core.JavaCore.run(JavaCore.java:5331) at org.eclipse.jdt.internal.ui.actions.WorkbenchRunnableAdapter.run(WorkbenchRunnableAdapter.java:106) at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)"}, {"bug_id": "418384", "ground_truth": ["org.eclipse.ltk.core.refactoring.tests/src/org/eclipse/ltk/core/refactoring/tests/history/MockRefactoringDescriptor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "java swt arguments Refactoring Synchronizer eclipse comment App tests", "bug_title": " [ltk] junit.framework.ComparisonFailure: Unexpected failure", "bug_description": "Version: 4.2.0  Build id: I20120608-1400 Tests below started to fail from JDK8 b108 in org.eclipse.ltk.core.refactoring.tests package: testReadDescriptor4 testReadDescriptor5 Expected refactoring descriptor is not equal to actual one: expected:<... comment,arguments={[arg1=value 1, version=1.0]},flags=1]> but was:<... comment,arguments={[version=1.0, arg1=value 1]},flags=1]> junit.framework.ComparisonFailure: Expected refactoring descriptor is not equal to actual one: expected:<... comment,arguments={[arg1=value 1, version=1.0]},flags=1]> but was:<... comment,arguments={[version=1.0, arg1=value 1]},flags=1]> at org.eclipse.ltk.core.refactoring.tests.history.RefactoringHistorySerializationTests.compareReadHistory(RefactoringHistorySerializationTests.java:65) at org.eclipse.ltk.core.refactoring.tests.history.RefactoringHistorySerializationTests.testReadDescriptor4(RefactoringHistorySerializationTests.java:216) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:501) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:259) at org.eclipse.test.UITestApplication$2.run(UITestApplication.java:197) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3529) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3182) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1022) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:916) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:86) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:585) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:540) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:140) at org.eclipse.test.UITestApplication.run(UITestApplication.java:62) at org.eclipse.test.UITestApplication.start(UITestApplication.java:212) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:353) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:180) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:629) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:584) at org.eclipse.equinox.launcher.Main.run(Main.java:1438) at org.eclipse.equinox.launcher.Main.main(Main.java:1414) at org.eclipse.core.launcher.Main.main(Main.java:34) Steps to Reproduce: Use eclipse-Automated-Tests-4.2 to run automated tests with jdk8. 1. Install jdk8 (b108 or b109) from http://jdk8.java.net/download.html 2. Run ltkcorerefactoringtests The failures are reproducible on solaris & windows (32-bit)"}, {"bug_id": "418692", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/resources/ExtractMethodWorkSpace/ExtractMethodTests/error_in/A_test804.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractMethodWorkSpace/ExtractMethodTests/error_out/A_test800.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractMethodWorkSpace/ExtractMethodTests/error_out/A_test804.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractMethodWorkSpace/ExtractMethodTests/nested_out/A_test652.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/ExtractMethodTests.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractMethodRefactoring.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/SnippetFinder.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractMethodWorkSpace/ExtractMethodTests/error_in/A_test804.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractMethodWorkSpace/ExtractMethodTests/error_out/A_test800.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractMethodWorkSpace/ExtractMethodTests/error_out/A_test804.java", "org.eclipse.jdt.ui.tests.refactoring/resources/ExtractMethodWorkSpace/ExtractMethodTests/nested_out/A_test652.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/ExtractMethodTests.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractMethodRefactoring.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/SnippetFinder.java"], "repo": "eclipse.jdt.ui", "reformed_query": "attachment duplicates semicolon depends additional duplicates details extract result Screenshot", "bug_title": " [extract method] Does not replace duplicates that span the whole method body", "bug_description": "Created attachment 236121 [details] the semicolon makes the difference The result of detecting so called 'additional occurences' depends on whether or not the selection includes the semicolon. See Screenshot."}, {"bug_id": "419692", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/InterfaceIndicatorLabelDecorator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "eclipse decorator org Java eclipse Indicator Type Indicator Type Java", "bug_title": " Java Type Indicator decorator causes image leak", "bug_description": "This bug was reported in bug 402983 comment 21 https://bugs.eclipse.org/bugs/show_bug.cgi?id=402983#c21"}, {"bug_id": "420116", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/QuickFixTest18.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/Java18ProjectTestSetup.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/StubUtility2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "annotations AST copies methods exist type type straight annotations AST", "bug_title": " [1.8] Add implemented methods should consider type annotations", "bug_description": "Preparing to speak about JSR 308 at ECE I see that \"Add implemented methods\" nicely copies old annotations, but ignores type annotations. While the implementation looks straight-forward, I'm not sure what's the plan regarding ASTProvider.SHARED_AST_LEVEL. Is it still at JLS4 because some operations are still used that only exist below JLS8?"}, {"bug_id": "420188", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/Bindings.java"], "repo": "eclipse.jdt.ui", "reformed_query": "IType containsTypeVariables containsTypeVariables Binding IType method jdt method IType Bug", "bug_title": " Bindings.containsTypeVariables(ITypeBinding type) contains unused code", "bug_description": "org.eclipse.jdt.internal.corext.dom.Bindings.containsTypeVariables(ITypeBinding type) This method consists of 6 if statements in a row. The 1st and 5th if statement are the same. Therefore the 5th one is never going to get executed because the first on returns."}, {"bug_id": "42110", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchScopeFactory.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Throwable Window Elements Events Main JavaSearchScopeFactory Main focus EventTable addJavaElements", "bug_title": " ClassCastException in Java Search with package working set", "bug_description": "M3 candidate I got the following class cast exception in Java Search using a Working Set STEPS 1) Open the JavaSearch Dialog 2) Select a working set (I made one called properties which had just org.eclipse.ui.views.properties in it) 3) Enter a search string (I entered focusLost) 4) Hit Search - nothing happens and exception is printed to log: Note this is fine using the Workbench search scope java.lang.ClassCastException: org/eclipse/jdt/internal/core/PackageFragment incompatible with org/eclipse/core/resources/IFolder at java.lang.Throwable.<init>(Throwable.java) at java.lang.Throwable.<init>(Throwable.java) at java.lang.ClassCastException.<init>(ClassCastException.java:56) at org.eclipse.jdt.internal.ui.search.JavaSearchScopeFactory.addJavaElements(JavaSearchScopeFactory.java:176) at org.eclipse.jdt.internal.ui.search.JavaSearchScopeFactory.addJavaElements(JavaSearchScopeFactory.java:195) at org.eclipse.jdt.internal.ui.search.JavaSearchScopeFactory.createJavaSearchScope(JavaSearchScopeFactory.java:81) at org.eclipse.jdt.internal.ui.search.JavaSearchPage.performAction(JavaSearchPage.java:183) at org.eclipse.search.internal.ui.SearchDialog.performAction(SearchDialog.java:351) at org.eclipse.search.internal.ui.util.ExtendedDialogWindow.buttonPressed(ExtendedDialogWindow.java:140) at org.eclipse.jface.dialogs.Dialog$1.widgetSelected(Dialog.java:423) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java) at org.eclipse.jface.window.Window.runEventLoop(Window.java) at org.eclipse.jface.window.Window.open(Window.java:563) at org.eclipse.search.internal.ui.OpenSearchDialogAction.run(OpenSearchDialogAction.java:60) at org.eclipse.search.internal.ui.OpenSearchDialogAction.run(OpenSearchDialogAction.java:46) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:263) at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:207) at org.eclipse.ui.internal.commands.ActionHandler.execute(ActionHandler.java:38) at org.eclipse.ui.internal.Workbench.press(Workbench.java:453) at org.eclipse.ui.internal.Workbench$2.handleEvent(Workbench.java:212) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java) at org.eclipse.swt.widgets.Display.filterEvent(Display.java) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java) at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1688) at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1684) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3013) at org.eclipse.swt.widgets.Tree.WM_CHAR(Tree.java:1289) at org.eclipse.swt.widgets.Control.windowProc(Control.java) at org.eclipse.swt.widgets.Display.windowProc(Display.java) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2036) at org.eclipse.ui.internal.Workbench.run(Workbench.java:2019) at org.eclipse.core.internal.boot.InternalBootLoader.run(InternalBootLoader.java:858) at org.eclipse.core.boot.BootLoader.run(BootLoader.java:461) at java.lang.reflect.AccessibleObject.invokeL(AccessibleObject.java:207) at java.lang.reflect.Method.invoke(Method.java:271) at org.eclipse.core.launcher.Main.basicRun(Main.java:295) at org.eclipse.core.launcher.Main.run(Main.java:751) at org.eclipse.core.launcher.Main.main(Main.java:587)"}, {"bug_id": "421383", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaPluginImages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "image Bug Lenovo", "bug_title": " [Graphics] Scaling issues on high DPI displays", "bug_description": "When using Eclipse on a high-resolution, high DPI monitor (such as the 3200x1800 display on the Lenovo Yoga 2 Pro) interface elements, primarily image buttons, do not scale correctly. They display much smaller than they should, and they are almost impossible to see. Using Eclipse on high-DPI displays is very difficult."}, {"bug_id": "42208", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/SourceViewerInformationControl.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Source text Source hover hover text gray Bug Source Source", "bug_title": " Source hover affordance text is black", "bug_description": "Source hover affordance text is black, but should be gray."}, {"bug_id": "424083", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/StubUtility2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "logged StubUtility org place createParameters AST Compilation createImplementationStub LambdaExpressionsFix java", "bug_title": " [1.8][quick assist] AIOOB exception in Convert to anonymous class creation", "bug_description": "package com.test; interface F1 { void foo(int x, String s, float f); } public class C1 { F1 f1= () -> {}; // Ctrl+1 on '>' } -------------------------------------------------- In the above example, place caret on '->' and press Ctrl+1. A warning with AIOOB is logged in the Error log. Select the quick assist 'Convert to anonymous class creation' and press Enter. We get the AIOOB exception: java.lang.ArrayIndexOutOfBoundsException: 0 at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility2.createParameters(StubUtility2.java:503) at org.eclipse.jdt.internal.corext.codemanipulation.StubUtility2.createImplementationStub(StubUtility2.java:419) at org.eclipse.jdt.internal.corext.fix.LambdaExpressionsFix$CreateAnonymousClassCreationOperation.rewriteAST(LambdaExpressionsFix.java:293) at org.eclipse.jdt.internal.corext.fix.CompilationUnitRewriteOperationsFix.createChange(CompilationUnitRewriteOperationsFix.java:101) at org.eclipse.jdt.internal.ui.text.correction.proposals.FixCorrectionProposal.createTextChange(FixCorrectionProposal.java:159) at org.eclipse.jdt.ui.text.java.correction.CUCorrectionProposal.createChange(CUCorrectionProposal.java:244) ..."}, {"bug_id": "425109", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickFixProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "team ReturnTypeMismatch quick emit Quick reply IProblem IProblem bug TypeMismatch", "bug_title": " [quick fix] Failures in TypeMismatchQuickFixTests due to new IProblem.ReturnTypeMismatch", "bug_description": "(In reply to Srikanth Sankaran from bug 422489 comment #3) > Note to UI team: Compiler will not emit IProblem.TypeMismatch any more > for issues with return statement types. Instead expect > IProblem.ReturnTypeMismatch. > Not sure if this will break your test suites and/or quick fix support. This created 4 valid test failures in TypeMismatchQuickFixTests."}, {"bug_id": "427227", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/ASTFlattener.java"], "repo": "eclipse.jdt.ui", "reformed_query": "TypeParameter modifiers Bug Parameter annotations", "bug_title": " [1.8]Handle the UI part for TypeParameter#annotations() change to #modifiers()", "bug_description": "Due to the changes in jdt/core as per Bug 426462"}, {"bug_id": "430195", "ground_truth": ["org.eclipse.jdt.jeview/src/org/eclipse/jdt/jeview/properties/JavaElementProperties.java"], "repo": "eclipse.jdt.ui", "reformed_query": "pseudo Element perform note FunctionalInterfaceName ILocal add Qualified isLambda problems", "bug_title": " [1.8][model][api] Lambda IType API problems (isLambda(); getElementName() returns \"\")", "bug_description": "API problems in the IType for a lambda: - getElementName() should return an empty name, like for anonymous types (this is currently specified in the Javadoc of IType, but that should be copied or moved to getElementName()). The current \"Lambda(FunctionalInterfaceName)\" violates the \"simple name\" statement in IType#getElementName(). And it make sense not to perform some ad-hoc rendering in jdt.core. Caveat: Implementation of SourceType#isAnonymous() is: return this.name.length() == 0 - specify getTypeQualified*(..) APIs for lambda types - add API isLambda() - add note in IType Javadoc that ITypes for lambda expressions are pseudo-elements like ILocalVariable that are not returned by getChildren() on their parent"}, {"bug_id": "430487", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/resources/RenameTests18/testMethod0/in/A.java", "org.eclipse.jdt.ui.tests.refactoring/resources/RenameTests18/testMethod0/out/A.java", "org.eclipse.jdt.ui.tests.refactoring/resources/RenameTests18/testMethod1/in/A.java", "org.eclipse.jdt.ui.tests.refactoring/resources/RenameTests18/testMethod1/out/A.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/AllRefactoringTests.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/RenameTests.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/RenameTests18.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/rename/MethodOccurenceCollector.java"], "repo": "eclipse.jdt.ui", "reformed_query": "list Bug lambda overwrites refactoring Bug Rename Bug lambda breaks", "bug_title": " [1.8][refactoring] Rename Method refactoring breaks lambda", "bug_description": "The Rename Method refactoring breaks lambda expressions (overwrites parameters list and \"->\")."}, {"bug_id": "430574", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/TableTextCellEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "CellEditor arg Control Editor focus checkWidget Text change Visible change", "bug_title": " [change method signature] SWTException: Widget is disposed with Change method signature", "bug_description": "class Test { void m(int arg) { } } ---------------- - Invoke Change method signature refactoring on method #m. - Select 'arg' in the Name column of wizard (see attached screenshot). - Click 'Close' on wizard with focus on the selected arg. We get this exception: org.eclipse.swt.SWTException: Failed to execute runnable (org.eclipse.swt.SWTException: Widget is disposed) at org.eclipse.swt.SWT.error(SWT.java:4441) ... ... Caused by: org.eclipse.swt.SWTException: Widget is disposed at org.eclipse.swt.SWT.error(SWT.java:4441) at org.eclipse.swt.SWT.error(SWT.java:4356) at org.eclipse.swt.SWT.error(SWT.java:4327) at org.eclipse.swt.widgets.Widget.error(Widget.java:476) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:348) at org.eclipse.swt.widgets.Control.getVisible(Control.java:1661) at org.eclipse.jface.viewers.CellEditor.isActivated(CellEditor.java:499) at org.eclipse.jface.viewers.CellEditor.focusLost(CellEditor.java:721) at org.eclipse.jdt.internal.ui.dialogs.TableTextCellEditor.focusLost(TableTextCellEditor.java:103) at org.eclipse.jdt.internal.ui.dialogs.TableTextCellEditor$7$1.run(TableTextCellEditor.java:254) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:136) ... 23 more"}, {"bug_id": "43103", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/rename/RenameTypeProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "download Type Eclipse manually drops Refactoring Rename RenameType", "bug_title": " RenameType Refactoring - detected information not shown", "bug_description": "Test failures in http://download.eclipse.org/downloads/drops/S-3.0M3-200308281813/testResults.php are not visible if the tests are executed manually in Eclipse. The information is not shown because primary != working copy ... I'll attach a patch."}, {"bug_id": "432056", "ground_truth": ["org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/javadoc/JavaDocLocations.java"], "repo": "eclipse.jdt.ui", "reformed_query": "project compliance replacing create URLs avoid breaks Attached Bug format", "bug_title": " [1.8][javadoc] \"Open Attached Javadoc\" needs to adapt to Javadoc's new anchor format", "bug_description": "The Javadoc tool for Java SE 8 changed the anchor syntax and now tries to avoid \"strange\" characters in URLs by replacing them with \"-\" or \":A\" (for \"[]\"). This breaks all clients that directly create such URLs. We can't know what format is required (at least without pre-loading the generated Javadoc), so we just guess by the project's compiler compliance."}, {"bug_id": "432125", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "cards error insert expression Type Expression args Collection situations", "bug_title": " [quick fix] \"Expression needs unchecked conversion\" \"Replace with...\" quick fix should not insert wild cards (resulting in a compile error)", "bug_description": "Consider this code: public static  void method(Collection<? extends Number> coll) { /* ... */ } public static void main(String[] args) { method(Collections.EMPTY_LIST); } The \"method\" call comes with a warning: \"Type safety: The expression of type List needs unchecked conversion to conform to Collection<? extends Number>\". The quick fix (which, btw, I appreciate very much in non-generic situations) replaces it with method(Collections.<? extends Number> emptyList()); which is a compile error. It should be Collections<Number>, or more generally the lower bound for the generic type parameter (e.g. Object in case of the type argument simply being <?>). Of course, there is no obvious quick fix if there are multiple bounds as in the following line, so probably no quick fix should be attempted here: public static <T extends Number & Comparable<?>> void method2(Collection<T> coll) { /* ... */ }"}, {"bug_id": "432132", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/source/AddUnimplementedMethodsTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "AddUnimplementedMethodsTest methods runtime   failures jdt drops", "bug_title": " JUnit test failures in AddUnimplementedMethodsTest", "bug_description": "http://download.eclipse.org/eclipse/downloads/drops4/N20140406-2000/testresults/html/org.eclipse.jdt.ui.tests_win32.win32.x86_7.0.html There are 4 test failures in AddUnimplementedMethodsTest which can be reproduced by running the tests locally in workspace also. However, these are not reproducible while performing the Override methods action in runtime."}, {"bug_id": "43228", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "introduction ExtendedTextEditor Bug Editor Support ExtendedTextEditor Encoding Bug Support Text", "bug_title": " Encoding Support for Java editor broken", "bug_description": "I20030916 This has been broken with the introduction of ExtendedTextEditor."}, {"bug_id": "432781", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/navigator/JavaNavigatorContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Elements occur normal Resource Explorer Note Projects project View navigator", "bug_title": " [common navigator] Java Elements content extension shows non-Java projects in Project Explorer", "bug_description": "Delete and Copy context menu options in Project Explorer get disabled for a project on deselecting \"Resource\" contents 1. Create a normal project without any facet applied (File->New->Project... and selecting General->Project) 2. Right click on the Project in the Project Explorer: Observe that the Delete Menu is visible 3. Select: Project Explorer->Customize View->Content 4. Deselect: Resources. 5. Right click on the Project in the Project Explorer: Observe that the Delete and Copy Menu is no longer visible Note: This issue doesn't occur with Java Projects."}, {"bug_id": "433026", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Quick expression Lambda discover piece difficult selecting expression Quick Lambda", "bug_title": " [1.8][quick fix] Conversion to Lambda is not appearing when it should", "bug_description": "Let say we have a piece of code containing an anonymous class: Runnable runner = new Runnable() { public void run() { System.out.println(\"Hello runner!\"); } }; - Clicking anywhere in these lines - Selecting all the lines - selecting the first line + Quick Fix does not show the \"Convert to lambda expression\" fix. This makes this conversion fix difficult to discover. Ideally, we could have a warning associated to this Lambda conversion."}, {"bug_id": "434269", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/javadoc/JavadocContentAccess2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "field showing Border documentation JavaDoc Doc Doc Bug consistent Border", "bug_title": " [1.8][hovering] Support showing Javadoc for JavaFX properties - Take 2", "bug_description": "In bug 424283 we have added support to copy the JavaDoc from a private field unfortunately the JavaFX people are not consistent on where they put it - looking at BorderPane#center the documentation is on the BorderPane#centerProperty I guess this is too late to get into Luna SR0?"}, {"bug_id": "434791", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/text/java/correction/ChangeCorrectionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug quick bug util java command Steps SDK", "bug_title": " [inline][quick assist] Delete key does not work after Inline local variable", "bug_description": "If the command Quick Assist - Inline local variable is bound to Ctrl+Alt+Right in Preferences->General->Keys and that combination is activated and a local variable is thus inlined, pressing the Delete key afterwards has no effect. Delete key starts working again after some characters are selected with Shift+Any arrow key or the caret jumps to a different location by pressing Ctrl+Right, Ctrl+Left, Home, End. To reproduce the bug, take this source: import java.util.ArrayList; import java.util.function.Supplier; import java.util.stream.Collector; import java.util.stream.Collectors; class DeleteKey<T> { public void inline() { // inline collectionFactory by pressing Ctrl+Alt+Right with the caret within it: Supplier<ArrayList<T>> collectionFactory = ArrayList<T>::new; Collector<T, ?, ArrayList<T>> collection = Collectors.toCollection(collectionFactory); } } Steps: 1. Open Preferences -> General -> Keys and find Quick Assist - Inline local variable, bind it to the key combination Ctrl+Alt+Right Arrow, and press OK. 2. Move the caret in the middle of the name of the variable collectionFactory. 3. Press Ctrl+Alt+Right Arrow key combination. 4. Press Delete, but it doesn't delete anything. Tested with Eclipse SDK Version: Luna (4.4) Build id: I20140510-1500"}, {"bug_id": "435279", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavadocHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "addAnnotation clone add NPE Hover created link link avoids addAnnotation", "bug_title": " [Hover] NPE when Annotation not visible on classpath", "bug_description": "+++ This bug was initially created as a clone of Bug #435213 +++ > The hover is not shown. Instead of that a NPE is shown in the errorlog. Manju, please prepare a patch that avoids the NPE in JavadocHover#addAnnotation(..). It's OK if the link is not resolvable, but an unresolvable link should not block the Javadoc hover."}, {"bug_id": "436141", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/ModifierCorrectionsQuickFixTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/NullAnnotationsQuickFixTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/ReturnTypeQuickFixTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/TypeMismatchQuickFixTests.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/IProposalRelevance.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaPluginImages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/ProblemHover.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/ReorgQuickFixTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/NullAnnotationsQuickFixTest18Mix.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/ModifierCorrectionsQuickFixTest17.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/QuickFixTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/ConfigureProblemSeveritySubProcessor.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/JavadocQuickFixTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickFixProcessor.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest17.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/ConfigureProblemSeverityAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "ide making Users marker action configure press Configure users msg", "bug_title": " [quick fix] Make Configure Problem Severity a quick fix", "bug_description": "Users can configure problem severity from the problem marker if they press F2. However, it seems that users are unaware of this [1]. Can we consider making this action a quick-fix? [1] http://dev.eclipse.org/mhonarc/lists/ide-dev/msg00515.html"}, {"bug_id": "436832", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest18.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/AddUnimplementedMethodsOperation.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/codemanipulation/StubUtility2.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/Bindings.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/AddUnimplementedMethodsOperation.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/fix/LambdaExpressionsFix.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/IntroduceFactoryRefactoring.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/AnonymousTypeCompletionProposal.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/OverrideCompletionProposal.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest18.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/IProposalRelevance.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickFixProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/TypeMismatchSubProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "override fixes methods Bug method error method add Duplicate Duplicate", "bug_title": " [1.8] Add quick fix for 'Duplicate default methods' error", "bug_description": "4.4 RC4. We should add quick fixes for 'Duplicate default methods' error which override the method and calls one of the available default methods."}, {"bug_id": "437398", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/NewNameQueries.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Rename dialog Eclipse behave", "bug_title": " [ccp] Don't select extension when asking for new file name on paste", "bug_description": "Follow-up to bug 391389. There are other scenarios where Eclipse asks for a new file name, and those should behave the same as the Rename dialog. E.g. when you copy/paste a file in the Package Explorer, the dialog should also pre-select the file name without the extension."}, {"bug_id": "437847", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/typehierarchy/HierarchyInformationControl.java"], "repo": "eclipse.jdt.ui", "reformed_query": "hierarchy issue unsupported comments Quick triggered display Details type invoking", "bug_title": " [type hierarchy] invoking Quick Type Hierarchy between import declarations yields an error", "bug_description": "Attempting to trigger Quick Type Hierarchy (Ctrl+T) on a blank line (or a line containing only comments) between two import declarations results in an empty Quick Type Hierarchy popup and an Error event in the log. I would expect Quick Type Hierarchy triggered in this location either a) to display the type hierarchy of the compilation unit's main type, as is done when QTH is triggered on other blank lines, b) to display the type hierarchy of one of the adjacent imports, or c) to do nothing (show no popup) I've attached a minimal Java file where this issue occurs. I've reproduced this on 4.3.2 and 4.4.RC4. Here are the Event Details for the event that gets logged: Severity: Error Message: Element unsupported by the hierarchy: class org.eclipse.jdt.internal.core.ImportContainer Exception Stack Trace: An exception stack trace is not available."}, {"bug_id": "440804", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javadocexport/JavadocWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Javadoc temp Bug java shutdown Users debug process Users arguments", "bug_title": " [javadoc wizard] Generate Javadoc should keep generated javadoc-arguments temp file", "bug_description": "The \"Generate Javadoc\" wizard should keep the generated javadoc-arguments temp file for a while to allow debugging. The file is mentioned in the command line on the \"Process properties\" page, e.g: C:\\java\\jdk8\\bin\\javadoc.exe -J-showversion @C:\\Users\\xxx\\AppData\\Local\\Temp\\javadoc-arguments2359803814154564317.tmp The file should not be deleted when the process terminates, but only when it is removed from the debug view (or on shutdown)."}, {"bug_id": "440930", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/JavaElementImageProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Note display icon classes change consistent member Note icons annotation", "bug_title": " Java member types which are implicitly static should have consistent icons", "bug_description": "Member classes are non-static by default (unless they are members of interfaces or annotation types, in which case they are static by default) but they may be marked static explicitly. Member enums, member interfaces, and member annotation types are static by default but they may be marked static explicitly. However, Eclipse displays a different type icon for these if they are marked static explicitly. Since the addition of the modifier does not change the meaning of the code, it should not change the icon. class C { class C1 {} static class C2 {} enum E1 { X } static enum E2 { X } interface I1 {} static interface I2 {} @interface A1 {} static @interface A2 {} } interface I { class C3 {} static class C4 {} enum E3 { X } static enum E4 { X } interface I3 {} static interface I4 {} @interface A3 {} static @interface A4 {} } In this example, types C1, E1, I1, A1 have no 'S' in their icon. Types C2, E2, I2, A2 have an 'S' in their icon. However, E1, I1, A1 are static too, so they should also have the 'S' in their icon. For comparison, all of the *3 and *4 types (the members of I) are static, and do consistently display the 'S', even though the *3 are only static implicitly. Note that the only member type in the example code that is not static is C1."}, {"bug_id": "442614", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/JavaElementLabelsTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "StringBuffer source util org", "bug_title": " Extract, merge, and fix string and char literal escaping", "bug_description": "Required for bug 441790. jdt.core has several implementation of string and char literal escaping. They should be combined into one and bugs should be fixed. org.eclipse.jdt.core.dom.StringLiteral#setLiteralValue(String) and org.eclipse.jdt.internal.core.util.Disassembler#escapeChar(StringBuffer, char) both escape \\0 to \\7 wrongly when they are followed by more octal numbers. E.g. \"\\0041\" is the char sequence { '\\4', '1' }, but such a sequence is currently escaped to \"\\41\", which is equivalent to \"!\". I don't see a reason why we should only escape \\0 to \\7 and not all chars below 0x20. We can't know how these chars were represented in source, but it makes sense to escape them all, so that the user knows what's going on and doesn't run into trouble with tools that don't properly display these characters. As JLS8 3.10.6 says, Unicode escapes are usually preferred."}, {"bug_id": "443191", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/AssistQuickFixTest.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/dom/ASTNodes.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/code/ExtractTempRefactoring.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/proposals/GenerateForLoopAssistProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "quick Bug variable loop bug quick loop AST adapt AST", "bug_title": " [1.8][quick fix] Quick fix for \"for loop\" is not shown for bare local variable/argument/field", "bug_description": "After bug 430336, we need to adapt the quick assist again. Bug 430818 adapted the quick assist to 4.4.0, but the AST in master is slightly different."}, {"bug_id": "443410", "ground_truth": ["org.eclipse.jdt.ui.tests/performance/org/eclipse/jdt/ui/tests/performance/SWTTestProject.java"], "repo": "eclipse.jdt.ui", "reformed_query": "eclipse test Rename org jdt bug", "bug_title": " RenameTypePerfAcceptanceTests#testCold fails", "bug_description": "(In reply to David Williams from bug 374441 comment #48) > org.eclipse.jdt.ui.tests.refactoring    49 tests - 1 failure The failing test is RenameTypePerfAcceptanceTests#testCold"}, {"bug_id": "44535", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/ResourceLocator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "message displayed file", "bug_title": " [misc] Wrong message displayed while opening a class file outside classapth", "bug_description": "This error is a consequence of fix applied on bug 42370. See this bug comment for full details of the problem."}, {"bug_id": "446604", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/OptionalMessageDialog.java"], "repo": "eclipse.jdt.ui", "reformed_query": "plugin main handleEvent MessageDialog OptionalMessageDialog Engine dialog Selected Pressed PlatformUI", "bug_title": " [implementation] IOOBE in OptionalMessageDialog.buttonPressed", "bug_description": "Hello committers, we received a new error report for Eclipse 4.3.2.M20140221-1700. General Information: anonymous-id:         23ca87fb-325b-4150-8ad8-f1a99999d769 eclipse-build-id:     4.3.2.M20140221-1700 eclipse-product:      org.eclipse.epp.package.rcp.product operating system:     Linux 3.15.0 (x86_64) - gtk java-runtime-version: 1.8.0_20-b26 The following plug-ins were present on the execution stack (*): 1. org.eclipse.core.databinding.observable_1.4.1.v20130515-1857 2. org.eclipse.core.databinding_1.4.1.v20130515-1857 3. org.eclipse.core.runtime_3.9.100.v20131218-1515 4. org.eclipse.e4.ui.workbench_1.0.2.v20131202-1739 5. org.eclipse.e4.ui.workbench.swt_0.12.2.v20140117-1939 6. org.eclipse.equinox.app_1.3.100.v20130327-1442 7. org.eclipse.equinox.launcher_1.3.0.v20130327-1440 8. org.eclipse.jdt.ui_3.9.2.v20131106-1600 9. org.eclipse.jdt_3.9.1.v20140221-1700 10. org.eclipse.jface_3.9.1.v20130725-1141 11. org.eclipse.jface.text_3.8.101.v20130802-1147 12. org.eclipse.swt_3.102.1.v20140206-1334 13. org.eclipse.ui_3.105.0.v20130522-1122 14. org.eclipse.ui.ide.application_1.0.401.v20131105-1007 15. org.eclipse.ui.ide_3.9.2.v20131004-0923 Error Status: code:                   0 plugin:                 org.eclipse.ui_3.105.0.v20130522-1122 message:                Unhandled event loop exception fingerprint:            22ac62c5 exception class:        java.lang.ArrayIndexOutOfBoundsException exception message:      1034 number of children:     0 java.lang.ArrayIndexOutOfBoundsException: 1034 at org.eclipse.jdt.internal.ui.dialogs.OptionalMessageDialog.buttonPressed(OptionalMessageDialog.java:116) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:628) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:248) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1392) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3742) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3363) at org.eclipse.jface.window.Window.runEventLoop(Window.java:826) at org.eclipse.jface.window.Window.open(Window.java:802) at org.eclipse.jface.dialogs.MessageDialog.open(MessageDialog.java:334) at org.eclipse.jdt.internal.ui.text.java.ContentAssistProcessor.informUserAboutEmptyDefaultCategory(ContentAssistProcessor.java:602) at org.eclipse.jdt.internal.ui.text.java.ContentAssistProcessor.getDefaultCategories(ContentAssistProcessor.java:504) at org.eclipse.jdt.internal.ui.text.java.ContentAssistProcessor.getCategoryIteration(ContentAssistProcessor.java:492) at org.eclipse.jdt.internal.ui.text.java.ContentAssistProcessor.setCategoryIteration(ContentAssistProcessor.java:487) at org.eclipse.jdt.internal.ui.text.java.ContentAssistProcessor.access$3(ContentAssistProcessor.java:486) at org.eclipse.jdt.internal.ui.text.java.ContentAssistProcessor$CompletionListener.assistSessionStarted(ContentAssistProcessor.java:117) at org.eclipse.jface.text.contentassist.ContentAssistant.fireSessionBeginEvent(ContentAssistant.java:2221) at org.eclipse.jface.text.contentassist.ContentAssistant.prepareToShowCompletions(ContentAssistant.java:1696) at org.eclipse.jface.text.contentassist.ContentAssistant.access$6(ContentAssistant.java:1687) at org.eclipse.jface.text.contentassist.ContentAssistant$2.run(ContentAssistant.java:376) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:135) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3717) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3366) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1113) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:997) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:140) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:611) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:567) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-2) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:483) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426) Messages, stacktraces, and nested status objects may be shortened. Please visit http://dev.eclipse.org/recommenders/committers/confess/0.5/reports/5437b9a9e4b08c25446233ee for the complete error log. Some general information and guidelines about how to use this bug report: 1. Feel free to move this bug to your own product and components. Please note that this bug is only accessible to Eclipse committers. If you move this bug please make sure that it's still in the \"Security Advisor\" group. 2. The bug contents of the fields status, resolution, keywords, and whitelist are presented to reporters. If you needs more information, please set the keyword \"needinfo\". This will trigger a specialized dialog asking the user to provide further details. 3. Use the following resolutions for the following situations: * CLOSED / FIXED: This bug has been fixed. Please provide additional information in the whiteboard field. * CLOSED / WORKSFORME: Use this resolution if you can't reproduce this issue and request further information. Please use the whiteboard text to specify more details what a user should provide and how. * CLOSED / INVALID: Use this resolution if the reported problem is a 'user-configuration' problem. Please consider giving hints how to fix these issues in the whiteboard field. * CLOSED / NOT ECLIPSE: Use this if the problem is caused by another plugin not developed at Eclipse.org * CLOSED / MOVED: If this bug has been moved else where. Please provide more information (e.g. a link) in the whiteboard field. 4. Please remember that only committers can view and comment on this bug. You may, however, manually add the reporting user to the bug's cc list. But keep in mind that the report may contains sensitive information. 5. If you are missing a feature, please file a enhancement request here: https://bugs.eclipse.org/bugs/enter_bug.cgi?product=Recommenders.Incubator&component=Stacktraces Thank you for your assistance. Your friendly error-reports-inbox. -- * Note: The list of present bundles and their respective versions was calculated by package naming heuristics. This may or may not reflect reality."}, {"bug_id": "450286", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/IntroduceParameterWizard.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Parameter Bug scroll parameter dialog method dialog Introduce Parameter scrolled", "bug_title": " Introduce Parameter dialog: table of parameters does not scroll into view", "bug_description": "If the 'Introduce Parameter' dialog is opened for a method with a large number of parameters (~7 or more), the to-be-created parameter should be scrolled into view."}, {"bug_id": "450861", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/packageHover/PackageJavadocTests.java"], "repo": "eclipse.jdt.ui", "reformed_query": "java bug downloads linux tests org Access Hover org tests", "bug_title": " Test failures in PackageJavadocTests", "bug_description": "http://download.eclipse.org/eclipse/downloads/drops4/N20141108-1500/testresults/html/org.eclipse.jdt.ui.tests_linux.gtk.x86_64_8.0.html Test failures in org.eclipse.jdt.ui.tests.packageHover.PackageJavadocTests.testGetPackageAttacheddoc(PackageJavadocTests.java:231) and org.eclipse.jdt.ui.tests.packageHover.PackageJavadocTests.testFailToAccessAttachedJavadoc(PackageJavadocTests.java:330) Base reason is bug 450684. I'll update the tests (and thereby found bug 450859)."}, {"bug_id": "45349", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/SmartSemicolonAutoEditStrategy.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Smart replace selection", "bug_title": " [typing] Smart ; must replace selection", "bug_description": "I20031015 1. enter \"int a= 3;\" 2. select \"=3;\" 3. press \";\""}, {"bug_id": "45356", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/IndentAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "offset document caret tab exception starting Reason status IAE multi", "bug_title": " [typing] IndentAction: Pressing Tab at document begin gives IAE", "bug_description": "Build 200310150800: Having a multi-line comment starting at document offset 0, the caret as well at offset 0 and pressing tab, the indent action gives an IAE. Reason: The constructor of status called at IndentAction#run() requires a non- null message parameter. The exception that was triggered in the first place results from a taking the previous line of the first one."}, {"bug_id": "457547", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/AssistQuickFixTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickAssistProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "replaces doesn options Jorge assist selected extract variable", "bug_title": " [quick assist] extract number with quick assist doesn't replace all the occurrences", "bug_description": "When I use quick fix both in a magic number or in a string the following options appear in the popup: Extract to local variable (replace all ocurrences) Extract to local variable Extract to local constant When a string is being selected, both the first and the third option replace all the ocurrences of the string. But when a number is being selected, it only replaces the selected occurrence selecting any of those options. I found a workaround: using the shortcut Ctrl+T, A, then checking \"replace all the occurrences\". Regards, Jorge"}, {"bug_id": "460799", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/compare/JavaParseTreeBuilder.java"], "repo": "eclipse.jdt.ui", "reformed_query": "tree type String compare Java java qualified", "bug_title": " [compare] Structured compare editor tree doesn't properly format qualified types", "bug_description": "The Java structured compare editor doesn't properly format qualified types that appear as type arguments. Example: Compare the class below with a version that has no members. The tree says that elements Try sd : Date> foo(int, String>) have been added/removed. package xy; import java.util.ArrayList; import java.util.Set; class Try { void foo(int i, ArrayList<java.lang.String> ls) {} Set<java.util.Date> sd; }"}, {"bug_id": "460997", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/JavadocView.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavaHoverMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavaHoverMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/JavadocHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Javadoc mode hover created fallback tells hovers SWT dialog tells", "bug_title": " [hovering] Report fallback mode in Javadoc view / hover when SWT Browser widget is not available", "bug_description": "Bug 456786 comment 0 tells that it's hard for users to find the real issue when Javadoc view and hovers only have degraded functionality because the Browser widget couldn't be created. Bug 73558 tried to convey this information in a dialog, but that was too intrusive. A middle way is to show it at the end of the view or enriched hover."}, {"bug_id": "462352", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/ExternalAnnotationsAttachmentBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/ExternalAnnotationsAttachmentDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/ExternalAnnotationsAttributeConfiguration.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/BuildPathDialogAccess.java"], "repo": "eclipse.jdt.ui", "reformed_query": "External Edit JRE Bug wrong persisted annotations Press Annotations annotations", "bug_title": " Clicking \"Cancel\" in External Annotations Attachment dialog deletes an existing value", "bug_description": "1. Define a location for external annotations for a library or JRE 2. Edit the location 3. Press cancel 4. Wrong effect: the library configuration shows \"(None)\" 5. Click OK 6. The wrong effect is persisted."}, {"bug_id": "462948", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/text/java/CompletionProposalLabelProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "proposal method", "bug_title": " [render] Abstract method in content assist should show \"A\" adornment", "bug_description": "Abstract method from interface or abstract class should show the \"A\" adornment in content assist proposal. For example: package test; abstract class C1 { public abstract void abst(); } class C2 extends C1 { abs| } interface I { void abst(); default void def() {} } class C implements I { abs| }"}, {"bug_id": "46332", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitEditor.java", "org.eclipse.jdt.ui/core extension/org/eclipse/jdt/internal/corext/textmanipulation/TextBufferFactory.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/filebuffers/CompilationUnitDocumentProvider2.java"], "repo": "eclipse.jdt.ui", "reformed_query": "pressing save edited action explanation responsive   time couldn", "bug_title": " [Jobs] UI no longer responsive after pressing ctrl-S", "bug_description": "Build 20031023 While tagging JDT Core projects as versions (in background), I went to modify my map file accordingly in parallel. As soon as pressed ctrl-S to save my edited map file, the busy cursor appeared and I couldn't do anything any longer; though this change has nothing to do with what is being tagged at the same time. Furthermore, there is no explanation as to why my save action locked me until the tagging was completed."}, {"bug_id": "465521", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaPluginImages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "LibraryLabelProvider buildpath classifier buildtime InstalledJREsBlock downloads Tab Assist Filter", "bug_title": " Many comparator errors in .class files in I20150426-2000", "bug_description": "Full log at http://download.eclipse.org/eclipse/downloads/drops4/I20150426-2000/buildlogs/comparatorlogs/buildtimeComparatorUnanticipated.log.txt The ones that concern me most are the .class files ones: .  eclipse.jdt.debug/org.eclipse.jdt.debug.ui no-classifier: different META-INF/ECLIPSE_.RSA: different META-INF/ECLIPSE_.SF: different org/eclipse/jdt/debug/ui/launchConfigurations/AppletMainTab.class: different org/eclipse/jdt/debug/ui/launchConfigurations/JavaJRETab.class: different org/eclipse/jdt/debug/ui/launchConfigurations/JavaMainTab.class: different org/eclipse/jdt/internal/debug/ui/FilterLabelProvider.class: different org/eclipse/jdt/internal/debug/ui/JDIModelPresentation.class: different org/eclipse/jdt/internal/debug/ui/JavaSourceLocationWorkbenchAdapterFactory$SourceLocationPropertiesAdapter.class: different org/eclipse/jdt/internal/debug/ui/StorageEditorInput.class: different org/eclipse/jdt/internal/debug/ui/classpath/VariableClasspathEntryWorkbenchAdapter.class: different org/eclipse/jdt/internal/debug/ui/jres/ExecutionEnvironmentsLabelProvider.class: different org/eclipse/jdt/internal/debug/ui/jres/InstalledJREsBlock$VMLabelProvider.class: different org/eclipse/jdt/internal/debug/ui/jres/JREsLabelProvider.class: different org/eclipse/jdt/internal/debug/ui/jres/LibraryLabelProvider.class: different org/eclipse/jdt/internal/debug/ui/launcher/RuntimeClasspathEntryLabelProvider.class: different org/eclipse/jdt/internal/debug/ui/launcher/SourceElementLabelProvider.class: different org/eclipse/jdt/internal/debug/ui/launcher/SourceElementQualifierProvider.class: different org/eclipse/jdt/internal/debug/ui/snippeteditor/SelectImportsAction.class: different org/eclipse/jdt/internal/debug/ui/sourcelookup/WorkbenchAdapter.class: different snippetsupport.jar: different META-INF/ECLIPSE_.RSA: different META-INF/ECLIPSE_.SF: different classifier-sources: different META-INF/ECLIPSE_.RSA: different META-INF/ECLIPSE_.SF: different The main artifact has been replaced with the baseline version. The following attached artifacts have been replaced with the baseline version: [sources] 4.  eclipse.jdt.ui/org.eclipse.jdt.junit no-classifier: different META-INF/ECLIPSE_.RSA: different META-INF/ECLIPSE_.SF: different org/eclipse/jdt/internal/junit/buildpath/ClasspathVariableMarkerResolutionGenerator$1.class: different org/eclipse/jdt/internal/junit/ui/JUnitAddLibraryProposal.class: different org/eclipse/jdt/internal/junit/ui/JUnitClasspathFixProcessor$JUnitClasspathFixProposal.class: different org/eclipse/jdt/internal/junit/ui/JUnitPreferencePage.class: different org/eclipse/jdt/internal/junit/ui/JUnitQuickFixProcessor$AddAssertProposal.class: different classifier-sources: different META-INF/ECLIPSE_.RSA: different META-INF/ECLIPSE_.SF: different The main artifact has been replaced with the baseline version. The following attached artifacts have been replaced with the baseline version: [pack200, sources] 7.  eclipse.jdt.ui/org.eclipse.jdt.ui.tests no-classifier: different META-INF/ECLIPSE_.RSA: different META-INF/ECLIPSE_.SF: different org/eclipse/jdt/ui/examples/MyQuickAssistProcessor.class: different org/eclipse/jdt/ui/tests/search/TestLabelProvider.class: different classifier-sources: not present in baseline The main artifact has been replaced with the baseline version. The following attached artifacts have been replaced with the baseline version: [pack200] The following attached artifacts are not present in the baseline and have been removed: [sources]"}, {"bug_id": "465630", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/TestRunnerViewPart.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Failed Test test change session session enabled Failed errors tests", "bug_title": " [JUnit] \"Next/Previous Failed Test\" buttons enabled on \"Show Skipped Tests Only\"", "bug_description": "When Show Skipped Tests Only (bug 298603) is enabled in the JUnit view, the \"Next/Previous Failed Test\" buttons don't work any more. They are enabled if the test run session had errors, and they are disabled if all non-skipped tests are green. They at least need to be disabled when they don't work. A better solution would be to change them to \"Next/Previous Skipped Test\" in that case."}, {"bug_id": "466252", "ground_truth": ["org.eclipse.jdt.text.tests/src/org/eclipse/jdt/text/tests/contentassist/CodeCompletionTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "foo template Bug", "bug_title": " [templates] new 'finally' template does not appear when there's no catch block", "bug_description": "I20150503-2000. The new 'finally' template introduced via bug 184222 does not work when there's no catch block: void foo() { try { } f<Ctrl+Space> }"}, {"bug_id": "46875", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaStringAutoIndentStrategy.java"], "repo": "eclipse.jdt.ui", "reformed_query": "typing enter literal Tabs Defects code releases Equals column", "bug_title": " [typing] Tabs are messed up", "bug_description": "When I type code that has string literals in it, and press enter to move the string literal to the next line, the tab logic seems strange. e.g. String twoLines = \"System Contains Many Defects,Systemet inneh\u00c3\u00a5ller m\u00c3\u00a5nga fel\\n\"+\"Stories Are Too Complicated,Stories \u00c3\u00a4r f\u00c3\u00b6r komplicerade\"; Move the cursor after + and press enter. It somehow moves the new line to column 0, while I'd expect it to align with the first line. If you try this with a single string, the bug will still be seen. Interestingly, when I am within a method's parantheses, the behavior is different. e.g. assertEquals( \"converted data\", \"Systemet+inneh\u00c3\u00a5ller+m\u00c3\u00a5nga+fel|Stories+\u00c3\u00a4r+f\u00c3\u00b6r+komplicerade\",convertedData .toString() ); Note, the two lines within have a single tab each. Now position the cursor on convertedData and press enter - while I'd expect it to line up with the previous line (two tabs), the IDE adds three tabs. Now here's the one which really annoys me: assertEquals( There is one tab before assertEquals. Press enter after the paranthesis. Three tabs are inexplicably put in. I would expect only two. I am assuming these are bugs as previous releases had the right behavior. Regards, Somik"}, {"bug_id": "47097", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaCompletionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "content pressing assist proposal commit", "bug_title": " [content assist] Pressing Semicolon to commit content assist bypasses smart semicolon", "bug_description": "When content assist is present, semicolon will commit the current proposal. But, the semicolon is not processed in the normal manner by the editor. setValue(rect.wid<<ASSIST>>) pressing \";\" should add the semicolon at the end of the line when smart semicolon is enabled. 3.0 M4"}, {"bug_id": "47729", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/filters/CustomFiltersDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/filters/FilterMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "extension filters produces   disappear", "bug_title": " Unable to ignore '*,D' files [filters]", "bug_description": "I am using Aegis which produces files having the extension ',D', e.g. 'MyClass.java,D'. I want to ignore these files from being shown in the Package Explorer. I tried the filter in Project - Properties - Java Build Path - Source - Exclusion Filter but failed. I tried **/*,D **/*.java,D **/*.java?D without success. Seems as if this filter only ignores .java files. The only help I found was the filter for 'non-java elements', but then my .properties files disappear, too."}, {"bug_id": "47731", "ground_truth": ["org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/JUnitProgressBar.java"], "repo": "eclipse.jdt.ui", "reformed_query": "SWT JUnit", "bug_title": " JUnit view leaks 2 Colors", "bug_description": "M5 Repeated opening and closing of the JUnit view leaks 2 SWT Colors each time"}, {"bug_id": "478780", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/spelling/CoreSpellingProblem.java"], "repo": "eclipse.jdt.ui", "reformed_query": "isWarning add isWarning isWarning Add Warning add API API IProblem", "bug_title": " add API IProblem#isInfo()", "bug_description": "Add API IProblem#isInfo() and fix the Javadoc of isError() and isWarning()."}, {"bug_id": "489202", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/EditorUtility.java"], "repo": "eclipse.jdt.ui", "reformed_query": "\u00d7\u00a9\u00d7\u00a0\u00d7\u2018 removed Runnable IFile buffer EditorUtility Regions File FileStoreTextFileBuffer Java", "bug_title": " [save actions] Format edited lines on Save formats lines with non-ASCII characters", "bug_description": "The \"Format edited lines\" Save Action formats lines with non-ASCII characters, even the lines were not touched. Steps: - have a project with Cp1252 encoding - save this snippet in a *.java file with UTF-8 encoding: package tests.saveaction; public class LongLines{ void foo() { System.out.println(\"C:\\\\temp\\\\\u00d7\u2018\u00d7\u2019\u00d7\u00a7\u00d7\u203a\\\\\u00d7\u00a9\u00d7\u00a0.txt\"); // file is 2 chars, folder is 4 chars System.out.println(\"Here's a Java method: Does it need line breaks? \" + \"p.\" + \"abc\" + \"(\" + \"abcdef f\" + \", \" + \"abcdef2 f2\" + \");\"); System.out.println(\"Here's a Java method: Does it need line breaks? \" + \"\u00d7\u00a9.\" + \"\u00d7\u00a9\u00d7\u00a0\u00d7\u2018\" + \"(\" + \"\u00d7\u00a9 \u00d7\u00a9\u00d7\u00a0\u00d7\u2018\u00d7\u2019\u00d7\u00a7\u00d7\u203a\" + \", \" + \"2\u00d7\u00a9 2\u00d7\u00a9\u00d7\u00a0\u00d7\u2018\u00d7\u2019\u00d7\u00a7\u00d7\u203a\" + \");\"); } } - add a space at the end of the first line - Save => expected: space gets removed => was:      space gets removed, and the two lines that contain Hebrew characters get formatted The bug is in org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.calculateChangedLineRegions(...).new ISafeRunnable() {...}.run(): IFileBufferManager#connectFileStore(..) specifies that it should not be used with a file store for a file from the workspace. Here, it doesn't fail for the reason specified in the Javadoc, but because connectFileStore creates a buffer with a wrong encoding (see FileStoreTextFileBuffer#cacheEncodingState(), which  uses the global default, and not the resource's encoding in the workspace)."}, {"bug_id": "491756", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/navigator/JavaNavigatorContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Content referenced libraries Java project applied Elements Customize Applies perspective", "bug_title": " [Project Explorer] ExtensionState is not always applied", "bug_description": "- Open Project explorer in Java perspective, having a project with referenced libraries. - Click on view menu > Customize view > Content tab > Uncheck Java Elements > OK. - Now go back and check Java Elements. => The referenced libraries are listed again but are not grouped Applies also to the package presentation."}, {"bug_id": "492173", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/buildpaths/newsourcepage/HintTextGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "investigate wizard Java Created Screenshot", "bug_title": " Missing styling for the new Java project wizard", "bug_description": "Created attachment 261150 [details] Screenshot The second page for the new Java project wizard looks really bad in the dark theme. We need to investigate if there is something missing in our dark theme or if the JDT people need to style it on there side."}, {"bug_id": "49352", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "typing", "bug_title": " [typing] Smart quotes problem", "bug_description": "M6: write this: System.out.println(filter:) Now let's fix this: - enter a '\"' between the ':' and the ')' System.out.println(filter:\"\") To correct this try to enter a '\"' between '(' and 'f' System.out.println(filter:\"\"\"\")"}, {"bug_id": "49619", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/CleanUpStressTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "follwing leaves", "bug_title": " [formatting] comment formatter leaves whitespace in comments", "bug_description": "if you format the follwing --------------------------------- public class A { /** * the line below will end in whitespace * * @param x something blah */ public void method(int x) { } } --------------------------------------------- the middle line in the comments will have a whitespace at the end."}, {"bug_id": "51092", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/text/JavaSourceViewerConfiguration.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Reconciler Multi Java caused annotation overview Multi Open visible annotation", "bug_title": " [reconciling] JavaMultiPassReconciler removes annotations", "bug_description": "I20040130 + plug-in export Open a CU which has errors and warnings. Observe: the annotations in overview and annotation ruler are quickly visible and then get removed. This is caused by JavaMultiPassReconciler."}, {"bug_id": "51093", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaAutoIndentStrategy.java"], "repo": "eclipse.jdt.ui", "reformed_query": "closing Pressing front   define", "bug_title": " [typing] Pressing enter after an opening curly brace closes the curly brace repeatedly.", "bug_description": "Pressing enter after an opening curly brace closes the curly brace repeatedly. IF you are about to define a method and you open a curly brace, the completion closing curly brace is added automatically. If you go and press \"enter\" again in front of the opening curly brace , it adds another closing brace repeatedly."}, {"bug_id": "51187", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/GetterSetterCompletionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "setter fields difficult setter staticd getter attributes constants caps classes", "bug_title": " [content assist] should filter setters for final fields", "bug_description": "Many classes have constants defined as public static final or protected staticd final with name in all caps. You don't really need getter and setter (since it is final) for the constants. They should not be displayed by default when you go to Generate getter and setter dialog since they are taking real esteate and make it difficult to find real class attributes."}, {"bug_id": "52257", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bufferContentAboutToBeReplaced PlatformActivator org AbstractTextEditor access Selection Input Remembered Changed Element", "bug_title": " NPE in org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.getSignedSelection", "bug_description": "I'm editing Java and doing CVS. A dialog box comes up: File Changed The File has been changed on the file system. Do you want to load the changes? I saw yes, then these error come out: !ENTRY org.eclipse.core.filebuffers 4 0 Feb 17, 2004 23:40:36.778 !MESSAGE Exception when synchronizing !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.getSignedSelection(JavaEditor.java:3034) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$RememberedSelection.remember(CompilationUnitEditor.java:658) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.rememberSelection(CompilationUnitEditor.java:1540) at org.eclipse.ui.texteditor.AbstractTextEditor$3.run(AbstractTextEditor.java:282) at org.eclipse.ui.texteditor.AbstractTextEditor$ElementStateListener.execute(AbstractTextEditor.java:385) at org.eclipse.ui.texteditor.AbstractTextEditor$ElementStateListener.elementContentAboutToBeReplaced(AbstractTextEditor.java:286) at org.eclipse.ui.editors.text.TextFileDocumentProvider$FileBufferListener.bufferContentAboutToBeReplaced(TextFileDocumentProvider.java:200) at org.eclipse.core.internal.filebuffers.TextFileBufferManager.fireBufferContentAboutToBeReplaced(TextFileBufferManager.java:234) at org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.handleFileContentChanged(ResourceTextFileBuffer.java:271) at org.eclipse.core.internal.filebuffers.ResourceFileBuffer$1.execute(ResourceFileBuffer.java:142) at org.eclipse.core.internal.filebuffers.ResourceFileBuffer$SafeFileChange.run(ResourceFileBuffer.java:76) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:102) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:2325) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2033) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1550) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1526) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:265) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:257) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:104) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:279) at org.eclipse.core.launcher.Main.run(Main.java:742) at org.eclipse.core.launcher.Main.main(Main.java:581) !ENTRY org.eclipse.core.runtime 4 2 Feb 17, 2004 23:54:26.138 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.core.runtime\". !STACK 0 java.lang.NullPointerException at org.eclipse.jdt.internal.ui.javaeditor.JavaEditor.getSignedSelection(JavaEditor.java:3034) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor$RememberedSelection.remember(CompilationUnitEditor.java:658) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.rememberSelection(CompilationUnitEditor.java:1540) at org.eclipse.ui.texteditor.AbstractTextEditor$3.run(AbstractTextEditor.java:282) at org.eclipse.ui.texteditor.AbstractTextEditor$ElementStateListener.execute(AbstractTextEditor.java:385) at org.eclipse.ui.texteditor.AbstractTextEditor$ElementStateListener.elementContentAboutToBeReplaced(AbstractTextEditor.java:286) at org.eclipse.ui.editors.text.TextFileDocumentProvider$FileBufferListener.bufferContentAboutToBeReplaced(TextFileDocumentProvider.java:200) at org.eclipse.core.internal.filebuffers.TextFileBufferManager.fireBufferContentAboutToBeReplaced(TextFileBufferManager.java:234) at org.eclipse.core.internal.filebuffers.ResourceTextFileBuffer.revert(ResourceTextFileBuffer.java:159) at org.eclipse.ui.editors.text.TextFileDocumentProvider$5.execute(TextFileDocumentProvider.java:873) at org.eclipse.ui.editors.text.TextFileDocumentProvider$DocumentProviderOperation.run(TextFileDocumentProvider.java:93) at org.eclipse.ui.actions.WorkspaceModifyDelegatingOperation.execute(WorkspaceModifyDelegatingOperation.java:67) at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:91) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1567) at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:105) at org.eclipse.ui.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:72) at org.eclipse.ui.editors.text.WorkspaceOperationRunner.run(WorkspaceOperationRunner.java:62) at org.eclipse.ui.editors.text.TextFileDocumentProvider.executeOperation(TextFileDocumentProvider.java:391) at org.eclipse.ui.editors.text.TextFileDocumentProvider.synchronize(TextFileDocumentProvider.java:885) at org.eclipse.ui.texteditor.AbstractTextEditor.handleEditorInputChanged(AbstractTextEditor.java:2782) at org.eclipse.ui.texteditor.AbstractTextEditor.sanityCheckState(AbstractTextEditor.java:2901) at org.eclipse.ui.texteditor.StatusTextEditor.sanityCheckState(StatusTextEditor.java:193) at org.eclipse.ui.texteditor.AbstractTextEditor.safelySanityCheckState(AbstractTextEditor.java:2879) at org.eclipse.ui.texteditor.AbstractTextEditor$ActivationListener.handleActivation(AbstractTextEditor.java:711) at org.eclipse.ui.texteditor.AbstractTextEditor$ActivationListener.partActivated(AbstractTextEditor.java:657) at org.eclipse.ui.internal.PartListenerList$1.run(PartListenerList.java:49) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:819) at org.eclipse.core.runtime.Platform.run(Platform.java:493) at org.eclipse.ui.internal.PartListenerList.firePartActivated(PartListenerList.java:47) at org.eclipse.ui.internal.WWinPartService$1.partActivated(WWinPartService.java:27) at org.eclipse.ui.internal.PartListenerList2$1.run(PartListenerList2.java:45) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:819) at org.eclipse.core.runtime.Platform.run(Platform.java:493) at org.eclipse.ui.internal.PartListenerList2.firePartActivated(PartListenerList2.java:43) at org.eclipse.ui.internal.WorkbenchPage.firePartActivated(WorkbenchPage.java:1277) at org.eclipse.ui.internal.WorkbenchPage.setActivePart(WorkbenchPage.java:2565) at org.eclipse.ui.internal.WorkbenchPage.activate(WorkbenchPage.java:455) at org.eclipse.ui.internal.WorkbenchPage.showEditor(WorkbenchPage.java:2146) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2084) at org.eclipse.ui.internal.WorkbenchPage.access$6(WorkbenchPage.java:2042) at org.eclipse.ui.internal.WorkbenchPage$9.run(WorkbenchPage.java:2029) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:84) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2024) at org.eclipse.ui.ide.IDE.openEditor(IDE.java:265) at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:134) at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:112) at org.eclipse.jdt.internal.ui.actions.OpenActionUtil.open(OpenActionUtil.java:49) at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:158) at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:147) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:212) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:188) at org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:329) at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$5.open(PackageExplorerPart.java:303) at org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:406) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:819) at org.eclipse.core.runtime.Platform.run(Platform.java:493) at org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:404) at org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:614) at org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:703) at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:209) at org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:204) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:233) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:833) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2348) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2029) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1550) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1526) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:265) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:47) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:257) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:104) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:279) at org.eclipse.core.launcher.Main.run(Main.java:742) at org.eclipse.core.launcher.Main.main(Main.java:581) Build: 200402122000 Windows 2003 Enterprise (Evaluation) Sun JDK 1.4.2_03"}, {"bug_id": "52460", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/spelling/SpellCheckIterator.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Background AbstractReconciler BackgroundThread pane Stack Checker SpellCheckIterator checking DefaultSpellChecker spotted", "bug_title": " [spell checking] Spell check index out of range", "bug_description": "I was running in console mode for other reasons, when I spotted this stack trace, that did not appear in the log. This is in M7; JDK 1.4.2_03. I just turned on spell checking in the In Progress pref pane but didn't otherwise do anything to configure. I don't know what specific action triggered this (nor did I observe any effect). java.lang.StringIndexOutOfBoundsException: String index out of range: 7 [Dynamic-linking native method java.lang.Throwable.getStackTraceDepth ... JNI] [Dynamic-linking native method java.lang.Throwable.getStackTraceElement ... JNI] at java.lang.String.charAt(String.java:444) at org.eclipse.jdt.internal.ui.text.spelling.SpellCheckIterator.nextToken (SpellCheckIterator.java:297) at org.eclipse.jdt.internal.ui.text.spelling.SpellCheckIterator.next (SpellCheckIterator.java:241) at org.eclipse.jdt.internal.ui.text.spelling.engine.DefaultSpellChecker.execute (DefaultSpellChecker.java:208) at org.eclipse.jdt.internal.ui.text.spelling.SpellReconcileStrategy.reconcile (SpellReconcileStrategy.java:347) at org.eclipse.jface.text.reconciler.CompositeReconcilingStrategy.reconcile (CompositeReconcilingStrategy.java:83) at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.reconcile (JavaCompositeReconcilingStrategy.java:97) at org.eclipse.jface.text.reconciler.MonoReconciler.process (MonoReconciler.java:76) at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run (AbstractReconciler.java:189)"}, {"bug_id": "52750", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/IndentAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "comment indentation messes", "bug_title": " correct indentation messes with comment boxes", "bug_description": "3m7 /* ******** */ /*          */ /* ******** */ comes out /* ******** */ /*          */ /* ******** */"}, {"bug_id": "52801", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "hovers Press", "bug_title": " \"Press F2 for focus\" does not work for spell-checking hovers", "bug_description": "\"Press F2 for focus\" does not work for spell-checking hovers."}, {"bug_id": "53383", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchQuery.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchResult.java", "org.eclipse.jdt.ui/icons/full/elcl16/file_mode.gif", "org.eclipse.jdt.ui/icons/full/clcl16/prj_mode.gif", "org.eclipse.jdt.ui/icons/full/elcl16/package_mode.gif", "org.eclipse.jdt.ui/icons/full/clcl16/package_mode.gif", "org.eclipse.jdt.ui/icons/full/clcl16/file_mode.gif", "org.eclipse.jdt.ui/icons/full/elcl16/prj_mode.gif", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchResultPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug java match search parenthesis running view java running java", "bug_title": " incorrect progress message in new search view", "bug_description": "1) perform a file search for \"deprecated\" in *.java files in the workspace. -> while the search is running the following message is shown: running)(deprecated - 123 match in Workspace The parenthesis aren't match and no plural is used."}, {"bug_id": "54459", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/NewSearchViewActionGroup.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchResultPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "propably happen lot offering open search editor view expect", "bug_title": " New search view: Double click on type should open CU [search]", "bug_description": "20040311 in the new search results view, I happen to have to click a lot to expand the trees so I can finally double click the method element to open the editor. What I always expect is that doouble clicking the type opens the editor and I'm always irritated that it doesn't, propably because in all other views (package explorer, hierarchy, outline) this is the case. is there a good reason why not offering this short cut?"}, {"bug_id": "54922", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorPreferencePage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "processKeyEvent widgets major editor Text Activator IDEApplication   disposeNonDefaultCaret", "bug_title": " [implementation] Java editor disposes default StyledText caret's image", "bug_description": "Build id: 200403040800 Java editor, according to the insert mode, sets a special Caret in the StyledText. I've two problem with that: 1- This caret is not bidi aware 2- At some point they dispose the image of the StyledText default Caret We (SWT Team) have some major changes (still to be release) in StyledText that will expose this UI bug. Here is the stack trace: java.lang.Exception: Stack trace at java.lang.Thread.dumpStack(Thread.java:1064) at org.eclipse.swt.graphics.Image.dispose(Image.java:825) at org.eclipse.ui.texteditor.AbstractTextEditor.disposeNonDefaultCaret(AbstractTextEditor.java:4378) at org.eclipse.ui.texteditor.AbstractTextEditor.updateCaret(AbstractTextEditor.java:4359) at org.eclipse.ui.texteditor.AbstractTextEditor.handleInsertModeChanged(AbstractTextEditor.java:4399) at org.eclipse.ui.texteditor.AbstractTextEditor.setInsertMode(AbstractTextEditor.java:4234) at org.eclipse.ui.texteditor.AbstractTextEditor.switchToNextInsertMode(AbstractTextEditor.java:4266) at org.eclipse.ui.texteditor.AbstractTextEditor.access$4(AbstractTextEditor.java:4253) at org.eclipse.ui.texteditor.AbstractTextEditor$ToggleInsertModeAction.run(AbstractTextEditor.java:808) at org.eclipse.ui.texteditor.TextNavigationAction.runWithEvent(TextNavigationAction.java:106) at org.eclipse.ui.commands.ActionHandler.execute(ActionHandler.java:68) at org.eclipse.ui.internal.commands.Command.execute(Command.java:160) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:475) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:887) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:931) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:568) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$2(WorkbenchKeyboard.java:500) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$1.handleEvent(WorkbenchKeyboard.java:256) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:705) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:809) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:834) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:819) at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1720) at org.eclipse.swt.widgets.Control.sendKeyEvent(Control.java:1716) at org.eclipse.swt.widgets.Control.WM_KEYDOWN(Control.java:3487) at org.eclipse.swt.widgets.Control.windowProc(Control.java:2971) at org.eclipse.swt.widgets.Display.windowProc(Display.java:2962) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1362) at org.eclipse.swt.internal.BidiUtil.windowProc(BidiUtil.java:647) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1438) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2100) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1509) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1480) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:257) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:139) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:48) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:260) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:173) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:106) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:305) at org.eclipse.core.launcher.Main.run(Main.java:745) at org.eclipse.core.launcher.Main.main(Main.java:713)"}, {"bug_id": "55221", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/reorg/DeleteTest.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/SurroundWithTests.java", "org.eclipse.jdt.ui.tests.refactoring/resources/SurroundWithWorkSpace/SurroundWithTests/trycatch_out/TestOneLine.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Test Grabs", "bug_title": " Bug in comment mapper: Grabs next node's Javadoc", "bug_description": "20040318 In the following code, the extended range of class A includes the Javadoc of class Test1. /** */ class A{ }/** */ class Test1{ }"}, {"bug_id": "55349", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/AbstractInformationControl.java"], "repo": "eclipse.jdt.ui", "reformed_query": "key cursor Text", "bug_title": " Delete key in Quick Outline text box deletes text in editor", "bug_description": "- place cursor in editor in front of some text - invoke the Quick Outline - press Delete while in Quick Outline text box -> Text in editor in deleted"}, {"bug_id": "55628", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/CustomFiltersActionGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Ctrl Filters menu view persistent persistent menu menu view Bug", "bug_title": " Ctrl+o Filters not persistent when set via view menu", "bug_description": "I20040322"}, {"bug_id": "55675", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ASTProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "test Thread Bug reconcile Reconcile Thread MonoReconciler Reconciling reconcile console", "bug_title": " NPE in ASTProvider.reconciled", "bug_description": "I20040323_0010 + export for smoke test. This was on the console, not in the log: java.lang.NullPointerException at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.reconciled(ASTProvider.java:413) at org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditor.reconciled(CompilationUnitEditor.java:1530) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.reconcile(JavaReconcilingStrategy.java:101) at org.eclipse.jdt.internal.ui.text.java.JavaReconcilingStrategy.initialReconcile(JavaReconcilingStrategy.java:143) at org.eclipse.jface.text.reconciler.CompositeReconcilingStrategy.initialReconcile(CompositeReconcilingStrategy.java:111) at org.eclipse.jdt.internal.ui.text.JavaCompositeReconcilingStrategy.initialReconcile(JavaCompositeReconcilingStrategy.java:123) at org.eclipse.jface.text.reconciler.MonoReconciler.initialProcess(MonoReconciler.java:104) at org.eclipse.jdt.internal.ui.text.JavaReconciler.initialProcess(JavaReconciler.java:280) at org.eclipse.jface.text.reconciler.AbstractReconciler$BackgroundThread.run(AbstractReconciler.java:155)"}, {"bug_id": "58098", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "designed changed Delete java Java cursor works method", "bug_title": " Smart cursor positioning in java names don't work for CONSTANT_NAMES", "bug_description": "Smart cursor positioning in java names don't work for CONSTANT_NAMES both when moving and deleting (Ctrl+Delete). I assume it should as CONSTANT_NAMES are equally part of a Java naming standard just as methodNames() are. In case it works as designed then option name should be changed to accurately describe its actual function. Linux 3.0M8"}, {"bug_id": "58817", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchResultPage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "CPU minutes org eclipse IDE sort longer sort project CPU", "bug_title": " UI no longer responsive when sorting search matches", "bug_description": "Build 20040413 I searched for references to type: java.lang.System in org.eclipse.jdt.core project. This found over 4000 matches. I attempted to sort them by parent name, and my IDE locked for about 5 minutes to do the work, with no progress indication, no refresh and 100% CPU usage. Clearly something to improve on UI responsiveness front."}, {"bug_id": "59845", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "indicator Bug editor Relative update file background", "bug_title": " [performance] Opening a class file editor should not compute all overriding indicators", "bug_description": "Relative to bug 57871, I think that the class file editor should compute the overriding indicators in the background. It can be really time consuming to get and resolve all methods for the hierarchy just to update the indicator."}, {"bug_id": "60415", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchParticipantsExtensionPoint.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchQuery.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchParticipantRecord.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/SearchParticipantsPreferencePage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchResultUpdater.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/search/SearchTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/search/ParticipantTest.java", "org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/search/TestParticipant.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchParticipantDescriptor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "consistent generates Platform extension disabled Platform Search search participant participants", "bug_title": " Should remove Search extension page", "bug_description": "I20040428 We should remove the search extension page and should make sure that participants can't damage a search. If a participant generates an exception the participant should be disabled for the rest of the Eclipse sessions. This is consistent with Platform/UI and refactoring."}, {"bug_id": "61338", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchQuery.java", "org.eclipse.jdt.ui/plugin.xml", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/SearchParticipantsPreferencePage.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Search search buttons   Bug", "bug_title": " [Search] Sometimes the Search dialog loses all its bottom buttons in Solaris", "bug_description": "Eclipse 200405060200 Sometimes the Search dialog loses all its bottom buttons in Solaris.  I've noticed it 3 times while I was testing Search.  I had to close the dialog by pressing the 'x' and when I went back into the search dialog, the buttons came back. There has been a lot of inconsistency in the UI on Motif."}, {"bug_id": "62062", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/ProblemHover.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/AbstractAnnotationHover.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/AbstractJavaEditorTextHover.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/hover/AnnotationHover.java"], "repo": "eclipse.jdt.ui", "reformed_query": "annotation text interesting annotation wait expected hover press type text", "bug_title": " Mark Occurrences annotation text is not interesting as Tooltip Description", "bug_description": "I20040512-0800 Mark Occurrences annotation is not interesting as Tooltip Description. Steps: - enable Mark Occurrences - set caret to a variable and wait until occurrences marked - hover over variable or press F2 -> expected: type, name and javadoc -> was: only name (I guess this is the Annotation's text)"}, {"bug_id": "62863", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchScopeFactory.java"], "repo": "eclipse.jdt.ui", "reformed_query": "scope properties handle Selected ENTRY search Java createJavaProjectSearchScope ide", "bug_title": " Assertion failed when using NLS search [nls] [search]", "bug_description": "I200405190010 Selected properties file in Package Explorer and used project scope. Maybe it is caused by the fact that the active editor shows a file from the repository. Though I don't know why this should have any influence since the Package Explorer was the active part. !ENTRY org.eclipse.ui 4 4 Mai 19, 2004 11:59:04.70 !MESSAGE Unhandled event loop exception !ENTRY org.eclipse.ui 4 0 Mai 19, 2004 11:59:04.80 !MESSAGE null argument; !STACK 0 org.eclipse.jface.util.Assert$AssertionFailedException: null argument; at org.eclipse.jface.util.Assert.isNotNull(Assert.java:139) at org.eclipse.jface.util.Assert.isNotNull(Assert.java:116) at org.eclipse.jface.viewers.StructuredSelection.<init>(StructuredSelection.java:61) at org.eclipse.jdt.internal.ui.search.JavaSearchScopeFactory.internalCreateProjectScope(JavaSearchScopeFactory.java:135) at org.eclipse.jdt.internal.ui.search.JavaSearchScopeFactory.createJavaProjectSearchScope(JavaSearchScopeFactory.java:116) at org.eclipse.jdt.internal.ui.refactoring.nls.search.NLSSearchPage.performNewSearch(NLSSearchPage.java:188) at org.eclipse.jdt.internal.ui.refactoring.nls.search.NLSSearchPage.performAction(NLSSearchPage.java:161) at org.eclipse.search.internal.ui.SearchDialog.performAction(SearchDialog.java:384) at org.eclipse.search.internal.ui.util.ExtendedDialogWindow.buttonPressed(ExtendedDialogWindow.java:152) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:505) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2716) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2382) at org.eclipse.jface.window.Window.runEventLoop(Window.java:668) at org.eclipse.jface.window.Window.open(Window.java:648) at org.eclipse.search.internal.ui.OpenSearchDialogAction.run(OpenSearchDialogAction.java:60) at org.eclipse.search.internal.ui.OpenSearchDialogAction.run(OpenSearchDialogAction.java:46) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:276) at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:206) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:899) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:850) at org.eclipse.jface.action.ActionContributionItem$8.handleEvent(ActionContributionItem.java:808) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2716) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2382) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:253) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:97) atorg.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:305) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:256) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:127) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:184) at org.eclipse.core.launcher.Main.run(Main.java:637) at org.eclipse.core.launcher.Main.main(Main.java:621)"}, {"bug_id": "62878", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/ExceptionOccurrencesFinder.java"], "repo": "eclipse.jdt.ui", "reformed_query": "position types Occurrences exceptions cursor TestCase types Types Throwable Throwable", "bug_title": " [misc] Mark Occurrences of exceptions/types inconsistent", "bug_description": "I200405190010 - disable Mark Exceptions - enable Mark Types - in TestCase: - position cursor on Throwable of runBare() declaration -> type Throwable is marked - posititon cursor on Throwable of runTest() delcaration -> type Throwable is not marked This is inconsistent."}, {"bug_id": "62896", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/JavaOutlineInformationControl.java"], "repo": "eclipse.jdt.ui", "reformed_query": "enabled matter matter decorator Outline Bug prefs misc install override", "bug_title": " [misc] Quick Outline should not show override indicators if decorator disabled", "bug_description": "I20040519 The quick outline shows override indicators no matter whether the Override indicator decorator is enabled in the prefs or not. We should only install the decorator if the prefs says so since this is a performance saver."}, {"bug_id": "63250", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/util/QualifiedNameFinder.java"], "repo": "eclipse.jdt.ui", "reformed_query": "create Bug create pattern java Search test fails java files", "bug_title": " searching for .class files failes", "bug_description": "20040520 1. New workspace, create a project with one class test.Main. 2. Use File Search file name pattern \"*.java\" containing text empty (or *) No results are found.  I expected Main.class (which I see in the navigator) (Also fails in other workspaces)"}, {"bug_id": "63400", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/LevelTreeContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "leaf Ensure view Java search hits updated count Remove Bug", "bug_title": " elements not removed from hierarchical search", "bug_description": "20040520 Ensure that you are use the hierarchical presentation for search. 1. Do a search with several hits: references to toString, or JavaCore, or ... 2. Remove one of the leaf elements from the list (one method or type).  The count of search items decreases, however, the view is not updated. When I remove the last element from the package, the entire package is removed (but not before)"}, {"bug_id": "63675", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/PackagesViewTreeViewer.java"], "repo": "eclipse.jdt.ui", "reformed_query": "update view Adding update Java Java Adding view Java browsing", "bug_title": " Adding packages does not update Java Browsing package view. [browsing]", "bug_description": ""}, {"bug_id": "64108", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/JavaCommentScanner.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Bug longer tag Java stay preferences", "bug_title": " Javadoc keywords settings no longer work in Java Editor", "bug_description": "Using build I200405260010. I've noticed that Javadoc keywords (ie. tag names in javadoc comments) were no longer highlighted. Trying to see if my preferences were reset and then realized that whatever color or style I set for Javadoc keywords, they stay unchanged..."}, {"bug_id": "64419", "ground_truth": ["org.eclipse.jdt.ui.examples.javafamily/src/org/eclipse/jsp/launching/TomcatTab.java", "org.eclipse.jdt.ui.examples.javafamily/src/org/eclipse/jsp/launching/TomcatLaunchDelegate.java", "org.eclipse.jdt.ui.examples.javafamily/src/org/eclipse/jsp/launching/LaunchingMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "project Tomcat order java JSP java order project extra compute", "bug_title": " Tomcat example does not need \"web app root\" attribute", "bug_description": "The Tomcat/JSP launching example currently requires the user specify a \"web app root\" on the main tab. However, all we need is the project (in order to compute a classpath for extra java files and source lookup path). We used to require the attribute for source lookup."}, {"bug_id": "65659", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/SemanticHighlightings.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Java Java Java declarations inconsistent highlighting Constructor highlighting highlighting Java", "bug_title": " [syntax highlighting] Constructor and method syntax highlighting is inconsistent", "bug_description": "Java constructor declarations are highlighted as method calls, not as method declarations."}, {"bug_id": "66646", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/CustomFiltersActionGroup.java"], "repo": "eclipse.jdt.ui", "reformed_query": "don filter observe Bug user focus project filters Test open", "bug_title": " [package explorer] Show in doesn't inform user about filters if name filter filters element to be shown", "bug_description": "I20040611 - create project Test - create class A - open in editor - package explorer: set name filter for Test - give focus to editor - Show in Package exlorer observe: you don't get a hint that the element is filtered out."}, {"bug_id": "66787", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchResultPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/SearchMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "search search message Wrong Wrong search Matched Filters filters Wrong", "bug_title": " Wrong capitalized filters message [search]", "bug_description": "I20040611 The message should be Filters matched not Filters Matched"}, {"bug_id": "67124", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/changes/CopyCompilationUnitChange.java", "org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/ccp/CopyTest.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/reorg/ReorgCopyStarter.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/RefactoringExecutionStarter.java", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/changes/CopyResourceChange.java"], "repo": "eclipse.jdt.ui", "reformed_query": "prompt rare save Minor Copy proceeding Copy Minor operation unsaved", "bug_title": " [ccp] [dnd] Minor Copy/Paste issues", "bug_description": "In RC2, I get a copy/paste failure in the following specific and rare situation: 1) I have a java file in a java project 2) I have the file open in a Java editor and it is dirty 3) I tried to copy and past the file to a non-java project I got an error stating that the operation couldn't be performed because the file is unsaved. I would expect instead to be prompted to save the file before proceeding. Also, if I perform the above but in step 3 chose a java package, the paste takes place without a prompt to save the dirty editor."}, {"bug_id": "67274", "ground_truth": ["org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/reorg/ReadOnlyResourceFinder.java"], "repo": "eclipse.jdt.ui", "reformed_query": "resources read moving Bug linked simlpy", "bug_title": " [dnd] [ccp] Package Explorer allows moving read-only linked resources to another project without confirmation", "bug_description": "1. Create 2 projects 2. Create a new file that is linked to a file in the file system 3. Right-click on the new file in the package explorer and go to Properties then check read-only 4. Drag and drop the file in another project, it will be simlpy moved even though it is read-only."}, {"bug_id": "67691", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "indicator string NLS job Editor", "bug_title": " NLS: JavaEditor has a non-nlsed string (job name)", "bug_description": "RC2 \"Override indicator installation job\""}, {"bug_id": "68562", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/TogglePresentationAction.java"], "repo": "eclipse.jdt.ui", "reformed_query": "don runEventLoop setHighlightRange swt NullPointerException IDEApplication Table init Editor Presentation", "bug_title": " [projection] NPE in ProjectionViewer.setRangeIndication", "bug_description": "Build: I200406231200 I found this stack trace in my log file. It appeared twice, with about a second in between the two. I don't know what I was doing at the time: java.lang.NullPointerException at java.lang.Throwable.<init>(Throwable.java) at java.lang.Throwable.<init>(Throwable.java) at java.lang.NullPointerException.<init>(NullPointerException.java:60) at org.eclipse.jface.text.source.projection.ProjectionViewer.setRangeIndication(ProjectionViewer.java:1162) at org.eclipse.ui.texteditor.AbstractTextEditor.setHighlightRange(AbstractTextEditor.java) at org.eclipse.jdt.internal.ui.javaeditor.TogglePresentationAction.run(TogglePresentationAction.java:70) at org.eclipse.jface.action.Action.runWithEvent(Action.java:881) at org.eclipse.ui.actions.RetargetAction.runWithEvent(RetargetAction.java:212) at org.eclipse.ui.internal.WWinPluginAction.runWithEvent(WWinPluginAction.java:211) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:915) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java) at org.eclipse.jface.action.ActionContributionItem$8.handleEvent(ActionContributionItem.java) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1375) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1346) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:252) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:335) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:272) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:41) at java.lang.reflect.Method.invoke(Method.java:386) at org.eclipse.core.launcher.Main.basicRun(Main.java:186) at org.eclipse.core.launcher.Main.run(Main.java:647) at org.eclipse.core.launcher.Main.main(Main.java:631)"}, {"bug_id": "68586", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitDocumentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Cheetah robust early Exceptions contents handling early situations Cheetah Model", "bug_title": " [implementation] Reconciling should be more robust", "bug_description": "Cheetah as of 20040625 In situations where the compiler/reconcile has bugs like in early Cheetah, editor contents cannot be saved properly, also see bug 68557 for an example. We should make our support more robust, and capture such failures as JavaModelExceptions (similar to batch compiler handling)."}, {"bug_id": "70005", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/GetterSetterCompletionProposal.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Setter enter isn proposal Setter isn foo takes code enter", "bug_title": " [content assist] Missing Getter/Setter code assist: proposals", "bug_description": "3.0 it sometimes takes two tries to get the getter and setter methods This happens when the cu isn't reconciled so the avaiable fields are not found. 1. enter a new field 'foo' 2. start with getF, code assist > no getter proposal"}, {"bug_id": "75843", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/packageview/PackageExplorerContentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "createMethodEntryBreakpoint Plugin resource discussed WSABreakpoint internal pending broadcastChanges Internal including", "bug_title": " Deadlock arised when calling JDIDebugModel.createMethodEntryBreakpoint", "bug_description": "We are now having quite a few cases where a deadlock occurred when we were trying to created an internal breakpoint by calling JDIDebugModel.createMethodEntryBreakpoint. The deadlock will freeze the entire UI. The situation can be summarized into the following: 1. The UI thread (main thread) is in the process of displaying a GUI component, e.g. a dialog 2. The processing of the UI component triggers our debugger to call JDIDebugModel.createMethodEntryBreakpoint to set an internal breakpoint. 3. The process of creating the method entry breakpoint results in the WorkbenchContentProvider.resourceChanged(IResourceChangeEvent) to be executed, which calls Display.syncExec(Runnable). 4. And we have a deadlock. Since I have already discussed this issue with folks from both the JDT team and UI team, I just want to reemphasize a few points: 1. Delay the displaying of the GUI component is not a valid solution, because it is the displaying of the GUI component that triggers the rest of the reaction chain. 2. The process of displaying the GUI component is pending because the information required by the GUI component cannot be completed due to the breakpoint creation. I am including the thread snapshots when the deadlock is occurred: The main thread shows: Thread [main] (Suspended) OS.DispatchMessageW(MSG) line: not available [native method] OS.DispatchMessage(MSG) line: 1467 Display.readAndDispatch() line: 2429 Workbench.runEventLoop(Window$IExceptionHandler, Display) line: 1377 Workbench.runUI() line: 1348 Workbench.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 254 PlatformUI.createAndRunWorkbench(Display, WorkbenchAdvisor) line: 141 IDEApplication.run(Object) line: 96 PlatformActivator$1.run(Object) line: 335 EclipseStarter.run(Object) line: 273 EclipseStarter.run(String[], Runnable) line: 129 NativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method] NativeMethodAccessorImpl.invoke(Object, Object[]) line: 85 NativeMethodAccessorImpl.invoke(Method, Object, Object[]) line: 58 DelegatingMethodAccessorImpl.invoke(Method, Object, Object[]) line: 60 Method.invoke(Object, Object[]) line: 391 Main.basicRun(String[]) line: 185 Main.run(String[]) line: 684 Main.main(String[]) line: 668 The thread that is responsible for the creation of the java method entry breakpoint shows: Thread [org.eclipse.jdt.debug: JDI Event Dispatcher] (Suspended) Semaphore(Object).wait(long, int) line: not available [native method] Semaphore(Object).wait(long) line: 223 Semaphore.acquire(long) line: 37 UISynchronizer.syncExec(Runnable) line: 42 Display.syncExec(Runnable) line: 3096 WorkbenchContentProvider.resourceChanged(IResourceChangeEvent) line: 107 NotificationManager$2.run() line: 283 InternalPlatform.run(ISafeRunnable) line: 615 Platform.run(ISafeRunnable) line: 747 NotificationManager.notify(ResourceChangeListenerList$ListenerEntry[], IResourceChangeEvent, boolean) line: 277 NotificationManager.broadcastChanges(ElementTree, int, boolean) line: 151 Workspace.broadcastChanges(int, boolean) line: 172 Workspace.endOperation(ISchedulingRule, boolean, IProgressMonitor) line: 900 Workspace.run(IWorkspaceRunnable, ISchedulingRule, int, IProgressMonitor) line: 1682 JavaMethodEntryBreakpoint(JavaBreakpoint).run(ISchedulingRule, IWorkspaceRunnable) line: 769 JavaMethodEntryBreakpoint.<init>(IResource, String, String, String, int, int, int, int, boolean, Map) line: 87 JDIDebugModel.createMethodEntryBreakpoint(IResource, String, String, String, int, int, int, int, boolean, Map) line: 553 WSAJavaMethodEntryBreakpoint.setBreakpoint(IResource, IDebugTarget) line: 35 WSAJavaMethodEntryBreakpoint (WSAJavaMethodBreakpoint).setTemporaryBreakpoint(IResource, IDebugTarget) line: 35 WSABreakpointManager.setMethodEntryBreakpoint(String, String, String) line: 893 WSAJavaThread.handleBreakpointHit(IBreakpoint) line: 468 WSAJavaThread.handleDebugEvents(DebugEvent[]) line: 255 WSAJavaDebugTarget.filterJavaEvents(DebugEvent[]) line: 731 WSAJavaDebugTarget.filterDebugEvents(DebugEvent[]) line: 705 DebugPlugin$EventNotifier.run() line: 936 InternalPlatform.run(ISafeRunnable) line: 615 Platform.run(ISafeRunnable) line: 747 DebugPlugin$EventNotifier.dispatch(DebugEvent[]) line: 960 DebugPlugin.fireDebugEventSet(DebugEvent[]) line: 337 EventDispatcher.fireEvents() line: 296 EventDispatcher.dispatch(EventSet) line: 181 EventDispatcher.run() line: 221 Thread.run() line: 813"}, {"bug_id": "76439", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "restrictive Editor editor folders file attachment source folder button", "bug_title": " Classfile editor: Allow source attachment option for classes in class folders", "bug_description": "20041017 When you open a class file for a class folder that has no source attchment you see a message 'No source available...' but no button that brings you to the source attachment page like it is done for JARs. ClassfileEditor line 225 is too restrictive, the test .isArchive() seems to be too much"}, {"bug_id": "77193", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesFileSourceViewerConfiguration.java"], "repo": "eclipse.jdt.ui", "reformed_query": "doesn Editor File Bug Bug Properties hovers File Quick doesn", "bug_title": " Properties File Editor doesn't show QuickDiff hovers", "bug_description": "I200410260800 The Properties File Editor doesn't show QuickDiff hovers."}, {"bug_id": "7845", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/dialogs/SourceActionDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/SpellingConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/wizards/NewJavaProjectWizardPageOne.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/actions/GenerateConstructorUsingFieldsSelectionDialog.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/nls/ExternalizeWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/WhiteSpaceTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/wizards/dialogfields/ComboDialogField.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/EditTemplateDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/FoldingConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/ModifyDialogTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackagerfat/FatJarPackageWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/ProfileConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/AbstractJarDestinationWizardPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/search/JavaSearchPage.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/MoveMembersWizard.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/PullUpMemberPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/util/SWTUtil.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/LineWrappingTabPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javadocexport/JavadocWizardPage.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/code/ExtractMethodInputPage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/formatter/CreateProfileDialog.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/sef/SelfEncapsulateFieldInputPage.java", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/ComboSelectionDialog.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/OptionsConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "widgets Combo setBounds scrollbar number raised wanted needed Bug org", "bug_title": " API needed in Combo class to specify # of items visible", "bug_description": "We need an API for org.eclipse.swt.widgets.Combo that will allow us to specify the number of visible elements. This is needed for usability enhancement. It is acceptable if this feature is not supported on all platforms. We are primarily concerned with the feature working on Windows systems. This issue was raised because the setBounds(int, int, int, int, int) method in Combo in the Windows version of Eclipse automatically sets the number of elements visible to 5. For the drop down perspectives list on the Eclipse toolbar in particular, we wanted to be able to specify the number of elements that would be shown without a scrollbar appearing."}, {"bug_id": "79793", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/workingsets/JavaWorkingSetUpdater.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Deadlock workspace pressed type open Updater appeared Working pressed CTRL", "bug_title": " Deadlock in JavaWorkingSetUpdater", "bug_description": "I20041130 * Started workspace * Pressed CTRL-Shift-T to open a type * Progress dialog appeared * pressed cancel * Pressed CTRL-Shift-T again > workspace deadlocked will attach thread dump"}, {"bug_id": "80455", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/core/TypeRulesTest.java"], "repo": "eclipse.jdt.ui", "reformed_query": "IType valid Object compatibility Object type type compiler canAssign compiler", "bug_title": " [5.0] ITypeBinding.canAssign not aware of type boxing", "bug_description": "20041208 With the latest changes for type boxing (in N20041207) our tests for the assign compatibility fail: boolean b= true; Object o; o= b;  // valid code, no compiler error but typeBindingOfB.isAssignCompatible(typeBindingOfO) is false"}, {"bug_id": "81078", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorAppearanceConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/CodeAssistConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/JavaEditorPreferencePage.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/LinkedModeConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/AbstractConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "duplicates color list Restore Defaults color Restore list Appearance list", "bug_title": " [preferences] Restore Defaults duplicates list entries", "bug_description": "I200412142000 Restore Defaults on Java > Editor > Appearance duplicates the \"Appearance color options\" entries."}, {"bug_id": "81083", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ToggleMarkOccurrencesAction.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Restore adhered toolbar Mark toolbar open editor Defaults marks Mark", "bug_title": " [preferences] Mark Occurences enablement not adhered to", "bug_description": "I200412142000 - open preference page with Mark Occurences preferences - enable Mark Occurences - Apply - Restore Defaults - OK -> toolbar shows Mark Occurences as 'enabled', editor marks occurences -> on preference page the preference is disabled"}, {"bug_id": "81109", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertiesFileEditorMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertyKeyHyperlink.java"], "repo": "eclipse.jdt.ui", "reformed_query": "initially search ElementTreeSelectionDialog Improve element Properties Dialog Element high scrollbars", "bug_title": " [nls tooling] Improve Properties file key navigation dialog for multiple references", "bug_description": "200412142000: - The description of the open dialog could be more specific, e.g. replace element by file - The entries in the open dialog are to wide, causing scrollbars to be shown initially. A simple tree view like in ElementTreeSelectionDialog would do the trick, not giving up the option to type in the item to be opened - Several matches in the same file should be indicated as in the search result view (file name + # of matches in parentheses) - The offset/length indication is useless: The length is the same anyway, and the offset cannot be easily used to differentiate between the results. A five- lines-high preview of the location would help, or a popup similar as the additional info popup for content assist proposals."}, {"bug_id": "81140", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/propertiesfileeditor/PropertyKeyHyperlink.java"], "repo": "eclipse.jdt.ui", "reformed_query": "properties matches nls editor search key positives file search key", "bug_title": " [nls tooling] Too many false positives when navigating from a key in properties file editor to Java editor", "bug_description": "I200412142000 Currently properties key references are determined by a text search. The text search results should be filtered, such that the final results contain only matches from string partitions."}, {"bug_id": "81172", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitDocumentProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "report problems enable java editor Java", "bug_title": " [spell checking][preferences] Spell checking only works if 'report problems as you type' is enabled", "bug_description": "3.1 M4 I've always disabled the Java editor preference to report problems as I type. After enabling spell checking, the java editor doesn't show spell checking problems unless this preference is enabled. I would like to use spell checking without having to enable this preference."}, {"bug_id": "81856", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/JavaUIMessages.properties", "org.eclipse.jdt.ui/serial support/org/eclipse/jdt/internal/ui/text/correction/SerialVersionMessages.properties", "org.eclipse.jdt.ui/core refactoring/org/eclipse/jdt/internal/corext/refactoring/refactoring.properties", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/refactoringui.properties", "org.eclipse.jdt.ui.tests/chkpii/org/eclipse/jdt/ui/tests/chkpii/ChkpiiTests.java", "org.eclipse.jdt.junit.core/src/org/eclipse/jdt/internal/junit/JUnitMessages.properties", "org.eclipse.jdt.junit/src/org/eclipse/jdt/internal/junit/ui/JUnitMessages.properties"], "repo": "eclipse.jdt.ui", "reformed_query": "access CHKPII listed assumes Remove code COMPIL NLS Action warning", "bug_title": " quote problems in property files (JDT)", "bug_description": "Our automated tool, chkpii, has detected a number of problems with quote handling in java property files being processed by the MessageFormat class. These problems need to be fixed in the english property files before they are sent for translation, and the bug is propogated to the translated version as well.  I'm including info from the tool on how to fix the problems for those who are outside of ibm and may not have access to it. In addition, when we process the files we add the line: # NLS_MESSAGEFORMAT_VAR to the beginning of each file.  This insturcts chkpii on how we are handling property strings in the code. ECLIPSE\\PLUGINS\\ORG.ECLIPSE.JDT.CORE\\JDTCORE_JAR\\ORG\\ECLIPSE\\JDT\\INTERNAL\\COMPIL ER\\BATCH\\ MESSAGES.PROPERTIES  JAVA2-PRB 918   Found 1 single quote in text handled by Java MessageFormat class. Double this quote. Line: 63 ECLIPSE\\PLUGINS\\ORG.ECLIPSE.JDT.CORE\\JDTCORE_JAR\\ORG\\ECLIPSE\\JDT\\INTERNAL\\COMPIL ER\\PROBLEM\\ MESSAGES.PROPERTIES  JAVA2-PRB 919   Found 2 consecutive single quotes in text not handled by Java MessageFormat class. Remove 1 quote. Line: 108 919   Found 2 consecutive single quotes in text not handled by Java MessageFormat class. Remove 1 quote. Line: 203 919   Found 2 consecutive single quotes in text not handled by Java MessageFormat class. Remove 1 quote. Line: 333 ECLIPSE\\PLUGINS\\ORG.ECLIPSE.JDT.CORE\\JDTCORE_JAR\\ORG\\ECLIPSE\\JDT\\INTERNAL\\CORE\\U TIL\\ MESSAGES.PROPERTIES  JAVA2-PRB 919   Found 2 consecutive single quotes in text not handled by Java MessageFormat class. Remove 1 quote. Line: 188 ECLIPSE\\PLUGINS\\ORG.ECLIPSE.JDT.JUNIT\\JUNITSUPPORT_JAR\\ORG\\ECLIPSE\\JDT\\INTERNAL\\ JUNIT\\UI\\ JUNITMESSAGES.PROPERTIES  JAVA2-PRB 918   Found 1 single quote in text handled by Java MessageFormat class. Double this quote. Line: 167 ECLIPSE\\PLUGINS\\ORG.ECLIPSE.JDT.UI\\JDT_JAR\\ORG\\ECLIPSE\\JDT\\INTERNAL\\UI\\ JAVAUIMESSAGES.PROPERTIES  JAVA2-PRB 918   Found 1 single quote in text handled by Java MessageFormat class. Double this quote. Line: 90 ECLIPSE\\PLUGINS\\ORG.ECLIPSE.JDT.UI\\JDT_JAR\\ORG\\ECLIPSE\\JDT\\INTERNAL\\COREXT\\REFAC TORING\\ REFACTORING.PROPERTIES  JAVA2-PRB 919   Found 2 consecutive single quotes in text not handled by Java MessageFormat class. Remove 1 quote. Line: 465 918   Found 1 single quote in text handled by Java MessageFormat class. Double this quote. Line: 768 ECLIPSE\\PLUGINS\\ORG.ECLIPSE.JDT.UI\\JDT_JAR\\ORG\\ECLIPSE\\JDT\\INTERNAL\\UI\\REFACTORI NG\\ REFACTORINGUI.PROPERTIES  JAVA2-PRB 918   Found 1 single quote in text handled by Java MessageFormat class. Double this quote. Line: 74 ------------DESCRIPTION-------------- 918 Found 1 single quote in text handled by Java MessageFormat class. Double this quote. Line: nnn Description: In November, 2004, the translation process changed to allow development to indicate whether the message text will be processed by the Java MessageFormat class or not. If the text will be processed by MessageFormat, then all single quotes in the text must be doubled in order for the end user to see one single quote. MessageFormat assumes that the single quote character is an escape character. A single quote has been found which is not immediately followed by another single quote ('), a left brace ({), or a right brace (}). Possible causes are: The developer incorrectly coded the English text. The single quote should have been coded as 2 consecutive single quotes because the text will be processed by MessageFormat. The translator incorrectly entered a single quote in the text and the translation tools did not double this character. The wrong NLS_MESSAGEFORMAT_xxx comment is in effect for this text. This has caused CHKPII to check for the wrong usage of single quotes. The NLS_MESSAGEFORMAT_VAR comment is in effect for this text which incorrectly contains a replacement variable. When the text contains replacement variables, NLS_MESSAGEFORMAT_VAR indicates that all single quotes must exist as 2 consecutive single quotes. When this message is listed as a warning (W), then the IBMJDK21 set of markup tables was used to translate this file, which assumes that NLS_MESSAGEFORMAT_VAR is the default process. A single quote exists in text which contains a replacement variable, and possibly should be doubled. Action: Locate the listed line number in the file and locate the incorrectly coded single quote. If the text will be processed by MessageFormat, then change the one single quote (') to 2 consecutive single quotes (''). Consider using a different character if this will not change the meaning of the text (like double quote (\"), parenthesis (), bracket []). If the wrong NLS_MESSAGEFORMAT_xxx comment is in effect, contact development to determine if a different comment should be used for this text. If the NLS_MESSAGEFORMAT_VAR comment is in effect and the text contains text which is interpreted as a replacement variable, check the English to determine if a variable should exist in this text or not. Remove it if it should not be in this text. If the lab instructed you to use IBMJDK21, then change the one single quote (') to 2 consecutive single quotes (''). Otherwise, determine if IBMJDK11 should have been used to analyze this file or verify that 1 single quote is appropriate in this text. 919 Found 2 consecutive single quotes in text not handled by Java MessageFormat class. Remove 1 quote. Line: nnn Description: In November, 2004, the translation process changed to allow development to indicate whether the message text will be processed by the Java MessageFormat class or not. If the text will be processed by MessageFormat, then all single quotes in the text must be doubled in order for the end user to see one single quote. MessageFormat assumes that the single quote character is an escape character. 2 consecutive single quotes have been found in text which will not be processed by MessageFormat. Possible causes are: The developer incorrectly coded the English text. The 2 consecutive single quotes should have been coded as 1 single quote because the text will not be processed by MessageFormat. The translator incorrectly entered 2 consecutive single quotes in the text. The wrong NLS_MESSAGEFORMAT_xxx comment is in effect for this text. This has caused CHKPII to check for the wrong usage of single quotes. The NLS_MESSAGEFORMAT_VAR comment is in effect for this text which incorrectly does not contains a replacement variable. When the text does not contain replacement variables, NLS_MESSAGEFORMAT_VAR indicates that all single quotes must exist as 1 single quote. When this message is listed as a warning (W), then either (1) the IBMJDK21 set of markup tables was used to translate this file (which assumes that NLS_MESSAGEFORMAT_VAR is the default process) and 2 consecutive single quotes exist in text which does not contains a replacement variable and possibly should not be doubled, or (2) the IBMJDK11 set of markup tables was used to translate this file (which assumes that NLS_MESSAGEFORMAT_NONE is the default process) and 2 consecutive single quotes exist in the text and possibly should not be doubled. Action: Locate the listed line number in the file and locate the incorrectly coded single quote. If the text will not be processed by MessageFormat, then change the 2 consecutive single quotes ('') to 1 single quote ('). Consider using a different character if this will not change the meaning of the text (like double quote (\"), parenthesis (), bracket []). If the wrong NLS_MESSAGEFORMAT_xxx comment is in effect, contact development to determine if a different comment should be used for this text. If the NLS_MESSAGEFORMAT_VAR comment is in effect and the text does not a replacement variable, check the English to determine if a variable should exist in this text or not. Add it if it should be in this text. If the lab instructed you to use IBMJDK21, then change the 2 consecutive single quote ('') to 1 single quote ('). Otherwise, verify that 2 consecutive single quotes is appropriate in this text."}, {"bug_id": "81983", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "window open preference folding StyledText open Text takes visible preferences", "bug_title": " [preferences] Disabling and enabling folding on small file takes forever", "bug_description": "3.1 M4 Using enable/disable folding on a small CU takes forever. This is caused by the recent change to apply the preference to all Java editors. In another (hidden) window (Debug) I had StyledText open which (understandably) took long to react on the preference change. Non-visible editor's should not react to this change until they become visible."}, {"bug_id": "82204", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/actions/OpenEditorActionGroup.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/infoviews/SourceView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Pressing Java correctly menu Editor Bug Editor open doesn Declaration", "bug_title": " [key binding] Shortcut for \"Open Declaration\" doesn't show in context menu of Java Editor", "bug_description": "Version: 3.1.0 Build id: I20050104-1600 When you open the context menu of a java element (in the java perspective) no shortcut for Open Declaration is shown.  The keybindings preference page shows the Open Declaration action as being bound to F3.  Pressing F3 correctly invokes the action."}, {"bug_id": "82839", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ClassFileMarkerAnnotationModel.java"], "repo": "eclipse.jdt.ui", "reformed_query": "file disappear", "bug_title": " [misc] Breakpoint icons disappear", "bug_description": "I am using 3.1M4 1 - Open a file and set a breakpoint. The breakpoint icon appears in the left and right margins. 2 - Close the file. 3 - Open the same file. Note the breakpoint icons no longer appear. The breakpoint is still there but the icons don't appear and you can't select them. This is a major problem because I can't see the breakpoints I've previously set so I have to clear those breakpoints and set new ones each time I run a debug session."}, {"bug_id": "84269", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/SmartTypingConfigurationBlock.java"], "repo": "eclipse.jdt.ui", "reformed_query": "close JavaPlugin Configuration property Typing open Java removed Configuration combined", "bug_title": " [implementation] Leak: Java Editor preference page: listener in SmartTypingConfigurationBlock", "bug_description": "N20050202-0010 The SmartTypingConfigurationBlock adds a property change listener to the JavaPlugin combined preference store. This listener is not removed --> results in leakage for each open close of the Java preference pages. Test case: Window>Preferences>Java>Editor For each open close the state associated with the SmartTypingConfigurationBlock is leaked."}, {"bug_id": "84724", "ground_truth": ["org.eclipse.jdt.ui.tests.refactoring/test cases/org/eclipse/jdt/ui/tests/refactoring/IntroduceFactoryTests.java"], "repo": "eclipse.jdt.ui", "reformed_query": "fails Bug call constructor args sites Bug Cell String find", "bug_title": " [1.5][search] fails to find call sites for varargs constructors", "bug_description": "The search engine fails to find the call to the varargs constructor in the example below. Simply highlight the constructor's name and invoke \"References\" - > \"Workspace\" from the Java editor context menu; no occurrences will be found. Bug manifests with integration build I2005-0202. public class Test { public void foo() { Cell c= new Cell(\"\", \"\"); // calls Cell.Cell(String...) } } class Cell { public Cell(String... args) { } }"}, {"bug_id": "88397", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Action Expected caret getSourceRange Source OpenAction caret source broken ITypeParameter", "bug_title": " [5.0] OpenAction does not select whole ITypeParameter", "bug_description": "I20050315-1100 OpenAction does not select whole ITypeParameter. public class Cell { public <T> void f(T arg) { } } In a source editor, set the caret around a T and press F3 Was: caret is before T Expected: T is selected Note that ITypeParameter#getSourceRange() is broken for binary types (bug 88394)."}, {"bug_id": "90057", "ground_truth": ["org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/nls/NLSUIMessages.properties", "org.eclipse.jdt.ui/ui refactoring/org/eclipse/jdt/internal/ui/refactoring/nls/SourceFirstPackageSelectionDialogField.java"], "repo": "eclipse.jdt.ui", "reformed_query": "button Java Select Source   English", "bug_title": " [nls tooling] TVT3.1 #113 - Non-externalized string \"default\" in Externalize Strings panel", "bug_description": "Open Java file in Java perspective Select Source - Externalize strings - click Customize button for properties file. Strings (default) are shown in English (see screencapture)."}, {"bug_id": "90140", "ground_truth": ["org.eclipse.jdt.ui.tests/ui/org/eclipse/jdt/ui/tests/quickfix/LocalCorrectionsQuickFixTest.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/CorrectionMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/IProposalRelevance.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/LocalCorrectionsSubProcessor.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/correction/QuickFixProcessor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "quick quick quick quick Bug quick labels qualified Bug constants", "bug_title": " [quick fix] for qualified enum constants in switch-case labels", "bug_description": ""}, {"bug_id": "90249", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "ToggleFoldingRunner Java workaround Bug Folding ToggleFoldingRunner Runner remove ToggleFoldingRunner Java", "bug_title": " remove workaround code for bug 85005", "bug_description": "bug 85005 has been fixed - remove the workaround code in JavaEditor.ToggleFoldingRunner"}, {"bug_id": "90528", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/JavaEditorErrorTickUpdater.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/CompilationUnitEditor.java"], "repo": "eclipse.jdt.ui", "reformed_query": "editor problem Editor   java", "bug_title": " Editor icon does not show problem decoration for second instance", "bug_description": "3.1 M6 - open a .java file that has errors or warnings - the editor tab icon has the problem decoration - Window > New Window - open the same file in the new window - the editor tab icon is missing the problem decoration"}, {"bug_id": "9127", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/jarpackager/JarFileExportOperation.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Path resource Packager Packager wrong JAR Define folder Define Packager", "bug_title": " JAR Packager: Path of exported resource wrong if src folder not under project", "bug_description": "Create J project Create folder /x/y Define y as source folder ==> x/y appears as source folder ==> Files in x don't get exported ==> Path for resource files in x/y/ are wrong (i.e. contain /x/y) Note: *.java and *.class files are exported correctly."}, {"bug_id": "91306", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/EditorUtility.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Ctrl file opens editor navigation selected Java Bug", "bug_title": " [navigation] Java file opens with all text selected", "bug_description": "3.1M6 I had some Java files which I associated to the text editor.  When I open them from the package explorer, they open with all of the text selected (as if I had hit Ctrl-A)."}, {"bug_id": "94951", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ASTProvider.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/text/java/JavaReconcilingStrategy.java"], "repo": "eclipse.jdt.ui", "reformed_query": "error JDT Text bug", "bug_title": " [implementation] Compiler error prevents further development", "bug_description": "Build 20050509 JDT/Text counterpart of bug 94945. See steps in other PR."}, {"bug_id": "9517", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/browsing/ProjectsView.java"], "repo": "eclipse.jdt.ui", "reformed_query": "create Test view select context project doesn observe", "bug_title": " Browser Perspective: new project doesn't show up in project view part", "bug_description": "Test pass for M3 - open eclipse - switch to browser perspective - open context menu in project view part - select New->Project - create JUnit project observe: new project doesn't show up in project view part"}, {"bug_id": "96302", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/ui/text/JavaSourceViewerConfiguration.java"], "repo": "eclipse.jdt.ui", "reformed_query": "getAutoEditStrategies Viewer JavaSourceViewerConfiguration   implementation", "bug_title": " [implementation] useless statement in getAutoEditStrategies(...)", "bug_description": "In JavaSourceViewerConfiguration.getAutoEditStrategies(...) the line autoEditStrategies.toString(); is useless."}, {"bug_id": "9852", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/util/StringMatcher.java"], "repo": "eclipse.jdt.ui", "reformed_query": "bug code scope seg fBound file file cases bound Cur", "bug_title": " StringMatcher does not match more than *.(extension)", "bug_description": "I believe that there is a bug in StringMatcher.java. We are using this class for more sophisticated file name matching for the search scope, but it was not matching all cases that it should. I believe that the code change should be as follows: In method match Change: /* process middle segments */ for ( ; i < segCount && tCurPos <= bound; ++i) { To: /* process middle segments */ for ( ; i < segCount && tCurPos <= fBound; ++i) {"}, {"bug_id": "99072", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/CodeAssistConfigurationBlock.java", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.properties", "org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/preferences/PreferencesMessages.java"], "repo": "eclipse.jdt.ui", "reformed_query": "modifier preferences add add Bug Bug preferences add Explain preferences", "bug_title": " [preferences] Explain Ctrl modifier for code assistant", "bug_description": "N20050608-0010 This was a polish item that we got to add. Easy fix. Approving for 3.1 RC2."}, {"bug_id": "99330", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javaeditor/ASTProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "ASTprovider swallow represent IllegalStateExceptions AST implementation checking Don error avoid", "bug_title": " [implementation] Don't swallow IllegalStateException in ASTprovider", "bug_description": "20050610-0010 See bug 97214. Instead of swallowing all IllegalStateExceptions (that represent a programmer error when using the ASTProvider) the code should avoid creating the AST in the given situation (by first checking that the classfile really has a source)"}, {"bug_id": "99540", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/javadocexport/JavadocOptionsManager.java"], "repo": "eclipse.jdt.ui", "reformed_query": "options command Extra Extra command Javadoc Bug argument argument Project", "bug_title": " [javadoc export] javadoc: locale argument must come first", "bug_description": "To reproduce: Project -> Generate Javadoc -> Next -> Next ... Now in the \"Extra Javadoc options\" put \"-locale jp\".  Click Finish.  Javadoc complains that the \"option -locale must be first on the command line,\" although in fact it is the only argument."}, {"bug_id": "99585", "ground_truth": ["org.eclipse.jdt.ui/ui/org/eclipse/jdt/internal/ui/viewsupport/StorageLabelProvider.java"], "repo": "eclipse.jdt.ui", "reformed_query": "Activator sendEvent DispatchMessageW Image NPE getImageForJarEntry Safe runtime read reproduce", "bug_title": " NPE in FileSpec", "bug_description": "3.1 RC2 Steps to reproduce: - Checkout project org.eclipse.jdt.ui.vcm - Expand project in the package explorer - Browse through the folders of the JRE_LIB container -> The following exception occurs: java.lang.NullPointerException at org.eclipse.core.internal.content.FileSpec.getMappingKeyFor(FileSpec.java:57) at org.eclipse.core.internal.content.ContentTypeCatalog.getDirectlyAssociated(ContentTypeCatalog.java:454) at org.eclipse.core.internal.content.ContentTypeCatalog.internalFindContentTypesFor(ContentTypeCatalog.java:409) at org.eclipse.core.internal.content.ContentTypeCatalog.findContentTypesFor(ContentTypeCatalog.java:263) at org.eclipse.core.internal.content.ContentTypeMatcher.findContentTypeFor(ContentTypeMatcher.java:49) at org.eclipse.ui.internal.registry.EditorRegistry.guessAtContentType(EditorRegistry.java:338) at org.eclipse.ui.internal.registry.EditorRegistry.getImageDescriptor(EditorRegistry.java:382) at org.eclipse.jdt.internal.ui.viewsupport.StorageLabelProvider.getDefaultImage(StorageLabelProvider.java:133) at org.eclipse.jdt.internal.ui.viewsupport.StorageLabelProvider.getImageForJarEntry(StorageLabelProvider.java:116) at org.eclipse.jdt.internal.ui.viewsupport.StorageLabelProvider.getImage(StorageLabelProvider.java:52) at org.eclipse.jdt.internal.ui.viewsupport.JavaUILabelProvider.getImage(JavaUILabelProvider.java:140) at org.eclipse.jdt.internal.ui.packageview.WorkingSetAwareLabelProvider.getImage(WorkingSetAwareLabelProvider.java:54) at org.eclipse.jface.viewers.DecoratingLabelProvider.getImage(DecoratingLabelProvider.java:82) at org.eclipse.jface.viewers.DecoratingLabelProvider.updateLabel(DecoratingLabelProvider.java:212) at org.eclipse.jface.viewers.StructuredViewer.buildLabel(StructuredViewer.java:1855) at org.eclipse.jface.viewers.TreeViewer.doUpdateItem(TreeViewer.java:228) at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:85) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038) at org.eclipse.core.runtime.Platform.run(Platform.java:775) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:621) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:434) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038) at org.eclipse.core.runtime.Platform.run(Platform.java:775) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:1763) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:535) at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:514) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:69) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:494) at org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand(AbstractTreeViewer.java:948) at org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(AbstractTreeViewer.java:959) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:179) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:868) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:853) at org.eclipse.swt.widgets.Tree.wmNotifyChild(Tree.java:3703) at org.eclipse.swt.widgets.Control.WM_NOTIFY(Control.java:3567) at org.eclipse.swt.widgets.Composite.WM_NOTIFY(Composite.java:1035) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3088) at org.eclipse.swt.widgets.Display.windowProc(Display.java:3679) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1578) at org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:219) at org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN(Tree.java:2814) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3070) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:2390) at org.eclipse.swt.widgets.Display.windowProc(Display.java:3679) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:1654) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2686) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1717) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1681) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:163) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60) at java.lang.reflect.Method.invoke(Method.java:391) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334) at org.eclipse.core.launcher.Main.basicRun(Main.java:278) at org.eclipse.core.launcher.Main.run(Main.java:973) at org.eclipse.core.launcher.Main.main(Main.java:948)"}, {"bug_id": "107312", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/ShowDescriptionAction.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspacePluginModelManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECore.java"], "repo": "eclipse.pde.ui", "reformed_query": "open Bug file Editors preview updated select Schema Schema Refresh", "bug_title": " [Schema][Editors][Actions] Refresh on schema preview not working", "bug_description": "R3.1 1. select a schema file and open its preview via PDE Tools context menu. 2. change the schema and save 3. go back to the preview, context menu > refresh ==> not updated."}, {"bug_id": "108466", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathHelper.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "Path library getClassLoader ClassPath running build file Bug", "bug_title": " Dups from (Eclipse)ClassLoader.getResources(String)", "bug_description": "When running runtime workspace, EclipseClassLoader.getResources(String) returns duplicate results for files found in plugin jarfiles (i.e. jar files listed in manifest.mf Bundle-ClassPath: entry or plugin.xml <library/> element). Steps to reproduce 1. create plugin project 2. add a jar with \"file.txt\" entry to the project 3. add the jar to plugin runtime classpath using plugin manifest editor 4. update plugin classpath (make sure the jar got added to java build path) 5. add code that counts number of entries returned by getClass().getClassLoader().getResources(\"file.txt\") 5. start eclipse application, see that getResources returns two entries Apparently, eclipse adds the jar on plugin's classpath twice -- as a regular OSGi classpath entry and as a development entry."}, {"bug_id": "108954", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/PluginLibrary.java"], "repo": "eclipse.pde.ui", "reformed_query": "reproduce content classpath", "bug_title": " Error at project creation - no manifest file created with classpath contains '&'", "bug_description": "To reproduce (on Windows): 1) Use plug-in project creation wizard 2) On the second page (\"Plug-in content\" page), enter classpath containing '&', such as \"abc&.jar\" 3) Click on \"Finish\". The project is created, but there is no manifest.mf file under the project resource. The editor attempts to open manifest file, with the following message displayed: \"File project_name/META-INF/MANIFEST.MF does not exist\". If '&' is not allowed in the jar name, some validation is needed to prevent wizard to go forward."}, {"bug_id": "109003", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ManifestEditor.java"], "repo": "eclipse.pde.ui", "reformed_query": "build behavior expected MANIFEST editor plugin located subfolder", "bug_title": " editing a plugin.xml located in subfolder of a plugin project, edits the MANIFEST.MF at the root", "bug_description": "I have a plugin for testing of assembly and build. It contains multiple subfolders that replicate the structure of a plugin (they are test plugins, i.e. test data for some tests): each contains a plugin.xml and a MANIFEST subfolder containing a MANIFEST.MF. They are \"new style If I open a \"plugin.xml\" from one of the subfolders in the plugin manifest editor, the associated MANIFEST.MF that gets opened is not the one in the MANIFEST subfolder corresponding to the plugin.xml, but instead the MANIFEST.MF that lives in the MANIFEST subfolder of the project root. The expected default behavior would be that the editor would take the MANIFEST.MF relatively to the plugin.xml being edited."}, {"bug_id": "113004", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/PersistablePluginObject.java"], "repo": "eclipse.pde.ui", "reformed_query": "element working notice project PDE", "bug_title": " Plug-in dependencies UI element disappears when using working-set", "bug_description": "Build: I20051011-1330 In a Package Explorer view (with no working-set selected), open a PDE project and notice the \"Plug-in Dependencies\" element is shown in the project. Create a \"Plug-ins and Fragments\" working set that contains the same project, and select the working set.  Notice that the \"Plug-in Dependencies\" disappears from the view.  This was unexpected."}, {"bug_id": "113870", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDERegistryStrategy.java"], "repo": "eclipse.pde.ui", "reformed_query": "xml extension fragment process improperly org", "bug_title": " PDE editor seems to improperly process extension points defined in fragments", "bug_description": "I have troubles with my fragment, I define a extension-point and I'm trying to use it on the same fragment but I get an error. The definition on the fragment.xml: <extension-point id=\"test\" name=\"My test\" schema=\"schema/test.exsd\"/> The reference on the fragment.xml: <extension point=\"org.adexso.generator.test\"> </extension> The error: Unknown extension point: 'org.adexso.generator.test'. Thanks in advance Emmanuel"}, {"bug_id": "115173", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/TemplateListSelectionPage.java", "ui/org.eclipse.pde.ui/plugin.properties", "ui/org.eclipse.pde.ui/plugin.xml", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/templates/HelpNewWizard.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "necessaryly plugins add update wizard lucene favorite org runtime custom", "bug_title": " Help template is missing", "bug_description": "Hi! The help template is missing as \"favorite\" when creating a new project It is only choosable by using the custom template wizard If I do not want to use a UI contribution (which is not necessaryly needed for help) I can't choose a template at all Also no dependency to org.eclipse.help is added to the manifest. It would be a greate idea to add a posibility to add all dependencies needed for a standalone help. (Missing help-plugins is one of the most common error when adding help to a rcp app) The required plugins are: org.eclipse.help org.eclipse.help.appserver, org.eclipse.help.base org.eclipse.help.webapp, org.eclipse.help.ui org.apache.lucene, org.eclipse.core.runtime org.eclipse.core.expressions org.eclipse.jface org.eclipse.ui.workbench org.eclipse.update.configurator AFAIK, at least for Win and Linux Thanks a lot Bernd"}, {"bug_id": "116919", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/context/XMLInputContext.java"], "repo": "eclipse.pde.ui", "reformed_query": "remove Bug Add reopen editor", "bug_title": " Plug-in Manifest Editor loses dependency addition", "bug_description": "Build 3.2 M3 WinXP My steps: 1. I started with a 3.0-style (plugin.xml, not manifest.mf) plugin which was referencing 2 plugins that I'd just deleted from my workspace. 2. Open plugin.xml in the plugin editor and go to the Dependencies tab. 3. Add a new plugin dependency. 4. (without saving first), remove the dependency on the 2 deleted plugins. 5. Save. The Dependency tab correctly shows the added plugin and not the deleted plugins. 6. Close the editor and reopen. 7. The added plugin dependency is gone. This is a real nightmare for development because of the fact that (until you close and reopen) the editor shows the added plugin, but it's not actually added to the file so any references to code in this plugin won't compile."}, {"bug_id": "117732", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/extension/PointSelectionPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "unnecessarily select field description description point Description description unnecessarily wizard", "bug_title": " Description unnecessarily cleared in new extension wizard", "bug_description": "In the new extension wizard if you select an extension point with a description and an available template, then select its template the description field gets cleared unnecessarily."}, {"bug_id": "118008", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaAttributeDetails.java"], "repo": "eclipse.pde.ui", "reformed_query": "schema Note org required subpage Select required Select editor attribute", "bug_title": " Default field should be disabled.", "bug_description": "New schema editor 1. Check out org.eclipse.help.ui from HEAD 2. Open schema/searchEngine.exsd 3. Select the 'category' attribute under the 'subpage' element. Note how in the Attribute details section, the 'Use' is required, yet the 'default' field is enabled."}, {"bug_id": "118850", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/AbstractPDELaunchConfiguration.java"], "repo": "eclipse.pde.ui", "reformed_query": "program picking difficult PDE", "bug_title": " PDE Launcher does not put the \"program arguments\" at the end of the command line arguments", "bug_description": "The PDE Launcher does not put the \"program arguments\" at the end of the command arguments. This breaks the antRunner application since it expects the ant script target to be at the end of the command line. Scenario: Take a project with a build script Try to run the antRunner in the runtime workbench picking a target other then the defaultTarget. This makes it difficult to run anything that wants to use antRunner and the runtime workbench."}, {"bug_id": "119843", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/exports/FeatureBasedExportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "Deployable called leaves export File ins Bug Exporting java javaCompiler", "bug_title": " Exporting a plug-in leaves file javaCompiler...args", "bug_description": "I20051206-1200 Export a plug-in using File > Export... > Deployable plug-ins and fragments. In the plug-in's root folder, a file called 'javaCompiler...args' is generated (you might have to refresh to see it). It looks like a transient file that should have been created in the metadata area (or at least removed from the project when the export is done)."}, {"bug_id": "120938", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaAttributeDetails.java"], "repo": "eclipse.pde.ui", "reformed_query": "core attribute Schema core editable link Schema Select Select attribute", "bug_title": " Schema editor is not all disabled", "bug_description": "Build: I-20051214-1200 (King Kong build) From the cvs repositories view directly, open org.eclipse.core.filebuffers/schema/annotationModelCreation.exsd All buttons, text fields, etc. are disabled on the first page.  good. Go to the second page. Select attribute 'class' under element 'factory' Note how the Implements/Extends rows are all editable.  Clicking on the link results in an NPE. These two rows should be non-editable.  and there should be no links on the labels.  Browse button should be diabled."}, {"bug_id": "121245", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/JUnitLaunchConfiguration.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/parts/PluginVersionPart.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEPluginConverter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/FragmentContentPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/DependencyPropertiesDialog.java"], "repo": "eclipse.pde.ui", "reformed_query": "dialog compatible talks Bug range terms Bug exposes fragment talks", "bug_title": " New fragment dialog exposes old notion for matching rules", "bug_description": "When you create a new fragment, the dialog talks to you about the match rule for the plug-in in terms of \"equivalent\", \"compatible\", etc... whereas it should be a range."}, {"bug_id": "124815", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/DependencyExtentOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "dependencies java Dependencies checkForJavaDependencies Text Result addMatch Error internal Text", "bug_title": " NPE using \"Compute dependancy extent\" action on some plugins", "bug_description": "R3.2M4 This doesn't happen to all plugins that I tried. To reproduce choose a plugin or create a simple one and add one of the following to the dependancy list org.eclipse.ui.workbench.texteditor org.eclipse.ui.editors Select one of the above and from the popup menu select \"Compute dependancy extent\" When I did that I got the following NPE Error 2006-01-22 22:54:18.145 An internal error occurred during: \"Dependency on org.eclipse.ui.editors\". java.lang.NullPointerException at org.eclipse.search.ui.text.AbstractTextSearchResult.doAddMatch(AbstractTextSearchResult.java:119) at org.eclipse.search.ui.text.AbstractTextSearchResult.addMatch(AbstractTextSearchResult.java:79) at org.eclipse.pde.internal.ui.search.dependencies.DependencyExtentOperation.searchForTypesUsed(DependencyExtentOperation.java:163) at org.eclipse.pde.internal.ui.search.dependencies.DependencyExtentOperation.checkForJavaDependencies(DependencyExtentOperation.java:135) at org.eclipse.pde.internal.ui.search.dependencies.DependencyExtentOperation.execute(DependencyExtentOperation.java:77) at org.eclipse.pde.internal.ui.search.dependencies.DependencyExtentQuery.run(DependencyExtentQuery.java:43) at org.eclipse.search2.internal.ui.InternalSearchUI$InternalSearchJob.run(InternalSearchUI.java:94) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)"}, {"bug_id": "125179", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/AbstractSearchResultPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "View sun read internal AbstractTextSearchViewPage Accessor Impl Main access search", "bug_title": " NPE in AbstractSearchResultPage$ContentProvider when doing \"Search references in this plug-in\"", "bug_description": "I20060124 No exact steps - I believe I did the following: - from the manifest editor's dependency page, I computed the dependency extend - from the search view, select a search match, from its context menu, choose \"find references in this plug-in\" got this: org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException) at org.eclipse.swt.SWT.error(SWT.java:3283) at org.eclipse.swt.SWT.error(SWT.java:3206) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3038) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2746) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1790) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1754) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:400) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:106) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:109) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:93) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:69) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:374) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:338) at org.eclipse.core.launcher.Main.basicRun(Main.java:282) at org.eclipse.core.launcher.Main.run(Main.java:977) at org.eclipse.core.launcher.Main.main(Main.java:952) Caused by: java.lang.NullPointerException at org.eclipse.pde.internal.ui.search.AbstractSearchResultPage$ContentProvider.elementsChanged(AbstractSearchResultPage.java:52) at org.eclipse.pde.internal.ui.search.AbstractSearchResultPage.elementsChanged(AbstractSearchResultPage.java:76) at org.eclipse.search.ui.text.AbstractTextSearchViewPage.runBatchedUpdates(AbstractTextSearchViewPage.java:1025) at org.eclipse.search.ui.text.AbstractTextSearchViewPage.access$0(AbstractTextSearchViewPage.java:1015) at org.eclipse.search.ui.text.AbstractTextSearchViewPage$UpdateUIJob.runInUIThread(AbstractTextSearchViewPage.java:132) at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:93) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123) ... 20 more"}, {"bug_id": "125221", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/IHelpContextIds.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExecutionEnvironmentSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExportPackageSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionPointDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ImportPackageSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/LibrarySection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/RequiresSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/target/ContentSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetImplicitPluginsTab.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/FeatureSelectionDialog.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/PluginSelectionDialog.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/exports/ProductConfigurationSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/extension/BaseExtensionPointMainPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/LibraryPluginJarsPage.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/EventDetailsDialog.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/FilterDialog.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/IHelpContextIds.java"], "repo": "eclipse.pde.ui", "reformed_query": "Views Dependencies export xml platform editor Profiles Content JAR Eclipse", "bug_title": " [doc] missing context help", "bug_description": "There are many instances in PDE (well, not just PDE) where there is no context help available - it is either just not there or we get the default parent help like for the new or import/export wizards. This will become more apparent once the help button is added to dialogs. Here are some examples as I was going through.. but this list is not complete: Preferences: Target platform page: Target Profiles section (bottom): Profile link -> resulting dialog Browse... -> resulting dialog Launching Arguments tab: Variables...: resulting dialog Edit Variables... -> New... -> resulting dialog Configure... -> resulting dialog Implicit Dependencies tab: Add... -> resulting dialog Views: Error Log: Right click -> Event Details -> resulting dialog View menu -> Filters... -> resulting dialog Plug-in Dependencies: Right click -> Focus On... -> resulting dialog Editors: plugin.xml editor: Overview tab: Browse... -> resulting dialog Add.. -> resulting dialog Dependencies tab: both Add.. buttons -> resulting dialog both Properties... buttons -> resulting dialog Runtime tab: all Add... buttons -> resulting dialog Properties... -> resulting dialog New... -> resulting dialog Extension points tab: Browse... -> resulting dialog Wizards: New: Extension Point Schema: Extensino Point Schema Properties (first page) -> Browse... -> resulting dialog (both buttons) Feature Patch: Patch Properties (page 2) -> Browse... -> resulting dialog Fragment Project: Fragment Content (page 2) -> Browse... -> resulting dialog Plug-in from existing JAR file: Add.. -> resulting dialog Product Configuration: wizard page Target Profile: wizard page Export: Eclipse product: main wizard page Browse... -> resulting dialog"}, {"bug_id": "125913", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/extension/PointSelectionPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "text editor Extension dialog type brings tab text project click", "bug_title": " New Extension dialog should give default focus to filter text field", "bug_description": "I20060125-0800 - Open plugin manifest editor - Switch to Extensions tab - Click Add... Keyboard focus on the resulting dialog is set on the list, rather than the text field, so I can't just type in the id. I have to first click on the text field. Elsewhere in eclipse it brings keyboard focus to the logical starting field.. see new java project/class/package toolbar buttons to see what I mean."}, {"bug_id": "126796", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/ProductInfoSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Click Product finds radio controls finds update product Create removed", "bug_title": " Product Editor Overview page goes grey and is unusable", "bug_description": "Create a new blank Product Editor.  By default, the product should be based on plugins.  Click the plugins radio button again.  This causes the Overview page to lose all controls and become a grey block. This is because when the editor tries to update the configuration page, it finds the index of the features config page.  Since the features config page has not been added to the editor yet (since by default it contains the plugins config page).  The index returned from the usused page is 0, and the first page (Overview page) is then removed as a result."}, {"bug_id": "128236", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ManifestEditorMatchingStrategy.java"], "repo": "eclipse.pde.ui", "reformed_query": "Expectation matching build issue Bug xml xml open editor open", "bug_title": " [Manifest Editor] Opening plugin.xml then Manifest.mf no longer shares same editor", "bug_description": "build I20060216-0800 - open the plugin.xml in a plugin project (e.g. org.eclipse.ui) - it opens the manifest editor - open the Manifest.mf - it opens a second manifest editor - open the build.properties - it reuses the second editor Expectation: - only one manifest editor is opened, and it's reused for all 3 files Separate issue: this expectation also breaks down if build.properties is opened first, as it still opens a dedicated build properties editor if there was no matching manifest editor.  So opening build.properties then plugin.xml has a different effect than opening plugin.xml then build.properties."}, {"bug_id": "128683", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/GatherUnusedDependenciesOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "exported Bug eclipse remove bundle   jface", "bug_title": " Organize Manifest does not detect and remove all re-exported bundles", "bug_description": "3.2 M5 I was using the organize manifest to clean up org.eclipse.jface.txt/META-INF/MANIFEST.MF rev. 1.10 and it correctly remove the SWT bundle in the required section. However, it leaves in the commands bundle which is also re-exported by JFace."}, {"bug_id": "129093", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/feature/FeatureSpecPage.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/IdUtil.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/feature/AbstractFeatureSpecPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/feature/PatchSpecPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/ContentPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "field wizard Provider xxx Wizard Provider aggressive Properties expect segment", "bug_title": " New Feature Wizard is too aggressive with overwriting fields", "bug_description": "The revamped feature wizard is too aggressive when it comes to synchronizing the Feature Properties with the project name. If I manually edit the feature ID for example and then go back to the project name field and type.  I would not expect the feature ID field to change on me again. Look how well-behaved the 'Plug-in from existing archives' is when it comes to this issue.  The Feature wizard should be as well-behaved Also, the auto-computed Feature Name should be like the one for the Plug-in Name.  Right now, we just use the id as the name.  I would expect a name like \"xxx Feature\", where xxx is the last segment of the feature ID. Also, it would be good to generate a default for the Feature Provider where appropriate.  again, look at the new plugin wizard to see how it's done."}, {"bug_id": "129094", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/product/BaseProductCreationOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/IntroSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/FeatureSection.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/product/Product.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/PluginSection.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/iproduct/IProduct.java"], "repo": "eclipse.pde.ui", "reformed_query": "Features Bug Features Product button selected ins remove Bug editor", "bug_title": " Polish: Remove/Remove All should not be always enabled.", "bug_description": "In the Product editor, On the Plug-ins tab and the Features tab, the remove button should be enabled only when there is at least one item selected in the table. The Remove All button should only be enabled when the table contains >= 1 item(s). Right now, these two buttons are always enabled."}, {"bug_id": "129817", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "change add Extension version", "bug_title": " New dependencies from templates no longer added", "bug_description": "Eclipse 3.2 Build id: I20060221-1300 It seems that some change between the above build and the latest projects from HEAD has caused an issue where the dependencies that are programatically added by Template classes (i.e. org.eclipse.pde.ui.ImportWizardTemplate) are no longer added. For example, using the above build, if you create a new plug-in project, then add the Import Wizard Template (through the Extension tab on plugin.xml) a dialog should appear asking if a save of the plugin file is desired and the dependencies should appear under the Dependencies tab. This does not occur using the latest projects from HEAD (or the latest build I20060228-1207). Specifically the problem seems to have been created due to some change in the project org.eclipse.pde.core between version 2006/02/24 00:00:00 and 2006/02/25 00:00:00"}, {"bug_id": "130414", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExportPackageSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ImportPackageSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "navigates open good Bug item item packages editor Open editor", "bug_title": " Open Package is misleading", "bug_description": "In the context menu of packages in the manifest editor, the item 'Open' is great, but the text is misleading. The action does not open a package, but navigates to it.  So 'Go to package' would be good. Also the action should only be present on a single selection."}, {"bug_id": "130424", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/registry/RegistryBrowserContentProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "bundle duplicated Bug registry fragments coalesced Registry generally", "bug_title": " New Registry view shows fragments", "bug_description": "The old registry view did not show fragments while the new one does. Fragments are generally not very interesting in the registry since they would have coalesced with their host, so the information would be duplicated in the host anyway. We should either: 1. filter them out, as we have done in the past, OR 2. show them but with the right icon.  Right now, they show up with a blue plugin icon A bundle is a fragment if it contains the Constants.FRAGMENT_HOST header."}, {"bug_id": "131391", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/PDEMarkerAnnotationModel.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/build/Build.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/RemoveStaticProjectReferences.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ResolutionGenerator.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/build/BuildEntry.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/BuildEntryMarkerResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/AbstractPDEMarkerResolution.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ManifestConsistencyChecker.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDESourcePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ManifestHeaderErrorResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/AddSourceBuildEntryResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/AnnotationModelFactory.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/PDEMarkerFactory.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/ManifestConfiguration.java", "ui/org.eclipse.pde.ui/plugin.xml", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/BundleSourcePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/RemoveBuildEntryResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/PDEQuickAssistAssistant.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/RemoveSeperatorBuildEntryResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/AddBuildEntryResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/build/BuildSourceViewerConfiguration.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/ManifestSelectAnnotationRulerAction.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/ConstructedManifestEditorMessages.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/AppendSeperatorBuildEntryResolution.java"], "repo": "eclipse.pde.ui", "reformed_query": "fixes manifest Provide build Fixes editor api Provide Bug add", "bug_title": " Provide Lightbulb Quick Fixes in build.properties source page", "bug_description": "Now that the api is available, we should add light bulb quick fixes to the build properties source page in the manifest editor."}, {"bug_id": "131394", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/build/FeatureExportJob.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/build/BaseBuildAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "option Bug bug details task bug verbose ant javacVerbose javacVerbose", "bug_title": " javacVerbose default should be false, not true", "bug_description": "With the javac ant task verbose option doing what it is supposed to do (see bug 131373), there is no need to set it to true by default. See bug 131373 and 131377 for more details."}, {"bug_id": "132893", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECore.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/extension/PointSelectionPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "xpt namespace pluginId schema points org point framgnet", "bug_title": " Extension points declared in fragments get wrong namespace", "bug_description": "I20060321-1210 When I create an extension point in a fragment, and then try to create an extension for this extension point, the extension point wizaard will indicate <framgnetId>.xptId instead of <pluginId>.xptId. For example try the following markup: <fragment> <extension-point id=\"pascal\" name=\"pascal xpt\" schema=\"schema/pascal.exsd\"/> <extension point=\"org.eclipse.core.runtime.pascal\"> <Generic/> </extension> </fragment>"}, {"bug_id": "134311", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "project error output Java Java hit validated partially dialog wizard", "bug_title": " No validation done for Java project source/output folders in New Plug-in Project Wizard", "bug_description": "The source and output folder fields in the New Plug-in Project Wizard are not validated in any way within the wizard.  If you enter invalid characters into the folder name (* for example), no error is shown, and the wizard allows you to continue to the next page.  If you hit Finish, the Wizard partially completes creating the project, then pops up an error dialog \"* is an invalid character in resource name src*\"  The wizard does not exit after this error - and if you go back and fix the problem then try Finish again, it'll complain that a project with that name already exists. These fields should be validated like the Project name field is."}, {"bug_id": "134426", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/EditorUtilities.java"], "repo": "eclipse.pde.ui", "reformed_query": "product file Create path empty dismiss dismiss Fine image Fine", "bug_title": " double warning messages in product editor", "bug_description": "3.2 M6 Create an empty product file. Go to the Branding page. Click on any image link (eg. the one in the About section) You get a warning saying that a path to an existing file must be provided. Fine.  dismiss the dialog. You get another one saying that the specified image could not be found. The second warning is not fine."}, {"bug_id": "136172", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ExecutionEnvironmentAnalyzer.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/bundle/ExportPackageHeader.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/bundle/ExportPackageObject.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/RemoveInternalDirectiveEntryResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ResolutionGenerator.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/PDEMarkerFactory.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/bundle/PDEManifestElement.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/RemoveInternalDirectiveEntryResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ResolutionGenerator.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "provide provide warning friends remove quickfix directive abc header implies", "bug_title": " quickfix to remove redundant x-internal", "bug_description": "When a package in the Export-Package header declares both a x-internal and x-friends directive as such Export-Package: com.example.abc;x-friends=\"bla\";x-internal:=true The x-internal directive is flagged with a warning as redundant, since x-friends implies x-internal. We should provide a quickfix for this problem to remove the x-internal directive."}, {"bug_id": "136314", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/DependencyManagementSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "EclipseAppLauncher Event ide Framework Dependencies DependencyManagementSection Selection handleNew adaptor core", "bug_title": " NPE in org.eclipse.pde.internal.ui.editor.plugin.DependencyManagementSection", "bug_description": "I get the following NPE when I press the \"Add\" button in the \"Automated Management of Dependencies\" section. It does not happen every time. Bug 136312 ocurred right before this exception. I use 3.2M6. java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.plugin.DependencyManagementSection.getAvailablePlugins(DependencyManagementSection.java:378) at org.eclipse.pde.internal.ui.editor.plugin.DependencyManagementSection.handleNew(DependencyManagementSection.java:348) at org.eclipse.pde.internal.ui.editor.plugin.DependencyManagementSection.buttonSelected(DependencyManagementSection.java:292) at org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.buttonSelected(TableSection.java:37) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected(SharedPartWithButtons.java:36) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected(SharedPartWithButtons.java:29) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:925) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3346) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2966) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:376) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336) at org.eclipse.core.launcher.Main.basicRun(Main.java:280) at org.eclipse.core.launcher.Main.run(Main.java:977) at org.eclipse.core.launcher.Main.main(Main.java:952)"}, {"bug_id": "137700", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/IntroSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "CTRL editor save Intro element Intro tab product product generates", "bug_title": " Product editor generates a plugin list for a feature-based product", "bug_description": "I have a feature-based product. I use the product editor to modify my .product file (for example to set or remove the \"Intro ID\" of the Branding tab) and save it using CTRL-S. The generated .product file contains a whole list of \"plugin\" child elements under the \"plugins\" element even though my product is feature based."}, {"bug_id": "138093", "ground_truth": ["ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/bundle/PackageObject.java"], "repo": "eclipse.pde.ui", "reformed_query": "click version populated manifest choose Additionally field Version", "bug_title": " Adding an Imported Package Should Provide Default Version", "bug_description": "Using Eclipse 3.2 RC1 When using the Imported Package section of the manifest editor it is cumbersome to have to choose a package to import, and then click Properties... to set the version.  It would be nicer if when you click the Add... button and choose a package the version is automatically set to that of the chosen package.  If you wish to specify a different version then you'll have to use the Properties... button, but this should be rare. Additionally, when you click the Properties... button it would be nice if the Minimum Version field was automatically populated with the version of the visible package.  Again, this will be the most common use case."}, {"bug_id": "138127", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/DependenciesPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "plugin Analysis Dependecy", "bug_title": " Put Dependecy Analysis on right side when edit plugin.xml file", "bug_description": "See my attached file."}, {"bug_id": "138803", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/XMLDefaultHandler.java"], "repo": "eclipse.pde.ui", "reformed_query": "parse javax Start Search xml runtime peek Parser emptyElement AbstractXMLDocumentParser", "bug_title": " EmptyStackException during schema parsing", "bug_description": "from bug 135042 The original exception has gone away, but I am now seeing the following in its place: java.util.EmptyStackException at java.util.Stack.peek(Unknown Source) at java.util.Stack.pop(Unknown Source) at org.eclipse.pde.internal.core.XMLDefaultHandler.endElement(XMLDefaultHandler.java:57) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source) at javax.xml.parsers.SAXParser.parse(Unknown Source) at javax.xml.parsers.SAXParser.parse(Unknown Source) at org.eclipse.pde.internal.core.schema.Schema.load(Schema.java:397) at org.eclipse.pde.internal.core.schema.Schema.load(Schema.java:373) at org.eclipse.pde.internal.core.schema.SchemaDescriptor.getSchema(SchemaDescriptor.java:73) at org.eclipse.pde.internal.core.schema.SchemaRegistry.getSchema(SchemaRegistry.java:54) at org.eclipse.pde.internal.ui.search.ClassSearchParticipant.searchProject(ClassSearchParticipant.java:179) at org.eclipse.pde.internal.ui.search.ClassSearchParticipant.search(ClassSearchParticipant.java:134) at org.eclipse.jdt.internal.ui.search.JavaSearchQuery$2.run(JavaSearchQuery.java:163) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.jdt.internal.ui.search.JavaSearchQuery.run(JavaSearchQuery.java:169) at org.eclipse.mylar.internal.java.search.AbstractJavaRelationProvider$JavaSearchOperation.run(AbstractJavaRelationProvider.java:299) at org.eclipse.mylar.internal.java.search.AbstractJavaRelationProvider$JavaSearchJob.run(AbstractJavaRelationProvider.java:280) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)"}, {"bug_id": "139037", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/ExternalPluginModelBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "file Bug directory PDE", "bug_title": " PDE can't resolve translated names for plugins in directory format", "bug_description": "In the plug-ins view, plug-ins in directory format from the target platform show up with their tag (even when the .properties file is available)."}, {"bug_id": "140381", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/tools/ConvertedProjectsPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "java existing projects Bug modifying places", "bug_title": " Convert produces warnings in build.properties for / not existing", "bug_description": "By default, java projects have their source folder in the root of their project.  When PDE converts a java project with such a source folder, it creates a source.. entry in the build.properties.  This entry specifies the \"/\" folder. PDE places a warning marking saying that \"/\" does not exist in the workspace.  We might want to think about modifying the warning logic to allow a project to have their source folder in the root of a project (though it is not recommended)."}, {"bug_id": "141655", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/GatherUnusedDependenciesOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "packages considered create technique Require imports versions imports Dependency technique", "bug_title": " \"Find unused dependencies\" should ignore packages exported by the bundle", "bug_description": "Using Eclipse 3.2 RC3 In the PDE/Manifest editor, under \"Dependency Analysis\", clicking the \"Find unused dependencies\" will find all the Import-Package and Require-Bundle entries that are unused by the bundle. If you create a bundle that exports a package AND imports the same package (a technique used in OSGi to prevent multiple versions of a package) the tool identifies it as unused.  I would suggest that all packages exported by the bundle be considered automatically used by the bundle."}, {"bug_id": "143293", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/templates/HelpTemplate.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "Project Problem window main Bitmap Label Build content defects BASE", "bug_title": " TVT3.2:TCT661: DA: English string: Sample Table of Contents", "bug_description": "OS: RHEL 3.1 Must fix or not a must fix: NO Build date: 052106 Component name = BASE FIILE MENU Blocking: NO Language: da Bitmap Location: V:\\defects\\da Tester Name: Mette Djoerup (user ID: dantvt03) Problem Description: In the \"New plug-in project with a sample with help content.\" window, the Label for the table of contents box is in English: Sample Table of Contents. Steps: On the menu bar from the main Workbench panel, click File > New > Projects Select  Plug-in Project Click Next Put plug-in in Project name Click Next Click Next Click Plug-in with Sample help content Click Next Mette This article was reassigned from Category:''TVT/Testing''."}, {"bug_id": "143823", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/SAXParserWrapper.java", "ui/org.eclipse.pde.core/src_ant/org/eclipse/pde/internal/core/ant/ConvertSchemaToHTML.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/xhtml/GetUnconvertedOperation.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/FeatureConsistencyChecker.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ExtensionPointSchemaBuilder.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/XMLEditingModel.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/DefaultSAXParser.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/Schema.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/PDEXMLHelper.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/DOMParserWrapper.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/UpdateSiteBuilder.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ManifestConsistencyChecker.java"], "repo": "eclipse.pde.ui", "reformed_query": "XML source Bug constantly documents heavyweight content Solution parser unnecessary", "bug_title": " XML parser is instantiated and utilized for only one XML instance document parse and discarded", "bug_description": "XML parsers are utilized throughout PDE to perform many tasks. XML parsers are heavyweight items that are designed to be instantiated and configured once and used to parse many different XML instance documents before being discarded. Noticed in PDE that XML parsers are instantiated and utilized for only one XML instance document parse and discarded.  This causes an unnecessary degradation of performance. One situation where this is particularly bad is during Plug-in manifest source edits where the content is constantly being revalidated causing new XML parsers to be constantly created and discarded. Solution is to create a parser once for a particular task and store it for reuse"}, {"bug_id": "144967", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/templates/ITemplateSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "typo includes code getNewFiles ITemplate variable getNewFiles getNewFiles typo variable", "bug_title": " ITemplateSection typo", "bug_description": "The javadoc for ITemplateSection#getNewFiles() says \"...to the variable <code.bin.includes</code>. For this reason, ...\" It should say \"...to the variable <code>bin.includes</code>. For this reason, ...\""}, {"bug_id": "146912", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspaceModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "change Model underlying reports nls", "bug_title": " AbstractModel needs to update NLResourceHelper when a bundle localization changes", "bug_description": "When a bundle localization changes (ie. using the NLS wizard on a bundle without a Bundle-Localization specified) the underlying bundle's AbstractModel needs to update it's NLResourceHelper. The BundleErrorReporter reports missing nls keys (since its looking in the wrong .properties file) after such a change."}, {"bug_id": "147619", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECoreMessages.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "result configuration detected Validate Validate Equinox header launch Localization header", "bug_title": " The value of the Bundle-Localization header is not validated", "bug_description": "Using Eclipse 3.2 RC7 The Bundle-Localization header is not validated by the manifest editor, resulting in a possible header value that does not represent a properties file in the bundle. This problem is also not detected when you click the \"Validate Plug-in Set\" button from the Equinox launch configuration. The result being that at runtime the bundle's localized values are not found."}, {"bug_id": "149506", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/AbstractFoldingStructureProvider.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/IFoldingStructureProvider.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDEProjectionSourcePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ManifestEditor.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/IFoldingStructureProvider.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDEProjectionSourcePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ManifestEditor.java"], "repo": "eclipse.pde.ui", "reformed_query": "plug folding nudge Bug Bug Enter folding newly nudge Bug", "bug_title": " Code folding needs a little nudge", "bug_description": "Build: any 3.3 build will do. 1. Create an extension on the Extensions page of the plug-in manifest editor. 2. Flip to the source page. Note how the newly generated markup does not have folding associated with it. Enter a space or something on the source page.  Code folding appears."}, {"bug_id": "149604", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDEFormEditor.java"], "repo": "eclipse.pde.ui", "reformed_query": "plug editor file view opening Overview behavior", "bug_title": " Amnesia when opening manifest of a JARd plug-in", "bug_description": "1. Go to plug-ins view 2. double-click on any plug-in represented by a blue icon (without children). 3. Observe how the manifest file(s) for this plug-in open.  good. 4. Turn to a tab other than the first tab. 5. close the editor. 6. repeat #2. observed behavior: the editor opens on Overview tab. expected behavior: the editor opens on tab from #4."}, {"bug_id": "149816", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/XMLTagScanner.java"], "repo": "eclipse.pde.ui", "reformed_query": "text confused String org   literals", "bug_title": " [Manifest Editor] plugin.xml source editor syntax coloring confused by \\", "bug_description": "in jdt.ui's plugin.xml, there's a declaration <key sequence=\"M1+M2+\\\" contextId=\"org.eclipse.jdt.ui.javaEditorScope\" commandId=\"org.eclipse.jdt.ui.edit.text.java.remove.block.comment\" schemeId=\"org.eclipse.ui.defaultAcceleratorConfiguration\"/> Syntax coloring is broken after the \"\\\": String literals are rendered as tags and vice versa."}, {"bug_id": "149900", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginBase.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginModelBase.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/AbstractPluginModelBase.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/PluginBase.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/PluginImport.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/PluginObject.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/plugin/PluginBaseNode.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/plugin/PluginDocumentNodeFactory.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/plugin/PluginImportNode.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/plugin/PluginObjectNode.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/RequiresSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Add required process Bug Locks sweet", "bug_title": " PDE UI Locks when adding a ton of required plugins (not a sweet time)", "bug_description": "CURRENT: 1) Add a ton of deps 2) Watch PDE UI lock up and cry like a little girl EXPECTED: 1) Add a ton of deps 2) Watch PDE UI process this with UI responsiveness (sweet time)"}, {"bug_id": "149976", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/converter/PluginConverter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/AddNewDependenciesOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "manifest Note packages project job source creates bundles manifest spec", "bug_title": " Automated Management of Dependencies: The \"add dependencies\" link can result in an illegally formatted Import-Package header", "bug_description": "The format of MANIFEST.MF is rather strict.  One of the constraints is that a single line cannot be too long.  I think that \"too long\" is something like 70 characters, but you'd have to check the JAR spec to be sure. Anyway, the \"add dependencies\" link in the Automated Management of Dependencies section of the Dependencies page of the manifest editor can result a very long Import-Package header that is all on one line.  In every other case I've seen the PDE does a nice job of breaking the line such that it is never too long.  The scenario where this happens is rather specific: 1.  Create a new plug-in project. 2.  Populate the Automated Management of Dependencies list of with a bunch of bundles against which you are going to compute your Import-Package list. 3.  Write some Java code that creates dependencies on a bunch of packages contained in the bundles listed in step 2. 4.  Ensure that the MANIFEST.MF source page DOES NOT have an Import-Package header.  Save the editor.  Note: This step is very important since this problem only seems to happen when the Import-Package header needs to be added. 5.  Turn to the Dependencies page and click the \"add dependencies\" link.  Save the editor. 6.  Turn to the MANIFEST.MF source page and inspect the Import-Package header. Assuming that you have creating enough package dependencies in your code, this should result in an Import-Package header being added that is way too long.  It will all be on one line. The \"add dependencies\" link should implement the same formatting rules as the other parts of the manifest editor to ensure that the manifest remains legal."}, {"bug_id": "150081", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/contentassist/ManifestContentAssistProcessor.java"], "repo": "eclipse.pde.ui", "reformed_query": "header ManifestElement Manifest find content problem completions Require Manifest rely", "bug_title": " [content assist] ImportPkg completions include already imported pkgs", "bug_description": "Import-Package completions include packages the user already specified in the Import-package header.  There is also a problem with this for Require-Bundle. Currently rely in ManifestElement to parse Manifest, but when the , is included the header becomes invalid and does not get parsed. Also need to find a solution that allows user to insert elements other than just on the end of the line"}, {"bug_id": "150305", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/parts/ComboPart.java"], "repo": "eclipse.pde.ui", "reformed_query": "Windows special combo contributing lose text tabbing Combo", "bug_title": " Combo box seems to lose cursor in Linux", "bug_description": "The cursor seems to disappear during tabbing in Linux.  This happens in the PDE Feature editor (Dependencies page > Dependencies Properties section) and the Product Editor on the main page. The common contributing factor seems to be when the user is tabbing out of a text box field into a combo field, the cursor disappears never to come back. Since the tab order is fine in Windows and PDE does nothing special for these editors, it was suggested I open the bug on forms.  If this is incorrect, please redirect the bug as you see fit."}, {"bug_id": "150916", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardDetailedPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "height select ins Bug full wizard resizes", "bug_title": " Plug-in Import wizard resizes to full screen height", "bug_description": "I20060711-1100 Plug-in Export wizard resizes to full screen height. As soon as you get to the last page of the plug-in import wizard where you can select the plug-ins an fragments the wizard expands to full screen height. I can manually resize the dialog but that's futile since next time it gets huge again."}, {"bug_id": "151112", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/tools/OrganizeManifest.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/tools/OrganizeManifest.java"], "repo": "eclipse.pde.ui", "reformed_query": "Organize Bug Export reproduce", "bug_title": " Organize Manifests adds .settings and META-INF to Export-Package", "bug_description": "M20060712-0922 (3.2) Organize Manifests adds .settings and META-INF to Export-Package. To reproduce, apply action to org.junit4 R3_2."}, {"bug_id": "151324", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Symbolic Bug bundle error Bundle accidentally Bug removes header OSGi", "bug_title": " PDE should warn user if Bundle-SymbolicName not specified in Manifest", "bug_description": "There is no warning/error if the user accidentally removes the Bundle-SymbolicName header.  Since a project is only a PDE project if the user wishes to make an OSGi bundle, we should flag this as missing a required header."}, {"bug_id": "151501", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionPointsPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Body Bug orientation manifest Extension toolbar Extensions Extension manifest removing", "bug_title": " Vertical layout is weird on Extensions page", "bug_description": "The Extensions/Extension Points pages of the plug-in manifest editor have toolbar buttons on the top right of the page that toggle the orientation (horizontal/vertical). The vertical orientation looks weird, particularly on the Extensions page that also has a Body Text section. I suggest removing these two buttons, as the horizontal orientation is the only desirable setting."}, {"bug_id": "151538", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "xml plug spirit includes bin bin plugin flag plug fragment", "bug_title": " flag bin.includes if it does not include plugin.xml/fragment.xml", "bug_description": "In the same spirit as bug 138260, we should flag the bin.includes key if a plug-in has a plugin.xml/fragment.xml and it is not included in bin.includes."}, {"bug_id": "151884", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDESourcePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "IDEApplication fireAboutToShow create Starter PDESource site source texteditor Context", "bug_title": " NPE opening context menu on site.xml editor source page", "bug_description": "I20060725-0800 NPE when trying to open context menu on site.xml editor source page: java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.PDESourcePage.editorContextMenuAboutToShow(PDESourcePage.java:467) at org.eclipse.ui.texteditor.AbstractTextEditor$11.menuAboutToShow(AbstractTextEditor.java:2231) at org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:289) at org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:395) at org.eclipse.jface.action.MenuManager.access$1(MenuManager.java:391) at org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:417) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:117) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:933) at org.eclipse.swt.widgets.Control.WM_INITMENUPOPUP(Control.java:3559) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3275) at org.eclipse.swt.widgets.Decorations.windowProc(Decorations.java:1539) at org.eclipse.swt.widgets.Shell.windowProc(Shell.java:1634) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4054) at org.eclipse.swt.internal.win32.OS.TrackPopupMenu(Native Method) at org.eclipse.swt.widgets.Menu._setVisible(Menu.java:225) at org.eclipse.swt.widgets.Display.runPopups(Display.java:3403) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2991) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336) at org.eclipse.core.launcher.Main.basicRun(Main.java:280) at org.eclipse.core.launcher.Main.run(Main.java:977) at org.eclipse.core.launcher.Main.main(Main.java:952)"}, {"bug_id": "152054", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/ExtensionAttributeRow.java"], "repo": "eclipse.pde.ui", "reformed_query": "description attribute editor hovering Bug", "bug_title": " No tooltip necessary when no description is available", "bug_description": "When no description is available for an attribute, currently a tooltip appears when hovering over the attribute in the Extensions page of the plug-in editor. The tooltip tells me that no description is available. It would be better if no tooltip appeared at all."}, {"bug_id": "152059", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "eclipse data includes src required tests source bat warning Path", "bug_title": " Warning in build.properties about plugin.xml not listed when using wildcards", "bug_description": "I20060725-0800 I have the following in my build.properties: source.helptests.jar=src/ bin.includes = data/,\\ livehelp/,\\ nl/,\\ about.html,\\ *.xml,\\ doc.zip,\\ plugin.properties,\\ *.bat,\\ *.jar,\\ META-INF/ bin.excludes=build.xml I get the following warning: Severity and Description\tPath\tResource\tLocation\tCreation Time\tId An entry for plugin.xml is required in bin.includes\torg.eclipse.help.tests\tbuild.properties\tline 12\t1154030652621\t47219 However the *.xml entry covers this file, it's just not listed individually."}, {"bug_id": "152199", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/contentassist/ManifestContentAssistProcessor.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bundle proposals values RequiredExecutionEnvironent Bundle icons Bug beautify Bundle Bug", "bug_title": " [Content Assist] sort and beautify EE proposals", "bug_description": "The proposals for Bundle-RequiredExecutionEnvironent values are not sorted alphabetically. It would also be esthetically pleasing if we have these proposals icons.  ie. the icons that appear in the EE section of the Overview page."}, {"bug_id": "152200", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/contentassist/VirtualSchemaObject.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/SchemaUtil.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDEFormEditor.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/extension/PointSelectionPage.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/SchemaElement.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/XMLComponentRegistry.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/SchemaAttribute.java"], "repo": "eclipse.pde.ui", "reformed_query": "retrieving visited schema parsing selected dismissed Amnesia Extension description wizard", "bug_title": " Amnesia when retrieving extension point descriptions", "bug_description": "due to fix for bug 151702, descriptions are not stored in our schema models which is a good thing. In the New Extension wizard, we now parse the schema every time an extension point is selected to retrieve its description.  but then, we don't keep track of visited extension points, we reparse when an extension point is selected again. Given that we already paid the memory penalty once upon the first parsing, it would be good if we cached descriptions until the wizard is dismissed."}, {"bug_id": "153093", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/site/CategoryDetailsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "label description read fields label Site labels screenshot field aligned", "bug_title": " Inconsistent placement of labels in update site editor", "bug_description": "In the update site editor, in the Site Map tab, if you select a category it shows name, label, and description fields to the right. However the description field is centered vertically with its text field. In the Archives tab you also have a description field, but this one is aligned with the top of its text field. I would suggest always aligning with the top as it's easier to read (at least for me). See screenshot."}, {"bug_id": "153195", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/IModel.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECoreMessages.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEPluginConverter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginConverter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginConverterParser.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "plugin metadata entry project Manifest data manifest bundle Export", "bug_title": " Create OSGI Bundle Manifest generates exports for CVS metadata", "bug_description": "The create osgi bundle manifest link on the manifest editor overview page modifies plugin.xml and generates a manifest.mf file. The Export-Package entry of the generated manifest contains entries for the root folder, and for all of the CVS meta-data folders.  These extra exports should not be generated because they are in fact *not* packages, and cause errors to be flagged in the mainfest when the project is built. Ex. Export-Package: ., CVS, cgenrcp, cgenrcp.CVS, cgenrcp.actions, cgenrcp.actions.CVS, cgenrcp.dnd, cgenrcp.editors, cgenrcp.editors.CVS,"}, {"bug_id": "153329", "ground_truth": ["ui/org.eclipse.pde.ui/plugin.properties", "ui/org.eclipse.pde.ui/plugin.xml", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/BuildPropertiesChange.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/BundleManifestChange.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/ContainerMoveParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/ContainerRenameParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/FileMoveParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/FileRenameParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/ManifestPackageMoveParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/ManifestTypeMoveParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/PDEMoveParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/PDERenameParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/PluginManifestChange.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/ResourceMoveParticipant.java"], "repo": "eclipse.pde.ui", "reformed_query": "xml referenced update xml rename resources file referenced Rename xml", "bug_title": " Refactor->Rename of other resources does not update plugin.xml", "bug_description": "If you, for example, rename an icon which is referenced by plugin.xml in a Plugin Project, the Refactoring should also update the plugin.xml according to the new name of the file. Does not work in I20060725-0800."}, {"bug_id": "153460", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Auto validateBinIncludes checkThisProject CVS Safe validateBinIncludes builders Worker retrieving validateBuild", "bug_title": " NPE occurs after retrieving content from CVS", "bug_description": "3.3M1 - observed on linux-motif and aix-motif, but probably happens on all platforms - connect to dev.eclipse.org - retrieve the following projects: org.eclipse.swt org.eclipse.swt.examples org.eclipse.swt.motif.linux.x86 org.eclipse.swt.snippets - the following NPE occurs: java.lang.NullPointerException at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateBinIncludes(BuildErrorReporter.java:194) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateBinIncludes(BuildErrorReporter.java:189) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateBuild(BuildErrorReporter.java:170) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validate(BuildErrorReporter.java:105) at org.eclipse.pde.internal.core.builders.ErrorReporter.validateContent(ErrorReporter.java:130) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.checkBuildProperties(ManifestConsistencyChecker.java:140) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.checkThisProject(ManifestConsistencyChecker.java:58) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.build(ManifestConsistencyChecker.java:40) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:607) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:162) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:196) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:225) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:228) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:247) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:280) at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:145) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:208) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:58)"}, {"bug_id": "154030", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDESourcePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Outline xml form selects source editors source plugin plugin element", "bug_title": " Plug-in manifest editor: Switching from form to source page selects too much", "bug_description": "I20060815-0800 Select an element on a form page in the plug-in manifest editor (e.g. an item on the Extensions page), then switch to the corresponding source page (plugin.xml). => The whole source range is selected. This makes it hard to read the actual source (see e.g. bug 79208 comment 8). It is also inconsistent with other selection behavior, e.g. when I select an Extension in the Outline of the plugin.xml page, only the word \"extension\" of the declaring tag is selected. Transfering a model selection into a text selection should only select the tag name. That's also the way other editors do it (e.g. the Java Outline: selects element name, not whole element)."}, {"bug_id": "154493", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ManifestEditorMatchingStrategy.java"], "repo": "eclipse.pde.ui", "reformed_query": "xml plugin", "bug_title": " plugin.xml keeps on going.... going.... going...", "bug_description": "double clicking on a plugin.xml in the pkg explorer under plug-in deps keeps opening a new copy."}, {"bug_id": "154593", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECore.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/ClasspathComputer.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/ClasspathComputer.java"], "repo": "eclipse.pde.ui", "reformed_query": "Classpath PDE Update Plugin   Eclipse", "bug_title": " PDE Tools > Update Classpath deletes Access-Rules", "bug_description": "Eclipse 3.2 Whenever I run \"Update Classpath...\" on my Plugin, all defined access-rules get removed. Ben"}, {"bug_id": "154739", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/JarEntryEditorInput.java"], "repo": "eclipse.pde.ui", "reformed_query": "editor", "bug_title": " PDE editor tab tooltip does not show fully qualified name when opened from the plugin deps view", "bug_description": ""}, {"bug_id": "154853", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/FormFilteredTree.java"], "repo": "eclipse.pde.ui", "reformed_query": "editor shot Extensions border missing border tab border editor editor", "bug_title": " Missing border on Extensions tab", "bug_description": "Build: I20060823-0800 The \"Extensions\" tab of the manifest editor is missing the grey border. Screen shot available on request."}, {"bug_id": "155070", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/exports/FeatureExportWizard.java"], "repo": "eclipse.pde.ui", "reformed_query": "xml target export create error generates", "bug_title": " Exporting feature and saving as an Ant script generates non-functional script", "bug_description": "When you export \"Deployable features\" an option is given to create an Ant script that can be used to repeat the export at a later time.  This is a rather useful option, but sadly the generated Ant script is not what I would expect: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <project default=\"feature_export\" name=\"build\"> <target name=\"feature_export\"/> </project> This is all you get and there are no error reported by the UI or in the .log file."}, {"bug_id": "155158", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDEFormEditorContributor.java"], "repo": "eclipse.pde.ui", "reformed_query": "delete editor doesn editor editor editor doesn cries Bug editor", "bug_title": " Product editor doesn't support the delete key", "bug_description": "Wassim cries when the delete key doesn't work"}, {"bug_id": "155796", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/contentassist/TypeCompletionProposal.java"], "repo": "eclipse.pde.ui", "reformed_query": "jface Bug text Text", "bug_title": " Patch to fix jface.text.Assert deprecation", "bug_description": "N20060901-0010. Platform Text has deprecated its Assert class. The attached patch fixes the deprecation warnings caused by this."}, {"bug_id": "156021", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/TranslationHyperlink.java"], "repo": "eclipse.pde.ui", "reformed_query": "plugin sendEvent handleMouseUp create App Attribute Delegating hyperlink openHyperLink basicRun", "bug_title": " Exception clicking on translatable attribute with no value", "bug_description": "Version: 3.3.0 Build id: I20060830-1650 On the extensions page of the plugin editor, you get the attached error when clicking on the NLS hyperlink for a translatable attribute with no value. java.lang.StringIndexOutOfBoundsException: String index out of range: 0 at java.lang.String.charAt(Unknown Source) at org.eclipse.pde.internal.ui.editor.text.TranslationHyperlink.openHyperLink(TranslationHyperlink.java:51) at org.eclipse.pde.internal.ui.editor.text.TranslationHyperlink.open(TranslationHyperlink.java:42) at org.eclipse.pde.internal.ui.editor.plugin.rows.TranslatableAttributeRow.openReference(TranslatableAttributeRow.java:41) at org.eclipse.pde.internal.ui.editor.plugin.rows.ReferenceAttributeRow$1.linkActivated(ReferenceAttributeRow.java:47) at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:208) at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:289) at org.eclipse.ui.forms.widgets.AbstractHyperlink.access$1(AbstractHyperlink.java:273) at org.eclipse.ui.forms.widgets.AbstractHyperlink$4.handleEvent(AbstractHyperlink.java:110) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3387) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3006) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:396) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:172) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:341) at org.eclipse.core.launcher.Main.basicRun(Main.java:285) at org.eclipse.core.launcher.Main.run(Main.java:987) at org.eclipse.core.launcher.Main.main(Main.java:962)"}, {"bug_id": "156385", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "Impl Launcher bundle Event Typed DelegatingMethodAccessorImpl addImport BundlePluginBase invokeFramework reproduce", "bug_title": " NPE trying to add dependencies to a plugin", "bug_description": "Using I20060905-1250 and small plugins that I defined to try to reproduce bug 156307, I got this when I tried to add a plugin in the dependencies. java.lang.NullPointerException at org.eclipse.pde.internal.core.bundle.BundlePluginBase.addImport(BundlePluginBase.java:201) at org.eclipse.pde.internal.core.bundle.BundlePluginBase.add(BundlePluginBase.java:189) at org.eclipse.pde.internal.ui.editor.plugin.RequiresSection.addImports(RequiresSection.java:339) at org.eclipse.pde.internal.ui.editor.plugin.RequiresSection.handleAdd(RequiresSection.java:321) at org.eclipse.pde.internal.ui.editor.plugin.RequiresSection.buttonSelected(RequiresSection.java:155) at org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.buttonSelected(TableSection.java:44) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected(SharedPartWithButtons.java:36) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected(SharedPartWithButtons.java:29) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3387) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3006) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:341) at org.eclipse.core.launcher.Main.basicRun(Main.java:285) at org.eclipse.core.launcher.Main.run(Main.java:987) at org.eclipse.core.launcher.Main.main(Main.java:962)"}, {"bug_id": "156414", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/GeneralInfoSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/OverviewPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/PluginGeneralInfoSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "OSGi create log creating MANIFEST create link xml Bug Overview", "bug_title": " Widget Disposed error when creating OSGi manifest", "bug_description": "I had 2 3.0 projects with the info in plugin.xml.  I used the \"create OSGi manifest\" link on the PDE Editor>Overview tab. While updating the PDE editor with the newly created MANIFEST.MF, it generated an exception: org.eclipse.swt.SWTException: Widget is disposed I'll attach the log. PW"}, {"bug_id": "157504", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "ide internal org Framework jdt runEventLoop version widgetSelected Project Field", "bug_title": " CCE trying to define a new fragment", "bug_description": "Trying to define a new fragment that extends org.eclipse.jdt.core using the wizard, I got a ClassCastException clicking on the Finish button. eclipse.buildId=I20060912-0800 java.version=1.5.0_09-ea java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_CA Framework arguments:  -showlocation Command-line arguments:  -os win32 -ws win32 -arch x86 -debug -consolelog -console -showlocation java.lang.ClassCastException: org.eclipse.pde.internal.ui.wizards.plugin.FragmentFieldData at org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.createManifest(NewProjectCreationOperation.java:205) at org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.execute(NewProjectCreationOperation.java:269) at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:101) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1737) at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:113) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313) at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:854) at org.eclipse.pde.internal.ui.wizards.plugin.NewFragmentProjectWizard.performFinish(NewFragmentProjectWizard.java:85) at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:683) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:355) at org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:638) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3390) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3009) at org.eclipse.jface.window.Window.runEventLoop(Window.java:820) at org.eclipse.jface.window.Window.open(Window.java:796) at org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:116) at org.eclipse.jface.action.Action.runWithEvent(Action.java:499) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:539) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3390) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3009) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:348) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:165) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:341) at org.eclipse.core.launcher.Main.basicRun(Main.java:285) at org.eclipse.core.launcher.Main.run(Main.java:987) at org.eclipse.core.launcher.Main.main(Main.java:962)"}, {"bug_id": "158326", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/build/BuildContentsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "build runAsyncMessages bec build swt Opening Children Contents nid Busy", "bug_title": " Opening build.properties for big plug-in locks UI for 45s and flashes cursor", "bug_description": "I20060922-0010 Opening build.properties for a big plug-in locks the UI for 45+ seconds and heavily flashes the cursor beween busy and normal. - open /org.eclipse.jdt.ui.tests.refactoring/build.properties - go to 'Build' page Trace taken while blocked (looks like CheckboxTreeViewer creates children eagerly): \"main\" prio=6 tid=0x00280048 nid=0x6bec runnable [0x0007e000..0x0007fc40] at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:1883) at org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1321) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3340) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:4889) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4059) at org.eclipse.swt.internal.win32.OS.SendMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.SendMessage(OS.java:2630) at org.eclipse.swt.widgets.Tree.createItem(Tree.java:1820) at org.eclipse.swt.widgets.TreeItem.<init>(TreeItem.java:195) at org.eclipse.swt.widgets.TreeItem.<init>(TreeItem.java:153) at org.eclipse.jface.viewers.TreeViewer.createNewRowPart(TreeViewer.java:932) at org.eclipse.jface.viewers.TreeViewer.newItem(TreeViewer.java:450) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:796) at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:775) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:749) at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:774) at org.eclipse.jface.viewers.CheckboxTreeViewer.setCheckedChildren(CheckboxTreeViewer.java:404) at org.eclipse.jface.viewers.CheckboxTreeViewer.setCheckedChildren(CheckboxTreeViewer.java:412) at org.eclipse.jface.viewers.CheckboxTreeViewer.setCheckedChildren(CheckboxTreeViewer.java:412) at org.eclipse.jface.viewers.CheckboxTreeViewer.setSubtreeChecked(CheckboxTreeViewer.java:556) at org.eclipse.pde.internal.ui.editor.build.BuildContentsSection$4.run(BuildContentsSection.java:313) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123) - locked <0x1b6f5798> (a org.eclipse.swt.widgets.RunnableLock) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3367)"}, {"bug_id": "158418", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "file Equinox project bundle Framework Bug", "bug_title": " Creating a new osgi bundle project adds lazy-start header", "bug_description": "If a new plug-in project is created that targets a starndard OSGi Framework then the Eclipse-LazyStart: true header is added to the new bundle manifest file. I thought Equinox specific headers where disabled by default when targeting a starndard OSGi Framework."}, {"bug_id": "158945", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/VersionUtil.java"], "repo": "eclipse.pde.ui", "reformed_query": "allowed qualifier required problems bundle NOTE bundle core invalid minor", "bug_title": " PDE cannot handle space after ',' in the required bundle version", "bug_description": "I20060926-0930 Take a MANIFEST.MF and add a space after the ',' in the required bundle version, e.g. in a bundle MANIFEST.MF change: org.eclipse.core.filesystem;bundle-version=\"[1.1.0,2.0.0)\" to org.eclipse.core.filesystem;bundle-version=\"[1.1.0, 2.0.0)\" and save ==> The specified version does not have the correct format (major.minor.micro.qualifier) or contains invalid characters NOTE: I can start and use the bundle without problems, hence I assume that the space allowed."}, {"bug_id": "159020", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/feature/FeatureOutlinePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "included Feature Feature outline outline Included Feature Included Outline Feature", "bug_title": " Included Features don't show up in Feature Editor Outline", "bug_description": "When a Feature Editor contains \"Included Features\", none of the included features show up in the Feature Editor outline."}, {"bug_id": "160017", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ICoreConstants.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECoreMessages.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/PDEMarkerFactory.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/RemoveImportExportServicesResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ResolutionGenerator.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "Service Quickfix Export Export Service Quickfix Bug Export Bug reminder", "bug_title": " Quickfix for Import-Service / Export-Service", "bug_description": "This is a reminder for me to do a quickfix for this."}, {"bug_id": "160043", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/RequiredPluginsInitializer.java"], "repo": "eclipse.pde.ui", "reformed_query": "RequiredPluginsInitializer Explorer container Description Bug initializer Required fails displayed create", "bug_title": " RequiredPluginsInitializer should implement getDescription(...)", "bug_description": "I20061003 RequiredPluginsInitializer should implement getDescription(...) as this is what is displayed in the Package Explorer (after bug 160005 is fixed) when the initializer fails to create the container (see bug 159989)."}, {"bug_id": "162557", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/DependencyManagementSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "build Loop Adapter handleNew EclipseStarter DependencyManagementSection Add Unknown widgets", "bug_title": " SWTException thrown by DependencyManagementSection.refresh", "bug_description": "Not much to say, except that this exception was thrown while clicking the \"Add\"  button in the Automatic management of Dependencies section.  Of course closing and reopening the editor worked around the problem. ENTRY org.eclipse.ui 4 0 2006-10-27 09:11:22.367 !MESSAGE Widget is disposed !STACK 0 org.eclipse.swt.SWTException: Widget is disposed at org.eclipse.swt.SWT.error(SWT.java:3374) at org.eclipse.swt.SWT.error(SWT.java:3297) at org.eclipse.swt.SWT.error(SWT.java:3268) at org.eclipse.swt.widgets.Widget.error(Widget.java:435) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:330) at org.eclipse.swt.widgets.Table.setSelection(Table.java:3985) at org.eclipse.jface.viewers.TableViewer.setSelectionToWidget(TableViewer.java:1147) at org.eclipse.jface.viewers.StructuredViewer.setSelectionToWidget(StructuredViewer.java:1619) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1330) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1386) at org.eclipse.jface.viewers.StructuredViewer.refresh(StructuredViewer.java:1345) at org.eclipse.pde.internal.ui.editor.plugin.DependencyManagementSection.refresh(DependencyManagementSection.java:285) at org.eclipse.pde.internal.ui.editor.plugin.DependencyManagementSection.modelChanged(DependencyManagementSection.java:424) at org.eclipse.pde.internal.core.text.AbstractEditingModel.fireModelChanged(AbstractEditingModel.java:206) at org.eclipse.pde.internal.core.text.build.Build.add(Build.java:44) at org.eclipse.pde.internal.ui.editor.plugin.DependencyManagementSection.handleNew(DependencyManagementSection.java:357) at org.eclipse.pde.internal.ui.editor.plugin.DependencyManagementSection.buttonSelected(DependencyManagementSection.java:292) at org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.buttonSelected(TableSection.java:37) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected(SharedPartWithButtons.java:36) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected(SharedPartWithButtons.java:29) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:928) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3348) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2968) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1914) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1878) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:419) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:78) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:92) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:68) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:400) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:177) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336) at org.eclipse.core.launcher.Main.basicRun(Main.java:280) at org.eclipse.core.launcher.Main.run(Main.java:977) at org.eclipse.core.launcher.Main.main(Main.java:952)"}, {"bug_id": "163161", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/context/XMLInputContext.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/plugin/PluginObjectNode.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/plugin/PluginBaseNode.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/IDocumentNode.java"], "repo": "eclipse.pde.ui", "reformed_query": "bad Bug call messed Add add edtor", "bug_title": " PDE Extension Wizard creates bad plugin.xml file", "bug_description": "When you use the PDE Add Extension (at least for hello, world action) the plugin.xml file is messed up. steps to reproduce: 1) create a new plugin project (call it test) 2) open the Manifest edtor 3) open the extension tab 4) add a new extension (select action set -> hello, world) 5) save the file look the plugin.xml file.  Some of the xml is outside the <plugin> </plugin> tags."}, {"bug_id": "163258", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginModelBase.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/plugin/PluginModelBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "longer bundle Localization extensions Bundle View attribute root editor mechanism", "bug_title": " Bundle-Localization Manifest Header not honored by plugin.xml editor", "bug_description": "I'm seeing that if a Bundle-Localization other than the default of plugin.properties is specified in the MANIFEST.MF of a project, the plugin.xml editor no longer displays the value for any keys that were entered as attribute values. For example, I have a project that specifies the Bundle-Localization in it's MANIFEST.MF as follows: Bundle-Localization: OSGI-INF/l10n/bundle I've created a a bundle.properties file in the OSGI-INF/l10n/ folder at the root of my project with the following content: view.label=My View Then, in the plug-in.xml for the same project I set the name attribute of one of my view extensions to %view.label.  When I run the application the value for the view.label key (\"My View\") is automatically retrieved and displayed in the app.  However, if I open the plugin.xml editor \"My View\" does not appear, but rather \"%view.label\". Note that if I had not changed the location of the Bundle-Localization it would have defaulted to plugin.properties in the root of my project.  In this situation the plugin.xml editor displays the key value correctly, and \"My View\" would appear next to the view extension. So, whatever mechanism does the lookup is working correctly in the application, but the plugin.xml editor doesn't appear to do it's lookup based on Bundle-Localization."}, {"bug_id": "163384", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "plugin order based bin entries pretty dev dev classpath selected", "bug_title": " Wrong order of classpath entries in self-hosting", "bug_description": "Using I20061102-1715, I have the following problem. I have: 1) one plugin that has a bundle-classpath like this: lib.jar,. '.' corresponds to two output folders (bin1 and bin2) 2) a fragment based on that plugin that provides a lib.jar file. Since lib.jar is first on the bundle-classpath, I expect the classes inside the jar to be selected first. The jar contains types that are also available in the plugin '.' path through bin2. I debugged this test case and the entries for this plugin are: bin1 bin2 lib.jar This means that my \"new\" version of the classes (in lib.jar) are never picked up because they are always found in bin2. I would say that the dev classpath must respect the order specified in the bundle-classpath. lib.jar should definitely added before the two output folders from the plugin. This is a pretty serious problem for me since I cannot self-host my actual setup. I will need to export the plugin and the fragment to a new target and run from that target hoping to be able to debug it."}, {"bug_id": "164337", "ground_truth": ["ui/org.eclipse.pde.ui/plugin.xml", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/BuildPropertiesChange.java"], "repo": "eclipse.pde.ui", "reformed_query": "project rename PDE number", "bug_title": " exceptions in PDE refactoring participant", "bug_description": "I tried to rename a plug-in project and got a number of exceptions in my log."}, {"bug_id": "164438", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/FeatureImportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "PDE Bug META feature confusion workspace project signed project signed", "bug_title": " Signed features mistaken for plug-ins", "bug_description": "Build: N-20061113 When you import features from the Target platform via the Feature Import wizard, the imported features do not recognized by PDE as features in the workspace. Upon investigation, it turns out that this is due to the fact that the imported features are signed. The META-INF/MANIFEST.MF folder in the imported feature causes confusion between the feature project structure and the plug-in project structure. PDE is treating signed feature projects as plug-in projects."}, {"bug_id": "164495", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "imported problem manifest Classpath Bundle values plug mode simply file", "bug_title": " Remove garbage when imported signed plug-ins", "bug_description": "When importing signed JARd plug-ins WITH source, we should remove all the signing-related garbage from the manifest.mf upon importing. This can simply be done by reading the signed manifest and then regurgitating the keys/values and saving them Note that the problem does not occur when importing plug-ins as binary because we already write the manifest.mf file upon importing in that mode to modify the Bundle-Classpath header.  So we should do the same here wrt reading/writing the manifest, except that we don't have to modify the Bundle-Classpath header in this case."}, {"bug_id": "164762", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/exports/ProductExportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "root folder copy Mac work work Export location Contents copy", "bug_title": " Export product on OS X fails to put product.ini in proper location", "bug_description": "When a product x is exported on OS X, the x.ini file is placed in the root folder which doesn't work.  You have to manually copy it to the x.app/Contents/MacOS folder and then it works."}, {"bug_id": "165045", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathUtilCore.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "jar source warning doc html properies including plug importing build", "bug_title": " Import plugin with source leaves a warning about missing ---src.zip", "bug_description": "After exporting a plug-in project with source the export includes a ---src.zip file for use when importing with source. On import the build.properties file that is created references the --src.zip file. But since the src zip was used on import but not imported itself there is a warning in the on the build.properties. I tried including build.properties on export since it does not reference a --src.zip file but that file is ignored on import. build.properies file created on import that includes the warning. source.actions.jar = src-actions/ bin.includes = .project,\\ about.html,\\ actions.jar,\\ actionssrc.zip,\\     <== warning on this non-existant file build.properties,\\ doc/,\\ icons/,\\ META-INF/,\\ plugin.xml,\\ src-actions/"}, {"bug_id": "166546", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/RequiredPluginsClasspathContainer.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/PDEJavaHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "Add required reference actual multiple project extra open list Bug", "bug_title": " Exporting the default package of a plug-in project does not allow other plug-ins to use classes in the default package", "bug_description": "Build ID: I20061102-1715 Steps To Reproduce: 1.Create new class in the default package of a plug-in. 2.Export the default package. Using the runtime tab, Add an Exported package, and choose (default pacakge); or add '.' to the export-package list in Manifest.MF. 3.In a differnt plug-in, add the first plug-in to the required plug-in list. 4.Try to reference a class from default package of the first bundle, in the second plug-in. More information: Also interesting, you can add the default package to the list of exported packages (in the Runtime tab) multiple times, which you can't do for actual packages. If you close and re-open the Manifest File, the extra packages will be removed."}, {"bug_id": "166680", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug JavaCompiler explorer reproduce META Export Export problem called compiler", "bug_title": " META-INF should be seen as a package name in the bundle manifest", "bug_description": "In order to provide jsr199 support, I need to define a service which provides our implementation of the jsr199 as a possible java compiler. In order to do that I define a file called javax.tool.JavaCompiler inside the META-INF/services folder. This folder is located in a source folder in order to be copied to the output folder. Inside the package explorer META-INF/services is seen as a non-java resources. In order to make it visible to other plugins (like my test plugin), I need to add it as part of the Export-Package section of the bundle manifest. Export-Package: org.eclipse.jdt.compiler.tool, META-INF.services On the line that contains it, I get an error saying that \"Package 'META-INF.services' does not exist in this plug-in\". Since I need this line, I'd like it to be error-free. To reproduce the problem, check out the project org.eclipse.jdt.compiler.tool from dev.eclipse.org."}, {"bug_id": "166795", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/ConfigurationTemplateBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "developer prevents launcher config absolute php open loc Aspect replaced", "bug_title": " variables in config.ini template field don't stick", "bug_description": "I20061128-0800 If you use a variable to point to a config.ini template in the workspace (i.e. ${workspace_loc}\\demo.eclipse.tracing\\config.ini) then PDE seems to fill in the correct information when you launch.  But then if you open the launcher again you will notice that the ${workspace_loc} variable has been replaced with the real absolute path to your workspace.  All other fields in PDE seem to keep the variable and do not modify the value with the real path. I ran into this issue following the instructions at the AspectJ incubator site http://www.eclipse.org/equinox/incubator/aspects/getting_started.php The demos in the incubator include launchers that point to workspace config.ini templates.  The problem is the launchers include absolute paths the the workspace the developer was using when they specified the launchers.  It would be nice if these launchers could be released with ${workspace_loc} variables but PDE UI prevents this."}, {"bug_id": "166801", "ground_truth": ["ui/org.eclipse.pde.core/src_ant/org/eclipse/pde/internal/core/ant/ConvertSchemaToHTML.java", "ui/org.eclipse.pde.core/ant_tasks/pde-ant.jar"], "repo": "eclipse.pde.ui", "reformed_query": "applications build files bundle points php reference needed", "bug_title": " [docs] core.runtime.applications and core.runtime.products ext pts missing", "bug_description": "I20061205-0800 The following help files are missing from the build. /help/topic/org.eclipse.platform.doc.isv/reference/extension-points/org_eclipse_core_runtime_applications.html /help/topic/org.eclipse.platform.doc.isv/reference/extension-points/org_eclipse_core_runtime_products.html These extension points moved from the org.eclipse.core.runtime bundle to the org.eclipse.equinox.app bundle.  From the instructions at http://wiki.eclipse.org/index.php/How_to_add_things_to_the_Eclipse_doc it is unclear that anything needed to be updated in the org.eclipse.platform.doc.isv to pick up the the moved extension point documentation.  I do not see any place that associates extension point documentation with the plugin which provides the extension point."}, {"bug_id": "166826", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "ENTRY Privileged core find Controller Bug net Eclipse", "bug_title": " Cannot launch runtime workbench with binary imported plug-ins", "bug_description": "I20061205-0800 - Import org.eclipse.jdt.ui and all required plug-ins as binary - start a runtime Eclipse => BOOM: Dialog \"Launch Error\" with \"The application cannot start...\". !SESSION Tue Dec 05 20:09:54 CET 2006 ------------------------------------------ !ENTRY org.eclipse.core.launcher 4 0 2006-12-05 20:09:54.618 !MESSAGE Exception launching the Eclipse Platform: !STACK java.lang.ClassNotFoundException: org.eclipse.core.runtime.adaptor.EclipseStarter at java.net.URLClassLoader$1.run(URLClassLoader.java:200) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:188) at java.lang.ClassLoader.loadClass(ClassLoader.java:306) at java.lang.ClassLoader.loadClass(ClassLoader.java:251) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:336) at org.eclipse.core.launcher.Main.basicRun(Main.java:283) at org.eclipse.core.launcher.Main.run(Main.java:984) at org.eclipse.core.launcher.Main.main(Main.java:959)"}, {"bug_id": "166984", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "fragment week Bug workspace", "bug_title": " Eclipse Application launch config fails with SWT fragment in workspace", "bug_description": "Using I20061205-1200, Eclipse Application launch configs are failing when SWT fragment is in my workspace. Possibly related to changes made by SWT last week."}, {"bug_id": "167313", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/IHelpContextIds.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/provisioner/DirectorySelectionPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/provisioner/AddTargetPluginsWizard.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/provisioner/DirectorySelectionPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/provisioner/FileSystemProvisionerWizard.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/IProvisionerWizard.java"], "repo": "eclipse.pde.ui", "reformed_query": "invoke sense preferences files target file ins add wizard font", "bug_title": " File System Target Provisioner wizard glitches", "bug_description": "The File system provisioner wizard is great. It does have a few glitches though: 1a. Too many levels of indirection before choosing a directory. The Add Location dialog is not necessary.  the Add... in the wizard should directly invoke the directory chooser. Also, the Variables thing is a little weird here.  I suspect you wanted to reuse the location dialog from the target editor.  While it makes perfect sense for variables to appear in the target editor since those .target files are sharable.  Here people just want to add directories and they are not sharing that info. 1b. The Edit... button should be removed when 1a is done. 2. The Directory choooser has amnesia.  Every time I open it, it goes back to an all-collapsed uninitialized state. The first time it is open, we should initialize it to the current location of the target platform.  Every subsequent time it is open, it should be initialized to the last location entered. 3. The help button in the bottom left does nothing.  you need to hook up context help. 4. The wizard page description should read 'Add plug-ins from the file system to the target platform' 5. The font in the table viewer and label does not honor the dialog font preferences."}, {"bug_id": "167774", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEState.java"], "repo": "eclipse.pde.ui", "reformed_query": "widgetSelected provisioning Plugins PDEState TypedListener lang createTargetModels Models SelectionHandler widgets", "bug_title": " NPE in target provisioning", "bug_description": "When adding a target with files which are not plug-ins, an NPE is thrown. java.lang.NullPointerException at org.eclipse.pde.internal.core.PDEState.createTargetModels(PDEState.java:146) at org.eclipse.pde.internal.ui.preferences.TargetPluginsTab.addNewBundles(TargetPluginsTab.java:950) at org.eclipse.pde.internal.ui.preferences.TargetPluginsTab.handleAdd(TargetPluginsTab.java:935) at org.eclipse.pde.internal.ui.preferences.TargetPluginsTab.buttonSelected(TargetPluginsTab.java:892) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected(SharedPartWithButtons.java:36) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected(SharedPartWithButtons.java:29) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:929)"}, {"bug_id": "168126", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathUtilCore.java"], "repo": "eclipse.pde.ui", "reformed_query": "references importing Source references project Plug plug project recreate Bug", "bug_title": " Warnings on project after importing w/ source folders a project that was exported with source", "bug_description": "Steps to recreate: 1. Create a Plug-in Project 2. Export with Source 3. Delete plug-in project 4. Import exported plug-in with source folders Result: There are warnings on the plugin.xml and Manifest.MF for any references to classes.  This is because there are no source folders on the buildpath."}, {"bug_id": "168198", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/AbstractPluginBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "handleEvent app open Item tab Plugins Group widgets plugin runEventLoop", "bug_title": " Error while validating a launch config", "bug_description": "I created a new launch config, switched to the plugins tab.  I deselected all workspace plugins, then checked the target twice to select all target plugins. Then I selected one plugin from my workspace, unchecked the automatically add new plugins, and clickec validate plugins.  It gave me an error in the error log. org.eclipse.swt.SWTException: Widget is disposed at org.eclipse.swt.SWT.error(SWT.java:3450) at org.eclipse.swt.SWT.error(SWT.java:3373) at org.eclipse.swt.SWT.error(SWT.java:3344) at org.eclipse.swt.widgets.Widget.error(Widget.java:438) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:376) at org.eclipse.swt.widgets.Control.getShell(Control.java:1891) at org.eclipse.pde.internal.ui.launcher.AbstractPluginBlock.handleValidatePlugins(AbstractPluginBlock.java:309) at org.eclipse.pde.internal.ui.launcher.AbstractPluginBlock$1.widgetSelected(AbstractPluginBlock.java:189) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:90) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1097) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3226) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2898) at org.eclipse.jface.window.Window.runEventLoop(Window.java:820) at org.eclipse.jface.window.Window.open(Window.java:796) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:1092) at org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:385) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:389) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:331) at org.eclipse.debug.ui.actions.OpenLaunchDialogAction.run(OpenLaunchDialogAction.java:80) at org.eclipse.jface.action.Action.runWithEvent(Action.java:499) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1097) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3226) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2898) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1945) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1909) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:425) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod(EclipseAppContainer.java:522) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:147) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:170) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:339) at org.eclipse.core.launcher.Main.basicRun(Main.java:283) at org.eclipse.core.launcher.Main.run(Main.java:984) at org.eclipse.core.launcher.Main.main(Main.java:959) I'm on eclipse.buildId=I20061214-0010 java.fullversion=J2RE 1.5.0 IBM J9 2.3 Linux x86-32 j9vmxi3223-20060919 (JIT enabled) J9VM - 20060915_08260_lHdSMR JIT  - 20060908_1811_r8 GC   - 20060906_AA BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US Command-line arguments:  -os linux -ws gtk -arch x86 -data /opt/pwebster/workspaces/bug154130"}, {"bug_id": "168337", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "build equinox Widget commandProc read carbon runAction mouseProc TargetPlatformPreferencePage eclipse", "bug_title": " NPE in TargetPlatformPreferencePage", "bug_description": "Build ID: I20061214-1445 Steps To Reproduce: new install; fresh workspace java.lang.NullPointerException at org.eclipse.pde.internal.ui.preferences.TargetPlatformPreferencePage.dispose(TargetPlatformPreferencePage.java:121) at org.eclipse.jface.preference.PreferenceNode.disposeResources(PreferenceNode.java:173) at org.eclipse.ui.internal.preferences.WorkbenchPreferenceExtensionNode.disposeResources(WorkbenchPreferenceExtensionNode.java:134) at org.eclipse.jface.preference.PreferenceDialog.close(PreferenceDialog.java:289) at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.close(FilteredPreferenceDialog.java:452) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.close(WorkbenchPreferenceDialog.java:140) at org.eclipse.jface.preference.PreferenceDialog.cancelPressed(PreferenceDialog.java:269) at org.eclipse.jface.preference.PreferenceDialog.handleShellCloseEvent(PreferenceDialog.java:824) at org.eclipse.jface.window.Window$3.shellClosed(Window.java:682) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:159) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1527) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1551) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1536) at org.eclipse.swt.widgets.Shell.closeWidget(Shell.java:433) at org.eclipse.swt.widgets.Shell.kEventWindowClose(Shell.java:969) at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:2069) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4007) at org.eclipse.swt.internal.carbon.OS.SendEventToEventTarget(Native Method) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2963) at org.eclipse.jface.window.Window.runEventLoop(Window.java:820) at org.eclipse.jface.window.Window.open(Window.java:796) at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:65) at org.eclipse.ui.carbon.CarbonUIEnhancer.runAction(CarbonUIEnhancer.java:280) at org.eclipse.ui.carbon.CarbonUIEnhancer.access$0(CarbonUIEnhancer.java:274) at org.eclipse.ui.carbon.CarbonUIEnhancer$Target.commandProc(CarbonUIEnhancer.java:79) at org.eclipse.swt.internal.carbon.OS.MenuSelect(Native Method) at org.eclipse.swt.widgets.Display.mouseProc(Display.java:2786) at org.eclipse.swt.internal.carbon.OS.SendEventToEventTarget(Native Method) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2963) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1945) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1909) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:425) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:95) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethod(EclipseAppContainer.java:522) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:147) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:74) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:170) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:339) at org.eclipse.core.launcher.Main.basicRun(Main.java:283) at org.eclipse.core.launcher.Main.run(Main.java:984) at org.eclipse.core.launcher.Main.main(Main.java:959) More information: possibly related to bug 167774 eclipse.buildId=I20061214-1445 java.version=1.5.0_06 java.vendor=Apple Computer, Inc. BootLoader constants: OS=macosx, ARCH=x86, WS=carbon, NL=en_US Framework arguments:  -keyring /Users/dragonfly/.eclipse_keyring -showlocation Command-line arguments:  -os macosx -ws carbon -keyring /Users/dragonfly/.eclipse_keyring -consoleLog -showlocation java version \"1.5.0_06\" Java(TM) 2 Runtime Environment, Standard Edition (build 1.5.0_06-112) Java HotSpot(TM) Client VM (build 1.5.0_06-64, mixed mode, sharing)"}, {"bug_id": "168417", "ground_truth": ["ui/org.eclipse.pde.core/src_ant/org/eclipse/pde/internal/core/ant/BaseExportTask.java"], "repo": "eclipse.pde.ui", "reformed_query": "checked destination Build Build Successfull antrunner ant Save saved exported", "bug_title": " Generated Ant Script to export plugin projects not working", "bug_description": "Using export option in Manifest.mf file of eclipse I exported a plugin project and with the option \"Save as Ant Script\" checked. On running the saved ant script using the eclipse antrunner the jar file is not getting exported in the specified destination directory. But I'm getting a message of Build-Successfull."}, {"bug_id": "168669", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Windows TargetPlatformPreferencesPage TargetPlatformPreferencesPage Bug target Selection distro clean load Selection", "bug_title": " The Load target button in the PDE preferences page for Target Platform is not enabled correctly", "bug_description": "Build ID: 3.3M4 Steps To Reproduce: 1. Install clean 3.3M4 in Linux (In my case the distro was Kubuntu) 2. Go to Help / Preferences / Target Platform 3. When you select any of the already defined targets, the load target button is not enabled. More information: While reproducing the same steps on Windows the page works correctly. It seems the Combo ModifyEvents are handled differently in both versions. Adding a SelectionListener to the TargetPlatformPreferencesPage gets it to work in Linux too."}, {"bug_id": "169480", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundleFragment.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePlugin.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "comma MANIFEST changed string", "bug_title": " MANIFEST.MF editor does not display plug-in names with commas", "bug_description": "I don't know if commas are supposed to be allowed in a plug-in's name (not the id), but they are not being properly displayed in the 'Overview' tab of the multi-page editor if you do use them. If you put in 'a,b' and save, the text field is set to just 'a'. If you click on the 'MANIFEST.MF' tab, you do see 'a,b' as the name though. The same applies for 'a,b,c', resetting to 'a'. If you use 'a,,b', the text field is cleared to '', the empty string, so I guess some kind of comma parser is involved here. Either way, I guess the parser needs to be updated to flag an error for using commas or changed to return the correct name with the comma(s)."}, {"bug_id": "169852", "ground_truth": ["ui/org.eclipse.pde.ui/plugin.xml", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/JUnitLaunchConfigurationDelegate.java"], "repo": "eclipse.pde.ui", "reformed_query": "broken Update Delegate Configuration Bug junit Bug junit action find", "bug_title": " Update to new JUnitLaunchConfigurationDelegate", "bug_description": "20070108 In I20070109 you will find a new API class o.e.jdt.junit.launcher.JUnitLaunchConfigurationDelegate which replaces JUnitBaseLaunchConfiguration (which is still there, deprecated, so nothing broken, no urgent action required) The following patch updates PDE's delegate to use the new API."}, {"bug_id": "170474", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "Steps created HelloWorld dependancies   Dependancies", "bug_title": " Dependancies not initially set in project creation wizard", "bug_description": "build i0109-1805 When I create a new HelloWorld plug-in project with the wizard and do not choose to have an Activator class created for me, the plug-in dependancies for the project are not set up and I end up with compile errors in my java file. Steps: - File -> New -> PDE -> Plug-in Project - Enter a project name - Next - De-select \"Generate an Activator class\" - Next - Choose \"Hello, World\" - Finish Note the compile errors in the java file."}, {"bug_id": "170516", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaPreviewLauncher.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/PDEModelUtility.java"], "repo": "eclipse.pde.ui", "reformed_query": "PDE Expected content editor Expected extension select unsaved editor version", "bug_title": " [Schema][Editors][Actions] Preview Reference Document should offer to save file", "bug_description": "Create a PDE schema file \"schemaTest.exsd\" extension, give it some content and save. Now make some more changes without saving the editor. From the package explorer right click on schemaTest.exsd and select PDE Tools/Preview Reference Document Expected result: I am asked if I want to first save the file. Actual result: The last saved version is previewed and the unsaved changes do not show."}, {"bug_id": "170678", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/AddNewDependenciesOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bundle dependencies Bug account jars bundle unnecessary", "bug_title": " Dependency Management does not take into account packages in binary jars", "bug_description": "Dependency management does not always take into account the packages found in binary jars already on the bundle's Bundle-ClassPath.  This could cause unnecessary dependencies being added when the dependency could be satisfied by jars already in the bundle."}, {"bug_id": "170756", "ground_truth": ["ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/bundle/ExportPackageHeader.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/bundle/ImportPackageHeader.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/AddExportPackageMarkerResolution.java"], "repo": "eclipse.pde.ui", "reformed_query": "MANIFEST internal navigator PDE org workingsets resources packages Manifests", "bug_title": " Quick fix 'Add missing packages' should add internal packages as x-internal:=true", "bug_description": "I20070116-1510 - have org.eclipse.ui.navigator.resources tag I20061213-1608 from CVS - set PDE compiler problem severity for 'Non-exported packages' to Error - in the MANIFEST.MF, apply quick fix 'Add missing packages' to the error => was: adds: org.eclipse.ui.internal.navigator.workingsets, => expected: should add (same as PDE Tools > Organize Manifests...): org.eclipse.ui.internal.navigator.workingsets;x-internal:=true,"}, {"bug_id": "171767", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/MainTab.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/MainTab.java"], "repo": "eclipse.pde.ui", "reformed_query": "PDE tab cut Bug Main bigger PDE dialog Bug tab", "bug_title": " Main tab of PDE launch configurations is cut with bigger dialog font", "bug_description": "I20070123-1715 Main tab of PDE launch configurations is cut if a bigger dialog font is used."}, {"bug_id": "171838", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/target/EnvironmentPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/target/EnvironmentSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/target/TargetEditor.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/parts/ComboPart.java"], "repo": "eclipse.pde.ui", "reformed_query": "slow asynchronously Eclipse fact combo", "bug_title": " Environment page of Target editor is too slow to initialize", "bug_description": "1. Start Eclipse 2. Open/Create a target file 3. Switch to the Environment page. It will take a long time for it to initialize.  This is due to the fact that it takes a long time to retrieve the locales that fill the NL combo box. The editor should do what the Environment tab of the target platform preference page does, which is to create the page and show it right away, and retrieve the locales and fill in the combo box asynchronously."}, {"bug_id": "171962", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionElementDetails.java"], "repo": "eclipse.pde.ui", "reformed_query": "expected editor observe translatable plugin Add element extension eclipse type", "bug_title": " the value of a translatable attribute seems to be set twice", "bug_description": "This happens all the time with translatable attributes. For example, 1. On the Extensions page of the plugin editor, press Add.. and choose the org.eclipse.core.runtime.content.contenttype extension point. 2. right-click on the extension and select the content-type element. The element will be created and selected, which is good.  But observe how the 'name' attribute has a long qualified name.  If you select the element again, the value of the 'name' attribute will now show 'name' as expected. Is it that the value of the attribute is being set twice, but it's not refreshed after the second/good value is being set?"}, {"bug_id": "172080", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/AbstractXMLMarkerResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ExternalizeResolution.java"], "repo": "eclipse.pde.ui", "reformed_query": "String Eclipse broken apply MANIFEST substitutes Externalize version Usage", "bug_title": " Quick fix broken: Externalize manifest header value", "bug_description": "Eclipse version > Build id: I20070123-1715 Steps To Reproduce: (1) Open PDE compiler preferences Window -> Preferences... -> Plug-in Development -> Compilers (2) Set option \"Usage of non-externalized strings\" to \"Error\" on \"Plug-ins\" tab and apply (3) Create a plug-in project using the hello world template -> Builder shows an error (4) Switch to \"MANIFEST.MF\" source page -> Quick fix available next to \"Bundle-Name\" header (5) Click quick fix (6) Select \"Externalize the Bundle-Name header\" -> Properties file key is generated and substitutes the String value -> \"null.properties\" is created in the project root with the String value in it -> An error is still present saying that the key is not found in the properties file"}, {"bug_id": "172137", "ground_truth": ["ui/org.eclipse.pde.ui.templates/src/org/eclipse/pde/internal/ui/templates/rcp/MailTemplate.java", "ui/org.eclipse.pde.ui.templates/templates_3.0/mail/bin/plugin.properties", "ui/org.eclipse.pde.ui.templates/templates_3.1/mail/bin/plugin.properties", "ui/org.eclipse.pde.ui.templates/templates_3.3/mail/bin/plugin.properties"], "repo": "eclipse.pde.ui", "reformed_query": "untranslated mail plugin reason Create plugin app Untranslated plugin Bug", "bug_title": " Untranslated text in RCP mail app", "bug_description": "1. Create an RCP mail app 2. Run it 3. Open the Help > About dialog Note how the text says '%aboutText' The reason why the text is untranslated is because newly created plug-ins now no longer start off with a Bundle-Localization: plugin header."}, {"bug_id": "172374", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LauncherUtils.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "JUnit workspace clear examine dialog feature platform Build erros discovered", "bug_title": " Launch As Eclipse Application clears target workspace BEFORE it determines if it is in use", "bug_description": "Build ID: 3.2.1 Build id: M20060921-0945 Steps To Reproduce: 1. Run ... menu to invoke the launch configuration dialog 2. select a workspace that is in use by another Eclipse 3. select clear workspace 4. RUN 5. You will see an error message \"Workspace Cannot be Locked\" 6. close the message (click OK) 7. switch to the Eclipse instance that has (had) the workspace open 8. refresh current view 9. you get an error \"Project location has been deleted\" asking if the project should be deleted from the workspace. More information: I have discovered an interesting feature of platform launch.  For my case, I am writing JUnit plug-in tests.  Hence, when I run the tests, a new workbench is launched.  Running the test causes a new Java project to be created in the launched workspace, and project source to be generated and compiled. It is possible that some of my tests fail due to compile erros. In this case, I launch a new instance of Eclipse on the launch workspace so I can open the generated project and examine the compile errors. Now here comes the rub. If I forget to close this second instance of Eclipse, then return to the primary workbench and launch another test, *and* I specify to delete the workbench, the workbench is cleared even though another instance of Eclipse has it open.  *after* clearing the workbench, the launch code determines that the workspace is locked by another instance and the launch fails. Ultimately, the second instance of Eclipse that has the workspace open gets errors trying to refresh a workbench that no longer exists. It seems to me that the launch should check for the workspace being in use *before* it does the clear."}, {"bug_id": "172398", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/templates/AbstractTemplateSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "generating packageName bug Replacement AbstractTemplateSection substituting resolve substituting bug AbstractTemplateSection", "bug_title": " [API] no visible difference between getValue and getReplacementString in AbstractTemplateSection", "bug_description": "In the AbstractTemplateSection, we have two function: .getValue(String key) and .getReplacementString(String fileName, String key).  When generating a source folder, a call is made to .getValue().  When substituting keys in a file, .getReplacementString is called.  Unfortunately, they resolve the same key (packageName) differently.  This is the cause of bug 172230. We should look at why we have two functions that resolve keys.  I would recommend that if we keep both functions, they resolve the same key using the same code."}, {"bug_id": "172451", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ManifestConsistencyChecker.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/ManifestUtils.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/tools/OrganizeManifest.java"], "repo": "eclipse.pde.ui", "reformed_query": "started normal notice add problems error file expect compiler MANIFEST", "bug_title": " Missing build.properties file paralyzes PDE tooling", "bug_description": "I20070130-0800. I wanted to use PDE Tools > Organize Manifest... but it did nothing. It took a while to notice that I forgot to add a build.properties file and hence  the action did nothing. From such a cool tool I would expect that it either warns me or generates a build.properites file. I know, I know I should have used the PDE wizard to create the project in the first place but I started off a normal Java project. The missing build.properites file also affects the PDE compiler, which no longer creates the problems for some of the MANIFEST.MF sections. The compiler could add a warning or error on the project if the build.properties is missing and the corresponding 'Problems in build.properties files' is set to warning or error."}, {"bug_id": "172675", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/FragmentGeneralInfoSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "fields General modelChanged updated Externalization text Bundle version Note form", "bug_title": " Name, Provider form fields on fragment overview page not updated when externalization quick fix applied", "bug_description": "Eclipse version > Build id: I20070130-0800 Steps To Reproduce: (1) Create a fragment project (2) Set the externalized strings compiler option to Error Windows -> Preferences -> Plug-in Development -> Compilers -> Usage of Non-Externalized Strings (3) Go to MANIFEST.MF source page (4) Click on quick fix associated with the Bundle-Name header -> Select Externalize Bundle-Name header -> Externalization works well (5) Switch to Overview Page -> Notice the \"Name\" field in the \"General Information\" section still contains the non-externalized (6) Type some text in another field and click in another field -> Note: The externalized string key now appears in the \"Name\" field -> This problem is also applicable to the \"Provider\" field -> However, this problem does not occur if it is a plug-in project - only on fragment projects From my investigation, it simply looks like a model changed event is not being fired.  Because the modelChanged method in the GeneralInformationSection is not recieving any event to trigger the refresh."}, {"bug_id": "172721", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/actions/OpenSchemaAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "schema extension read point Open modifiable Steps", "bug_title": " Extension point schema editor opens as read-only from plugin.xml editor", "bug_description": "Build ID:  I20061214-1445 Steps To Reproduce: 1. Open a plugin.xml file for a plugin which declares 1 or more extension points 2. From the 'Extension Points' tab in the editor select the 'Open extension point schema' link. 3. The editor opens read-only. Is this intentional?  If so it was surprising.  You are in an editor that is modifiable editing a resource that is associated with the contents of that editor. More information:"}, {"bug_id": "172793", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/.settings/org.eclipse.jdt.core.prefs", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/JRESection.java"], "repo": "eclipse.pde.ui", "reformed_query": "consistent tab user Bug persisted tab JRE behaviour Java copied", "bug_title": " EE combo box should show EE-JRE bindings", "bug_description": "The EE combo box in the JRE section of the product editor should show in parenthesis the name of the JRE that is bound with each EE, or \"unbound\" if none exists. This would indicate clearly to the user the JRE that will be copied It would also be consistent with the behaviour of the combo on the JRE tab of the Java app launch configs. Note that the jre name in the EE combo is just for display only.  It must not be persisted since it will have a different value from workspace to workspace."}, {"bug_id": "173060", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug plugin easy extension removal   editor", "bug_title": " [Manifest][Editors] Can't multi select in the extension tab of the plug-in editor", "bug_description": "I20070206-0010 To make the editing experience more pleasant, the extension section of the plugin editor should support multi selection to allow for easy removal of items."}, {"bug_id": "173072", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/feature/OpenReferenceAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "editor don feature plugin clicking", "bug_title": " Wrong plugin editor opened when double clicking on a plugin", "bug_description": "I20070206-0010 When double clicking on a plugin in the plug-ins tab of a feature.xml, the wrong plugin editor is opened when versions are indicated. Steps: - create in your workspace two plugins with the same bundle id but different versions (don't put qualifier at the end) - create a feature and add those two plugins to the feature. - go the feature.xml tab and replace the 0.0.0s with the actual version numbers given to the plugins. - save - go back to the plugins tab and double click on the plugins. You will notice that it is always the same version of the editor that is opened."}, {"bug_id": "173119", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExportPackageSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "initial exported enabled Export Calculate Build Export initial initial enabled", "bug_title": " Calculate Uses button not enabled after initial add in Export Package section", "bug_description": "Build: I20070206-0010 The first time a user adds a exported package, the 'Calculate Uses' button remains disabled."}, {"bug_id": "173378", "ground_truth": ["ui/org.eclipse.pde.ui.templates/src/org/eclipse/pde/internal/ui/templates/rcp/MailTemplate.java"], "repo": "eclipse.pde.ui", "reformed_query": "build existent file file build mail plugin existent mail Bug", "bug_title": " RCP mail template references non-existent file", "bug_description": "The plugin.properties file was removed from the RCP mail template, but the build.properties file generated still references it in the bin.includes."}, {"bug_id": "173447", "ground_truth": ["ui/org.eclipse.pde.core/schema.css", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SchemaTransformer.java"], "repo": "eclipse.pde.ui", "reformed_query": "HTML hyperlink validating type description Code Generated attributes schema", "bug_title": " Generated schema description is not valid HTML", "bug_description": "I20070208-0010 Generated schema description is not valid HTML. E.g. validating the schema description for org.eclipse.ui.workbench.texteditor.hyperlinkDetectors yields 48 errors. Most of them are duplicate id=... attributes and nested <p> tags. The nested <p> tags are especially bad, since they make copy-paste of examples unusable, e.g.: <extension point= \"org.eclipse.ui.workbench.texteditor.hyperlinkDetectorTargets\" > <target id= \"org.eclipse.jdt.ui.javaCode\" name= \"Java Editor\" > <context type= \"org.eclipse.ui.texteditor.ITextEditor\" /> </target> </extension>"}, {"bug_id": "173712", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewLibraryPluginCreationPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug Properties Bug project plug button enable Steps field add", "bug_title": " Plug-in Project from jar wizard fails to enable the Finish button", "bug_description": "Build ID: I20070209-1006 Steps To Reproduce: 1. Use the wizard to create a plug-in project from a jar. 2. Use an external jar.  May work with others but only tested the external path since that is what I need. 3.  When filling in the Plug-in Properties, fill in any other field before specifying the project name. 4. The \"Finish\" button will now not be enabled even if you add all the correct information. More information:"}, {"bug_id": "173715", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/PluginWorkingSet.java"], "repo": "eclipse.pde.ui", "reformed_query": "widget event Method Realm PluginWorkingSet Workbench Loop runWithDefault Workbench createControl", "bug_title": " [Working Set] ClassCastException when trying to edit Working Set", "bug_description": "Build ID: I20070208-0010 Steps To Reproduce: I have one of my working set where the edit doesn't work. Pressing edit simply changes the cursor for a second and nothing happens. In the log, I get the following: !ENTRY org.eclipse.ui 4 0 2007-02-09 18:09:44.375 !MESSAGE Unhandled event loop exception !STACK 0 java.lang.ClassCastException: org.eclipse.core.internal.resources.File cannot be cast to org.eclipse.pde.internal.ui.util.PersistablePluginObject at org.eclipse.pde.internal.ui.util.PluginWorkingSet.initialize(PluginWorkingSet.java:268) at org.eclipse.pde.internal.ui.util.PluginWorkingSet.createControl(PluginWorkingSet.java:254) at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:259) at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:629) at org.eclipse.jface.wizard.WizardDialog.createContents(WizardDialog.java:514) at org.eclipse.jface.window.Window.create(Window.java:426) at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1111) at org.eclipse.ui.internal.dialogs.AbstractWorkingSetDialog.editSelectedWorkingSet(AbstractWorkingSetDialog.java:224) at org.eclipse.ui.internal.dialogs.AbstractWorkingSetDialog$2.widgetSelected(AbstractWorkingSetDialog.java:134) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:215) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3490) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3104) at org.eclipse.jface.window.Window.runEventLoop(Window.java:820) at org.eclipse.jface.window.Window.open(Window.java:796) at org.eclipse.ui.internal.dialogs.AbstractWorkingSetDialog.open(AbstractWorkingSetDialog.java:310) at org.eclipse.ui.internal.actions.SelectWorkingSetsAction.run(SelectWorkingSetsAction.java:143) at org.eclipse.ui.internal.actions.SelectWorkingSetsAction$ManageWorkingSetsAction.run(SelectWorkingSetsAction.java:62) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3490) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3104) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2264) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2228) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2103) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:457) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:452) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416) at org.eclipse.equinox.launcher.Main.run(Main.java:1124) More information:"}, {"bug_id": "173741", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ManifestConsistencyChecker.java"], "repo": "eclipse.pde.ui", "reformed_query": "model creates File Bug logs file DEPTH build PDE PDE", "bug_title": " A project created without build.properties files causes errors to be logged", "bug_description": "EMF creates new projects without a build.properties file and generates one of these when the model is first generated.  It looks like the PDE wants to generate a warning or perhaps error for a project with a missing build.properties file, but the logic is such that it tries to remove markers from the non-existing file private void removeFileMarkers() { try { fFile.deleteMarkers(IMarker.PROBLEM, false, IResource.DEPTH_ZERO); fFile.deleteMarkers(PDEMarkerFactory.MARKER_ID, false, IResource.DEPTH_ZERO); } catch (CoreException e) { PDECore.logException(e); } } and then logs an error log entry."}, {"bug_id": "173791", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ICoreConstants.java"], "repo": "eclipse.pde.ui", "reformed_query": "Category headers Plug tool find Manifest OSGi project INF", "bug_title": " PDE Tools > Organize Manifest... incorrectly identifes an externalized Bundle-Category value as unused", "bug_description": "Using 3.3 M5 The PDE Tools > Organize Manifest... tool incorrectly identifes an externalized Bundle-Category value as unused, and consequently removes it from the properties file.  This is not the expected behavior. Steps to Reproduce: 1.  Create a Plug-in Project. 2.  Open the project's META-INF/MANIFEST.MF.  Add the follow OSGi headers: Bundle-Localization: plugin Bundle-Category: %category 3.  If necessary, add a plugin.properties file to the root of the project. 4.  Add the following property to the plugin.properties file: category=Test 5.  Select the project in the Package Explorer, and organize its manifest by choosing PDE Tools > Organize Manifest... from the context menu. 6.  Check the checkbox labeled \"Remove unused keys from plug-in's properties file\" and then click the \"Finish\" button. 7.  Go to the plugin.properties file to find that the category propery has been removed."}, {"bug_id": "174168", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/DependencyPropertiesDialog.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/parts/PluginVersionPart.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "version dialog exported incorrect properties actual dialog number version brings", "bug_title": " Wrong section name in the dialog to enter version number for an exported package", "bug_description": "3.3M5 The properties dialog opened when clicking properties and having an exported package selected brings up a dialog that says \"version to match\". This is incorrect. This is the actual version of the package being exported."}, {"bug_id": "174800", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/JUnitProgramBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "Create execute Steps JUnit JUnit occurs definition Application Build Headless", "bug_title": " Headless application overrides product in PDE JUnit launch configurations", "bug_description": "Build ID: I20061214-1445 I've found that if I create a PDE JUnit launch configuration and set it to \"Run a product\", instead of \"Run an application\", that the test will be executed as a Headless test if No Application - Headless Mode was previously selected in the \"Run an application\" combo box.  This occurs even though the \"Run a product\" combo is selected as the program to run the the JUnit against Steps to reproduce: 1. Create a simple RCP application and a product definition for it. 1. Create a PDE Junit launch configuration. On the Main tab select \"Run an application\" and choose \"No Application - Headless Mode\" 3. Now select \"Run a product\" and choose the product configuration for the application. 4. Clicking run will execute the test headlessly, instead of launching the product first."}, {"bug_id": "175138", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/SourceOutlinePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Messages Async Runnable runApplication Tree runEventLoop RunnableLock runApplication Redraw vendor", "bug_title": " Widget is disposed error", "bug_description": "Using eclipse.buildId=I20070213-0907 java.version=1.6.0_01-ea java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=fr_CA Framework arguments:  -launcher D:\\eclipse\\I0213\\eclipse\\eclipse.exe -name Eclipse -startup D:\\eclipse\\I0213\\eclipse\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070208a.jar -showlocation Command-line arguments:  -os win32 -ws win32 -arch x86 -launcher D:\\eclipse\\I0213\\eclipse\\eclipse.exe -name Eclipse -startup D:\\eclipse\\I0213\\eclipse\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070208a.jar -debug -consolelog -console -showlocation When closing the build.properties editor, I got this error. Not always reproducable. org.eclipse.swt.SWTException: Widget is disposed at org.eclipse.swt.SWT.error(SWT.java:3478) at org.eclipse.swt.SWT.error(SWT.java:3401) at org.eclipse.swt.SWT.error(SWT.java:3372) at org.eclipse.swt.widgets.Widget.error(Widget.java:432) at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:325) at org.eclipse.swt.widgets.Tree.setRedraw(Tree.java:4107) at org.eclipse.pde.internal.ui.editor.SourceOutlinePage$1.run(SourceOutlinePage.java:93) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3484) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3124) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2264) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2228) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2103) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:457) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:452) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416) at org.eclipse.equinox.launcher.Main.run(Main.java:1124) at org.eclipse.equinox.launcher.Main.main(Main.java:1099)"}, {"bug_id": "175356", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/SourceOutlinePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Changed handleSelectionChangedSourcePage observable org launcher messageProc Accessor removeAllSelectionChangedListeners Viewer update", "bug_title": " NPE in SourceOutlinePage.removeAllSelectionChangedListeners(..)", "bug_description": "Found this in the log: eclipse.buildId=I20070220-1330 java.version=1.6.0_01 Error Fri Feb 23 20:19:31 CET 2007 Unhandled event loop exception java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.SourceOutlinePage.removeAllSelectionChangedListeners(SourceOutlinePage.java:135) at org.eclipse.pde.internal.ui.editor.PDESourcePage.updateOutlinePageSelection(PDESourcePage.java:560) at org.eclipse.pde.internal.ui.editor.plugin.BundleSourcePage.synchronizeOutlinePage(BundleSourcePage.java:749) at org.eclipse.pde.internal.ui.editor.plugin.BundleSourcePage.handleSelectionChangedSourcePage(BundleSourcePage.java:727) at org.eclipse.pde.internal.ui.editor.PDESourcePage$PDESourcePageChangedListener.selectionChanged(PDESourcePage.java:117) at org.eclipse.jface.text.TextViewer.firePostSelectionChanged(TextViewer.java:2522) at org.eclipse.jface.text.TextViewer.firePostSelectionChanged(TextViewer.java:2474) at org.eclipse.jface.text.TextViewer$5.run(TextViewer.java:2453) at org.eclipse.swt.widgets.Display.runTimer(Display.java:3570) at org.eclipse.swt.widgets.Display.messageProc(Display.java:2795) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2201) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3119) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2286) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2250) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2125) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:459) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:454) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416) at org.eclipse.equinox.launcher.Main.run(Main.java:1124) at org.eclipse.equinox.launcher.Main.main(Main.java:1099)"}, {"bug_id": "175566", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/SyntaxColorTab.java"], "repo": "eclipse.pde.ui", "reformed_query": "Previewer text Plugin Color red output Open Source Preference preferences", "bug_title": " Manifest editor preference page leaks six images", "bug_description": "Build: I20070220 Open and close the Plugin Development > Editors preference page.  Six images are leaked: two green plus images, two red X images, and two twin arrow \"refresh\" images. Sample Sleak output: java.lang.Error at java.lang.Throwable.<init>(Throwable.java:58) at org.eclipse.swt.graphics.Device.new_Object(Device.java:786) at org.eclipse.swt.graphics.Image.<init>(Image.java:491) at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:289) at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:227) at org.eclipse.jface.resource.ImageDescriptor.createImage(ImageDescriptor.java:205) at org.eclipse.pde.internal.ui.editor.text.PDEQuickAssistAssistant.<init>(PDEQuickAssistAssistant.java:157) at org.eclipse.pde.internal.ui.editor.text.XMLConfiguration.getQuickAssistAssistant(XMLConfiguration.java:165) at org.eclipse.jface.text.source.SourceViewer.configure(SourceViewer.java:369) at org.eclipse.pde.internal.ui.preferences.SyntaxColorTab.createPreviewer(SyntaxColorTab.java:242) at org.eclipse.pde.internal.ui.preferences.SyntaxColorTab.createContents(SyntaxColorTab.java:150) at org.eclipse.pde.internal.ui.preferences.EditorPreferencePage.createXMLTab(EditorPreferencePage.java:113) at org.eclipse.pde.internal.ui.preferences.EditorPreferencePage.createContents(EditorPreferencePage.java:100)"}, {"bug_id": "176045", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionElementDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/ChoiceAttributeRow.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/ExtensionAttributeRow.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/TextAttributeRow.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/ChoiceAttributeRow.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/ExtensionAttributeRow.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/TextAttributeRow.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionElementDetails.java"], "repo": "eclipse.pde.ui", "reformed_query": "editor fill extension PDE change Bug element", "bug_title": " Extension editor doesn't remember field changes", "bug_description": "On linux, I creat a handler element in the PDE Editor>Extensions tab and then start tabbing through the handler fields (I fill in all 3). When I click on another element under the extension section and click back, my handler has only remember the change to the first of 3 fields. PW"}, {"bug_id": "176509", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/OverviewPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Overview Development handle lang argument adaptor runUI exception Click clicking", "bug_title": " AssertionFailedException when clicking on dependencies link", "bug_description": "N20070302-0010 - Open Plug-in Development perspective - In Plug-ins view, double click on com.ibm.icu to view the manifest - In Plug-in Content section, click on Dependencies or Runtime link Nothing happens, and I get this exception in the error log: org.eclipse.core.runtime.AssertionFailedException: null argument: at org.eclipse.core.runtime.Assert.isNotNull(Assert.java(Inlined Compiled Code)) at org.eclipse.core.runtime.Assert.isNotNull(Assert.java(Compiled Code)) at org.eclipse.jface.viewers.StructuredSelection.<init>(StructuredSelection.java:66) at org.eclipse.pde.internal.ui.editor.plugin.OverviewPage.linkActivated(OverviewPage.java:255) at org.eclipse.ui.forms.widgets.FormText.activateLink(FormText.java:1533) at org.eclipse.ui.forms.widgets.FormText.handleMouseClick(FormText.java:1338) at org.eclipse.ui.forms.widgets.FormText.access$16(FormText.java:1310) at org.eclipse.ui.forms.widgets.FormText$6.mouseUp(FormText.java:443) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:194) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java(Compiled Code)) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java(Inlined Compiled Code)) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java(Compiled Code)) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java(Compiled Code)) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2270) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2145) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:460) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:455) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:85) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:58) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:60) at java.lang.reflect.Method.invoke(Method.java:391) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416) at org.eclipse.equinox.launcher.Main.run(Main.java:1124) at org.eclipse.equinox.launcher.Main.main(Main.java:1099)"}, {"bug_id": "176613", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Target issue Open Dialog Eclipse Platform Steps Platform button Open", "bug_title": " Load Target button not enabled until Pre-defined Target Platform is selected in the Combo", "bug_description": "Build ID:  I20070222-0951 Steps To Reproduce: 1.Open the Preferences for selecting a Target Platform (Plug-in Development>Target Platform) 2.Browse for a pre-defined target. 3.Select a pre-defined target and close the File Selection Dialog. The combo will now be populated with the pre-defined Target however the Load Target button is disabled.  User has to make a selection in the combo before the Load Target button will be enabled.  In previous versions of Eclipse (<3.3M5eh) the Load Target button would be enabled once the File Selection dialog was closed and a selection was made. More information: This issue is related to and might be caused for the patch applied to Bug 168669."}, {"bug_id": "177177", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/RequiresSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/PluginSelectionDialog.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/extension/PointSelectionPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "recreate extension extension bundle Create eclipse point app depend tab", "bug_title": " Extension points from import-package dependencies are not shown", "bug_description": "If I use Import-Package to depend on another bundle then the extension points from that bundle are not available when I add an extension.  I must uncheck \"Show only extension points from the required plug-ins\" in order to see available extension points. Steps to recreate: 1. Create an Equinox OSGi bundle 2. Add org.eclipse.equinox.app to the Import-Package manifest header and save the manifest. 3. Goto the Extensions tab and add an extension.  Notice that no extensions are available to select.  I would expect the org.eclipse.core.runtime.applications extension point to be available from the org.eclipse.equinox.app bundle."}, {"bug_id": "177212", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesViewListPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesViewTreePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesView.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesViewPageContentProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "update Dependencies View View Bug plug Dependency Delete project produce", "bug_title": " Dependency View does not update upon models being removed", "bug_description": "During refactoring work, I found the Dependency View does not update when the focused model is removed.  This can cause wierd things to happen.  For instance, these steps produce an NPE in the Manifest Editor: 1. Create plug-in project with unique name (not in target platform). 2. Focus on it in the Dependencies View 3. Delete the project 4. Double click on the project Instead of fixing the Manifest Editor, we should look at refocusing the Dependency View when the focused model is removed."}, {"bug_id": "177379", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/PackageFinder.java"], "repo": "eclipse.pde.ui", "reformed_query": "Observe Exception note widgets equinox Sun Files Plug Project addClassFilesFromResource", "bug_title": " NPE when creating project from jar org.apache.oro", "bug_description": "Reproduced on Windows XP SP1 / Sun 1.5.0_11 / Eclipse-3.3M5 and I20070313-1051. Follow the Orbit instructions from http://wiki.eclipse.org/index.php/Adding_Bundles_To_Orbit#Adding_a_library_for_the_first_time New Project > Plug-In Development > From existing Jar Add external: jakarta-oro.jar (from Jakarta ORO 2.0.8) Enter project name, etc; switch on \"Analyze library contents and add deps\"; unzip into project, Finish --> Observe this NPE (note that this must be specific to jakarta-oro.jar, at least jakarta commons-net imported fine): java.lang.NullPointerException at org.eclipse.pde.internal.ui.search.dependencies.PackageFinder.addClassFilesFromResource(PackageFinder.java:249) at org.eclipse.pde.internal.ui.search.dependencies.PackageFinder.getClassFiles(PackageFinder.java:232) at org.eclipse.pde.internal.ui.search.dependencies.AddNewBinaryDependenciesOperation.<init>(AddNewBinaryDependenciesOperation.java:32) at org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginCreationOperation$2.<init>(NewLibraryPluginCreationOperation.java:331) at org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginCreationOperation.addDependencies(NewLibraryPluginCreationOperation.java:331) at org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginCreationOperation.adjustManifests(NewLibraryPluginCreationOperation.java:130) at org.eclipse.pde.internal.ui.wizards.plugin.NewProjectCreationOperation.execute(NewProjectCreationOperation.java:312) at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:101) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1798) at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:113) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313) at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:890) at org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginProjectWizard.performFinish(NewLibraryPluginProjectWizard.java:125) at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:695) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:367) at org.eclipse.jface.dialogs.Dialog$3.widgetSelected(Dialog.java:638) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:215) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3490) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3104) at org.eclipse.jface.window.Window.runEventLoop(Window.java:820) at org.eclipse.jface.window.Window.open(Window.java:796) at org.eclipse.ui.actions.NewProjectAction.run(NewProjectAction.java:116) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3490) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3104) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2264) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2228) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2103) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:457) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:452) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:169) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416) at org.eclipse.equinox.launcher.Main.run(Main.java:1124)"}, {"bug_id": "178491", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/BundleSourcePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "menu MANIFEST Rename Symbolic Type bundle selected source Bundle", "bug_title": " \"Rename Bundle-SymbolicName...\" is not context-sensitive", "bug_description": "The context menu for the MANIFEST.MF source page now has a permanent \"Rename Bundle-SymbolicName...\". 1. That item is in a weird place in the menu.  It is in the Shift Left/Right section. 2. that item must only show up where it applied, ie. only when the value of the bundle symbolic name is selected.  Take a look at how/when other menu items such as 'Open Type' and hyperlinking are enabled for example."}, {"bug_id": "178855", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/RenamePluginProcessor.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/RenamePluginWizardPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/RenameProjectChange.java"], "repo": "eclipse.pde.ui", "reformed_query": "rename problem exists encountered finish button encountered Bug restart rename", "bug_title": " [refactoring] Cannot finish after trying to rename project to existing project", "bug_description": "the new plug-in refactoring functionality allows users to update their project name to the name as the new plug-in id.  Since we are changing project names, there is a chance the destination exists already.  I encountered this problem and was able to display an error when the user tried to go rename the project to an existing project.  Unfortunately, I was not able to fully test it. When the user tries to update the project name to an existing project, they see a new error page in the wizard that allows them to go back.  Unfortunately, after they go back the wizard never enables the OK button again so they have to exit and restart."}, {"bug_id": "179125", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/RequiredPluginsClasspathContainer.java"], "repo": "eclipse.pde.ui", "reformed_query": "Secondary man wise wise rules Bug incorrect Secondary wise rules", "bug_title": " Secondary Dependencies' access rules are incorrect", "bug_description": "Though I have not witness it myself, a wise man told me the secondary dependencies access rules are not correct.  I will investigate this for 3.3M7."}, {"bug_id": "179238", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/FormFilteredTree.java"], "repo": "eclipse.pde.ui", "reformed_query": "theme Bug filtered border positioned eats tree Extension clear clear", "bug_title": " Extension list filtered tree \"clear\" button is bad positioned", "bug_description": "Eclipse 3.3 M6 + Windows XP SP2 with classic theme: The \"clear\" button on extensions filtered tree \"eats\" the right border from filter box. See attached screenshot."}, {"bug_id": "179345", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEState.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/BaseImportWizardSecondPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardFirstPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "button Steps source screen scanned importable click close operation complete", "bug_title": " import plugin dialog: unable to cancel operation", "bug_description": "Build id: I20070323-1616 Steps to reproduce: start RAD and import all RAD plugins the wizard opens, select Project with source folders click next: I suspect the importable resources are being parsed / scanned Note that the wizard has not Cancel button enabled. I would like to Cancel my import and click on the top right red cross to close the import dialog. --> in the to be attached screen shot, please note that there is nothing I can do to Cancel this import, but wait for the background operation to complete."}, {"bug_id": "179401", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExecutionEnvironmentSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/BaseBlock.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/JREBlock.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/PDEPreferencesUtil.java"], "repo": "eclipse.pde.ui", "reformed_query": "button work parents work launcher Bug parent combo parent wrong", "bug_title": " Shells created by some launcher buttons has wrong parents", "bug_description": "The \"Workspace...\" and \"Variables...\" and \"Installed JREs...\" buttons create shells who have the wrong parent.  To test, use Alt key to trigger button, type ESC and then try the same Alt key combo.  Since the focus is not on the right shell, the key combo will not work."}, {"bug_id": "179677", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/CalculateUsesOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "findReferences action dialogs handleEvent Handle IDEApplication internal Calculate find ide", "bug_title": " NPE in CalculateUsesOperation", "bug_description": "eclipse.buildId=I20070323-1616 java.version=1.6.0 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=de_DE Framework arguments:  -startup D:\\Eclipse\\3.3-SDK-WTP-current\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070319.jar Command-line arguments:  -os win32 -ws win32 -arch x86 -startup D:\\Eclipse\\3.3-SDK-WTP-current\\plugins\\org.eclipse.equinox.launcher_1.0.0.v20070319.jar Error Wed Mar 28 10:23:03 CEST 2007 java.lang.NullPointerException at org.eclipse.pde.internal.ui.search.dependencies.CalculateUsesOperation.findReferences(CalculateUsesOperation.java:118) at org.eclipse.pde.internal.ui.search.dependencies.CalculateUsesOperation.findReferences(CalculateUsesOperation.java:111) at org.eclipse.pde.internal.ui.search.dependencies.CalculateUsesOperation.findPackageReferences(CalculateUsesOperation.java:98) at org.eclipse.pde.internal.ui.search.dependencies.CalculateUsesOperation.execute(CalculateUsesOperation.java:64) at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:101) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1797) at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:113) at org.eclipse.pde.internal.ui.wizards.tools.OrganizeManifestsOperation.runCleanup(OrganizeManifestsOperation.java:133) at org.eclipse.pde.internal.ui.wizards.tools.OrganizeManifestsOperation.access$0(OrganizeManifestsOperation.java:88) at org.eclipse.pde.internal.ui.wizards.tools.OrganizeManifestsOperation$1.modifyModel(OrganizeManifestsOperation.java:74) at org.eclipse.pde.internal.ui.util.PDEModelUtility.modifyModel(PDEModelUtility.java:258) at org.eclipse.pde.internal.ui.wizards.tools.OrganizeManifestsOperation.cleanProject(OrganizeManifestsOperation.java:82) at org.eclipse.pde.internal.ui.wizards.tools.OrganizeManifestsOperation.run(OrganizeManifestsOperation.java:62) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:369) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:313) at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:877) at org.eclipse.pde.internal.ui.wizards.tools.OrganizeManifestsWizard.performFinish(OrganizeManifestsWizard.java:39) at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:690) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:362) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:616) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284) at org.eclipse.jface.window.Window.runEventLoop(Window.java:820) at org.eclipse.jface.window.Window.open(Window.java:796) at org.eclipse.pde.internal.ui.wizards.tools.OrganizeManifestsAction$1.run(OrganizeManifestsAction.java:71) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.pde.internal.ui.wizards.tools.OrganizeManifestsAction.run(OrganizeManifestsAction.java:67) at org.eclipse.ui.internal.PluginAction.runWithEvent(PluginAction.java:253) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2337) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2301) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2176) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:463) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:458) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:101) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:146) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:356) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:171) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:476) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:416) at org.eclipse.equinox.launcher.Main.run(Main.java:1141)"}, {"bug_id": "180420", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewPluginProjectWizard.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/PluginContentPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "settings activator Platform needed Project selected persist workflow settings OSGi", "bug_title": " New Plug-in wizard defaults are biased toward plug-in development", "bug_description": "There are a couple of settings in the New Plug-in Project wizard that should be persisted from one invocation of the wizard to the next to make for a friendlier workflow. 1. The Eclipse Platform vs the OSGi framework choice on the first choice. OSGi developers currently always have to change this selection. 2. The selected values in the combo boxes should also be selected. There are settings that we can persist on the second page, e.g. whether or not an activator is needed or whether it is a UI plug-in or not, but this can be done for extra credit as I am not sure how annoying this part is, if at all."}, {"bug_id": "180960", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/FeatureImportOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "eclipse file system weird source overlays reuse Steps check importing", "bug_title": " Project import does not check if there is a project available on the filesystem", "bug_description": "I20070327-0800 When importing a project from the target platform with source, the wizard does not check for the presence of a folder on the file system and overlays the source over what was there, leaving the system in a weird state. Steps to reproduce: - load org.eclipse.pde.ui from CVS - delete the project from the workspace but do *not* delete it from the file system - import org.eclipse.pde.ui using the plug-in import wiazard and check to import with source. Once the import is complete you will notice that you still have the CVS information, which is a sign that what was there has not been deleted. Mike told me that he had some code implementing the logic of checking, etc. You may want to reuse that."}, {"bug_id": "181058", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/CreateHeaderChangeOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/FindReferenceOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "knowing knowing didn bundle feature bundle friends friends update project", "bug_title": " Missing x-friends should be settable as a warning or error", "bug_description": "If your bundle has x-friends, there should be a preference to allow missing x-friends to show up as warning, error, or ignore. This showed up because I did a project rename, which didn't update the x-friend references.  Without knowing this, I went to run and failed.  I had to manualy track down the old x-friend references and fix them by hand. If I had this feature, then I would have seen warnings about the missing x-friends."}, {"bug_id": "181063", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/ShowResultsAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "getUnusedDependeciesInfoDialog running lang Unsed Info NPE java UnusedDependenciesJob Bug getUnusedDependeciesInfoDialog", "bug_title": " NPE when running \"Find Unsed Dependencies\" from Dependencies View", "bug_description": "Caused by: java.lang.NullPointerException at org.eclipse.pde.internal.ui.search.dependencies.ShowResultsAction.getUnusedDependeciesInfoDialog(ShowResultsAction.java:80) at org.eclipse.pde.internal.ui.search.dependencies.ShowResultsAction.run(ShowResultsAction.java:48) at org.eclipse.pde.internal.ui.search.dependencies.UnusedDependenciesJob$1.run(UnusedDependenciesJob.java:64)"}, {"bug_id": "181343", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/CalleesContentProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "eclipse Dependencies host mode View flat host View eclipse Plug", "bug_title": " [Plug-in Dependencies View] Fragment shows itself as dependency", "bug_description": "1. Focus on org.eclipse.swt.win32 (with fragments option on) 2. You will see that the tree shows the host org.eclipse.swt but it should not show the fragment itself as a dependency. 3. In the flat layout mode, again both host and fragment are listed.  It should only show host."}, {"bug_id": "181476", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "model org IPluginModelBase lost overwriting source Project Description forces challenge", "bug_title": " Import existing plugin destroys custom project natures", "bug_description": "To reproduce: 1) install any plugin with both custom project natures and exported with source 2) import plugin with source 3) check .project - custom natures will be lost Currently org.eclipse.pde.internal.ui.wizards.imports.PluginImportOperation.setProjectDescription(IProject project, IPluginModelBase model) explicitly forces the the project nature to Java and/or PDE. However, if a developer had developed some plugins that contained custom natures, exported the plugin with source (including the original .project) - on import that information would be lost and would have to be manually reinstated. This makes the deployment of custom plugins a significant challenge. A simple change would be for setProjectDescription() to get the previous natures and add the Java/PDE natures (if necessary) instead of explicitly overwriting the natures."}, {"bug_id": "182075", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/contentassist/ManifestContentAssistProcessor.java"], "repo": "eclipse.pde.ui", "reformed_query": "version include proposals attribute bundle attribute Assist Bug cut inserts", "bug_title": " [Manifest Content Assist] Version proposals should not include qualifiers", "bug_description": "Content assist for the bundle-version attribute shows/inserts proposals with qualifiers. Qualifiers, if present, should be cut off."}, {"bug_id": "182277", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/StateViewPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/StateViewPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "contenttype Note label view JRE framework", "bug_title": " [Plug-in Dependencies View] System packages not distinguished from framework packages", "bug_description": "In the new plug-in dependencies view: On the state page, Expand org.eclipse.core.contenttype > Imported Packages. Note how system packages such as javax.xml.parsers and org.w3c.* packages are shown to have been supplied by org.eclipse.osgi and are indistinguishable from legitimate osgi packages like org.osgi.framework. Refer to bug 165044 comment 1 to see how a system package can be distinguished from an osgi package. a system package label should be have the text: \": supplied by the JRE\"."}, {"bug_id": "182483", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesViewComparator.java"], "repo": "eclipse.pde.ui", "reformed_query": "Development view PDE dependencies Dependencies   mode", "bug_title": " [Plug-in Dependencies View] sorting is lost after changing to presentation name mode", "bug_description": "1. Open the Plug-in Dependencies view and put it into 'PDE State' mode 2. Open the Plug-in Development preference page.  Change the 'Show plug-in objects in editors and dialogs' setting to 'Presentation names'.  Press OK. Note how the dependencies view updates correctly, but the entries are no longer sorted."}, {"bug_id": "183070", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/CalleesListContentProvider.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesView.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesViewListPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesViewPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesViewTreePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Optional View hierarchy Dependencies Dependencies correct pde menu Table deselect", "bug_title": " [Plug-in Dependencies View] Show Optional does not work in table mode", "bug_description": "1. Focus on org.eclipse.pde.junit.runtime. 2. Show callees in hierarchy mode.  Looks fine. 3. Now deselect 'Show optional dependencies' in the drop down menu.  org.eclipse.ui should vanish.  Fine. 4. Switch to Table Mode.  You now see a list that filters out org.eclipse.ui but includes all the dependencies of org.eclipse.ui, which is not correct. 5. Now switch to Tree mode.  Toggling 'show optional dependencies' does nothing anymore."}, {"bug_id": "183073", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "menu drilling editor remove extension remove Extensios triple Add editor", "bug_title": " [Manifest][Editors] Go Home/Back/Into are not necessary", "bug_description": "In the context menu of the Extensios section of the manifest editor, we have a Go Home/Back/Into triple menu contribution.  This drilling is not useful in this context and becomes particularly confusing when you have drilled into an extension and pressed 'Add...' We should just remove them.  It would also unclutter the context menu."}, {"bug_id": "183245", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/FeatureSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "features Incorrect selection jdt enabled Select Sort create cvs Unsort", "bug_title": " Incorrect button state after sort in FeatureSection of Product Editor", "bug_description": "Steps to reproduce: 1. create a new product 2. base the product on features 3. add three features.  Arrange the features so the last feature will be sorted to the top (ex. org.eclipse.pde.source, org.eclipse.jdt, org.eclipse.cvs). 4. Select the last feature.  Note how the up button is enabled and the down button is disabled. 5. Sort using action in section header 6. Unsort using action in section header Result: order and selection is restored to same state as step 4, except the down button is now enabled and the up button is disabled."}, {"bug_id": "183250", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/product/Product.java"], "repo": "eclipse.pde.ui", "reformed_query": "Product FeaturesSection menu FeaturesSection Features features configuration Solution Features Solution", "bug_title": " [Product][Editor] Can add duplicate features", "bug_description": "When creating a product based on features, the user is allowed to add features which are already present in the product configuration.  Solution is to filter out the current features from the options in the \"Add...\" menu of the FeaturesSection."}, {"bug_id": "183260", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/LoadTargetOperation.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginModelManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SourceLocationManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/TargetPlatformHelper.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/TargetPlatformResetJob.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/PDEJavaHelper.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPluginsTab.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/StateViewPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "SDK Eclipse check RCP delta workspace HEAD download start ins", "bug_title": " State out of sync after switching targets", "bug_description": "build i0418-1012 - download and extract the RCP delta pack - download and start Eclipse SDK on an empty workspace - check out org.eclipse.pde.build and org.eclipse.update.core from HEAD - change the target platform to be the RCP delta pack - note the errors from missing plug-ins, this is ok - switch the target back to the original (reset button) - note that the errors still exist"}, {"bug_id": "183405", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/RequiresSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "plug Create Dependencies Open BUG", "bug_title": " [Manifest][Editors] \"Required Plug-ins\" section title missing on \"Dependencies\" page", "bug_description": "Steps To Reproduce: (1) Create new plug-in project (any) -> Editor opens on \"Overview\" page (2) Switch to \"Dependencies\" page -> BUG: Title missing (3) Close editor (4) Open editor -> Editor opens on \"Dependencies\" page -> Title present now"}, {"bug_id": "183417", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDELabelProvider.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ImportPackageSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesLabelProvider.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/StateViewPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Fragment project Arabic Reproduce label maintained ordered character combination characters", "bug_title": " Bidi3.3: Elements' labels in the extensions page in the fragment manifest characters order is incorrect", "bug_description": "Build ID: I20070410-1043 Steps To Reproduce: 1. Create new Fragment project. 2. Create a new action set Extension. 3. When you use combination of English and Arabic characters for the action set label( Arabic character followed by English characters), the characters order will be incorrect. More information: Elements' labels under the defined extensions for the created fragment are not properly ordered and symmetric swapping for brackets and braces is not maintained Please refer to the attached screenshot."}, {"bug_id": "183587", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SearchablePluginsManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "view close Search path org Libraries Java closed workspace", "bug_title": " 'External Plug-in Libraries' misses closed project from Java Search", "bug_description": "I20070418-1012 - new workspace - import pde-incubator/api-tooling/plugins/org.eclipse.pde.api.tools and pde-incubator/api-tooling/plugins/org.eclipse.pde.api.tools.ui from dev.eclipse.org/cvsroot/eclipse - Plug-ins view, select all > Add to Java Search - close both org.eclipse.pde.api.* projects => Unexpected compile errors: - Project 'External Plug-in Libraries' is missing required Java project: 'org.eclipse.pde.api.tools'\t\tExternal Plug-in Libraries - The project cannot be built until build path errors are resolved\t\tExternal Plug-in Libraries"}, {"bug_id": "183708", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/DependenciesView.java"], "repo": "eclipse.pde.ui", "reformed_query": "Dependencies View Plug Bug core dependency plug view Open pde", "bug_title": " [Plug-in Dependencies View] Nothing happens when opening view from manifest editor.", "bug_description": "1. Open the Plug-in Dependencies view and put it in the State mode. 2. Open the manifest editor for pde.core, go to dependencies page, expand the Dependency Analysis section. 3. click on the 'Show the plug-in dependency hierarchy'.  Nothing happens."}, {"bug_id": "183715", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/ContainerRenameParticipant.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/CreateHeaderChangeOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/FindReferenceOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/RenamePluginProcessor.java"], "repo": "eclipse.pde.ui", "reformed_query": "project error renaming bundle xyz Refactor Create dependents error Rename", "bug_title": " [Refactoring] renaming a bundle does not update references in dependents.", "bug_description": "1. Create a plug-in project (com.example.xyz) 2. Create a plug-in project (com.example.aaa).  Add a dependency on com.example.xyz. 3. Select com.example.xyz project and choose Refactor > Rename... from context menu.  Ensure 'update references' is checked.  Rename to com.example.www. Note how com.example.aaa has an error now.  it still references com.example.xyz"}, {"bug_id": "184041", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ICoreConstants.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/MinimalState.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginModelManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/TargetPlatformHelper.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetEnvironmentTab.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "change reproduce update delta swt target based steps good notice", "bug_title": " Changing target environment does not update the plugin container", "bug_description": "I20070418-1012 I have noticed that when I change my target environment the plug-in dependencies do not get updated which can cause problems. Here are steps to reproduce: - start eclipse - create a plug-in with some UI dependencies - expand the plug-in dependencies and notice that the swt fragment for your platform is present. good. - change the target platform to point at an RCP based target containing the delta pack. reload. apply. the plug-in dependencies are left unchanged. good. - now modify the environment variables in the target platform to something else, notice that the reference to the swt fragment is not modified properly."}, {"bug_id": "184068", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ImportPackageSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug org   blog", "bug_title": " PDE Tooling does not support Import of own Exports", "bug_description": "http://www.osgi.org/blog/2007/04/importance-of-exporting-nd-importing.html"}, {"bug_id": "184644", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/ListUtil.java"], "repo": "eclipse.pde.ui", "reformed_query": "pde org feature   eclipse", "bug_title": " [Feature][Editor] Sorting is incorrect", "bug_description": "On the 'Plug-ins' and 'Included Features' of the feature editor, sorting is incorrect. 'org.eclipse.pde.source' appears before 'org.eclipse.pde'"}, {"bug_id": "184646", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/DependencyManager.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/AbstractPluginBlock.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPluginsTab.java"], "repo": "eclipse.pde.ui", "reformed_query": "Launchers dependencies unchecking reason weird functionality weird checking optional Add", "bug_title": " [Launchers] Add Required Plug-ins acts weird", "bug_description": "The 'Add Required Plug-ins/bundles' functionality in the PDE launchers give weird results, particularly when it comes to: 1. checking/unchecking the optional dependencies checkbox:  it does not seem to be able to tell the difference if Import-Package is used. 2. multiple bundles by the same ID.  Sometimes one of the dups get unchecked for no good reason."}, {"bug_id": "185597", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/PluginImport.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/PluginLibrary.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "build Finish target create File Bug OSGi   school", "bug_title": " Errors creating old-school plug-ins", "bug_description": "build i0503-1400 - start Eclipse - change target platform to r3.0.2 - File -> New -> Plug-in - 3.0 old school style - create an activator but won't contribute to UI - Finish When the build completes, there will be compile errors because it cannot find OSGi and runtime classes."}, {"bug_id": "185696", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/DependencyManagementSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Build Automated Management Automated title Whoops Dependencies Management Build Whoops", "bug_title": " [Manifest][Editors] Automated Management of Dependencies: Title disappears", "bug_description": "Build ID: The next integration build. In the Dependencies section of the Plug-in Editor, the Automated Management of Dependencies section occasionally does not show its title until you click on it. This was no doubt cause by my fix for bug 185406. Whoops! Please assign to me."}, {"bug_id": "185955", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "combo wizard Create box Bug combo project Project remembers version", "bug_title": " Target setting in New Plug-in Project wizard remembers too much", "bug_description": "Build: 3.3 M7 1. Open the New Plug-in Project wizard.  Note how on the first page of the wizard, the 'Eclipse version' combo value is 3.3 (current target version).  Good.  Create a project. 2. Change the target platform location to point to a 3.0.x build 3. Repeat #1.  Note how the Eclipse version combo value is now set to 3.0 (current target value).  Good. 4. Change the target platform location back to 3.3 via the Reset button on the Target Platform preference page. 5. Repeat #1.  You should now see 3.3 again in the combo box, but you still still 3.0.  Not good."}, {"bug_id": "186701", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/MinimalState.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEState.java"], "repo": "eclipse.pde.ui", "reformed_query": "Good fine restart Target target Create Bug Observe", "bug_title": " Target Environment Amnesia", "bug_description": "Latest code from HEAD 1. Create a Hello World plug-in project 2. Change the os/ws target environment on the preference page to linux/gtk 3. Observe how the Hellow world plug-in now has compiler errors, since the swt.win32 fragment is now unresolved and not on the classpath.  Good. 4.  Shut down and restart.  The hello world plug-in is now fine.  It is expected to still have errors."}, {"bug_id": "186963", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/Schema.java"], "repo": "eclipse.pde.ui", "reformed_query": "List ide Model fireModelChanged util App fireSelectionEvent Schema synchronizeModelIfNeeded", "bug_title": " [Schema][Editors] ConcurrentModificationException", "bug_description": "With Eclipse-3.3M7 on WinXP SP1, Sun 1.6.0_01 JVM; Installed in addition to Eclipse-SDK: CDT-4.0RC0, EMF-2.3.0M7, Releng.Tools Here's what I did: * Synchronize workspace (the .exsd in question was not affected), choose run in background * Look at some diffs found by synchronize * Switch to PDE Perspective * Ctrl+Shift+R, type \"subsystemconfigurations\" --> brings up my file, subsystemconfigurations.exsd --> PDE Schema Editor is opened, I see a dialog about the ConcurrentModificationException java.util.ConcurrentModificationException at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372) at java.util.AbstractList$Itr.next(AbstractList.java:343) at org.eclipse.pde.internal.core.schema.Schema.fireModelChanged(Schema.java:196) at org.eclipse.pde.internal.core.schema.EditableSchema.fireModelChanged(EditableSchema.java:36) at org.eclipse.pde.internal.core.schema.Schema.reload(Schema.java:778) at org.eclipse.pde.internal.ui.editor.schema.SchemaInputContext.synchronizeModel(SchemaInputContext.java:160) at org.eclipse.pde.internal.ui.editor.context.InputContext.synchronizeModelIfNeeded(InputContext.java:360) at org.eclipse.pde.internal.ui.editor.context.InputContext.isModelCorrect(InputContext.java:382) at org.eclipse.pde.internal.ui.editor.XMLSourcePage.canLeaveThePage(XMLSourcePage.java:27) at org.eclipse.ui.forms.editor.FormEditor.pageChange(FormEditor.java:478) at org.eclipse.pde.internal.ui.editor.PDEFormEditor.pageChange(PDEFormEditor.java:290) at org.eclipse.ui.forms.editor.FormEditor.setActivePage(FormEditor.java:623) at org.eclipse.ui.forms.editor.FormEditor.setActivePage(FormEditor.java:529) at org.eclipse.pde.internal.ui.editor.PDEFormEditor.setActivePage(PDEFormEditor.java:788) at org.eclipse.pde.internal.ui.editor.FormOutlinePage.selectionChanged(FormOutlinePage.java:195) at org.eclipse.pde.internal.ui.editor.FormOutlinePage.selectionChanged(FormOutlinePage.java:211) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:850) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:193) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:2039) at org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1138) at org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1164) at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:227) at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:221) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:388) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:436) at org.eclipse.equinox.launcher.Main.run(Main.java:1162)"}, {"bug_id": "187094", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/feature/FeaturePlugin.java"], "repo": "eclipse.pde.ui", "reformed_query": "eclipse FeaturePlugin NPEs ENTRY cvsroot Outline Base getPluginBase", "bug_title": " NPE opening feature manifest", "bug_description": "build i0515-0800 Whenever I open the a feature manifest on the Orbit feature I get a ton of NPEs in my log and a dialog saying that multiple errors occurred. repo - dev.eclipse.org path - /cvsroot/tools file - /org.eclipse.orbit/org.eclipse.orbit.build.feature.set1/feature.xml !ENTRY org.eclipse.jface 4 2 2007-05-15 15:38:24.629 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\". !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.core.feature.FeaturePlugin.getPluginBase(FeaturePlugin.java:55) at org.eclipse.pde.internal.ui.PDELabelProvider.getObjectImage(PDELabelProvider.java:759) at org.eclipse.pde.internal.ui.PDELabelProvider.getImage(PDELabelProvider.java:493) at org.eclipse.pde.internal.ui.editor.FormOutlinePage$BasicLabelProvider.getImage(FormOutlinePage.java:72) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.getImage(WrappedViewerLabelProvider.java:117) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:165) at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:135)"}, {"bug_id": "187228", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/PluginContentPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "project RCP press radio click Open Surprisingly Framework", "bug_title": " [RCP]: Available templates missing.", "bug_description": "Build ID: 3.2 Steps To Reproduce: 1.Open creation of Plug-in project wizard, give the project name and proceed to the Next page, Click the radio button to create the RCP application and press Next button. 2.You can see all the list of Available templates. 3.Now close the wizard and open again.This time select the 'OSGI Framework' radio button in the 'Target Platform' and click Next button. 3.Now press Back button and select the Eclipse Version Radio button under 'Target Platform' and go to the next page and select radio button to create the RCP Application and click Next. 4. Surprisingly, we notice the Templates related to RCP are missing (Compare the result after point 1 and point 3) More information: Above steps are sufficient to reproduce the problem."}, {"bug_id": "187390", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/FormFilteredTree.java"], "repo": "eclipse.pde.ui", "reformed_query": "implementation bug Composite change getParent getTree getParent viewer paintBordersFor FormFilteredTree", "bug_title": " Call super implementation from FormFilteredTree.doCreateTreeViewer", "bug_description": "Could you please change FormFilteredTree.doCreateTreeViewer to call the super implementation? Like this: protected TreeViewer doCreateTreeViewer(Composite parent, int style) { TreeViewer viewer = super.doCreateTreeViewer(parent, toolkit.getBorderStyle()); toolkit.paintBordersFor(viewer.getTree().getParent()); return viewer; } I have to put in code to safeguard against changes to the tree while the filtered tree is showing (see bug 187200). Without calling the super implementation, you will be left with an unoptimized filtered tree as of 3.3 RC1."}, {"bug_id": "188168", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/IPDEUIConstants.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LaunchListener.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LaunchPluginValidator.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/AbstractPDELaunchConfiguration.java"], "repo": "eclipse.pde.ui", "reformed_query": "launching workspace application launcher   fine", "bug_title": " Errors in Workspace dialog is displayed twice", "bug_description": "I20070517-1700 The Framework may request to be restarted for several reasons.  If you have a workspace with a project that has an error then when launching you will get the \"Errors in Workspace\" dialog.  This is fine, but if the Framework requests to restart while the application is running then the \"Errors in Workspace\" dialog is displayed again. The dialog should only be displayed each time the launcher is used, but not when a restart is requested by the Framework. I will attach a workspace and instructions to reproduce."}, {"bug_id": "188280", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/dependencies/CalleesContentProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "host Views Dependencies jdt Fragment compiler Dependencies Dependencies tree host", "bug_title": " [Dependencies][Views] Fragment host shown twice", "bug_description": "3.3RC1 Show dependencies view for fragment org.eclipse.jdt.compiler.apt in Callees mode. org.eclipse.jdt.core is shown twice in the tree."}, {"bug_id": "190515", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/plugins/JavaSearchOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "Add Bug progress Search Java progress progress Java Search Java", "bug_title": " \"Add to Java Search\" - nothing in progress dialog", "bug_description": ""}, {"bug_id": "190780", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDESection.java"], "repo": "eclipse.pde.ui", "reformed_query": "DelegatingMethodAccessorImpl Editable Synchronizer core Drag PDESection Managed SWT Lock runtime", "bug_title": " [Site][Editors] NPE doing DND", "bug_description": "I20070601-0010 Unfortunately I can not reproduce it. On the Site Map tab I did something like: 1. Add Feature... 2. New Category 3. Drag and Drop added feature onto category 4. Delete category org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException) at org.eclipse.swt.SWT.error(SWT.java:3563) at org.eclipse.swt.SWT.error(SWT.java:3481) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3659) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3296) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443) at org.eclipse.equinox.launcher.Main.run(Main.java:1169) at org.eclipse.equinox.launcher.Main.main(Main.java:1144) at org.eclipse.core.launcher.Main.main(Main.java:30) Caused by: java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.PDESection.isEditable(PDESection.java:72) at org.eclipse.pde.internal.ui.editor.site.CategorySection.updateButtons(CategorySection.java:572) at org.eclipse.pde.internal.ui.editor.site.CategorySection.refresh(CategorySection.java:567) at org.eclipse.ui.forms.ManagedForm.doRefresh(ManagedForm.java:207) at org.eclipse.ui.forms.ManagedForm.access$0(ManagedForm.java:202) at org.eclipse.ui.forms.ManagedForm$1.run(ManagedForm.java:196) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123) ... 24 more"}, {"bug_id": "190869", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LaunchArgumentsHelper.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/AbstractPDELaunchConfigurationTabGroup.java"], "repo": "eclipse.pde.ui", "reformed_query": "arguments Java tab debug dirty configuration Bug Open happen debug", "bug_title": " new configuration becomes dirty on arguments tab", "bug_description": "3.3RC3 * Open debug dialog * Creata new Eclipse Application * Select \"Arguments\" tab > Config becomes dirty. > Does not happen for Java Application."}, {"bug_id": "191231", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/AbstractLauncherTab.java"], "repo": "eclipse.pde.ui", "reformed_query": "Launcher create Launcher create createStartingSpace breaks Starting binary span Starting", "bug_title": " Binary compatibility breakage: protected method removed from AbstractLauncherTab", "bug_description": "3.3 RC3 The protected method createStartingSpace(Composite parent, int span) got removed from the API class AbstractLauncherTab. This breaks binary compatibility."}, {"bug_id": "191545", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug deleted happen excludes propery bin manifest jar warning file", "bug_title": " bin.excludes does not propery update", "bug_description": "With a plugin project the bin.excludes does not update when a jar file is deleted from the project.  With bin.includes, the manifest gets updated with a yellow warning triangle.  But this does not happen with bin.excludes."}, {"bug_id": "191973", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SchemaTransformer.java"], "repo": "eclipse.pde.ui", "reformed_query": "URL Handle equinox NPE printHeader printHTMLContent Points Description org Action", "bug_title": " NPE in SchemaTransformer.getSchemaCssURL", "bug_description": "Build: 3.3 M7 I am seeing this NPE in the log when clicking on \"\"Show extension point description\" in the Extension Points tab of the manifest editor. I get the same NPE when clicking \"Preview Reference Document\" in the extension point scheme editor. java.lang.NullPointerException at org.eclipse.pde.internal.core.builders.SchemaTransformer.getSchemaCssURL(SchemaTransformer.java:80) at org.eclipse.pde.internal.core.builders.SchemaTransformer.printStyles(SchemaTransformer.java:102) at org.eclipse.pde.internal.core.builders.SchemaTransformer.printHeader(SchemaTransformer.java:96) at org.eclipse.pde.internal.core.builders.SchemaTransformer.printHTMLContent(SchemaTransformer.java:87) at org.eclipse.pde.internal.core.builders.SchemaTransformer.transform(SchemaTransformer.java:58) at org.eclipse.pde.internal.core.builders.SchemaTransformer.transform(SchemaTransformer.java:50) at org.eclipse.pde.internal.ui.search.ShowDescriptionAction.showSchemaDocument(ShowDescriptionAction.java:125) at org.eclipse.pde.internal.ui.search.ShowDescriptionAction.run(ShowDescriptionAction.java:103) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionPointDetails$6.linkActivated(ExtensionPointDetails.java:269) at org.eclipse.ui.forms.widgets.FormText.activateLink(FormText.java:1533) at org.eclipse.ui.forms.widgets.FormText.handleMouseClick(FormText.java:1338) at org.eclipse.ui.forms.widgets.FormText.access$16(FormText.java:1310) at org.eclipse.ui.forms.widgets.FormText$6.mouseUp(FormText.java:443) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:206) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3673) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3284) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2365) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2329) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2204) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:497) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:436) at org.eclipse.equinox.launcher.Main.run(Main.java:1162)"}, {"bug_id": "195267", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/feature/RequiresSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "canAdd Jul runApplication TableSection Method Requires runEventLoop Exception ide Log", "bug_title": " Features dependencies - add features fail", "bug_description": "In Feature editor, in tabs \"dependencies\" , I have \"org.eclipse.rcp\" Feature in error and when i click on Features button , nothing is happened and i have this error if i delete \"org.eclipse.rcp\" and i click on features button , the dialog appears and  i can select \"org.eclipse.rcp\" -- Error Log -- Date: Tue Jul 03 15:57:40 CEST 2007 Message: Unhandled event loop exception Severity: Error Plugin ID: org.eclipse.ui Stack Trace: java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.canAdd(RequiresSection.java:308) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.access$4(RequiresSection.java:293) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection$4.run(RequiresSection.java:253) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.handleNewFeature(RequiresSection.java:246) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.buttonSelected(RequiresSection.java:185) at org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.buttonSelected(TableSection.java:45) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected(SharedPartWithButtons.java:35) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected(SharedPartWithButtons.java:28) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443) at org.eclipse.equinox.launcher.Main.run(Main.java:1169)"}, {"bug_id": "195394", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ImportPackageSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "getSourceRoots Loop Roots runEventLoop Unhandled create Microsystems Handle Method org", "bug_title": " [Manifest][Editors] NPE in org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection", "bug_description": "Build ID: I20070625-1500 Steps To Reproduce: 1. PDE Perspective, Plug-Ins view 2. Manifest Editor for org.eclipse.help.base 3. Switch to tab Dependencies 4. Select a package in the \"Imported Package\", open context-menu 5. Select \"Find references in this plugin\" More information: eclipse.buildId=I20070625-1500 java.version=1.6.0_02 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Command-line arguments:  -os win32 -ws win32 -arch x86 Error Wed Jul 04 16:56:55 CEST 2007 Unhandled event loop exception java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection.getSourceRoots(ImportPackageSection.java:695) at org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection.doReferenceSearch(ImportPackageSection.java:676) at org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection.access$9(ImportPackageSection.java:673) at org.eclipse.pde.internal.ui.editor.plugin.ImportPackageSection$7.run(ImportPackageSection.java:660) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:545) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:490) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:402) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443) at org.eclipse.equinox.launcher.Main.run(Main.java:1169)"}, {"bug_id": "195454", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginPathFinder.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/VersionUtil.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/EclipseApplicationLaunchConfiguration.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/JUnitLaunchConfigurationDelegate.java"], "repo": "eclipse.pde.ui", "reformed_query": "argument behaviour application extraneous flagging passing basically launching launching launching", "bug_title": " PDE supplies -pdelaunch to IApplication launches, which is not stripped out by platform", "bug_description": "When running an IApplication (see attached) the PDE launcher automatically appends -pdelaunch. However, this argument isn't stripped out of the 'special arguments' with the result that it's visible to the runtime Eclipse application. This behaviour is not seen when launching from the command line startApp, or presumably from the command line (though I've not tried the latter). This project has a simple IApplication (.launch included) that runs and prints out 'application.args'. When running from a PDE supplied launch (Launch as Eclipse Application, with selected class in -application) it's clear that it's passing the -pdelaunch to the runtime: Hello RCP World![-pdelaunch] Run from a startApp launch, you see: Hello RCP World![] This basically means you can't test IApplications from PDE that expect arguments. You can run as an OSGi framework, so it's just this extraneous flag that's preventing it from working, so I'm flagging as major."}, {"bug_id": "196735", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/cheatsheet/simple/SimpleCSSourcePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaSourcePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "Bug file Source schema editor Bug schema tab Bug file", "bug_title": " [Schema][Editor] Source page should be named \"Source\"", "bug_description": "Build ID: I20070625-1500 The source page tab in the schema editor currently uses as its name the name of the schema file. It should just say \"Source\"."}, {"bug_id": "196866", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ischema/ISchema.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ischema/ISchemaElement.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/Schema.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/SchemaElement.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/SchemaElementReference.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/NewAttributeAction.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/NewElementAction.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaAttributeDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaElementDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaRearranger.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/PDELabelUtility.java"], "repo": "eclipse.pde.ui", "reformed_query": "editor identify existing result casing Schema identity Editors Note generated", "bug_title": " [Schema][Editors] Global element and local attribute identity constraints are not respected", "bug_description": "The Schema Editor should not allow two or more (global) elements with the same name to be declared. The Schema Editor should not allow two or more (local) attributes with the same name to be declared under the same parent. The editor uses attribute and element names as their IDs to uniquely identify them.  As a result, they become 'linked' and things go seriously wrong. The auto-generated names will no longer overlap thanks to Bug # 196685 We need to guard against the user renaming the element or attribute to the same name as an existing one. If a duplicate name is detected, I suggest reverting the entered value to the previous uncommitted value as was done for empty element and attribute names. Note: I would consider names with the same characters but different casing to be the same (e.g. \"aB\" = \"Ab\")"}, {"bug_id": "196874", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/StructuredViewerSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionPointsSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/ElementSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Extension object reference selected parent selection lost level BUG cut", "bug_title": " [Manifest][Editors] Selection behaviour is wrong after delete in Extension section tree viewer", "bug_description": "Steps To Reproduce: (1) Open manifest editor (2) Switch to \"Extensions\" page (3) Select any object within the tree viewer in the \"All Extensions\" section (4) Press delete -> BUG: Selection is lost and details section goes blank The correct selection behaviour after the deletion is as follows: * If there are N objects on the same level in the hierarchy and the Nth object is deleted, the N-1th object should be selected * If there are N objects on the same level in the hierarchy and any object 1 to N-1 is deleted, the N+1th object should be selected * If N=1 objects on the same level in the hierarchy and object 1 is deleted, the parent object should be selected (no more children on the same level) This behaviour is applicable when the delete is performed using the corresponding keyboard shortcut, or context menu and when invoking a cut operation. This behaviour is implemented by the Simple Cheat Sheet Editor - if you need a reference."}, {"bug_id": "196878", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Manifest button Editors Manifest button move Edit agree tree additional", "bug_title": " [Manifest][Editors] Make \"Edit...\" button on \"Extensions\" page disappear", "bug_description": "I'd like to move the \"Edit...\" button on the \"Extensions\" page to be the last button beside the tree viewer (under \"Down\" button) and set its visibility to false when it is not applicable.  As far as I know no one in the Eclipse SDK makes use of it. Subject to Wassim's veto.  Wassim, if you agree that this bug is valid, could you provide background information and any additional requirements?"}, {"bug_id": "196882", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ischema/ISchemaAttribute.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/SchemaElement.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/AbstractSchemaDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaAttributeDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaElementDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaFormPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "Icon dynamically manifest Schema label Info presentation annotation editor details", "bug_title": " [Schema][Editors] Remove \"Label Property\" and \"Icon\" fields from \"Element Details\" section", "bug_description": "Problems: (1) Nobody understands what these fields are for (2) These fields make the details section of elements more cluttered (3) The fields only affect the presentation of elements in the manifest editor Extensions tree viewer (icon and name) -> This should be calculated dynamically rather than having to specified manually Criteria: For the element's presentation name, the element's first translatable attribute of type string should be used. For the element's presentation icon, the element's first attribute of type resource should be used. Recommendation: I think the easiest and cleanest way to do this is to update the element's schema annotation everytime a new attribute is added (in the schema editor) only if a value has not already been specified: <appInfo> <meta.element labelAttribute=\"name\" icon=\"icon\"/> </appInfo> Care has to be taken to preserve values already specified that do not meet the specified criteria above."}, {"bug_id": "197056", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/AbstractSchemaDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaAttributeDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaElementDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaRootElementDetails.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "create field recommend Editors type Bug attribute Schema type create", "bug_title": " [Schema][Editors] Move attribute \"use\" field \"deprecated\" field", "bug_description": "If you create attributes of different types and navigate between them in the tree viewer, the \"use\" field floats up and down.  I recommend moving the \"use\" field under the \"deprecated\" field so it never moves (regardless of attribute type)."}, {"bug_id": "197077", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/AbstractSchemaDetails.java"], "repo": "eclipse.pde.ui", "reformed_query": "select Read Bug exsd editable Latest description Schema", "bug_title": " [Schema][Editors] Read-only description section is writable", "bug_description": "Latest code from head 1. Open a .exsd file directly from the CVS Repositories view (ie. a read-only schema). 2. Go to the Definition tab of the schema editor and select an attribute. Note how the description section is editable.  It should be read-only like the the other editor sections."}, {"bug_id": "197410", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/contentassist/ManifestContentAssistProcessor.java"], "repo": "eclipse.pde.ui", "reformed_query": "appears manifest proposals sorted appears host completion completion sort order", "bug_title": " Manifest completion proposals are not sorted", "bug_description": "Version: 3.3.0 Build id: I20070625-1500 Some of the completion proposals on the manifest editor (for header completion) are out of order.  The most obvious one is the fragment-host entry which appears at the bottom. Will attach a patch to sort the list.  It might make more sense to just use Arrays.sort() instead of manually ordering it."}, {"bug_id": "197817", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SearchablePluginsManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SearchablePluginsManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "Search Open AndExpression eclipse bug Libraries regression External Type", "bug_title": " Plug-in should be removed from Java Search when imported as source", "bug_description": "I20070724-0800 Has already been reported as fixed in bug 56501, but apparently, no regression test caught the reappearance of this problem. - new workspace - Plug-ins view - Select All - Add to Java Search - import org.eclipse.core.expressions as source - Navigate > Open Type, enter \"AndExpression\" => two matches for same class (from source and from External Plug-in Libraries)"}, {"bug_id": "197906", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/compare/PluginContentMergeViewer.java"], "repo": "eclipse.pde.ui", "reformed_query": "automatically compare xml plugin smart repository Development change Plug viewer", "bug_title": " The plugin.xml compare viewer does not react to color changes", "bug_description": "Using the latest pde.ui code from HEAD: 1. Make a change to a plugin.xml file checked out from the repository. 2. Synchronize the project containing the plugin.xml with HEAD. 3. Double-click on the plugin.xml.  You will see a structural compare with nice syntax coloring.  Great. 4. Now go to the Plug-in Development > Editors preference page and change some the XML syntax color values.  Press OK. The compare viewer does not update.  It has to be closed and reopened. By contrast, the plugin.xml editor has a listener that automatically updates its color scheme.  The compare viewer should be as smart."}, {"bug_id": "198050", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionPointsSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "file Points Bug Bug Manifest disposed Extension Delete Manifest held", "bug_title": " [Manifest][Editor] schema file deleted on extension point delete, not restored on revert", "bug_description": "- Open the manifest editor to the Extension Points page. - Delete an extension point. - Say yes to the dialog asking if you want to delete the schema too. - Revert the editor or close without saving. BUG: The extension point is restored to the file, but the schema is still deleted. The contents of the deleted schemas should be held in buffers until the changes are saved or the editor is reverted/disposed. If the extension point delete is reverted, the file should be restored."}, {"bug_id": "198881", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/build/BuildSourcePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "attachment eclipse Created Source Bug patch BuildSourcePage Detector eclipse pde", "bug_title": " Hyperlink detector not working on Build source page", "bug_description": "Created attachment 75393 [details] patch to org.eclipse.pde.ui Version: 3.3.0 Build id: I20070625-1500 The build.properties editor has a hyperlink detector, but it is never enabled due to a bug in BuildSourcePage.  It is attempting to adapt to IHyperlinkDetector[] instead of IHyperlinkDetector.  Patch is attached."}, {"bug_id": "198961", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/feature/Feature.java"], "repo": "eclipse.pde.ui", "reformed_query": "times Create feature list Mark eclipse version removed Note", "bug_title": " Feature's dependency calculations include too much", "bug_description": "The Feature Editor has a compute button on the dependencies page.  This button is suppose to calculate the dependencies of the plug-ins contained in the feature. Unfortunately, some times a dependency is added when a plug-in is included in the feature which already satisfies the constraint. Test: 1. Create new plug-in project. 2. Add 'org.eclipse.ant' as a required bundle.  Mark the version range as [1.7.0-2.0.0). 3. Create a new feature 4. Add the plug-in project from step one into the feature on the plug-ins tab. 5. Add 'org.eclipse.ant' to the same table. 6. Go to the dependencies page and hit 'compute'.  This adds org.eclipse.ant as a dependency.  Since the version of org.eclipse.ant on the plug-ins page is 0.0.0, this is working correctly. 7. Now go back to the plug-ins tab.  Select org.eclipse.ant and change the specified version in the Plug-in Details Section to 1.8.0.  This should satisfy the constraint of [1.7.0 - 2.0.0). 8. Go to the dependencies page and hit compute.  Note how org.eclipse.ant is not removed from the dependencies list.  The feature contains a version which satisfies the dependency, so the org.eclipse.ant dependency should be removed. 9. go back to the plug-ins tab.  Select org.eclipse.ant and change the specified version in the Plug-in Details Section to 1.6.0.  This will NOT satisfy the constraint of [1.7.0-2.0.0). 10. Go to the dependencies page and hit compute. Note how org.eclipse.ant is removed from the dependency list."}, {"bug_id": "198965", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/feature/FeatureImport.java"], "repo": "eclipse.pde.ui", "reformed_query": "tracking find feature meets Match appears icon PDE validation Match", "bug_title": " Feature Editor does not find feature dependencies correctly", "bug_description": "When specifying a dependency on a feature in the Feature Editor on the Dependencies tab, the outline is updated.  If there is a feature which PDE is tracking that meets the version and match rule, the outline's icon is created with no error.  But when no feature can be found that satisfies the version constraint, a little red X appears on the icon. Unfortunately, the validation for this is not working correctly.  Add a dependency on a 3.3.0 feature.  By default the version to match will be 3.3.0.....  Change the version to match to 3.2.0.  Then change the Match rule to 'Compatible'.  Since the current 3.3.0 version is compatible with 3.2.0, no X should appear, but it does.  Then change the version to match to 3.4.0.  Note how this version is not compatible, yet the red X disappears."}, {"bug_id": "199129", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/nls/ExternalizeStringsOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "Localization externalized PDE Bug", "bug_title": " Bundle-Localization header not added to Fragments when externalized", "bug_description": "When using the Externalization wizard in PDE, Manifest.MFs from Fragment projects don't get updated with a Bundle-Localization header."}, {"bug_id": "199134", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Object NullPointerException pde Bug Extension jface Extensions getCustomImage WrappedViewerLabelProvider resolve", "bug_title": " NPE in Extensions Section", "bug_description": "I20070807-0100 java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection.getCustomImage(ExtensionsSection.java:750) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection.resolveObjectImage(ExtensionsSection.java:716) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection.access$1(ExtensionsSection.java:709) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection$ExtensionLabelProvider.getImage(ExtensionsSection.java:149) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.getImage(WrappedViewerLabelProvider.java:117) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:165) ..... An attribute of type resource can specify either an file or folder.  If it is a folder, I believe the file extension is null, causing the NPE.  This appears to be a small side effect from bug 198305."}, {"bug_id": "199169", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/compare/ManifestStructureCreator.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/compare/PluginStructureCreator.java"], "repo": "eclipse.pde.ui", "reformed_query": "zooms range content document structural entire structure Excellent Compilation xml", "bug_title": " The plugin.xml structure merge viewer does not show document root", "bug_description": "Using the latest pde.ui code from HEAD: - Make at least one change to a plugin.xml file checked out from the repository. - Synchronize the project containing the plugin.xml with HEAD. - Double-click on the plugin.xml. You will see a structural compare and a content compare. - Double-click on a specific change from the structure compare area. The content compare zooms to show just the affected range of the document. Excellent. BUG: Now that the document is zoomed to the change, there is no way to view the entire document again since we do not have a root element in the tree. If you look at the Java merge viewer, for instance, the root element is the Compilation Unit which allows the user to reset the view back to the entire document."}, {"bug_id": "199896", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardExpressPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Fragments click middle space avoid details express Wizard attachment wasting", "bug_title": " [Import][Wizard] The layout of the express page is wasteful", "bug_description": "Created attachment 76054 [details] patch - Open the \"Import Plug-ins and Fragments\" wizard. - On the first page, select \"Import plug-ins and fragments required by existing workspace plug-ins\" and click next. There is a big open area in the middle below the only two buttons. The buttons should be moved below to avoid wasting space."}, {"bug_id": "201044", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "fragment wizard project Bug version Build Maximum Editor empty", "bug_title": " [pde] fragment wizard doesn't transfer host maximum version from wizard into manifest", "bug_description": "Build ID: I20070625-1500 Steps To Reproduce: 1. Create a new fragment project 2. Choose your Host Plug-in 3. Enter Maximum version 4. Finish the wizard 5. The Plug-in Manifest Editor opens and the host maximum version is empty"}, {"bug_id": "201304", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "src builders ErrorReporter Reporter IProgress Time IFile java internal Text", "bug_title": " ErrorReporter makes deprecated calls", "bug_description": "org.eclipse.pde.internal.core.builders.ErrorReporter.java Severity and Description\tPath\tResource\tLocation\tCreation Time\tId The method connect(IPath, IProgressMonitor) from the type IFileBufferManager is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders\tErrorReporter.java\tline 71\t1188224978203\t132719 The method disconnect(IPath, IProgressMonitor) from the type IFileBufferManager is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders\tErrorReporter.java\tline 75\t1188224978203\t132721 The method getTextFileBuffer(IPath) from the type ITextFileBufferManager is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders\tErrorReporter.java\tline 72\t1188224978203\t132720"}, {"bug_id": "201306", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/XMLErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Location calls Location pde IFile Description connect Severity IProgressMonitor XMLError", "bug_title": " XMLErrorReporter makes deprecated calls", "bug_description": "org.eclipse.pde.internal.core.builders.XMLErrorReporter.java Severity and Description\tPath\tResource\tLocation\tCreation Time\tId The method connect(IPath, IProgressMonitor) from the type IFileBufferManager is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders\tXMLErrorReporter.java\tline 94\t1188224977953\t132716 The method disconnect(IPath, IProgressMonitor) from the type IFileBufferManager is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders\tXMLErrorReporter.java\tline 96\t1188224977953\t132718 The method getTextFileBuffer(IPath) from the type ITextFileBufferManager is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders\tXMLErrorReporter.java\tline 95\t1188224977953\t132717"}, {"bug_id": "201308", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/BinaryRepositoryProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "IFileModificationValidator Repository Validator type org Modification pde java Creation eclipse", "bug_title": " BinaryRepositoryProvider makes deprecated calls", "bug_description": "org.eclipse.pde.internal.core.BinaryRepositoryProvider.java Severity and Description\tPath\tResource\tLocation\tCreation Time\tId The type IFileModificationValidator is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core\tBinaryRepositoryProvider.java\tline 15\t1188224978718\t132725 The type IFileModificationValidator is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core\tBinaryRepositoryProvider.java\tline 30\t1188224978718\t132726 The type IFileModificationValidator is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core\tBinaryRepositoryProvider.java\tline 122\t1188224978718\t132727 The type IFileModificationValidator is deprecated\torg.eclipse.pde.core/src/org/eclipse/pde/internal/core\tBinaryRepositoryProvider.java\tline 170\t1188224978718\t132728"}, {"bug_id": "201369", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/context/InputContext.java"], "repo": "eclipse.pde.ui", "reformed_query": "reproduce object Steps Editor unregistered Adam Save deleted editor", "bug_title": " Deleting Extension Point (and file) causes problems", "bug_description": "I stumbled upon this while testing Adam's patch for another bug.  Steps to reproduce: 1. Create new Plug-in Project (without a template) 2. Switch to Extension Point tab 3. Add new Extension Point. 4. Schema editor opens, go back to Manifest Editor.  Save file 5. Delete schema. Note how the object does not go away.  It appears to be a side effect from fixing some selection work in this area.  But the problem actually is that the underlying listeners are getting unregistered.  When the Schema file is deleted, the plug-in listeners in the Manifest Editor are removed and hence the page does not get the updates since the corresponding listeners are removed."}, {"bug_id": "201572", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExportPackageSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExportPackageVisibilitySection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug radio manifest packages radio Visibility Add Friends radio Manifest", "bug_title": " [Manifest][Editors] Package Friends are not selected after addition", "bug_description": "1. Create a new Plug-in Project or open an existing one with exported packages. 2. Select a package that is either internal or visible. (It must have been that way before you opened the manifest editor) 3. In the Package Visibility section on the top-right, ensure that the \"hidden from all plug-ins except\" radio button is selected. 4. Click \"Add...\" and add a plug-in to this list. --> Bug: The added plug-in is not selected"}, {"bug_id": "201681", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDELabelProvider.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "bracket Bug character attached", "bug_title": " [Manifest][Editors] Weird character representing open bracket in tree and table viewers", "bug_description": "Problem in tree and table viewers with labels of the form \"xxxx(xxx)\". Please see attached screen shot #1."}, {"bug_id": "201880", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/registry/RegistryBrowserContentProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bundle Symbolic Provider org items jar Registry Build RegistryBrowserContentProvider displayed", "bug_title": " Plugin Registry view shows incorrect information from other versions", "bug_description": "Created attachment 77453 [details] Suggested bugfix Build ID: I20070625-1500 (Affects cvs head as of today too) Steps To Reproduce: 1. Install a plugin with multiple versions in a packaged Eclipse installation (NOT in Runtime Workbench!) 2. Open the view PDE Runtime > Plug-In Registry (Registry Browser) 3. Expand both plugin versions. Both show same location although they should differ. Example: org.example.plugin_1.0.0 points to plugins/org.example.plugin_1.0.0.jar org.example.plugin_1.0.1 points to plugins/org.example.plugin_1.0.0.jar org.example.plugin_1.0.2 points to plugins/org.example.plugin_1.0.0.jar org.example.plugin_1.0.3 points to plugins/org.example.plugin_1.0.0.jar More information: This is a bug in the UI only! The RegistryBrowserContentProvider identifes the items to be displayed solely on the symbolic name of a Bundle and does not take the version into account. The content provider should use another identification of the bundle, e.g. the bundle reference itself or at least the bundleId. Fix is easy: fPluginMap should contain <BundleId,Object[]> instead of <BundleSymbolicName,Object[]>. See attached patch."}, {"bug_id": "201966", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/ElementSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug BUG Remove editable org Sequence enabled Schema pde", "bug_title": " [Schema][Editors] Buttons should not be enabled with editor is not editable", "bug_description": "Eclipse version >= Build id: I20070828-0800 Steps To Reproduce: (1) Open \"org.eclipse.pde.doc.user\" manifest file (2) Go to \"Extensions\" page (3) Select \"org.eclipse.help.toc\" (4) Click the \"Open extension point schema\" hyperlink (5) Go to the \"Definition\" page -> BUG:  The following buttons are enabled: - \"New Choice\" - \"New Sequence\" - \"Remove\" -> EXPECTED:  The buttons should be disabled if the editor is not editable"}, {"bug_id": "202124", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ManifestEditor.java"], "repo": "eclipse.pde.ui", "reformed_query": "init create entry editor DelegatingMethodAccessorImpl NativeMethodAccessorImpl Manifest located EclipseStarter util", "bug_title": " NullPointerException in Manifest Editor when doubleclicking out-of-sync Dependency", "bug_description": "Build ID: I20070625-1500 Steps To Reproduce: Exact steps to reproduce are unknown. However, there was a plugin in my workspace and it appeared twice in the \"Add Dependency\" dialog, so I deleted the project from the workspace. One of the entries still appeared in the \"Add Dependency\" dialog with the remark (Out of Sync). I still added it to the dependencies of my other project. Then, I wanted to find out where the 'corrupt' plugin was located and double-clicked the entry in the Dependency list. Then the error occured. More information: eclipse.buildId=I20070625-1500 java.version=1.6.0_02 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Command-line arguments:  -os win32 -ws win32 -arch x86 -data C:\\workspaces\\FinancePortal Error Tue Sep 04 10:10:26 CEST 2007 Problems occurred when invoking code from plug-in: \"org.eclipse.jface\". java.lang.NullPointerException at java.io.File.<init>(Unknown Source) at org.eclipse.pde.internal.ui.editor.plugin.ManifestEditor.open(ManifestEditor.java:116) at org.eclipse.pde.internal.ui.editor.plugin.RequiresSection.handleOpen(RequiresSection.java:389) at org.eclipse.pde.internal.ui.editor.plugin.RequiresSection.handleDoubleClick(RequiresSection.java:205) at org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.handleDoubleClick(TableSection.java:42) at org.eclipse.pde.internal.ui.parts.TablePart$2.doubleClick(TablePart.java:52) at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:799) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:857) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:193) at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:797) at org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:1061) at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1173) at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:237) at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:234) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:295) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3682) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3293) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443) at org.eclipse.equinox.launcher.Main.run(Main.java:1169)"}, {"bug_id": "202272", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/FragmentGeneralInfoSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug place Overview confusing press Accessibility combo open minimum Host", "bug_title": " two drop-down on fragment project Overview tab can be confusing", "bug_description": "Build ID: I20070625-1500 Steps To Reproduce: <Accessibility> From a PDE Fragment project open the MANIFEST.MF file. Go to the Overview tab, place the focus on drop-down list Host minimum version or Host maximum version, press left arrow key or down arrow key, no changes between Inclusive and Exclusive combo choices. More information: This happens in even with Eclipse 3.3."}, {"bug_id": "203356", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEState.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPluginsTab.java"], "repo": "eclipse.pde.ui", "reformed_query": "plugin Create missing create restart preferences bundle Click directory Create", "bug_title": " target platform looses all all previous bundles when adding a new directory of target plugins", "bug_description": "I20070911-0833 This was so strange I had to get Chris A. to come over and see this happen in my workspace to make sure I was not loosing it.  Steps to reproduce: 1) Launch a new workspace and create a few plugin projects, or open a workspace with existing bundle projects if you are brave :-) 2) Create a test bundles directory somewhere (in my case c:\\dev\\testbundles\\) 3) Export one of the plugins from your workspace into the test bundles directory, or place another built test bundle into the testbundles directory 4) In Target Platform preferences, click the \"Add\" button to add the test bundles directory as new provisioner. 5) Before clicking Apply or OK check the Group plug-ins by location box.  Notice the the old locations have every bundle checked but the toplevel box for the old locations are not checked 6) Click OK, notice that the bundles resolved against the bundles in the target no longer resolve.  It appears all the bundles from the old locations got removed from the target State which causes the workspace bundles to be unresolved. Reloading the target seems to remove the extra testbundles location, then adding it back seems to work.  Then if you restart you will notice that the old target bundles seem to be missing again. More information, I configured an extension location to my dev environment, this location is also included in the list of locations in the PDE target platform."}, {"bug_id": "203375", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/exports/FeatureExportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "passed approach slight source build property reference build Ant add", "bug_title": " User defined ant properties not passed to export process", "bug_description": "Users do crazy things all the time.  I talked to a user who tried to reference a bunch of jars outside of the workspace.  The jars are included in the runtime, therefore they don't need to be bundlized. The project built just fine in the workspace, but fail on export.  The solution is to use build.properties tags to specify additional jars to be included during the compilation of source code.  In order to prompt as much reusability as possible, we decided to use an Ant property to specify the location.  There was a slight problem with this approach. The export process queries the Ant preferences for properties.  Unfortunately, it only queries/sets properties contributed by extension points.  Therefore, the user cannot add custom properties in either the build.properties or really in the build.xml."}, {"bug_id": "203795", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/FeatureModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "Main init runEventLoop Provider AbstractTreeViewer app feature jar invalid osgi", "bug_title": " exception when opening and editing site.xml with features using invalid qualifier strings", "bug_description": "If you open a site.xml that has a feature with an \"invalid\" qualifier string, you get exception as you try to use the editor. This happens because we have a token that we replace at build time as a qualifier string, namely @TOKEN@ as for example in: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <site> <description> bla bla </description> <feature url=\"features/foo.bar.baz_5.0.0.@RELEASE@.jar\" id=\"foo.bar.baz\" version=\"5.0.0.@RELEASE@\" os=\"linux,macosx,win32\" ws=\"carbon,gtk,win32\"> <category name=\"cat1\"/> </feature> <category-def name=\"cat1\" label=\"cat1\"> <description> Bla bla baz. </description> </category-def> </site> -- Error Log -- Date: Tue Sep 18 10:50:21 EDT 2007 Message: Problems occurred when invoking code from plug-in: \"org.eclipse.jface\". Severity: Error Plugin ID: org.eclipse.jface Stack Trace: java.lang.IllegalArgumentException: invalid qualifier at org.osgi.framework.Version.validate(Version.java:179) at org.osgi.framework.Version.<init>(Version.java:157) at org.osgi.framework.Version.parseVersion(Version.java:209) at org.eclipse.pde.internal.core.FeatureModelManager.findFeatureModelRelaxed(FeatureModelManager.java:165) at org.eclipse.pde.internal.ui.editor.site.SiteLabelProvider.getImage(SiteLabelProvider.java:52) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.getImage(WrappedViewerLabelProvider.java:117) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:165) at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:135) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:911) at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:97) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:857) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:193) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:988) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:466) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:857) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:193) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2026) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:806) at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:781) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:755) at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:615) at org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand(AbstractTreeViewer.java:1407) at org.eclipse.jface.viewers.TreeViewer.handleTreeExpand(TreeViewer.java:906) at org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(AbstractTreeViewer.java:1418) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:125) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:938) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:962) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Tree.wmNotifyChild(Tree.java:7053) at org.eclipse.swt.widgets.Control.wmNotify(Control.java:4563) at org.eclipse.swt.widgets.Composite.wmNotify(Composite.java:1581) at org.eclipse.swt.widgets.Control.WM_NOTIFY(Control.java:4216) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3724) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4351) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2178) at org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1541) at org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN(Tree.java:5798) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3705) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5370) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4364) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2264) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3291) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443) at org.eclipse.equinox.launcher.Main.run(Main.java:1169)"}, {"bug_id": "203914", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "mark entries starting ANT starting property variables bin build User", "bug_title": " jars.extra.classpath should not mark entries starting with ANT variables as Errors", "bug_description": "This was found when going through the use case for bug 203375.  User should be able to use ANT variables to reference jars in the extra.jars.classpath property in the build.properties.  Right now, if the user does this there is an error.  We should treat this the same way as we do when validating bin.includes and not mark it as an error."}, {"bug_id": "203993", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SchemaTransformer.java"], "repo": "eclipse.pde.ui", "reformed_query": "unsupported replace platform Content eclipse platform org File isv Schema", "bug_title": " Schema HTML generator cause CHKPII errors", "bug_description": "I20070919-0010 releng errors are due to chkpii errors in platform doc. eclipse/plugins/org.eclipse.platform.doc.isv_3.4.0.v20070917_1242_jar/reference/extension-points/ cheatSheetContentFileSpec.html  HTML-40     801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 27 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 31 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 37 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 42 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 60 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 60 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 90 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 98 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 118 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 136 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 163 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 172 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 206 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 215 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 221 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 259 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 273 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 300 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 309 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 309 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 343 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 353 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 412 compositeContentFile.html       HTML-40     801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 26 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 30 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 38 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 45 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 53 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 60 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 66 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 77 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 82 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 82 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 88 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 88 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 95 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 99 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 99 introContentFileSpec.html       HTML-40     801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 19 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 19 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 37 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 55 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 61 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 72 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 79 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 84 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 90 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 96 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 102 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 191 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 198 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 204 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 210 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 218 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 228 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 237 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 243 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 249 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 255 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 259 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 265 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 278 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 284 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 295 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 303 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 309 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 315 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 321 801   Either '<br/' is an unsupported tag or replace '<' with '&lt;'.  Line: 321"}, {"bug_id": "204021", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/java/QuickFixProcessor.java"], "repo": "eclipse.pde.ui", "reformed_query": "problem quickfix reference developer packages Access plug developer remaining developer", "bug_title": " Access Restriction Quickfix available when referencing imported package of external plug-in", "bug_description": "When a developer uses Import-Package to get a reference to one package, the remaining packages have access restrictions. The new Access Restriction Quickfix is seems to want to try to resolve this problem.  This quickfix should not show up in this scenario."}, {"bug_id": "205493", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/MinimalState.java"], "repo": "eclipse.pde.ui", "reformed_query": "Invalid add longer Manifest contained step stays Description BundleDescription", "bug_title": " Invalid Manifests cause multiple BundleDescription per project", "bug_description": "If a developer modifies a Manifest so it becomes invalid and the state can no longer create a BundleDescription, we leave the old BundleDescription in the state.  This causes multiple copies of the plug-in to be contained in the resolver state. Steps to recreate: 1. Open the Plug-in Dependencies View with \"Show State Status\" enabled, this allows you to see the current resolver state information. 2. create a basic plug-in project with only a bundle activator 3. create the following version range on a require bundle entry \"[3.3.0,4.0)\" and save the file 4. modify the version range to \"[3.3.0,4.0.a)\" and save the file. 5. modify the version range back to \"[3.3.0,4.0)\" and save the file Note how there are two copies of the plug-in created in step #2.  This is because the model manager tries create/add a new BundleDescription with the same id as the original.  If the new BundleDescription is not created correctly, the old BundleDescription stays in the resolver state.  When the problem is corrected we look at the cached BundleDescription (which is null) and create a new entry in the state for the bundle, hence the two copies."}, {"bug_id": "205655", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ManifestEditorMatchingStrategy.java"], "repo": "eclipse.pde.ui", "reformed_query": "Dispatch Strategy Caused matches Manifest Location Method Pointer editor Entry", "bug_title": " NPE in ManifestEditorMatchingStrategy", "bug_description": "Found this NPE in the log. Sorry, didn't see when it was printed, but since NPEs are often easy to figure out, thought I would log anyway. !SESSION 2007-10-07 01:04:00.120 ----------------------------------------------- eclipse.buildId=I20070625-1500 java.version=1.5.0_12 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_CA Framework arguments:  -product org.eclipse.sdk.ide -pdelaunch Command-line arguments:  -product org.eclipse.sdk.ide -data C:\\dev\\abstratt/../runtime-New_configuration -dev file:C:/dev/abstratt/.metadata/.plugins/org.eclipse.pde.core/Full/dev.properties -pdelaunch -os win32 -ws win32 -arch x86 -consolelog -console !ENTRY org.eclipse.ui 4 0 2007-10-07 01:02:06.595 !MESSAGE Unhandled event loop exception !STACK 0 org.eclipse.swt.SWTException: Failed to execute runnable (java.lang.NullPointerException) at org.eclipse.swt.SWT.error(SWT.java:3563) at org.eclipse.swt.SWT.error(SWT.java:3481) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:126) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3659) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3296) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2389) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2353) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2219) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:466) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:289) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:461) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:153) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:363) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:176) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:504) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:443) at org.eclipse.equinox.launcher.Main.run(Main.java:1169) at org.eclipse.equinox.launcher.Main.main(Main.java:1144) Caused by: java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.plugin.ManifestEditorMatchingStrategy.matches(ManifestEditorMatchingStrategy.java:32) at org.eclipse.ui.internal.EditorManager.findEditors(EditorManager.java:485) at org.eclipse.ui.internal.EditorManager.findEditors(EditorManager.java:431) at org.eclipse.ui.internal.EditorManager.findEditor(EditorManager.java:394) at org.eclipse.ui.internal.EditorManager.findEditor(EditorManager.java:376) at org.eclipse.ui.internal.WorkbenchPage.findEditor(WorkbenchPage.java:1967) at org.eclipse.ui.NavigationLocation.getEditorPart(NavigationLocation.java:44) at org.eclipse.ui.NavigationLocation.getText(NavigationLocation.java:60) at org.eclipse.ui.internal.NavigationHistoryEntry.<init>(NavigationHistoryEntry.java:49) at org.eclipse.ui.internal.NavigationHistory.createEntry(NavigationHistory.java:655) at org.eclipse.ui.internal.NavigationHistory.addEntry(NavigationHistory.java:371) at org.eclipse.ui.internal.NavigationHistory.access$10(NavigationHistory.java:352) at org.eclipse.ui.internal.NavigationHistory$2.run(NavigationHistory.java:199) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:123) ... 23 more"}, {"bug_id": "205767", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/PluginSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "dialogs plugin Fragment Plugin WizardDialog Product widgets finishPressed Workbench", "bug_title": " NPE in New Plugin/Fragment Wizards when triggered from Product Configuration Editor", "bug_description": "java.lang.NullPointerException at org.eclipse.pde.internal.ui.wizards.plugin.NewFragmentProjectWizard.performFinish(NewFragmentProjectWizard.java:90) at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:742) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:621) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3744) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3355) The problem is getWorkbench is returning null since it was not initialized through the wizard framework.  We need to figure out how to initialize the wizard correctly so we can add working the new projects to working sets."}, {"bug_id": "205833", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/exports/ProductExportOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/EclipseApplicationLaunchConfiguration.java"], "repo": "eclipse.pde.ui", "reformed_query": "Product delta launcher Export eclipse launcher product included exe running", "bug_title": " Export missing Product.exe", "bug_description": "When exporting a product without the delta-pack, the eclipse.exe is taken from the running eclipse. However, if the running eclipse is a branded product the launcher is not named eclipse.exe and does not get included in the product. Export should try and included the branded exe"}, {"bug_id": "206081", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SourceLocationManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "Source Locations Locations Notice form locations Source target File Locations", "bug_title": " Source Locations not included for directories added to target platform", "bug_description": "1. Add a directory to the Target Platform form the File System Target Provisioner. 2. Switch to the Source Locations tab Notice how none of the source locations of the new directory are taken into account on the Source Locations tab."}, {"bug_id": "206610", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspaceModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "open load create fresh", "bug_title": " Cannot build fresh workspace with I20071016", "bug_description": "3.4 I20071016 When I load all of platform-ui and platform-ui-tests into a fresh workspace none of the dependencies are resolved and as a result I get almost 90,000 errors. If I take an existing workspace I don't have this problem. STEPS 1) Start I20071016 with a fresh workspace 2) Load platform-ui and platform-ui-tests 3) 90,000 errors 4) Go to a I20071010 build and create a new workspace 5)  Load platform-ui and platform-ui-tests 6) Shutdown and then re-open the I20071016 build with the workspace 7) No errors"}, {"bug_id": "206721", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "startup runtime execute Util pde jobs Plugin Listener External SetContainerOperation", "bug_title": " NPE on startup", "bug_description": "20071016-1215 Got several of the following expection on startup: !ENTRY org.eclipse.jdt.ui 4 0 2007-10-18 10:03:07.275 !MESSAGE Error in JDT Core during AST creation !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.core.PluginModelManager.findModel(PluginModelManager.java:686) at org.eclipse.pde.core.plugin.PluginRegistry.findModel(PluginRegistry.java:86) at org.eclipse.pde.internal.core.SourceLocationManager.processExtensions(SourceLocationManager.java:172) at org.eclipse.pde.internal.core.SourceLocationManager.getExtensionLocations(SourceLocationManager.java:58) at org.eclipse.pde.internal.core.SourceLocationManager.findSourceLocation(SourceLocationManager.java:104) at org.eclipse.pde.internal.core.SourceLocationManager.findSourcePath(SourceLocationManager.java:79) at org.eclipse.pde.internal.core.ClasspathUtilCore.getSourceAnnotation(ClasspathUtilCore.java:195) at org.eclipse.pde.internal.core.PDEClasspathContainer.addExternalPlugin(PDEClasspathContainer.java:80) at org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.addPlugin(RequiredPluginsClasspathContainer.java:277) at org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.addDependency(RequiredPluginsClasspathContainer.java:250) at org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.addDependency(RequiredPluginsClasspathContainer.java:234) at org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.computePluginEntries(RequiredPluginsClasspathContainer.java:150) at org.eclipse.pde.internal.core.RequiredPluginsClasspathContainer.getClasspathEntries(RequiredPluginsClasspathContainer.java:109) at org.eclipse.jdt.internal.core.JavaModelManager.containerPutIfInitializingWithSameEntries(JavaModelManager.java:554) at org.eclipse.jdt.internal.core.SetContainerOperation.executeOperation(SetContainerOperation.java:49) at org.eclipse.jdt.internal.core.JavaModelOperation.run(JavaModelOperation.java:720) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1799) at org.eclipse.jdt.internal.core.JavaModelOperation.runOperation(JavaModelOperation.java:785) at org.eclipse.jdt.core.JavaCore.setClasspathContainer(JavaCore.java:4655) at org.eclipse.pde.internal.core.RequiredPluginsInitializer.initialize(RequiredPluginsInitializer.java:33) at org.eclipse.jdt.internal.core.JavaModelManager.initializeContainer(JavaModelManager.java:2296) at org.eclipse.jdt.internal.core.JavaModelManager.getClasspathContainer(JavaModelManager.java:1622) at org.eclipse.jdt.core.JavaCore.getClasspathContainer(JavaCore.java:1622) at org.eclipse.jdt.internal.core.search.JavaSearchScope.add(JavaSearchScope.java:150) at org.eclipse.jdt.internal.core.search.JavaSearchScope.add(JavaSearchScope.java:93) at org.eclipse.jdt.internal.core.search.BasicSearchEngine.createJavaSearchScope(BasicSearchEngine.java:139) at org.eclipse.jdt.internal.core.search.BasicSearchEngine.createJavaSearchScope(BasicSearchEngine.java:125) at org.eclipse.jdt.internal.core.search.BasicSearchEngine.createJavaSearchScope(BasicSearchEngine.java:114) at org.eclipse.jdt.internal.core.SearchableEnvironment.<init>(SearchableEnvironment.java:57) at org.eclipse.jdt.internal.core.SearchableEnvironment.<init>(SearchableEnvironment.java:67) at org.eclipse.jdt.internal.core.CancelableNameEnvironment.<init>(CancelableNameEnvironment.java:26) at org.eclipse.jdt.core.dom.CompilationUnitResolver.resolve(CompilationUnitResolver.java:505) at org.eclipse.jdt.core.dom.ASTParser.internalCreateAST(ASTParser.java:869) at org.eclipse.jdt.core.dom.ASTParser.createAST(ASTParser.java:653) at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider$1.run(ASTProvider.java:540) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.createAST(ASTProvider.java:533) at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:474) at org.eclipse.jdt.internal.ui.javaeditor.ASTProvider.getAST(ASTProvider.java:462) at org.eclipse.jdt.ui.SharedASTProvider.getAST(SharedASTProvider.java:122) at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$PartListenerGroup.calculateASTandInform(SelectionListenerWithASTManager.java:168) at org.eclipse.jdt.internal.ui.viewsupport.SelectionListenerWithASTManager$3.run(SelectionListenerWithASTManager.java:153) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "206887", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspaceModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "workspace Create Reproduce IES   RUML", "bug_title": " Building a workspace with an IES target and a large number of plugins takes much longer with 3.3 than 3.2", "bug_description": "Build ID: Any 3.3 released version Steps To Reproduce: CVS info will be transferred internally on demand. 1. Create an IES target with all required plugins 2. Import RMP/RUML code 3. Try to be productive in any way. More information: This defect appeared late in the 3.3 cycle, either in RC1 or RC2."}, {"bug_id": "207466", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/EventDetailsDialog.java"], "repo": "eclipse.pde.ui", "reformed_query": "Table Launcher JFaceUtil IDEApplication Runner Accessor Changed Events LogEntry entry", "bug_title": " CCE in Log view when opening Event Details and then selecting session", "bug_description": "I20071023-0800 - open Event Details dialog on an entry in the Error Log view - without closing the Event Details dialog, select a Session (root item in the tree) !ENTRY org.eclipse.jface 4 2 2007-10-25 17:08:23.593 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\". !STACK 0 java.lang.ClassCastException: org.eclipse.ui.internal.views.log.LogSession cannot be cast to org.eclipse.ui.internal.views.log.LogEntry at org.eclipse.ui.internal.views.log.EventDetailsDialog.resetSelection(EventDetailsDialog.java:309) at org.eclipse.ui.internal.views.log.EventDetailsDialogAction.resetSelection(EventDetailsDialogAction.java:62) at org.eclipse.ui.internal.views.log.LogView$11.selectionChanged(LogView.java:395) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:857) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:199) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:2045) at org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1138) at org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1168) at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:227) at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:221) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:388) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3744) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3355) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ui.internal.views.log.EventDetailsDialog.open(EventDetailsDialog.java:166) at org.eclipse.ui.internal.views.log.EventDetailsDialogAction.run(EventDetailsDialogAction.java:90) at org.eclipse.ui.internal.views.log.LogView$12.doubleClick(LogView.java:401) at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:799) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:857) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:199) at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:797) at org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1398) at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1173) at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:237) at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:234) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:295) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3744) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3355) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2395) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2359) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2225) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:468) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:463) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:455) at org.eclipse.equinox.launcher.Main.run(Main.java:1193) at org.eclipse.equinox.launcher.Main.main(Main.java:1169)"}, {"bug_id": "207836", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/PluginExtension.java"], "repo": "eclipse.pde.ui", "reformed_query": "recreate point doesn extension   versions", "bug_title": " Search results for extension point references don't always appear right for multiple versions", "bug_description": "When a user has two plug-ins with the same Bundle-SymbolicName but different versions, the extension point search doesn't work correctly. To recreate: 1. Create plug-in project with version 1.0.0, using the Commands template 2. Create another plug-in project with the same Bundle-SymbolicName as the first but with version 2.0.0, using the Commands template again. 3. Do a plug-ins search for references to *.commands. You should see two results (one for version 1.0.0 and one for version 2.0.0).  Double click on each result.  Some times they open up separate editors, but most times they open the same editor.  If they do open the same editor, re-run the search."}, {"bug_id": "208164", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/PluginExtension.java"], "repo": "eclipse.pde.ui", "reformed_query": "plugin extension Extension", "bug_title": " [Regression] Extension search results no longer highlighted in plugin editor", "bug_description": "Due to the fix for bug 207836 caused a regression.  Now, when you double click on an extension reference from the search results view, the extension is no longer highlighted."}, {"bug_id": "208855", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogView.java"], "repo": "eclipse.pde.ui", "reformed_query": "LogEntry object send Builder handleAboutToShow Popup Event sendEvent Actions ViewerActionBuilder", "bug_title": " [logivew] Should either set selections or accept object contributions", "bug_description": "As of Eclipse 3.3M4 the Error Log view has additional nodes for sessions.  Mylyn contributes a \"Report as Bug\" action to this view, but cannot reduce the visibility of this action to just LogEntry because the standard mechanisms (object contributions or visibility limiting) are not supported in this view.  The easiest thing might be to make the view accept object contributions.  The reason that limiting the visibility of a viewerContribution does not work is apparently the fact that no selection is set, causing the following failure on 3.3M4: java.lang.NullPointerException at org.eclipse.ui.internal.ViewerActionBuilder$ViewerContribution.contribute(ViewerActionBuilder.java:150) at org.eclipse.ui.internal.PluginActionBuilder.contribute(PluginActionBuilder.java:65) at org.eclipse.ui.internal.PopupMenuExtender.addStaticActions(PopupMenuExtender.java:295) at org.eclipse.ui.internal.PopupMenuExtender.menuAboutToShow(PopupMenuExtender.java:338) at org.eclipse.jface.action.MenuManager.fireAboutToShow(MenuManager.java:326) at org.eclipse.jface.action.MenuManager.handleAboutToShow(MenuManager.java:441) at org.eclipse.jface.action.MenuManager.access$1(MenuManager.java:437) at org.eclipse.jface.action.MenuManager$2.menuShown(MenuManager.java:463) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:234) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66)"}, {"bug_id": "209056", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LaunchConfigurationHelper.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/P2Utils.java"], "repo": "eclipse.pde.ui", "reformed_query": "platform bundle core create configuration stemmed", "bug_title": " config.ini generated for eclipse launch configuration does not work against a p2 target", "bug_description": "Setup: - A 3.4 M3 p2 provisioned SDK - Target platform set to its default value (in this case the bundle pool) When in this setup I create an eclipse launch configuration (or PDE Junit one), my  instance does not come up. The reason is because no applications are registered and this stemmed from the *non* started state of org.eclipse.core.runtime. My guess: - PDE is not generating the proper config.ini - PDE does not have the information to generate the proper config.ini because it does not find the config.ini."}, {"bug_id": "209138", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/DependencyManagementSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "harmless Build opens fragment plugins Automated Management presented Build Add", "bug_title": " the host plugin is presented into the Automated Management of Dependencies/Add dialog of a fragment", "bug_description": "Build I20071029-0010 The Automated Management of Dependencies/Add dialog of a fragment opens a list of available plugins, amongst which the host of the fragment is presented. I believe this is inappropriate (even if probably harmless)."}, {"bug_id": "209155", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspacePluginModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "Refactoring Workspace Starter plug HandlerService IDEApplication SafeRunner ExtensionListener ModalContextThread fireExtensionDeltaEvent", "bug_title": " NPE in PDERegistryStrategy when deleting plug-ins", "bug_description": "Plug-in dependencies are not always updated when plug-ins are removed from workspace. Steps: - launch I20071106-0816 with new workspace - import org.eclipse.text and all required plug-ins as source - wait until all projects built - exit Eclipse and relaunch same workspace with I20071107-1300 - delete plug-ins org.eclipse.core.commands, org.eclipse.equinox.common, and org.eclipse.osgi (delete contents on disk) => 2 compile errors in org.eclipse.text and a few log entries: - Project 'org.eclipse.text' is missing required Java project: 'org.eclipse.core.commands' - The project cannot be built until build path errors are resolved => log: !ENTRY org.eclipse.jdt.core 4 2 2007-11-08 11:46:23.468 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jdt.core\". !STACK 0 java.lang.NullPointerException at java.io.File.<init>(File.java:222) at org.eclipse.pde.internal.core.PDERegistryStrategy.getFile(PDERegistryStrategy.java:202) at org.eclipse.pde.internal.core.PDERegistryStrategy.addBundle(PDERegistryStrategy.java:163) at org.eclipse.pde.internal.core.PDERegistryStrategy.addBundles(PDERegistryStrategy.java:153) at org.eclipse.pde.internal.core.PDERegistryStrategy.processBundles(PDERegistryStrategy.java:148) at org.eclipse.pde.internal.core.PDERegistryStrategy.onStart(PDERegistryStrategy.java:128) at org.eclipse.core.internal.registry.ExtensionRegistry.<init>(ExtensionRegistry.java:651) at org.eclipse.core.runtime.RegistryFactory.createRegistry(RegistryFactory.java:55) at org.eclipse.pde.internal.core.PDEExtensionRegistry.createRegistry(PDEExtensionRegistry.java:89) at org.eclipse.pde.internal.core.PDEExtensionRegistry.getRegistry(PDEExtensionRegistry.java:81) at org.eclipse.pde.internal.core.PDERegistryStrategy.createRegistry(PDERegistryStrategy.java:267) at org.eclipse.pde.internal.core.PDERegistryStrategy.access$1(PDERegistryStrategy.java:266) at org.eclipse.pde.internal.core.PDERegistryStrategy$ExtensionListener.extensionsChanged(PDERegistryStrategy.java:90) at org.eclipse.pde.internal.core.WorkspacePluginModelManager.fireExtensionDeltaEvent(WorkspacePluginModelManager.java:481) at org.eclipse.pde.internal.core.WorkspacePluginModelManager.createAndFireEvent(WorkspacePluginModelManager.java:498) at org.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges(WorkspaceModelManager.java:254) at org.eclipse.pde.internal.core.WorkspacePluginModelManager.processModelChanges(WorkspacePluginModelManager.java:486) at org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged(WorkspaceModelManager.java:130) at org.eclipse.jdt.internal.core.DeltaProcessingState$1.run(DeltaProcessingState.java:385) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(DeltaProcessingState.java:380) at org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:282) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:276) at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:148) at org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:313) at org.eclipse.core.internal.resources.Workspace.checkpoint(Workspace.java:367) at org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:263) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1798) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:306) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.access$1(UIPerformChangeOperation.java:1) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation$1.run(UIPerformChangeOperation.java:66) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation$2.run(UIPerformChangeOperation.java:84) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:130) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3721) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3358) at org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:158) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:326) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.run(RefactoringWizardDialog2.java:317) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.internalPerformFinish(RefactoringWizard.java:554) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.performFinish(UserInputWizardPage.java:154) at org.eclipse.ltk.ui.refactoring.resource.DeleteResourcesWizard$DeleteResourcesRefactoringConfigurationPage.performFinish(DeleteResourcesWizard.java:126) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.performFinish(RefactoringWizard.java:618) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.okPressed(RefactoringWizardDialog2.java:446) at org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:471) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:623) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3744) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3355) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:142) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:154) at org.eclipse.ltk.internal.ui.refactoring.actions.DeleteResourcesHandler.execute(DeleteResourcesHandler.java:41) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:240) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:475) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:174) at org.eclipse.ui.internal.ide.actions.LTKLauncher.runCommand(LTKLauncher.java:71) at org.eclipse.ui.internal.ide.actions.LTKLauncher.openDeleteWizard(LTKLauncher.java:39) at org.eclipse.ui.actions.DeleteResourceAction.run(DeleteResourceAction.java:452) at org.eclipse.jdt.internal.ui.refactoring.reorg.DeleteAction.run(DeleteAction.java:79) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:268) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:244) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:119) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:475) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:470) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:165) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:470) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:821) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:879) at org.eclipse.ui.internal.keys.OutOfOrderListener.handleEvent(OutOfOrderListener.java:76) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:971) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:956) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:984) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:980) at org.eclipse.swt.widgets.Widget.wmKeyDown(Widget.java:1580) at org.eclipse.swt.widgets.Control.WM_KEYDOWN(Control.java:4107) at org.eclipse.swt.widgets.Tree.WM_KEYDOWN(Tree.java:5605) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3803) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5495) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4436) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2320) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3353) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2395) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2359) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2225) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:468) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:463) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:455) at org.eclipse.equinox.launcher.Main.run(Main.java:1193) at org.eclipse.equinox.launcher.Main.main(Main.java:1169) !ENTRY org.eclipse.jdt.core 4 4 2007-11-08 11:46:23.484 !MESSAGE Exception occurred in listener of pre Java resource change notification !STACK 0 java.lang.NullPointerException at java.io.File.<init>(File.java:222) at org.eclipse.pde.internal.core.PDERegistryStrategy.getFile(PDERegistryStrategy.java:202) at org.eclipse.pde.internal.core.PDERegistryStrategy.addBundle(PDERegistryStrategy.java:163) at org.eclipse.pde.internal.core.PDERegistryStrategy.addBundles(PDERegistryStrategy.java:153) at org.eclipse.pde.internal.core.PDERegistryStrategy.processBundles(PDERegistryStrategy.java:148) at org.eclipse.pde.internal.core.PDERegistryStrategy.onStart(PDERegistryStrategy.java:128) at org.eclipse.core.internal.registry.ExtensionRegistry.<init>(ExtensionRegistry.java:651) at org.eclipse.core.runtime.RegistryFactory.createRegistry(RegistryFactory.java:55) at org.eclipse.pde.internal.core.PDEExtensionRegistry.createRegistry(PDEExtensionRegistry.java:89) at org.eclipse.pde.internal.core.PDEExtensionRegistry.getRegistry(PDEExtensionRegistry.java:81) at org.eclipse.pde.internal.core.PDERegistryStrategy.createRegistry(PDERegistryStrategy.java:267) at org.eclipse.pde.internal.core.PDERegistryStrategy.access$1(PDERegistryStrategy.java:266) at org.eclipse.pde.internal.core.PDERegistryStrategy$ExtensionListener.extensionsChanged(PDERegistryStrategy.java:90) at org.eclipse.pde.internal.core.WorkspacePluginModelManager.fireExtensionDeltaEvent(WorkspacePluginModelManager.java:481) at org.eclipse.pde.internal.core.WorkspacePluginModelManager.createAndFireEvent(WorkspacePluginModelManager.java:498) at org.eclipse.pde.internal.core.WorkspaceModelManager.processModelChanges(WorkspaceModelManager.java:254) at org.eclipse.pde.internal.core.WorkspacePluginModelManager.processModelChanges(WorkspacePluginModelManager.java:486) at org.eclipse.pde.internal.core.WorkspaceModelManager.resourceChanged(WorkspaceModelManager.java:130) at org.eclipse.jdt.internal.core.DeltaProcessingState$1.run(DeltaProcessingState.java:385) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.jdt.internal.core.DeltaProcessingState.resourceChanged(DeltaProcessingState.java:380) at org.eclipse.core.internal.events.NotificationManager$2.run(NotificationManager.java:282) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.NotificationManager.notify(NotificationManager.java:276) at org.eclipse.core.internal.events.NotificationManager.broadcastChanges(NotificationManager.java:148) at org.eclipse.core.internal.resources.Workspace.broadcastPostChange(Workspace.java:313) at org.eclipse.core.internal.resources.Workspace.checkpoint(Workspace.java:367) at org.eclipse.ltk.core.refactoring.PerformChangeOperation$1.run(PerformChangeOperation.java:263) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1798) at org.eclipse.ltk.core.refactoring.PerformChangeOperation.executeChange(PerformChangeOperation.java:306) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation.access$1(UIPerformChangeOperation.java:1) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation$1.run(UIPerformChangeOperation.java:66) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.ltk.internal.ui.refactoring.UIPerformChangeOperation$2.run(UIPerformChangeOperation.java:84) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:130) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3721) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3358) at org.eclipse.jface.operation.ModalContext$ModalContextThread.block(ModalContext.java:158) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:326) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.run(RefactoringWizardDialog2.java:317) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.internalPerformFinish(RefactoringWizard.java:554) at org.eclipse.ltk.ui.refactoring.UserInputWizardPage.performFinish(UserInputWizardPage.java:154) at org.eclipse.ltk.ui.refactoring.resource.DeleteResourcesWizard$DeleteResourcesRefactoringConfigurationPage.performFinish(DeleteResourcesWizard.java:126) at org.eclipse.ltk.ui.refactoring.RefactoringWizard.performFinish(RefactoringWizard.java:618) at org.eclipse.ltk.internal.ui.refactoring.RefactoringWizardDialog2.okPressed(RefactoringWizardDialog2.java:446) at org.eclipse.jface.dialogs.Dialog.buttonPressed(Dialog.java:471) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:623) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3744) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3355) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation$1.run(RefactoringWizardOpenOperation.java:142) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.ltk.ui.refactoring.RefactoringWizardOpenOperation.run(RefactoringWizardOpenOperation.java:154) at org.eclipse.ltk.internal.ui.refactoring.actions.DeleteResourcesHandler.execute(DeleteResourcesHandler.java:41) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:240) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:475) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:174) at org.eclipse.ui.internal.ide.actions.LTKLauncher.runCommand(LTKLauncher.java:71) at org.eclipse.ui.internal.ide.actions.LTKLauncher.openDeleteWizard(LTKLauncher.java:39) at org.eclipse.ui.actions.DeleteResourceAction.run(DeleteResourceAction.java:452) at org.eclipse.jdt.internal.ui.refactoring.reorg.DeleteAction.run(DeleteAction.java:79) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:268) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:244) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.commands.ActionHandler.execute(ActionHandler.java:119) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:475) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:470) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:165) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:470) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:821) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:879) at org.eclipse.ui.internal.keys.OutOfOrderListener.handleEvent(OutOfOrderListener.java:76) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:947) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:971) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:956) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:984) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:980) at org.eclipse.swt.widgets.Widget.wmKeyDown(Widget.java:1580) at org.eclipse.swt.widgets.Control.WM_KEYDOWN(Control.java:4107) at org.eclipse.swt.widgets.Tree.WM_KEYDOWN(Tree.java:5605) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3803) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:5495) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4436) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2320) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3353) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2395) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2359) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2225) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:468) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:463) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:515) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:455) at org.eclipse.equinox.launcher.Main.run(Main.java:1193) at org.eclipse.equinox.launcher.Main.main(Main.java:1169)"}, {"bug_id": "209554", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspacePluginModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "find check ended extension Bug projects code", "bug_title": " check out problems for platform-ui", "bug_description": "Using the code from HEAD, after checking out platform-ui many of the projects could not find any of their extension points.  This ended up with over half the projects having errors."}, {"bug_id": "210018", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/spy/sections/ActivePartSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Image images lose Bug spy", "bug_title": " [spy] improve saving image functionality", "bug_description": "Currently, the spy does image scraping to save images found in editors and views. The use of ImageLoader to save images isn't the right approach here because we lose things like transparency and original name of the image. We should be able to query for the image using the extension registry and get the acutal image we need and copy that to where the user would like to save it."}, {"bug_id": "210026", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "models Bug dependencies instance resolve scenario models newId Problem bundles", "bug_title": " Problem in PluginModelManager", "bug_description": "There is a scenario that allows an external model to the resolver state even if there is an equivalent workspace model.  The resolver state should contain only workspace bundles when there are equivalent external models.  This is so the resolver state will resolve dependencies using the workspace instance. When a model change event comes through the PluginModelManager, if the oldId and newId equal each other, the model is automatically added to the state if it is enabled, or removed if it is disabled.  The model should be added/removed only if it is one of the active models.  Otherwise, we have an inactive model (external model with equivalent workspace model) being added to the state when it is checked in the target platform preference page."}, {"bug_id": "210529", "ground_truth": ["ui/org.eclipse.pde.ui/META-INF/MANIFEST.MF", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEPlugin.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/Utilities.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/ShowDescriptionAction.java", "ui/org.eclipse.pde.ui/src_samples/org/eclipse/pde/internal/ui/samples/ShowSampleAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "ENTRY sdk logging assume MESSAGE calling test examples installing samples", "bug_title": " [update] Error installing examples with p2-provisioned SDK", "bug_description": "This will likely end up being a bug for UA team, but logging it here for now. If you try to install the examples from the Welcome page in a p2-provisioned SDK, an error occurs. I assume welcome is calling update.core APIs, so this may be a good test case for backwards compatibility support. The only entry in the log is: !ENTRY org.eclipse.update.core 4 0 2007-11-21 08:47:43.375 !MESSAGE Cannot install featureorg.eclipse.sdk.samples 3.3.0"}, {"bug_id": "211127", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/registry/RegistryBrowser.java"], "repo": "eclipse.pde.ui", "reformed_query": "users triggered registry leaves refresh event enable displaying view disable", "bug_title": " [registry view] Disabling/Enabling plug-in does not refresh its icon", "bug_description": "The icons added to the registry view for bug 210971 don't refresh after the user has triggered the disable/enable event.  This leaves the UI displaying stale information to the users."}, {"bug_id": "211477", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/PDEPreferencesUtil.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardFirstPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "parent Wizard Preference Plug Shell", "bug_title": " Preference Pages opened from Import Plug-in Wizard have wrong parent", "bug_description": "The shell specified when opening the preferences page from the Plug-in Import wizard is incorrect.  The one currently specified is the one from the main IDE.  Since we are in a wizard, we need to instead specify the Shell of the wizard dialog."}, {"bug_id": "211931", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/EventDetailsDialog.java"], "repo": "eclipse.pde.ui", "reformed_query": "updateProperties JFace view StructuredViewer handle Tree EventDetailsDialog invokeFramework Illegal readAndDispatch", "bug_title": " [log view] IllegalArgumentException from log view", "bug_description": "using I20071204-0800 log view settings: group by -> session do not show search text activate on new events double-clicking on an entry produces the following error: java.lang.IllegalArgumentException: Argument cannot be null at org.eclipse.swt.SWT.error(SWT.java:3700) at org.eclipse.swt.SWT.error(SWT.java:3634) at org.eclipse.swt.SWT.error(SWT.java:3605) at org.eclipse.swt.widgets.Widget.error(Widget.java:438) at org.eclipse.swt.widgets.Text.setText(Text.java:1873) at org.eclipse.ui.internal.views.log.EventDetailsDialog.updateProperties(EventDetailsDialog.java:347) at org.eclipse.ui.internal.views.log.EventDetailsDialog.createDialogArea(EventDetailsDialog.java:496) at org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:759) at org.eclipse.jface.window.Window.create(Window.java:431) at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1088) at org.eclipse.ui.internal.views.log.EventDetailsDialog.create(EventDetailsDialog.java:177) at org.eclipse.ui.internal.views.log.EventDetailsDialogAction.run(EventDetailsDialogAction.java:88) at org.eclipse.ui.internal.views.log.LogView$14.doubleClick(LogView.java:526) at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:799) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:857) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:46) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:199) at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:797) at org.eclipse.jface.viewers.AbstractTreeViewer.handleDoubleSelect(AbstractTreeViewer.java:1416) at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1173) at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:237) at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:234) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:295) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1113) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3335) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2982) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2381) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2345) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2211) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:473) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:468) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:561) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:501) at org.eclipse.equinox.launcher.Main.run(Main.java:1239) at org.eclipse.equinox.launcher.Main.main(Main.java:1215)"}, {"bug_id": "212745", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizard.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizard.java"], "repo": "eclipse.pde.ui", "reformed_query": "Wording importing imported ins app big changed Bug wrong Running", "bug_title": " Wording and wrong title case in dialog that warns when importing while running a target", "bug_description": "I20071212-0010. See bug 185502 for details. The dialog that's now shown has three issues: - it should be a warning dialog - dialogs should use title casing i.e. start words with big letters - it says: ... plug-ins my not be... (my -> may) - the message talks about 'workbench' but actually it can be anything that runs eclipse code (e.g. a simple SWT app). How about this: title: Running Application message: An application is currently running. Some of the selected plug-ins may not be imported if they are locked by it. Do you want to continue? If more than one app is running it has to be changed to: title: Running Applications message: Applications are currently running. Some of the selected plug-ins may not be imported if they are locked by one of them. Do you want to continue?"}, {"bug_id": "212755", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "current imported unexpected ins completely current approach importing test Bug", "bug_title": " PDE import shows error dialog and logs error when app is running", "bug_description": "I20071212-0010. See bug 185502 for details. The current approach seems not to work completely correct: after I got the dialog saying that an app is running (great!) I decided to import anyway. While importing I got two error dialogs saying that a resource can't be deleted and a .log entry (will post test case in next comment). This is unexpected as the first dialog said that locked plug-ins won't be imported. Test Case see bug 185502 comment 25."}, {"bug_id": "212771", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SourceLocationManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "plugin URL String point returned table extension org situation result", "bug_title": " NPE in SourceLocationManager", "bug_description": "Steps to reproduce: 1. Open up an external plug-in in the Manifest editor that contains extension points. 2. Go to the extension point tab 3. Right click in the table. The result is this NPE: java.lang.NullPointerException at java.util.StringTokenizer.<init>(StringTokenizer.java:197) at org.osgi.framework.Version.<init>(Version.java:127) at org.eclipse.pde.internal.core.SourceLocationManager.searchBundleManifestLocations(SourceLocationManager.java:287) at org.eclipse.pde.internal.core.SourceLocationManager.findSourceFile(SourceLocationManager.java:89) at org.eclipse.pde.internal.core.schema.SchemaRegistry.getSchemaFromSourceExtension(SchemaRegistry.java:116) at org.eclipse.pde.internal.core.schema.SchemaRegistry.getSchemaURL(SchemaRegistry.java:110) at org.eclipse.pde.internal.ui.editor.actions.OpenSchemaAction.findSchema(OpenSchemaAction.java:151) at org.eclipse.pde.internal.ui.editor.actions.OpenSchemaAction.setInput(OpenSchemaAction.java:97) I went back to 3.3 to see how it handled this situation.  When the plugin id was null, they simply returned null from the SourceLocationManager.findSourceFile(..).  So we just need to do the same and do some checking before passing a null to Version."}, {"bug_id": "213255", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ischema/IDocumentSection.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/Schema.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/SchemaElement.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/DocumentSection.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/SchemaAnnotationHandler.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/SchemaAttribute.java"], "repo": "eclipse.pde.ui", "reformed_query": "app app app development reason XML stopper appinfo Standard Editor", "bug_title": " Extension point schemas aren't valid W3C Schemas", "bug_description": "Reviewing the eclipse extension point schemas they are almost compliant W3C schemas except for one apparent element name that is misspelled.  In Eclipse schemas, the element name <appInfo> should be <appinfo>.  As it is now, if you try to apply the W3C Schemas namespace to the XML it will report the schema as being invalid because the name is misspelled. While this is not a show stopper, it is curious that eclipse uses the W3C schema language but doesn't follow the W3C Schema specs for how it should be implemented.   It would be nice if we could bring the Eclipse Schemas up to the W3C spec, so that standard compliant tools and validators could be used as alternative ways to create the schemas.  It would also allow leveraging of the Web Standard Tools XSD Editor for editing and maintaining extension point schemas in the future. Is there a particular reason that the W3C schema specs weren't implemented in regards to appinfo, or was it a Typo that has just been propigated through the development process?"}, {"bug_id": "213457", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ExtensionsErrorReporter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/XMLUtil.java"], "repo": "eclipse.pde.ui", "reformed_query": "multiple child menu tab adding allowes Reproduce Reproduce parent defined", "bug_title": " erroneous extension validation and content assist", "bug_description": "Created attachment 85564 [details] plugin project to show the bug Build ID: e3311 Steps To Reproduce: import attached test plugin project. open plugin.xml. you will see a warning on \"elementB\" tag, but the tag is correct defined as a child of tag b -> or. when trying to add another tag elementB with the content assist (context menu new on the \"or\" tag within the extensions tab), only elementA is shown wich is wrong! after adding a tag b and a subtag or, the minimum of 2 elementB tags are correctly added. elementA, which is not correct within b->or seems to be correct in plugin.xml, but it isn't. the html docu of the extension point \"test\" is correct. More information: it must be possible to define multiple tags within an extension point, having the same name, but depending on their parent, they should have the possibility to have different childs. the extension point schema allowes this, but the extension varification and the content assist fo rnew extension point erroneous doesn't!"}, {"bug_id": "214156", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/PDEMarkerFactory.java", "ui/org.eclipse.pde.ui/.settings/org.eclipse.jdt.core.prefs", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/RemoveLazyLoadingDirectiveResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ResolutionGenerator.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "Bug bug lazy work enhancement work Quickfix lazy Quickfix remove", "bug_title": " Quickfix to remove Bundle-Activator if there's no lazy start", "bug_description": "This is an enhancement for part of the work in bug 209432"}, {"bug_id": "214914", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dialogs/FilteredPluginArtifactsSelectionDialog.java"], "repo": "eclipse.pde.ui", "reformed_query": "lang dialogs Item PluginSearchSelectionHistory Control press Artifacts Accessor Items runUI", "bug_title": " NPE in FilteredPluginArtifactsSelectionDialog while restoring history", "bug_description": "I20080108-1320 When I press Ctrl+Shift+A, I only get this NPE in the log: Error Thu Jan 10 17:13:29 CET 2008 Unhandled event loop exception java.lang.NullPointerException at org.eclipse.pde.internal.ui.search.dialogs.FilteredPluginArtifactsSelectionDialog$PluginSearchSelectionHistory.restoreItemFromMemento(FilteredPluginArtifactsSelectionDialog.java:364) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog$SelectionHistory.load(FilteredItemsSelectionDialog.java:2270) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog$ContentProvider.loadHistory(FilteredItemsSelectionDialog.java:2775) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog.restoreDialog(FilteredItemsSelectionDialog.java:367) at org.eclipse.pde.internal.ui.search.dialogs.FilteredPluginArtifactsSelectionDialog.restoreDialog(FilteredPluginArtifactsSelectionDialog.java:327) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog.createDialogArea(FilteredItemsSelectionDialog.java:761) at org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:759) at org.eclipse.jface.window.Window.create(Window.java:431) at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1088) at org.eclipse.ui.dialogs.SelectionStatusDialog.create(SelectionStatusDialog.java:153) at org.eclipse.ui.dialogs.FilteredItemsSelectionDialog.create(FilteredItemsSelectionDialog.java:340) at org.eclipse.jface.window.Window.open(Window.java:790) at org.eclipse.pde.internal.ui.search.dialogs.PluginArtifactSearchHandler.execute(PluginArtifactSearchHandler.java:35) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:239) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:475) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:470) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:165) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.executeCommand(WorkbenchKeyboard.java:470) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.press(WorkbenchKeyboard.java:821) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.processKeyEvent(WorkbenchKeyboard.java:879) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.filterKeySequenceBindings(WorkbenchKeyboard.java:568) at org.eclipse.ui.internal.keys.WorkbenchKeyboard.access$3(WorkbenchKeyboard.java:510) at org.eclipse.ui.internal.keys.WorkbenchKeyboard$KeyDownFilter.handleEvent(WorkbenchKeyboard.java:126) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1160) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:951) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:976) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:961) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:989) at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:985) at org.eclipse.swt.widgets.Widget.wmChar(Widget.java:1301) at org.eclipse.swt.widgets.Control.WM_CHAR(Control.java:3883) at org.eclipse.swt.widgets.Control.windowProc(Control.java:3776) at org.eclipse.swt.widgets.Canvas.windowProc(Canvas.java:334) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4458) at org.eclipse.swt.internal.win32.OS.$$YJP$$CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(OS.java) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2244) at org.eclipse.swt.internal.BidiUtil.windowProc(BidiUtil.java:657) at org.eclipse.swt.internal.win32.OS.$$YJP$$DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(OS.java) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2330) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3367) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2392) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2356) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2222) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:474) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:469) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:561) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:501) at org.eclipse.equinox.launcher.Main.run(Main.java:1239) at org.eclipse.equinox.launcher.Main.main(Main.java:1215)"}, {"bug_id": "215014", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/XMLUtil.java"], "repo": "eclipse.pde.ui", "reformed_query": "xml Framework getSchemaAttribute isMultiStrata attribute invoke Extension main create getSchemaAttribute", "bug_title": " NPE in XMLUtil.getSchemaElement when clicking an attribute with warning", "bug_description": "I20080108-1320 - open /org.eclipse.jdt.debug.ui/plugin.xml 1.466 - click into 'isMultiStrata' on line 1349: <test property=\"org.eclipse.jdt.debug.isMultiStrata\" value=\"true\"/> => error in log: Error Fri Jan 11 14:17:43 CET 2008 Unhandled event loop exception java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.text.XMLUtil.getSchemaElement(XMLUtil.java:100) at org.eclipse.pde.internal.ui.editor.text.XMLUtil.getSchemaAttribute(XMLUtil.java:112) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionAttributePointDectector.checkIfOnTarget(ExtensionAttributePointDectector.java:146) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionAttributePointDectector.mouseUp(ExtensionAttributePointDectector.java:208) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:206) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:952) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3758) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3369) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2392) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2356) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2222) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:474) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:469) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:106) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:106) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:76) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:362) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:175) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:561) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:501) at org.eclipse.equinox.launcher.Main.run(Main.java:1239) at org.eclipse.equinox.launcher.Main.main(Main.java:1215)"}, {"bug_id": "215314", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/contentassist/TypeCompletionProposal.java"], "repo": "eclipse.pde.ui", "reformed_query": "builds nice window Bug additional additional Bug status additional trigger", "bug_title": " manifest editor content assist: additional info has wrong status text", "bug_description": "3.3 and 3.4 builds If you trigger content assist in a manifest.mf file you get nice additional info for each entry on the right side. This window shows a wrong hint in the status line: \"Press 'F2' for focus\"."}, {"bug_id": "215579", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/feature/Feature.java"], "repo": "eclipse.pde.ui", "reformed_query": "ModelEntry flaws plugin version Model core   completely", "bug_title": " ModelEntry.getBestCandidate() makes bad choices", "bug_description": "The method IPluginModelBase getBestCandidate(IPluginModelBase[] models) of class org.eclipse.pde.core.plugin.ModelEntry has two flaws in it. 1. The logic for rejecting disabled bundles is completely broken (only time it happens is if a disabled bundle was found in a previous iteration in the for loop. In all other cases a disabled bundle can be chosen). 2. The version comparison will select the bundle with the lowest version. So, if you have versions 1.0.0, 1.1.0, and 2.0.0 installed, the 1.0.0 is disabled, then 1.0.0 will still be considered the best candidate. In my opinion, it should be the enabled plug-in with the highest version."}, {"bug_id": "215743", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECoreMessages.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SchemaErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "entry Explorer showing folder errors error Schema details displayed", "bug_title": " [schema] errors should be displayed in problems and package explorer views", "bug_description": "When working with an exsd file, an error is only shown within the Extension Point Schema editor, whereas it should also result in an entry in the Problems view and decorators (on the file, parent folder(s), project and working set(s)) in the Package Explorer view. Only showing the problem in the editor means that you only see the error when the editor is open and you're paying particular attention to the editor's details."}, {"bug_id": "216329", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/plugin.properties", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/refactoring/FilterChange.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/refactoring/RefactoringUtils.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/markers/FilterProblemResolution.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/refactoring/refactoringmessages.properties", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/refactoring/FilterMoveParticipant.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/VisibilityModifiers.java", "apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/builder/tests/usage/UnusedApiProblemFilterTests.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/properties/ApiFiltersPropertyPage.java", "apitools/org.eclipse.pde.api.tools.ui/META-INF/MANIFEST.MF", "apitools/org.eclipse.pde.api.tools.ui/plugin.xml", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/refactoring/TypeFilterChange.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ApiFilterStore.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/markers/RemoveFilterProblemResolution.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/refactoring/RefactoringMessages.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/properties/ApiErrorsWarningsPropertyPage.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/refactoring/FilterRenameParticipant.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/refactoring/FilterDeleteParticipant.java"], "repo": "eclipse.pde.ui", "reformed_query": "refactoring Bug stale names api Refactoring removed cache referenced places", "bug_title": " [api tooling] Refactoring participants required for filters", "bug_description": "In our code we have many places that record/cache/persist qualified names/sigatures/etc. for reuse. If a refactoring is done on one of these referenced types then the cached information about the (previous) type is stale and never gets removed. We need to add in refactoring participants for: 1. api descriptions, for package/type/member rename/signature changes 2. api filters, for package/type/member rename/signature changes"}, {"bug_id": "216703", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/PluginStatusDialog.java"], "repo": "eclipse.pde.ui", "reformed_query": "resize enhancements button based persisted Bug dialog sooner sooner Bundles", "bug_title": " Validate dialog is too narrow", "bug_description": "When you click the \"Validate Bundles\" button for an OSGi Framework launch configuration, violations are displayed in the \"Validate\" dialog.  This dialog has a fixed size that is too small.  Some possible enhancements: 1.  Make the dialog wider, at least 600 pixels.  Today you always have to resize it to see the details of the violations. 2.  Make the dialog resize itself based on the content.  Harder to do, for sure. 3.  Having resized the dialog the size is not persisted, which is rather frustrating since you have to constantly resize it. Note that this is a bug against Eclipse/PDE 3.3, and while it also applies to Eclipse/PDE 3.4, I'd sooner see the dialog banished, since it has such nasty usability characteristics.  See bug 216690."}, {"bug_id": "216937", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "create bundle runtime required reproduce warning regression imagine debugging singleton", "bug_title": " Missing \"singleton:=true\" directive does not result in a warning", "bug_description": "Removing the \"singleton:=true\" directive from the Bundle-SymbolicName header no longer results in a warning.  This worked in Eclipse 3.3, and is a regression in Eclipse 3.4 M4. To reproduce, simply create a bundle that has a plugin.xml file.  This is a case where the directive is required.  When the directive is removed the warning should be issued, but it is not. Unfortunately, when the directive is missing, the plugin.xml seems to be completely ignored at runtime, which as you can imagine, makes for some frustrating hours of plugin.xml debugging."}, {"bug_id": "216946", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/JUnitLaunchConfigurationDelegate.java"], "repo": "eclipse.pde.ui", "reformed_query": "Plug view Bug doesn needed dependencies launch org Junit", "bug_title": " Unable to run JUnit4 tests if org.eclipse.jdt.junit4.runtime is not in target platform", "bug_description": "Build ID: I20070621-1340 Steps To Reproduce: 1.Create a target platform that doesn't contain the org.eclipse.jdt.* or org.eclipse.pde* projects.  (In my situation those files are not even present in the folder not just deselected from preferences) 2. Change your eclipse preferences to point to that directory. 3.  Create a Plugin project that has a dependency on org.junit4 and contains a JUnit4 test that just does Assert.assertTrue(true); 4. Right click on the test class and select to run as JUnit Plug-in Test The console will appear as if it is starting the java process for the test but then after a time it will say the process is terminated.  The Junit view will not display any results and no workspace for the launch configuration will be created.  The test just dies with no feedback. More information: In my situation my target platform will contains only those bundles necessary to run my app and its test dependencies.  It won't contain Eclipse endstates needed for the IDE. This issue is also similar to one resolve for when Eclipse 3.3 was released (Bug 169452)."}, {"bug_id": "217824", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "org ENTRY unusable EclipseStarter longer build find Starter basicRun", "bug_title": " Target no longer start after importing binary plug-ins", "bug_description": "I20080205-0010. As usual I imported the new build as binary plug-ins (for all non-shared ones). Now I can no longer start my Eclipse targets. I get: !SESSION Tue Feb 05 14:10:24 CET 2008 ------------------------------------------ !ENTRY org.eclipse.equinox.launcher 4 0 2008-02-05 14:10:24.206 !MESSAGE Exception launching the Eclipse Platform: !STACK java.lang.ClassNotFoundException: org.eclipse.core.runtime.adaptor.EclipseStarter at java.net.URLClassLoader$1.run(URLClassLoader.java:200) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:188) at java.lang.ClassLoader.loadClass(ClassLoader.java:306) at java.lang.ClassLoader.loadClass(ClassLoader.java:251) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:561) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1251) at org.eclipse.equinox.launcher.Main.main(Main.java:1227) The reason: this resulted in duplicate plug-ins in my workspace which seems to break the luncher. Caused by bug 18500. Marking as critical as this makes the build unusable for me: I have to go and manually select each duplicate and delete it."}, {"bug_id": "217941", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/contentassist/ManifestContentAssistProcessor.java"], "repo": "eclipse.pde.ui", "reformed_query": "headers comma correctly core assist reproduce eclipse comma Bug Incorrectly", "bug_title": " Incorrectly parse headers in Manifest Content Assist", "bug_description": "Steps to reproduce: 1. Import org.eclipse.pde.core into your workspace. 2. Go to the last time of the Export-Package header 3. Add a comma then a new line then trigger content assist. Result: content assist shows almost all the packages in the plug-in.  This is because we don't parse the header correctly resulting in the Export-Package header  only containing the first 3 packages."}, {"bug_id": "218223", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/PDEJavaHelperUI.java"], "repo": "eclipse.pde.ui", "reformed_query": "fresh type Created Search range PDE attachment", "bug_title": " PDE editor browse type causes OOME", "bug_description": "Created attachment 89169 [details] PDE Browse button log BuildId: I20080207-0010 I start up eclipse in a fresh workspace, and check out org.eclipse.ui.examples.contributions.  Bring up the Plug-ins view and add the target platform to the Java Search Path, CTRL+SHIFT+T and search for Person. Edit the plugin.xml, go to the first handler element and add enabledWhen>with>instanceof For the instanceof element click the Browser button and when it comes up, type Person. On windows and linux, the CPU pegs at around 95% for anywhere from 25 seconds to 2 minutes ... if it gets up in the 2 minute range, it usually dies with an OOME, log attached. PW"}, {"bug_id": "218618", "ground_truth": ["ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/bundle/ExportPackageObject.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDELabelProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "flag fact bundle flag friend friends editor Remove decorated patch", "bug_title": " x-friend and internal decorators incorrectly refreshed in the manifest editor", "bug_description": "Steps to reproduce: 0/ Create a bundle with some packages inside 1/ Export a package ---> no decorator in the Exported Packages section 2/ Make the package internal changing the radio button (\"hidden from all...\") ---> OK, we have the 'internal' decorator 3/ Add a bundle as friend --> KO, no refresh, the decorator is still \"internal\". But OK if you close and reopen the editor. 4/ Remove all friends (when there are ones) until the package becomes an 'internal' package again --> KO, the \"friend\" icon remains in the Exported Packages viewer. 4bis/ Add some friends, and then check \"visible to downstream plugins\", the package is still decorated as a \"friend\" one even if it now is a normal one. (in fact friends are kept in memory in case we check \"hidden from all...\" and the \"friend\" flag is not computed well. ... patch to come"}, {"bug_id": "218648", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/Group.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogFilesManager.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogSession.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogView.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/Messages.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/messages.properties"], "repo": "eclipse.pde.ui", "reformed_query": "Log Bug Bug Bug Build entry select entry select Bug", "bug_title": " [Error Log] Export Log... always exports the first error", "bug_description": "Build: I20080207-1530 It doesn't matter which entry I select in the Error Log, the exported one is always the first one."}, {"bug_id": "218697", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/ApiPlugin.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/WorkspaceApiProfile.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ApiDescription.java", "apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/util/tests/JavaModelEventWaiter.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/CompilationUnit.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/ApiUseAnalyzer.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ApiDescriptionManager.java", "apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/util/tests/PluginModelEventWaiter.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/IApiProfileManager.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/AbstractClassFileContainer.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/AbstractApiComponent.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/PluginProjectApiComponent.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ApiProfileManager.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ProjectApiDescription.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/BundleApiComponent.java", "apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/util/tests/ApiProfileManagerTests.java"], "repo": "eclipse.pde.ui", "reformed_query": "stale description manifest stays modified workspacep component dynamically OSGi", "bug_title": " dynamic plug-in project API description and API component", "bug_description": "As plug-ins are modified in the workspace, the associated API descriptions, components, and workspace profile need to be kept up-to-date. Implemented a new API description for plug-in projects that dynamically retrieve API description information from the workspace, using modification timestamps to know when the data is stale. Modified the API profile manager to dispose the workspace API profile when a manifest, build.properties, or classpath changes. This way our OSGi state stays up to date. A new workspacep profile is created on demand."}, {"bug_id": "219123", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/wizards/ApiToolingSetupWizardPage.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/wizards/ApiToolingSetupWizard.java"], "repo": "eclipse.pde.ui", "reformed_query": "setting setup finish option vote finish track recompute track setup", "bug_title": " tooling setup wizard does nothing without a preview", "bug_description": "with the way the text edits are lazily collected in the api tooling setup wizard, if you press the finihs button when the wizard initially opens (without doing a preview) it will do nothing. there are two things we can do: 1. more aggresively load the text changes, or just do them when the user presses finish (needs more logic to track if the user has seen a preview or not and if we should recompute them, etc) 2. we could force a preview. I vote option 2 (it only requires setting a boolean flag)."}, {"bug_id": "219250", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/feature/FeatureEditor.java"], "repo": "eclipse.pde.ui", "reformed_query": "FeatureEditor Input matters Area EditorAreaHelper Resource Contexts create Input Folder", "bug_title": " NPE opening non-feature.xml feature file", "bug_description": "in 0212 - create a feature using the normal process. - rename the feature.xml to features.xml (not sure the name really matters but this is what I did) - drag and drop the file into the editor area - observe the following NPE java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.feature.FeatureEditor.createResourceContexts(FeatureEditor.java:93) at org.eclipse.pde.internal.ui.editor.PDEFormEditor.createInputContexts(PDEFormEditor.java:196) at org.eclipse.pde.internal.ui.editor.PDEFormEditor.createPages(PDEFormEditor.java:248) at org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:304) at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:661) at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:428) at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:594) at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:300) at org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:180) at org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:270) at org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65) at org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:473) at org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1256) at org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1209) at org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1608) at org.eclipse.ui.internal.PartStack.add(PartStack.java:499) at org.eclipse.ui.internal.EditorStack.add(EditorStack.java:103) at org.eclipse.ui.internal.PartStack.add(PartStack.java:485) at org.eclipse.ui.internal.EditorStack.add(EditorStack.java:112) at org.eclipse.ui.internal.EditorSashContainer.addEditor(EditorSashContainer.java:63) at org.eclipse.ui.internal.EditorAreaHelper.addToLayout(EditorAreaHelper.java:217) at org.eclipse.ui.internal.EditorAreaHelper.addEditor(EditorAreaHelper.java:207)"}, {"bug_id": "220069", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/views/plugins/PluginsLabelProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "call LabelProvider Plugins setInput IDeferredWorkbenchAdapter Workbench instances setContentDescription lines support", "bug_title": " 'Plug-ins' view has a \"malformed\" content description", "bug_description": "Build id: I20080212-0800 1. Make sure all instances of the 'Plug-ins' view is closed across all perspectives. 2. Open the 'Plug-ins' view. 3. See a weird content description for the view like 'Plug-ins: org.eclipse.pde.internal.ui.views.PluginsView$22@57479d'. Needless to say, that's a toString() call on some anonymous inner class. The root cause is line 203 of the PluginsView class... fTreeViewer.setInput(fRoot = getDeferredTreeRoot()); ...which sets an IDeferredWorkbenchAdapter implementation as the input. The label provider being used for the tree viewer does not support this per lines 778 - 780... String name = ((LabelProvider) fTreeViewer.getLabelProvider()).getText(newInput); setContentDescription(viewName + \": \" + name); //$NON-NLS-1$ setTitleToolTip(getInputPath(newInput)); ...name, in this case, becomes org.eclipse.pde.internal.ui.views.PluginsView$22@57479d. This is likely caused by the \"lazy loading\" change that was added to make the view to populate itself in a background job."}, {"bug_id": "220179", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/context/XMLInputContext.java"], "repo": "eclipse.pde.ui", "reformed_query": "eclipse Context situation erase pde IDocument Delete previous java method", "bug_title": " [Manifest][Editors] XMLInputContext erase more characters when removing nodes", "bug_description": "Created attachment 90638 [details] a patch for the problem This happens in files where there are different line delimiters. The org.eclipse.pde.internal.ui.editor.context.XMLInputContext.getDeleteNodeOperation(IDocumentElementNode) method tries to defend itself against line delimiters by relying on each line to keep its delimiter. When a node is removed, the newline from the previous line is tried to be removed. However, when checking the line delimiter length, it checks the delimiter of the start line instead of the previous, which we try to remove. This leads to situation where more characters than needed are removed. (line: 386 in XMLInputContext.java; revision: 1.29) I'm attaching a patch to better illustrate my explanation which isn't exactly clear:)"}, {"bug_id": "220235", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/properties/CompilersPropertyPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Plug specific Plug specific menu dialog saved ltk options dialog", "bug_title": " Project-specific Plug-in Manifest Compiler properties broken", "bug_description": "I20080222-1622 - select a plug-in project (I took org.eclipse.ltk.core.refactoring.tests from CVS) - context menu > Properties > Plug-in Manifest Compiler - enable 'Use project settings' - OK - open properties dialog again => 'Use project settings' disabled It looks like the project-specific options are still saved and used, even though the properties page opens disabled."}, {"bug_id": "220569", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/PDESchemaHelper.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/IdAttributeRow.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/FilteredSchemaAttributeSelectionDialog.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "element bound eclipse style element extensions extension Schema referred supported", "bug_title": " Schema identifier cannot be bound to core style extensions", "bug_description": "Most (if not all) core extensions are identified by a combination of extension ID and some nested attribute.  ie:  a <product> element with a name of \"foo\" inside an extension with an id of \"org.eclipse\" would be referred to by the string \"org.eclipse.foo\"  This style of identifier is not supported by the schema identifier attribute."}, {"bug_id": "220745", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/IPDEColorConstants.java"], "repo": "eclipse.pde.ui", "reformed_query": "buildAndLaunch editor DebugUIPlugin Caused High getDefaultPreferences EclipsePreferences Application core getPreferenceNodes", "bug_title": " NPE launching in nightly build", "bug_description": "I selected a plug-in and pressed \"debug\". I got this error: N20080228-0010 java.lang.ExceptionInInitializerError at org.eclipse.pde.internal.ui.editor.text.ColorManager.initializeDefaults(ColorManager.java:44) at org.eclipse.pde.internal.ui.preferences.PreferenceInitializer.initializeDefaultPreferences(PreferenceInitializer.java:27) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.runInitializer(PreferenceServiceRegistryHelper.java:276) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.applyRuntimeDefaults(PreferenceServiceRegistryHelper.java:130) at org.eclipse.core.internal.preferences.PreferencesService.applyRuntimeDefaults(PreferencesService.java:367) at org.eclipse.core.internal.preferences.DefaultPreferences.applyRuntimeDefaults(DefaultPreferences.java:163) at org.eclipse.core.internal.preferences.DefaultPreferences.loadDefaults(DefaultPreferences.java:236) at org.eclipse.core.internal.preferences.DefaultPreferences.load(DefaultPreferences.java:232) at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:307) at org.eclipse.core.internal.preferences.EclipsePreferences.internalNode(EclipsePreferences.java:543) at org.eclipse.core.internal.preferences.EclipsePreferences.node(EclipsePreferences.java:662) at org.eclipse.core.internal.preferences.AbstractScope.getNode(AbstractScope.java:38) at org.eclipse.core.runtime.preferences.DefaultScope.getNode(DefaultScope.java:67) at org.eclipse.ui.preferences.ScopedPreferenceStore.getDefaultPreferences(ScopedPreferenceStore.java:249) at org.eclipse.ui.preferences.ScopedPreferenceStore.getPreferenceNodes(ScopedPreferenceStore.java:283) at org.eclipse.ui.preferences.ScopedPreferenceStore.internalGet(ScopedPreferenceStore.java:473) at org.eclipse.ui.preferences.ScopedPreferenceStore.getBoolean(ScopedPreferenceStore.java:385) at org.eclipse.pde.internal.ui.launcher.LauncherUtils.validateProjectDependencies(LauncherUtils.java:166) at org.eclipse.pde.ui.launcher.AbstractPDELaunchConfiguration.validateProjectDependencies(AbstractPDELaunchConfiguration.java:381) at org.eclipse.pde.ui.launcher.AbstractPDELaunchConfiguration.preLaunchCheck(AbstractPDELaunchConfiguration.java:290) at org.eclipse.pde.ui.launcher.EclipseApplicationLaunchConfiguration.preLaunchCheck(EclipseApplicationLaunchConfiguration.java:222) at org.eclipse.pde.ui.launcher.AbstractPDELaunchConfiguration.launch(AbstractPDELaunchConfiguration.java:47) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:764) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:614) at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:827) at org.eclipse.debug.internal.ui.DebugUIPlugin$7.run(DebugUIPlugin.java:1030) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55) Caused by: org.eclipse.swt.SWTException: Invalid thread access at org.eclipse.swt.SWT.error(SWT.java:3756) at org.eclipse.swt.SWT.error(SWT.java:3674) at org.eclipse.swt.SWT.error(SWT.java:3645) at org.eclipse.swt.widgets.Display.error(Display.java:1156) at org.eclipse.swt.widgets.Display.checkDevice(Display.java:681) at org.eclipse.swt.widgets.Display.getHighContrast(Display.java:1691) at org.eclipse.pde.internal.ui.editor.text.IPDEColorConstants.<clinit>(IPDEColorConstants.java:22) ... 27 more"}, {"bug_id": "221019", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/RequiredPluginsClasspathContainer.java"], "repo": "eclipse.pde.ui", "reformed_query": "bundle container entries Require Bug Bug classpath Bug JDT Manifest", "bug_title": " Duplicated entries in classpath container", "bug_description": "When a bundle is added as a Require-Bundle to the Manifest and is included in the dependency management section, the jar is added to the classpath twice.  This causes errors in JDT.  PDE should update its logic to not include a jar if it is already included in the classpath container."}, {"bug_id": "221852", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/exports/CrossPlatformExportPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "export Bug button wizard don notice adding", "bug_title": " Can't export features from a p2-enabled SDK", "bug_description": "With equinox-p2-sdk-I20080305-1100-win32, it is impossible to export a feature. Steps: - Create a new feature project (don't even bother adding a plugin or anything) - Export > features. You will notice that the finish button of the wizard is never enabled."}, {"bug_id": "222753", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/comparator/ApiComparator.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/ApiAnalysisBuilder.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/problems/problemmessages.properties", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/ApiProfilesPreferencePage.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/util/Util.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/ApiProfilesConfigurationBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "API profiles", "bug_title": " Prompted twice for rebuild", "bug_description": "on the API profiles pref page if you change the default profile notification pref (in the options section) and press apply you get prompted twice for a rebuild. Steps: 1. open the API profiles pref page 2. change the default API profile option 3. press apply Expected: I am prompted for a rebuild Happens: I am prompted for a rebuild, I press ok and am prompted for a rebuild again"}, {"bug_id": "223194", "ground_truth": ["apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/problems/tests/ApiProblemTests.java", "apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/tests/ApiToolsPluginTestSuite.java"], "repo": "eclipse.pde.ui", "reformed_query": "check problem problem values causing test test test running causing", "bug_title": " failing test in N20080318-2000", "bug_description": "The getSeverity test is failing when run in the test harness. It is the design of the test that is causing the problem, since getSeverity could return different values based on if the framework is running or not. The test should be updated to check both cases (framework running and not)."}, {"bug_id": "224447", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/ApiAnalysisBuilder.java"], "repo": "eclipse.pde.ui", "reformed_query": "problem versa packages picked markers problem manifest Bug based updated", "bug_title": " change to x-internal in manifest file is not picked up", "bug_description": "I changed one of my packages from x-internal:false to x-internal:true (and vice versa), but the API tooling did not pick up this change - I had to go to the file in question and make a whitespace change to get updated error markers based on the x-internal setting. We had an internal package that was marked as x-internal:false. I found this bug when I tried to fix our problem in the manifest file."}, {"bug_id": "225148", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ICoreConstants.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginPathFinder.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "load doesn asked pretty heard bugs button annoying PDE load", "bug_title": " P2 PDE target doesn't work, easily", "bug_description": "After moving to p2, the PDE development environment doesn't automatically load all plugins from the target. It appears to only load the platform plugins, and I have to manually click the Reload button to get it to load other plugins. While this is a pretty simple workaround, this regression is annoying when switching between multiple development environments. FWIW, I've heard reports from others where this hasn't even worked, making M6 unusable as a development environment. I've asked them to submit separate bugs."}, {"bug_id": "225210", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/ManifestUtils.java"], "repo": "eclipse.pde.ui", "reformed_query": "corporate fine Manifest pde conversion ManifestUtils Safe Classpath build stopper", "bug_title": " Plug-in Manifest builder throws IllegalArgumentException when \"./\" is on \"Bundle-Classpath\"", "bug_description": "Build ID: M20080221-1800 Please note that following report is censored for corporate legal concerns.  \"<project>\" is just a project name, not that literal string. Steps To Reproduce: 1. Create new plug-in project 2. Edit MANIFEST.MF, adding \"./\" to Bundle-Classpath 3. Clean project to trigger full build Error Log view shows new item with two sub items: \"Error during build\" \"Errors running builder 'Plug-in Manifest Builder' on project '<project>'\". \"Path must include project and resource name: /<project>/ This also happens if you use the PDE project conversion right-click menu item. More information: This only happens on Linux for me -- it works fine on Windows.  This isn't a show stopper, since it's easy enough to move our plug-in's class files to a nested directory (instead of the project root), but it seems like an arbitrary requirement.  Also, the error message was *not* helpful when trying to determine the cause of the error. Full stack trace: java.lang.IllegalArgumentException: Path must include project and resource name: /<project>/ at org.eclipse.core.runtime.Assert.isLegal(Assert.java:62) at org.eclipse.core.internal.resources.Workspace.newResource(Workspace.java:1631) at org.eclipse.core.internal.resources.Container.getFile(Container.java:116) at org.eclipse.pde.internal.core.util.ManifestUtils.findPackageFragmentRoots(ManifestUtils.java:54) at org.eclipse.pde.internal.core.builders.BundleErrorReporter.validateExportPackages(BundleErrorReporter.java:123) at org.eclipse.pde.internal.core.builders.BundleErrorReporter.validateContent(BundleErrorReporter.java:104) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateFiles(ManifestConsistencyChecker.java:288) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateProject(ManifestConsistencyChecker.java:236) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.build(ManifestConsistencyChecker.java:174) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:624) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:166) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:197) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:246) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:249) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:302) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:334) at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:137) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:235) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55) Thanks, Zach"}, {"bug_id": "226037", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PreferenceInitializer.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "location target change platform host changed info", "bug_title": " initialization policy for target platform should be different based on location", "bug_description": "This bug is created as a follow on to bug 225148. I think that the initial set of bundles in the target platform should be determined differently based on the location of the target platform. (1) If the target platform is the default location (i.e. the running host), we should use the bundles.info to populate the initial set of bundles. (2) If the target platform is not the default location, we should scan the directory to populate the initial set of bundles. Since the behavior is dependent on the target platform location, I think this setting has to appear on the target platform page (rather than the general page). We'll need to keep track of whether the user has changed the default setting to somethin explicit to know whether to change the \"initialize policy\" as they change the target platform location... this migh take some experiemtation to get the user interaction right."}, {"bug_id": "226349", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LaunchConfigurationHelper.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/EquinoxLaunchConfiguration.java"], "repo": "eclipse.pde.ui", "reformed_query": "configurator file Check Build   logs Reproduce jcraft", "bug_title": " Eclipse logs seemingly useless \"could not install bundle\" error for every bundle", "bug_description": "Build ID: I20080330-1350 Steps To Reproduce: 1. Download Eclipse 3.4 M6 2. Develop a plug-in 3. Test it in a standard runtime workbench 4. Check your .log file More information: My .log file contains this: !ENTRY org.eclipse.update.configurator 0 0 2008-04-09 15:03:28.015 !MESSAGE Could not install bundle plugins/com.ibm.icu_3.8.1.v20080304.jar   Bundle \"com.ibm.icu\" version \"3.8.1.v20080304\" has already been installed from: reference:file:/C:/eclipse/eclipse-SDK-3.4M6-win32/eclipse/plugins/com.ibm.icu_3.8.1.v20080304.jar !ENTRY org.eclipse.update.configurator 0 0 2008-04-09 15:03:28.031 !MESSAGE Could not install bundle plugins/com.jcraft.jsch_0.1.37.v200803061811.jar   Bundle \"com.jcraft.jsch\" version \"0.1.37.v200803061811\" has already been installed from: reference:file:/C:/eclipse/eclipse-SDK-3.4M6-win32/eclipse/plugins/com.jcraft.jsch_0.1.37.v200803061811.jar !ENTRY org.eclipse.update.configurator 0 0 2008-04-09 15:03:28.031 !MESSAGE Could not install bundle plugins/javax.servlet_2.4.0.v200803061910.jar   Bundle \"javax.servlet\" version \"2.4.0.v200803061910\" has already been installed from: reference:file:/C:/eclipse/eclipse-SDK-3.4M6-win32/eclipse/plugins/javax.servlet_2.4.0.v200803061910.jar !ENTRY org.eclipse.update.configurator 0 0 2008-04-09 15:03:28.046 !MESSAGE Could not install bundle plugins/javax.servlet.jsp_2.0.0.v200803061910.jar   Bundle \"javax.servlet.jsp\" version \"2.0.0.v200803061910\" has already been installed from: reference:file:/C:/eclipse/eclipse-SDK-3.4M6-win32/eclipse/plugins/javax.servlet.jsp_2.0.0.v200803061910.jar . . . and so on for every single bundle in Eclipse, as well as for every plug-in in my workspace.  It looks like it is not realizing that the relative path is exactly the same as the absolute path or something.  This makes it appear as if your Eclipse install is busted, but it seems to be working just fine."}, {"bug_id": "226352", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/EclipseApplicationLaunchConfiguration.java"], "repo": "eclipse.pde.ui", "reformed_query": "showsplash create start incorrect Impl pnehrer Eclipse branding org note", "bug_title": " Eclipse launcher name incorrect (eclipse..exe) when launching Eclipse Application", "bug_description": "Eclipse launcher name is incorrect on win32 (note the extra dot): Error Wed Apr 09 15:21:19 EDT 2008 -showsplash java.io.IOException: CreateProcess: C:\\cygwin\\home\\pnehrer\\cce-update-base\\eclipse\\eclipse..exe -name Eclipse -showsplash 600 C:\\cygwin\\home\\pnehrer\\cce-update-workspace\\eclipse\\plugins\\com.ti.ccstudio.branding\\splash.bmp error=2 at java.lang.ProcessImpl.create(Native Method) at java.lang.ProcessImpl.<init>(ProcessImpl.java:81) at java.lang.ProcessImpl.start(ProcessImpl.java:30) at java.lang.ProcessBuilder.start(ProcessBuilder.java:451) at java.lang.Runtime.exec(Runtime.java:591) at java.lang.Runtime.exec(Runtime.java:464) at org.eclipse.core.launcher.Main.runCommand(Main.java:1588) at org.eclipse.core.launcher.Main.handleSplash(Main.java:1564) at org.eclipse.core.launcher.Main.basicRun(Main.java:278) at org.eclipse.core.launcher.Main.run(Main.java:996) at org.eclipse.core.launcher.Main.main(Main.java:971)"}, {"bug_id": "226788", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/PDEModelUtility.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug editor FileEditorInput editors Input deleted Editor PDEModelUtility key closed", "bug_title": " PDEModelUtility does not cache correctly", "bug_description": "PDEModelUtility has a cache it uses to track which editors are currently open.  This cache is implemented with the key being a project and the value is a list of the open editors. When an editor opens, it calls connect.  When it is closed, it calls disconnect.  Unfortunately, if the editor is closing as a result of a project being deleted PDE does not correctly remove the editor from its cache.  Instead, when it tries to get the project from the editor it returns null (as all its inputContexts have been removed) and we ignore it. The solution is to try to do more searching in this case.  To use the input if it is a FileEditorInput to find the project and thereby be able to remove it."}, {"bug_id": "226800", "ground_truth": ["ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/DocumentHandler.java", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/model/xml/BasicXMLTestCase.java"], "repo": "eclipse.pde.ui", "reformed_query": "bug Bug xml plugin", "bug_title": " one-line xml docs not parsed correctly", "bug_description": "Created attachment 95794 [details] screenshot it's spin-off of bug 197666. One-line xml docs like plugin.xml or cheatsheet are not parsed correctly. See my precious screenshot."}, {"bug_id": "227963", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "target user prompt robust apply Platform Platform platform hit usability", "bug_title": " Target Platform Realization Preference needs to be more robust", "bug_description": "Currently, there is a usability with the target platform realiziation. The preference is only affected when you hit apply. This is bad. We should be more proactive and prompt the user as soon as this preference is changed."}, {"bug_id": "228031", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/ApiErrorsWarningsConfigurationBlock.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/SWTFactory.java"], "repo": "eclipse.pde.ui", "reformed_query": "tabs Wrong Warnings preference composites tabfolder Bug API Warnings composites", "bug_title": " Wrong background inheritance on preference pages", "bug_description": "On the preference page of \"API Errors/Warnings\" the composites inside the first two tabs don't use the background of the tabfolder."}, {"bug_id": "228044", "ground_truth": ["ui/org.eclipse.pde.junit.runtime/src/org/eclipse/pde/internal/junit/runtime/UITestApplication.java"], "repo": "eclipse.pde.ui", "reformed_query": "Application testApplication considered discovered nice UITestApplication UITestApplication Test logic considered", "bug_title": " -testApplication parameter unusable if there's a product", "bug_description": "3.4 In trying to implement this test (a SessionTest that runs an RCP application) we discovered that the testApplication parameter (used by UITestApplication) was effectively unusable.  If you look at the getApplicationToRun() method you'll see that if a product is present it will be used instead.  Given that testApplication is far more specific than what's considered to be the currently active product it'd be nice if this logic could be switched.  Ie:  put the check for the parameter first and fall back to the product.  Would you be amicable to this change?"}, {"bug_id": "228765", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/ConfigurationSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "editor product ini button browse existing Bug", "bug_title": " Can't use an existing config.ini in product editor", "bug_description": "I20080422 I created a new product. When I try set the option to use an existing config.ini file, the browse button is not enabled and I can't enter something in the text area."}, {"bug_id": "228840", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BundleErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Project error severity \u00c3\u2019\u00c3\u0192\u00c3\u00ac\u00c2\u00ab\u00c3\u2022\u00c2\u00be\u00c3\u2022 Steps create Invalid", "bug_title": " Invalid Plug-in ID should be error severity instead of warning", "bug_description": "Build ID: I20080330-1350 Steps To Reproduce: 1.File->New->Project 2.Plug-in Development->Plug-in Project 3.copy this string \"\u00c3?\u00c3\u2019\u00c3\u0192\u00c3\u00ac\u00c2\u00ab\u00c3\u2022\u00c2\u00be\u00c3\u2022\" and paste into Project name (without double quoe) 4.click next then project id appear as ________ 5.If i attemp to type Thai string into id, validation fail 6.If skip step 5, the project created successful 7.After create project successful, the id now can be change to Thai string More information:"}, {"bug_id": "228935", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/P2Utils.java"], "repo": "eclipse.pde.ui", "reformed_query": "created Configuration workspace hosted Txt UIPlugin write fragment exists", "bug_title": " NPE writing bundles.info, stale model in state", "bug_description": "I had created a test fragment in my workspace (for bug 223289), I then later deleted that fragment from my workspace. I then went to launch a self hosted workspace, and the launch failed with an NPE. On the launch config Plug-ins tab, I clicked Validate Plug-ins and one of the problems was a missing version constraint that exists in my test fragment which has since been deleted from the workspace.  (Apparently the fragment still exists in the target state?) The NPE is java.lang.NullPointerException at java.io.File.<init>(File.java:220) at org.eclipse.pde.internal.core.P2Utils.writeBundlesTxt(P2Utils.java:222) at org.eclipse.pde.internal.core.P2Utils.writeBundlesTxt(P2Utils.java:322) at org.eclipse.pde.internal.ui.launcher.LaunchConfigurationHelper.createConfigIniFile(LaunchConfigurationHelper.java:118) at org.eclipse.pde.ui.launcher.EclipseApplicationLaunchConfiguration.getProgramArguments(EclipseApplicationLaunchConfiguration.java:80) at org.eclipse.pde.ui.launcher.AbstractPDELaunchConfiguration.launch(AbstractPDELaunchConfiguration.java:62) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:764) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:614) at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:827) at org.eclipse.debug.internal.ui.DebugUIPlugin$7.run(DebugUIPlugin.java:1030) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "229024", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/schema/DocumentSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/DocSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaFormOutlinePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "apiInfo editor org recognized type type encodings overview api extension", "bug_title": " meta attribute in schema should be case-insensitive", "bug_description": "Looking at the org.eclipse.ui.encodings extension point, you see a tab with \"?\" on the overview page of the schema editor. This is caused by an meta attribute called \"apiInfo\" which is not recognized by PDE. Seems PDE only recognizes the \"apiinfo\" type as valid attribute for api informations."}, {"bug_id": "229382", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/IdAttributeRow.java"], "repo": "eclipse.pde.ui", "reformed_query": "runEventLoop IdAttributeLabelProvider Deferred Indicator editor basic Window rows notifyListeners runWithDefault", "bug_title": " NPE in identifier browse button", "bug_description": "I20080429-0100 1) create an activity extension 2) add an activity and a category 3) add an activityCategoryBinding 4) hit browse nothing happens and there's an NPE in the log. java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.plugin.rows.IdAttributeRow$IdAttributeLabelProvider.getText(IdAttributeRow.java:57) at org.eclipse.ui.dialogs.FilteredList.setElements(FilteredList.java:278) at org.eclipse.ui.dialogs.AbstractElementListSelectionDialog.setListElements(AbstractElementListSelectionDialog.java:178) at org.eclipse.ui.dialogs.ElementListSelectionDialog.createDialogArea(ElementListSelectionDialog.java:64) at org.eclipse.jface.dialogs.Dialog.createContents(Dialog.java:760) at org.eclipse.jface.window.Window.create(Window.java:431) at org.eclipse.jface.dialogs.Dialog.create(Dialog.java:1089) at org.eclipse.ui.dialogs.SelectionStatusDialog.create(SelectionStatusDialog.java:153) at org.eclipse.ui.dialogs.AbstractElementListSelectionDialog.access$superCreate(AbstractElementListSelectionDialog.java:428) at org.eclipse.ui.dialogs.AbstractElementListSelectionDialog.access$2(AbstractElementListSelectionDialog.java:427) at org.eclipse.ui.dialogs.AbstractElementListSelectionDialog$4.run(AbstractElementListSelectionDialog.java:439) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.ui.dialogs.AbstractElementListSelectionDialog.create(AbstractElementListSelectionDialog.java:437) at org.eclipse.jface.window.Window.open(Window.java:790) at org.eclipse.ui.dialogs.AbstractElementListSelectionDialog.open(AbstractElementListSelectionDialog.java:423) at org.eclipse.pde.internal.ui.editor.plugin.rows.IdAttributeRow.browse(IdAttributeRow.java:92) at org.eclipse.pde.internal.ui.editor.plugin.rows.ButtonAttributeRow$1.widgetSelected(ButtonAttributeRow.java:47) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1557) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1581) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1566) at org.eclipse.swt.widgets.Widget.notifyListeners(Widget.java:1357) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3459) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3050) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2380) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2344) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2210) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:494) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:489) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:112) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236)"}, {"bug_id": "229441", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ExtensionsErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "point invalid points internal   shouldn", "bug_title": " invalid flagging of internal extension points", "bug_description": "If an ext point is internal and you use it within your own plug-in, you shouldn't be flagged."}, {"bug_id": "229453", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "uml warnings source Bug exceedingly jars isn files org update", "bug_title": " Inappropriate build.properties errors for yet-to-be-built extra classpath jars that fail to update when the jar is built", "bug_description": "When I extract the EMF source, none of the ant task jars are built and hence they don't exist yet.  References to missing jars on the jars.extra.classpath are flagged as errors which is really annoying because it means the newly extract source contains errors already.  It seems odd though that missing jars on the jars.compile.order aren't flagged at all while the ones on the jars.extra.classpath are flagged as errors. jars.compile.order = .,\\ ant_tasks/uml2.uml.ecore.importer.tasks.jar jars.extra.classpath = ../org.eclipse.emf.ant/ant_tasks/emf.ant.tasks.jar What makes it even more annoying is that when I actually build the jar, all these downstream errors in other projects don't go away until I clean each project. Wouldn't it be better for this to be treated as a warning. And to make this all exceedingly annoying, I can't even just create an empty jar to make the warnings go away because the build.xml isn't properly set up to depend on the .class files that go into the jar so the jar won't be rebuilt.  It's like all these things are stacked one on the other to make it impossible to work around this little annoyance.  We'll need to document all these steps for users setting up an development image from CVS (http://wiki.eclipse.org/EMF/Getting_Source), and that just helps highlight the underlying issues in the PDE, which otherwise is a like one of the crown jewels of Eclipse."}, {"bug_id": "229584", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/feature/Feature.java"], "repo": "eclipse.pde.ui", "reformed_query": "feature Compute", "bug_title": " Compute dependencies on a feature is broken", "bug_description": "Chris, fixing bug 215579 you introduced some really weird bugs :) See attached patch"}, {"bug_id": "229624", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardFirstPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "wizard dialog wizard cutted plugins Text screenshot cutted wrapped cutted", "bug_title": " Text wrapped and cutted in Import plugins wizard", "bug_description": "see screenshot. Resizing the dialog does not help to read the whole text in any form."}, {"bug_id": "229626", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/ApiAnalysisBuilder.java"], "repo": "eclipse.pde.ui", "reformed_query": "severity problem remains unsupported API problems Bug", "bug_title": " changing unsupported API tag severity does not update problems", "bug_description": "If I have an existing problem for an unsupported API tag, then change the severity from error to warning, the problem remains with an error severity."}, {"bug_id": "230447", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ExtensionsErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "add xml PDE flag compute problems flag classpath plugin thw", "bug_title": " Invalid warning saying that a class is not in the bundle's classpath", "bug_description": "When a project doesn't have a JDT nature, PDE cannot compute the project's classpath and, hence, cannot check if a class used in the plugin.xml is available to the bundle or not. I believe PDE should only flag classpath problems if it is able to check the classpath. The way it is now, thw warning is not doing me any good and I would need to add the JDT nature just to make it go away."}, {"bug_id": "230911", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SourceLocationManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "getInputStream definitions Source toFile TreeSection antTypes Listener points file program", "bug_title": " Lookup of Extension Point descriptions fail with source plugin in directory with spaces", "bug_description": "Build ID: I20080502-0100 Steps To Reproduce: 1. Define a 'source' plugin in a target platform that is in a directory that contains spaces: e.g. <extension point=\"org.eclipse.pde.core.source\"> <location path=\".\"/> </extension> The plugin contains schema definitions e.g. org.eclipse.ant.core_3.2.0.v20080319\\schema org.eclipse.ant.core_3.2.0.v20080319\\schema\\antProperties.exsd org.eclipse.ant.core_3.2.0.v20080319\\schema\\antTasks.exsd org.eclipse.ant.core_3.2.0.v20080319\\schema\\antTypes.exsd org.eclipse.ant.core_3.2.0.v20080319\\schema\\extraClasspathEntries.exsd 2. Set a target platform (through Windows > Preferences > Plug-in Development > Target Platform 3. Verify that plugin contributing source is present in the source locations section of the target platform. 4. Create plugin project. 5. Go to extensions and select Add, and then select one of the extension points whose description is present in the source plugin. If the target platform is in a directory with spaces, the description lookup fails with the following error logged: eclipse.buildId=I20080502-0100 java.fullversion=J2RE 1.5.0 IBM J9 2.3 Windows XP x86-32 j9vmwi3223-20070201 (JIT enabled) J9VM - 20070131_11312_lHdSMR JIT  - 20070109_1805ifx1_r8 GC   - 200701_09 BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_US Command-line arguments:  -os win32 -ws win32 -arch x86 Error Wed May 07 09:57:11 CDT 2008 C:\\program%20files\\ibm\\lotus\\expeditor\\rcp\\eclipse\\plugins\\com.ibm.rcp.eclipse.source_6.1.0.0-200805051258\\org.eclipse.ant.core_3.2.0.v20080319\\schema\\antProperties.exsd (The system cannot find the path specified.) java.io.FileNotFoundException: C:\\program%20files\\ibm\\lotus\\expeditor\\rcp\\eclipse\\plugins\\com.ibm.rcp.eclipse.source_6.1.0.0-200805051258\\org.eclipse.ant.core_3.2.0.v20080319\\schema\\antProperties.exsd (The system cannot find the path specified.) at java.io.FileInputStream.<init>(FileInputStream.java:135) at java.io.FileInputStream.<init>(FileInputStream.java:95) at org.eclipse.pde.internal.core.util.SchemaUtil.getInputStream(SchemaUtil.java:38) at org.eclipse.pde.internal.core.util.SchemaUtil.parseURL(SchemaUtil.java:46) at org.eclipse.pde.internal.ui.wizards.extension.PointSelectionPage.handlePointSelection(PointSelectionPage.java:512) at org.eclipse.pde.internal.ui.wizards.extension.PointSelectionPage.selectionChanged(PointSelectionPage.java:478) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:880) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:2062) at org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1138) at org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1168) at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:227) at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:221) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:388) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3782) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3381) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection$5.run(ExtensionsSection.java:503) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:67) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection.handleNew(ExtensionsSection.java:492) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection.buttonSelected(ExtensionsSection.java:270) at org.eclipse.pde.internal.ui.editor.TreeSection$PartAdapter.buttonSelected(TreeSection.java:41) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected(SharedPartWithButtons.java:39) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected(SharedPartWithButtons.java:30) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3782) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3381) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2394) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2358) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2210) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:494) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:489) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:112) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236) at org.eclipse.equinox.launcher.Main.main(Main.java:1212) If the target platform is in a directory with no spaces, then the description lookup succeeds. More information: In org.eclipse.pde.internal.core.SourceLocationManager.findSourceFile, searchExtensionLocations returns the correct URL, but the last part of this method: if (result != null) { try { return result.toFile().toURI().toURL(); } catch (MalformedURLException e) { PDECore.log(e); } } converts the path from c:\\program<space>files to c:\\program%20files, which then fails in the actual file access in SchemaUtil.parseURL"}, {"bug_id": "231001", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/feature/Feature.java"], "repo": "eclipse.pde.ui", "reformed_query": "org Requires Log eclipse Application NativeMethodAccessorImpl Dispatch invoke runUI Feature", "bug_title": " NPE when computing feature dependencies", "bug_description": "I get the error below when I try to compute the dependencies of the org.eclipse.mylyn.trac-feature from the feature editor. Environment: Eclipse 3.4M7 -- Error Log -- Date: Wed May 07 14:50:21 PDT 2008 Message: Unhandled event loop exception Severity: Error Plugin ID: org.eclipse.ui Stack Trace: java.lang.NullPointerException at org.eclipse.pde.internal.core.feature.Feature.computeImports(Feature.java:235) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.recomputeImports(RequiresSection.java:400) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.buttonSelected(RequiresSection.java:153) at org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.buttonSelected(TableSection.java:50) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.buttonSelected(SharedPartWithButtons.java:39) at org.eclipse.pde.internal.ui.parts.SharedPartWithButtons$SelectionHandler.widgetSelected(SharedPartWithButtons.java:30) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:227) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1145) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3397) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3029) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2351) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2315) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2181) at org.eclipse.ui.internal.Workbench$4.run(Workbench.java:477) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:472) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:112) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:379) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236) at org.eclipse.equinox.launcher.Main.main(Main.java:1212)"}, {"bug_id": "231382", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/markers/UnsupportedTagResolution.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/ApiUIPlugin.java", "apitools/org.eclipse.pde.api.tools.ui/icons/full/elcl16/remove_exc.gif", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/IApiToolsConstants.java"], "repo": "eclipse.pde.ui", "reformed_query": "resolution javadoc tag icon Remove patch details image Bug Created", "bug_title": " Remove javadoc resolution should use the remove icon", "bug_description": "Created attachment 99570 [details] patch The 'remove invalid javadoc tag' resolution should use the 'remove' image and not the '@' javadoc image"}, {"bug_id": "231409", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/scanner/ApiDescriptionProcessor.java", "apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/model/tests/ApiDescriptionTests.java"], "repo": "eclipse.pde.ui", "reformed_query": "restriction core weird Bug convertion noextend bundle   times", "bug_title": " Conversion of org.eclipse.update.core is causing weird results", "bug_description": "When convertion this bundle, the api restriction tags inside the type org.eclipse.update.configuration.IActivity are duplicated and you can find: @noextend null multiple times. This should be fixed to help people to convert."}, {"bug_id": "231652", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/BaseApiAnalyzer.java"], "repo": "eclipse.pde.ui", "reformed_query": "NPE check checkCompatibility Delta building AutoBuildJob process building Problem Runner", "bug_title": " NPE building a fragment", "bug_description": "java.lang.NullPointerException at org.eclipse.pde.api.tools.internal.util.Util.getDocument(Util.java:968) at org.eclipse.pde.api.tools.internal.builder.BaseApiAnalyzer.createCompatibilityProblem(BaseApiAnalyzer.java:878) at org.eclipse.pde.api.tools.internal.builder.BaseApiAnalyzer.processDelta(BaseApiAnalyzer.java:995) at org.eclipse.pde.api.tools.internal.builder.BaseApiAnalyzer.checkCompatibility(BaseApiAnalyzer.java:628) at org.eclipse.pde.api.tools.internal.builder.BaseApiAnalyzer.analyzeComponent(BaseApiAnalyzer.java:191) at org.eclipse.pde.api.tools.internal.builder.ApiAnalysisBuilder.buildAll(ApiAnalysisBuilder.java:391) at org.eclipse.pde.api.tools.internal.builder.ApiAnalysisBuilder.build(ApiAnalysisBuilder.java:301) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:633) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:170) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:253) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:256) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:309) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:341) at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:140) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:238) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55) Using latest."}, {"bug_id": "231688", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ApiFilterStore.java"], "repo": "eclipse.pde.ui", "reformed_query": "filter runtime convert core Bug org", "bug_title": " Cannot filter error inside MANIFEST.MF", "bug_description": "When trying to convert org.eclipse.core.runtime.compatibility.registry, I got some error for wrong bundle version. When trying to fix them using a filter, the errors are still reported after the build."}, {"bug_id": "231860", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/BaseApiAnalyzer.java"], "repo": "eclipse.pde.ui", "reformed_query": "major error qualifier   pde", "bug_title": " Changing pde.core major version to 4.0.0.qualifier is not detected as an error", "bug_description": "This should be fixed for 3.4. We should detect that there is no need to upgrade the major version."}, {"bug_id": "231977", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Object time pasting Object IPluginElement managedbuilder pasting ClassCastException copying gnu", "bug_title": " copying multiple extensions triggers java.lang.ClassCastException", "bug_description": "Build ID: 3.4m7 Steps To Reproduce: if you view the plugin manifest and click on the extensions tab, and then select multiple items and copy them (ctrl+c), clicking any extensions after that results in: java.lang.ClassCastException An error has occurred. See error log for more details. [Ljava.lang.Object; cannot be cast to [Lorg.eclipse.pde.core.plugin.IPluginElement; More information: copying & pasting one extension at a time seems to work OK ive seen this with every plugin ive happened to test, but specifically i tested with org.eclipse.cdt.managedbuilder.gnu.ui and select all the GCC children of the org.eclipse.cdt.managedbuilder.core.buildDefinitions tree and copy those"}, {"bug_id": "232041", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogView.java"], "repo": "eclipse.pde.ui", "reformed_query": "current Error entries log renders boldening confusing selected Group Log", "bug_title": " Error Log view: boldening of session confusing", "bug_description": "I20080513-2000 The Error Log view currently renders the first session in bold (when Group By > Session is selected). I don't see why this would be useful. It would be interesting to see the *current* session boldened. But when no log entries are generated during start up, the *last* session with errors is boldened."}, {"bug_id": "232463", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "platform start Target Defaults click BUG preference remains", "bug_title": " Target Platform pref page does not fully reset on 'Restore Defaults'", "bug_description": "I20080515-2000. 1. start fresh workspace 2. goto to PDE's 'Target Platform' preference page 3. change some values 4. uncheck: Build target platform based on the .... 5. click 'Restore Defaults' ==> BUG: check box from step 4 remains unchecked but should be checked again."}, {"bug_id": "232706", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/tools/OrganizeManifestsWizardPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "bit Organize Mark odd bug text field patch created created", "bug_title": " [Organize Manifest] \"Mark as internal package\" always done with *.internal* pattern", "bug_description": "+++ This bug was initially created as a clone of Bug #232693 +++ While investigating a bit for bug #232693, I got the very sad surprise to see that whatever pattern I used in the package field, the refactoring was always done with the default pattern (*.internal*). There is no listener on the package text field and the attached patch will fix this odd issue."}, {"bug_id": "232771", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/OSGiLaunchConfigurationDelegate.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug launching OSGi Scope Launch Unexpected", "bug_title": " Unexpected confirmation dialog when launching", "bug_description": "3.4M7 When launching with an OSGi launch config SaveScopeResourcesHandler.handleStatus() is called with projects == null and the fallback to DebugUIPlugin.preLaunchSave() triggers a save dialog for all dirty editors including those with an editor input that does not adapt to IResource."}, {"bug_id": "233034", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/BaseApiAnalyzer.java"], "repo": "eclipse.pde.ui", "reformed_query": "problem Missing tag created member Error", "bug_title": " Error message missing arguments", "bug_description": "I created a @since tag on a member like: @since 3.4.2 The problem message appeared like: Invalid @since tag '3.4.2' on {1}; expecting two fragments > Missing member name"}, {"bug_id": "234376", "ground_truth": ["ui/org.eclipse.pde.ui.templates/src/org/eclipse/pde/internal/ui/templates/ide/PropertyPageTemplate.java"], "repo": "eclipse.pde.ui", "reformed_query": "properties shouldn shouldn Bug project Bug nameFilter objectClass nameFilter project", "bug_title": " New Plug-in project with property page template uses deprecated elements", "bug_description": "From bug 234351. Using the new plug-in project wizard, generate a new project using the 'with property page' template. The plugin.xml will contain something similar to the following <extension point=\"org.eclipse.ui.propertyPages\"> <page objectClass=\"org.eclipse.core.resources.IFile\" name=\"Sample Page\" nameFilter=\"*.*\" class=\"test3.properties.SamplePropertyPage\" id=\"test3.properties.samplePropertyPage\"> </page> </extension> The objectClass element is deprecated.  We shouldn't have a template that uses deprecated code as an example for new users."}, {"bug_id": "235336", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginPathFinder.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/P2Utils.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/TargetWeaver.java"], "repo": "eclipse.pde.ui", "reformed_query": "plugins MANIFEST plugins link file Reproduce file referenced wiki file", "bug_title": " [p2] cannot compile against plugins referenced via .link files", "bug_description": "Build ID: I20080530-1730 Steps To Reproduce: 1. Use a .link file to integrate another plugin into the platform 2. Run Eclipse and verify with Help -> About Eclipse SDK -> Plugin Details that the plugin is indeed available 3. Create a new Plugin in the workbench 4. In the MANIFEST.MF editor, try to set a dependency to the plugin that was integrated with the .link file 4) will not work, the dialog will not even display the plugin. If you add the dependency textually, it will still not work, as the classpath will not be resolved. If this is not supposed to work, then I suggest updating http://wiki.eclipse.org/Equinox_p2_Getting_Started#Links_Folder which says \"For backwards compatibility the links folder is supported by p2 with the same behavior.\"."}, {"bug_id": "237764", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/spy/sections/ActivePartSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Window empty RCP eclipse RCP Active spy event lang exception", "bug_title": " [spy] NPE when there is no (active) part", "bug_description": "When I tried to integrate (the fantastic) Plug-in Spy into my own RCP application, I started with an empty one (Hello world) which of course has got no part. Pressing Alt+Shift+F1 resulted in nothing on the UI and a NPE logged: !ENTRY org.eclipse.ui 4 0 2008-06-19 12:44:15.373 !MESSAGE Unhandled event loop exception !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.runtime.spy.sections.ActivePartSection.build(ActivePartSection.java:46) at org.eclipse.pde.internal.runtime.spy.dialogs.SpyDialog.createDialogArea(SpyDialog.java:101) at org.eclipse.pde.internal.runtime.spy.dialogs.SpyDialog.createContents(SpyDialog.java:71) at org.eclipse.jface.window.Window.create(Window.java:431) ..."}, {"bug_id": "238235", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/TargetPlatformHelper.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspacePluginModelManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ManifestConsistencyChecker.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/Bundle.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginModelBase.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/WorkspaceBundlePluginModelBase.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/WorkspaceExtensionsModel.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/WorkspacePluginModelBase.java", "ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/bundle/Bundle.java", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/model/bundle/BundleLocalizationTestCase.java"], "repo": "eclipse.pde.ui", "reformed_query": "fact Header Bug localize Localization ignores INF strings ignores Bundle", "bug_title": " [Bundle-Localization] Default to /OSGI-INF/l10n/bundle.properties and not /plugin.properties", "bug_description": "Due to legacy reasons I assume the default localization of bundles/plug-ins defaults to /plugin.properties. OSGi however specifies it to default to /OSGI-INF/l10n/bundle.properties. PDE ignores this fact. If the Bundle-Header does not contain a localization it will not correctly resolve the texts from the OSGi default localization. Furthermore when you want to externalize new strings it should localize them into the specified localization (which could be the default one if not specified) and not into /plugin.properties. I think changing this behaviour would not break existing plugins and new OSGi bundle localization would be much easier to do."}, {"bug_id": "238392", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/core/plugin/TargetPlatform.java"], "repo": "eclipse.pde.ui", "reformed_query": "PreferenceServiceRegistryHelper Runtime Platform Helper started loadDefaults Java EclipsePreferences Eclipse Reproduce", "bug_title": " [Preferences] NPE when starting eclipse", "bug_description": "Build ID: I20080613-2000 Steps To Reproduce: I started eclipse and got the following NPE More information: java.lang.NullPointerException at org.eclipse.pde.core.plugin.TargetPlatform.getDefaultLocation(TargetPlatform.java:64) at org.eclipse.pde.internal.core.PreferenceInitializer.initializeDefaultPreferences(PreferenceInitializer.java:34) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.runInitializer(PreferenceServiceRegistryHelper.java:276) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.applyRuntimeDefaults(PreferenceServiceRegistryHelper.java:130) at org.eclipse.core.internal.preferences.PreferencesService.applyRuntimeDefaults(PreferencesService.java:367) at org.eclipse.core.internal.preferences.DefaultPreferences.applyRuntimeDefaults(DefaultPreferences.java:163) at org.eclipse.core.internal.preferences.DefaultPreferences.loadDefaults(DefaultPreferences.java:236) at org.eclipse.core.internal.preferences.DefaultPreferences.load(DefaultPreferences.java:232) at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:307) at org.eclipse.core.internal.preferences.EclipsePreferences.internalNode(EclipsePreferences.java:543) at org.eclipse.core.internal.preferences.DefaultPreferences.node(DefaultPreferences.java:150) at org.eclipse.core.internal.preferences.legacy.PreferenceForwarder.getDefaultPreferences(PreferenceForwarder.java:130) at org.eclipse.core.internal.preferences.legacy.PreferenceForwarder.getString(PreferenceForwarder.java:636) at org.eclipse.pde.internal.core.EclipseHomeInitializer.resetEclipseHomeVariable(EclipseHomeInitializer.java:33) at org.eclipse.pde.internal.core.EclipseHomeInitializer.initialize(EclipseHomeInitializer.java:27) at org.eclipse.jdt.core.JavaCore.getClasspathVariable(JavaCore.java:2677) at org.eclipse.jdt.core.JavaCore.getResolvedVariablePath(JavaCore.java:3297) at org.eclipse.jdt.core.JavaCore.getResolvedClasspathEntry(JavaCore.java:3259)"}, {"bug_id": "238487", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogView.java"], "repo": "eclipse.pde.ui", "reformed_query": "LogView create create setting internet assumes exact Control open stack", "bug_title": " [logview] LogView assumes SHOW_FILTERED_TEXTS=true", "bug_description": "Build ID: I20080617-2000 Steps To Reproduce: 1. Create RCP that includes the LogView plugin 2. Run RCP and ensure the \"Error Log\" view can be displayed as expected 3. Create a plugin_customization.ini for your RCP product and add \"org.eclipse.ui/SHOW_FILTERED_TEXTS=false\" to it 4. Rerun the RCP and try to open the \"Error Log\" view again. It should fail with a NullPointerException in LogView.showFilterText at line 461 More information: The FilteredTree didn't create the filter control because showFilterControls was initialized to false via the setting in plugin_customization.ini.  In many places, LogView assumes the existance of the filter control via fFilteredTree.getFilterControl() without checking that it returns non-null. (Sorry for not including an exact stack-trace or code to reproduce the problem as it was discovered on another machine w/o internet access)"}, {"bug_id": "238539", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/OSGiFrameworkPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "extension link Preferences message osgi point OSGI Description Click", "bug_title": " [doc] Description for extension point 'org.eclipse.pde.ui.osgiFrameworks' cannot be found", "bug_description": "Going to Window -> Preferences -> Plug-in Development -> OSGI Frameworks. Click on link OSGI Frameworks at the top. I get message: Description for extension point 'org.eclipse.pde.ui.osgiFrameworks' cannot be found. Disable the link if the functionality is not available or fix this bug."}, {"bug_id": "238934", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "TargetPlatformResetJob Pointer internal close target NullPointerExceptions Model Fragment projects org", "bug_title": " NPE when resetting the target platform", "bug_description": "I sometimes get NullPointerExceptions ClasspathUtilCore.isPatchFragment when I reset my target platform. It seems to be related to when I have plug-ins and fragments imported to my workspace since when I close those projects, the exception go away. java.lang.NullPointerException at org.eclipse.pde.internal.core.ClasspathUtilCore.isPatchFragment(ClasspathUtilCore.java:92) at org.eclipse.pde.internal.core.PluginModelManager.isPatchFragment(PluginModelManager.java:506) at org.eclipse.pde.internal.core.PluginModelManager.addWorkspaceBundleToState(PluginModelManager.java:489) at org.eclipse.pde.internal.core.PluginModelManager.addWorkspaceBundleToState(PluginModelManager.java:463) at org.eclipse.pde.internal.core.PluginModelManager.modelsChanged(PluginModelManager.java:142) at org.eclipse.pde.internal.core.PluginModelManager.resetState(PluginModelManager.java:853) at org.eclipse.pde.internal.core.TargetPlatformResetJob.run(TargetPlatformResetJob.java:38) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "240053", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/exports/ProductExportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "releng build exporting Bug indirectly info generate product simple releng", "bug_title": " product export from the ui does not generate bundles.info", "bug_description": "in 3.4 When you have a product that include (directly or indirectly) the simple configurator, exporting that product from the UI does not produce a bundles.info file.  however, biulding the product with the releng build mechanism does.  This is a pretty significant issue for people trying to create products in the new world. Suggest looking at this for 3.4.1"}, {"bug_id": "241503", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/LoopDialog.java"], "repo": "eclipse.pde.ui", "reformed_query": "details attachment dependency dependency screenshot Graph resizable dependency Cycles resizable", "bug_title": " Cycles in Dependency Graph should be resizable", "bug_description": "Created attachment 107898 [details] cycles dependency graph Build ID: 3.4 Steps To Reproduce: Plugin dependencies View Show Cycles in Dependency Graph More information: see screenshot: the window should be resizable to see all or to make screenshots from these cycles"}, {"bug_id": "247553", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewLibraryPluginCreationOperation.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "entries meta JAR Project JAR archives common Bundle great common", "bug_title": " Export-Package version when creating Plug-in from existing JAR archives", "bug_description": "When using Eclipse to develop OSGi bundles you quite often need to \"osgify\" external libraries. To do this you can use \"File -> New -> Project -> Plug-in Development -> Plug-in from existing JAR archives\" When plug-in is created, the \"Export-Package\" entries in the generated MANIFEST do not hold any version attribute. According to OSGi R4 specs it means exported packages do have version \"0.0.0\" instead of having the same version as the Bundle-Version meta tag. Missing versioning from Export-Package and Import-Package meta tags is a common issue in OSGi development and specifying them is considered as a \"best practice\". It would be great if the \"Plug-in from existing JAR archives\" functionality would by default add version attribute to \"\"Export-Package\" entries. The version value would be the same as the \"Bundle-Version\"."}, {"bug_id": "247663", "ground_truth": ["ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/editor/DSLabelProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug component editor text PDE   garbled", "bug_title": " outline view displayed garbled text when DS editor overview page displayed", "bug_description": "Opening the component.xml generated by the new DS template, the outline view displays what looks like a toString() value for the overview page.  Other PDE editors have icons and more readable text."}, {"bug_id": "248268", "ground_truth": ["ds/org.eclipse.pde.ds.core/src/org/eclipse/pde/internal/ds/core/messages.properties", "ds/org.eclipse.pde.ds.core/src/org/eclipse/pde/internal/ds/core/builders/DSErrorReporter.java", "ds/org.eclipse.pde.ds.core/src/org/eclipse/pde/internal/ds/core/Messages.java"], "repo": "eclipse.pde.ui", "reformed_query": "attribute attribute component Validate attribute error Validate assigned error empty", "bug_title": " [ds tooling] Validate <component> element's factory and name attributes", "bug_description": "The <component> element has an optional factory attribute that if used MUST be a non-empty string.  See section 112.4.3 of the OSGi spec. We need to mark the factory attribute with an error if it is assigned an empty string."}, {"bug_id": "248334", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewLibraryPluginCreationPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "ActionContributionItem runApplication blank handleWidgetSelection Creation Deferred NewLibraryPluginCreationPage FloatingDecimal createControl vmxi", "bug_title": " Unable to create a new plugin project from jars", "bug_description": "From the new project wizard I selected Plug-in From Existing JAR archives and hit next ... I got an error in the error log and a blank wizard page. eclipse.buildId=I20080918-0100 java.fullversion=J2RE 1.5.0 IBM J9 2.3 Linux x86-32 j9vmxi3223-20080315 (JIT enabled) J9VM - 20080314_17962_lHdSMr JIT  - 20080130_0718ifx2_r8 GC   - 200802_08 BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US Command-line arguments:  -os linux -ws gtk -arch x86 -data /opt/pwebster/workspaces/build350 Error Tue Sep 23 15:30:38 EDT 2008 Unhandled event loop exception java.lang.NumberFormatException: empty String at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1071) at java.lang.Double.parseDouble(Double.java:497) at org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginCreationPage.createFormatGroup(NewLibraryPluginCreationPage.java:152) at org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginCreationPage.createControl(NewLibraryPluginCreationPage.java:101) at org.eclipse.jface.wizard.Wizard.createPageControls(Wizard.java:170) at org.eclipse.pde.internal.ui.wizards.plugin.NewLibraryPluginProjectWizard.createPageControls(NewLibraryPluginProjectWizard.java:158) at org.eclipse.jface.wizard.WizardDialog.createPageControls(WizardDialog.java:669) at org.eclipse.jface.wizard.WizardDialog.setWizard(WizardDialog.java:1083) at org.eclipse.jface.wizard.WizardDialog.updateForPage(WizardDialog.java:1142) at org.eclipse.jface.wizard.WizardDialog.access$2(WizardDialog.java:1139) at org.eclipse.jface.wizard.WizardDialog$4.run(WizardDialog.java:1128) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.wizard.WizardDialog.showPage(WizardDialog.java:1126) at org.eclipse.jface.wizard.WizardDialog.nextPressed(WizardDialog.java:820) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:369) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:228) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1158) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3401) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3033) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ui.internal.handlers.WizardHandler$New.executeHandler(WizardHandler.java:253) at org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:273) at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:281) at org.eclipse.core.commands.Command.executeWithChecks(Command.java:476) at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:508) at org.eclipse.ui.internal.handlers.HandlerService.executeCommand(HandlerService.java:169) at org.eclipse.ui.internal.handlers.SlaveHandlerService.executeCommand(SlaveHandlerService.java:247) at org.eclipse.ui.internal.actions.CommandAction.runWithEvent(CommandAction.java:157) at org.eclipse.ui.internal.actions.CommandAction.run(CommandAction.java:171) at org.eclipse.ui.actions.NewWizardDropDownAction.run(NewWizardDropDownAction.java:174) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:583) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:500) at org.eclipse.jface.action.ActionContributionItem$6.handleEvent(ActionContributionItem.java:452) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1158) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3401) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3033) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2382) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2346) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2198) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:493) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:288) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:488) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:193) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:370) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:618) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:549) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:504) at org.eclipse.equinox.launcher.Main.run(Main.java:1236)"}, {"bug_id": "248519", "ground_truth": ["ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/wizards/DSFileWizardPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "controls Wizard Win problems overly Text Bug versions DSFile applied", "bug_title": " [ds tooling] Component Definition Information -- Fields should use SWT.BORDER style", "bug_description": "Created attachment 113431 [details] Screen shots Using Eclipse 3.5M2 The \"Component Definition Information\" group, as created by DSFileWizardPage.java, does NOT use the SWT.BORDER style for the Name and Class fields, which looks wrong along side other fields that do.  You might not see this on all windowing systems... I see it on Win XP running the Win2K skin. See the attached screen shot. Not only is the SWT.BORDER style missing, but the layout is overly complicated and things don't quite line up right if you look carefully to the \"decorated\" versions of the screen shots.  Also, when I applied the SWT.BORDER style to the Text controls the lower edge of the Group was clipped. Please see the attached patch that resolves these problems.  Thanks."}, {"bug_id": "250340", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/JUnitLaunchConfigurationDelegate.java"], "repo": "eclipse.pde.ui", "reformed_query": "launched JUnitLaunchConfigurationDelegate swtbottestapplication clients order provide order internal internal JUnitLaunchConfigurationDelegate", "bug_title": " [API] Create template method in JUnitLaunchConfigurationDelegate", "bug_description": "The JUnitLaunchConfigurationDelegate#collectExecutionArguments() figures out the application to be launched by introspecting and applying a set of heuristics. SWTBot needs that tests run in a non-UI thread, which is why it needs to launch another application (internal to SWTBot) and point that application to the application that the user selects. In order to do this the application in the case of SWTBot is always hardcoded to the application ID of swtbottestapplication. This patch extracts the piece of code that determines the application id, into a protected method so that clients can override it to provide another application id. Patch follows."}, {"bug_id": "250801", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/buildermessages.properties", "apitools/org.eclipse.pde.api.tools.tests/test-builder/tags/method/class/test58.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/completion/APIToolsJavadocCompletionProposalComputer.java", "apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/builder/tests/tags/InvalidClassMethodTagTests.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/BuilderMessages.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/TagValidator.java"], "repo": "eclipse.pde.ui", "reformed_query": "propose realized tag methods realized nooverride tag methods bug bug", "bug_title": " @nooverride tag should not be proposed for final classes", "bug_description": "While looking at bug 247677, I realized we should not propose @nooverride as a tag for methods in classes that can not be extended."}, {"bug_id": "251970", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/NewProjectCreationOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "dependencies framework result version Build space code", "bug_title": " [ds tooling] \"Hello OSGi Declarative Services\" template generates invalid MANIFEST.MF", "bug_description": "Build-ID: N20081020-2000 Manifest generated from \"Hello OSGi Declarative Services\" contains following header: Import-Package: org.eclipse.osgi.framework.console;version=\"1.0.0\";version=\"0.0.0\", org.osgi.framework;version=\"1.3.0\";version=\"0.0.0\" Whereas it should be: Import-Package: org.eclipse.osgi.framework.console;version=\"1.0.0\", org.osgi.framework;version=\"1.3.0\" Note two problems here: 1. excesive 'version=\"1.0.0\"' string for every imported package -> as a result dependencies are unresolved (errors in code) 2. missing white space at the beginning of header second line -> as a result Manifest has error \"':' is required after the header name\""}, {"bug_id": "252751", "ground_truth": ["apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/builder/tests/ApiTestingEnvironment.java"], "repo": "eclipse.pde.ui", "reformed_query": "mysteriously mysteriously mysteriously tag builds mysteriously build fail locally builds", "bug_title": " 313 tag tests mysteriously failed in I20081029-1823", "bug_description": "For some reason 313 of the tag tests failed in build I20081029-1823. There have been no changes to these tests and they do not fail locally or in any of the pre / post builds."}, {"bug_id": "252913", "ground_truth": ["ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/wizards/DSCreationOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug bin component", "bug_title": " [ds tooling] ensure component xml files are included in bin.includes", "bug_description": ""}, {"bug_id": "255587", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/model/ApiBaseline.java"], "repo": "eclipse.pde.ui", "reformed_query": "Unknown Ant helper java Sorted Component resolve lang Unable OleEditor", "bug_title": " Resolution issue with the ant task", "bug_description": "When running the ant task for api tooling verification using HEAD, I got the following lookup errors in the .log file. Unable to resolve super interface org.eclipse.ui.IPartListener for org.eclipse.ui.internal.editorsupport.win32.OleEditor$4 Unable to resolve super interface org.eclipse.core.resources.IResourceChangeListener for org.eclipse.ui.internal.editorsupport.win32.OleEditor$1 This is one stack trace leading to the problem: org.eclipse.core.runtime.CoreException: Unable to resolve super interface org.eclipse.ui.IPartListener for org.eclipse.ui.internal.editorsupport.win32.OleEditor$4 at org.eclipse.pde.api.tools.internal.model.ApiType.getSuperInterfaces(ApiType.java:225) at org.eclipse.pde.api.tools.internal.search.IllegalImplementsProblemDetector.considerReference(IllegalImplementsProblemDetector.java:71) at org.eclipse.pde.api.tools.internal.search.ReferenceAnalyzer$Visitor.visit(ReferenceAnalyzer.java:113) at org.eclipse.pde.api.tools.internal.ArchiveApiTypeContainer.accept(ArchiveApiTypeContainer.java:169) at org.eclipse.pde.api.tools.internal.AbstractApiTypeContainer.accept(AbstractApiTypeContainer.java:57) at org.eclipse.pde.api.tools.internal.AbstractApiComponent.accept(AbstractApiComponent.java:56) at org.eclipse.pde.api.tools.internal.search.ReferenceAnalyzer.extractReferences(ReferenceAnalyzer.java:260) at org.eclipse.pde.api.tools.internal.search.ReferenceAnalyzer.analyze(ReferenceAnalyzer.java:167) at org.eclipse.pde.api.tools.internal.search.ReferenceAnalyzer.analyze(ReferenceAnalyzer.java:404) at org.eclipse.pde.api.tools.internal.builder.BaseApiAnalyzer.checkApiUsage(BaseApiAnalyzer.java:574) at org.eclipse.pde.api.tools.internal.builder.BaseApiAnalyzer.analyzeComponent(BaseApiAnalyzer.java:192) at org.eclipse.pde.api.tools.internal.tasks.APIToolsVerificationTask.execute(APIToolsVerificationTask.java:540) at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106) at org.apache.tools.ant.Task.perform(Task.java:348) at org.apache.tools.ant.Target.execute(Target.java:357) at org.apache.tools.ant.Target.performTasks(Target.java:385) at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337) at org.apache.tools.ant.Project.executeTarget(Project.java:1306) at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41) at org.eclipse.ant.internal.core.ant.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32) at org.apache.tools.ant.Project.executeTargets(Project.java:1189) at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:623) at org.eclipse.ant.internal.core.ant.InternalAntRunner.run(InternalAntRunner.java:456) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.ant.core.AntRunner.run(AntRunner.java:378) at org.eclipse.ant.internal.ui.launchConfigurations.AntLaunchDelegate$1.run(AntLaunchDelegate.java:248) at java.lang.Thread.run(Thread.java:619)"}, {"bug_id": "256859", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ManifestErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Illegal attribute Warning xml valid spec separated Syntax servlet", "bug_title": " PDE-Warning for illegal characters in feature.xml (complains about \"-\" chars)", "bug_description": "Steps to reproduce: Add the following lines to a feature.xml: <plugin id=\"org.springframework.osgi.servlet-api.osgi\" download-size=\"0\" install-size=\"0\" version=\"0.0.0\" unpack=\"false\"/> PDE-Tools now display a warning because of an invalid token \"-\": Illegal value 'org.springframework.osgi.servlet-api.osgi' for attribute 'id'.  Legal token characters are \"a-z\", \"A-Z\", \"0-9\", \"_\".  Tokens must be separated by \".\" According to OSGi spec, both \"-\" and \"_\" are valid characters for a bundle symbolic name (chapter 1.3.2 General Syntax Definitions)."}, {"bug_id": "256954", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/markers/UpdateProjectSettingsOperation.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/markers/markermessages.properties"], "repo": "eclipse.pde.ui", "reformed_query": "settings bug bug quickfix api resolution project quickfix reporting component", "bug_title": " Add new quickfix for problem reporting an api component resolution error", "bug_description": "Fup of bug 252386, when such problem is reported against a project, we should propose a quickfix that would change the configuration settings to ignore for the project. No need to add a filter for this problem."}, {"bug_id": "257852", "ground_truth": ["ui/org.eclipse.pde.ui/plugin.xml", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEPerspective.java", "ui/org.eclipse.ui.views.log/plugin.xml"], "repo": "eclipse.pde.ui", "reformed_query": "PDEPerspective extension Shortcuts View PDEPerspective Extensions add perspectiveExtensions Wizard add", "bug_title": " Clean up PDEPerspective", "bug_description": "In PDEPerspective, we're doing a ton of things that should be done declarative via the perspectiveExtensions extension point. for examples see the addViewShortcuts and addNewWizardShortcuts methods."}, {"bug_id": "258129", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/P2Utils.java"], "repo": "eclipse.pde.ui", "reformed_query": "manipulator build bundles Install read listed Configuration target listed finding", "bug_title": " manipulator.loadConfiguration(...) can return empty array", "bug_description": "Build: I20081208-1800 1) Install the build into C:\\Program Files\\eclipse 2) Startup 3) Open the target platform preference page -> There are no plugins listed. It is not correctly finding the user-local bundles.info, which is under the user's home directory because this is a shared install. Should have the same behaviour on Linux/Mac when the install directory is read-only."}, {"bug_id": "258881", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/FilteredCheckboxTree.java"], "repo": "eclipse.pde.ui", "reformed_query": "clone initially created filtered reuse Filtered launch configurations issues bug", "bug_title": " Switching to new FilteredTree look causes issues on Mac", "bug_description": "+++ This bug was initially created as a clone of Bug #258236 +++ Switching to the new look causes a white background for the filtered text control. This happens on Eclipse application launch configurations. What is strange is that this doesn't happen to OSGi launch configurations which reuse the same filtered control."}, {"bug_id": "260953", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "java project correct correct don Operation Bug Importing manifest Operation", "bug_title": " Importing fragment without Import/Export-headers forgets java nature", "bug_description": "N20090109-2000 Importing a fragment from the target platform which does not specify any import/export headers ends up as pde project without java nature. See PluginImportOperation#needsJavaNature. I don't think that this is the right way as you can have correct fragment project without the corresponding manifest headers."}, {"bug_id": "261474", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/build/BuildSourcePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Editors normal Bug checked editor build editor rulers numbers rulers", "bug_title": " [Manifest] [Editors] Quick Diff and Line Numbers don't work in build.properties editor", "bug_description": "I20090114-1322 Quick Diff and Line Number rulers don't work in build.properties editor. When I choose Show Quick Diff from the left ruler context menu, a quick diff bar is shown, but it doesn't show diffs. Also, the menu item does not become checked, and when I run it a second time, a second quick diff ruler is added. Line numbers don't show up at all. The normal *.properties file editor is OK."}, {"bug_id": "262918", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/AbstractPluginBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "Validate selected auto existing fail Select compare Bug", "bug_title": " org..eclipse.core.runtime is not always set with auto-start = true", "bug_description": "Using I20090129-0100, I have a case where on the first start the Eclipse application launching configuration doesn't work because the runtime bundle is not set with auto-start = true. Steps to reproduce: 1) Use an existing eclipse application launching configuration 2) Go to the Plug-ins tab 3) Select the option: plug-ins selected below only 4) Uncheck all bundles from workspace and the target platform 5) Select only one or two bundles from the workspace set of plug-ins 6) Click on \"Add Required Plug-ins\" 7) Validate that no plug-ins are missing 8) Run it. 9) It will fail because org.eclipse.core.runtime auto-start is set to default and default is false. 10) Go back to the launching configuration page and click Apply 11) Now it works and you can see that org.eclipse.core.runtime auto-start is set to true. I consider this as a regression compare to 3.5M4."}, {"bug_id": "262976", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDELabelProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "TableColumnViewerLabelProvider add plugins Pointer configuration java newly getObjectImage NPE jface", "bug_title": " NPE in product editor after add required plugins", "bug_description": "Create a new .product configuration and add one bundle to it (say org.eclipse.ui.workbench) Press \"Add Required Plug-ins\".  Get a dialog with multiple problems all java.lang.NullPointerException. All the newly added bundles in the .product editor are missing the bundle/fragment icons. The end of the stack traces in the log are: java.lang.NullPointerException at org.eclipse.pde.internal.ui.PDELabelProvider.getObjectImage(PDELabelProvider.java:609) at org.eclipse.pde.internal.ui.PDELabelProvider.getImage(PDELabelProvider.java:390) at org.eclipse.pde.internal.ui.util.SharedLabelProvider.getColumnImage(SharedLabelProvider.java:176) at org.eclipse.jface.viewers.TableColumnViewerLabelProvider.update(TableColumnViewerLabelProvider.java:71)"}, {"bug_id": "263306", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/ApiErrorsWarningsConfigurationBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "spans warnings warnings squished descriptions Installed tab descriptions tab group", "bug_title": " Installed metadata group no longer spans the preference page", "bug_description": "On the API Use tag of the API errors and warnings pref page, the group that shows what EE descriptions are installed no longer spans the page, but appears squished in the middle of the tab."}, {"bug_id": "264057", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage2.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage2.java"], "repo": "eclipse.pde.ui", "reformed_query": "missing preference target", "bug_title": " [target] warning if no target is selected on the new preference page", "bug_description": "99.9% of the users in the world will have a target selected. If a target isn't selected, there should be a warning... similar to what we have for a missing API baseline."}, {"bug_id": "264106", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/IPreferenceConstants.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/MainPreferencePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage2.java"], "repo": "eclipse.pde.ui", "reformed_query": "clicking suggestions Target adding suffice files annoying system confirmation preference", "bug_title": " [target] Provide careful handling when the \"Remove\" button is pressed", "bug_description": "Using Eclipse 3.5 M5. The \"Target Platform (experimental)\" preference page gathers all the targets that exist in the .metadata and the workspace. Unfortunately, the UI does not always show where the targets reside, and clicking the \"Remove\" button physically deletes the files, rather than just removing it from the list of managed targets.  The downside of this is that a file from the workspace can be lost without the user realizing it. Some suggestions: 1. Show in the UI where the target file resides: - For those that reside in the .metadata you could just say something like \"Private\" or \"Internal\", or some such word. - For those that reside in the workspace, the workspace's relative path would suffice. - And if/when in the future targets can reside in the local file system, but outside of the workspace, the absolute path should be shown. 2. Creating a target is not necessarily trivial, so please consider adding a confirmation dialog to the \"Remove\" behavior. - This will help prevent accidental deletion, somewhat. - To delete a target that resides in either the workspace or the local file system the dialog should contain a checkbox that the user is required to check before the .target file is really deleted.  This is just like when you delete a Project from the workspace. - You could add a \"Don't ask me again\" checkbox for those that find it annoying. Although I'm not convinced that this is a good thing."}, {"bug_id": "264383", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/target/TargetCreationPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "initialize contents Bug Target user step Hit wizard definition platform", "bug_title": " [target] First page of new target definition wizard always resets contents", "bug_description": "1) Go to the Target platform preference page (experimental) 2) Hit Add... 3) Hit next, make some changes to the definition 4) Hit back 5) Hit next Result: Any changes that were made during step (3) are gone. While changing the type to initialize the definition with should reset the contents, if nothing on the page changes we should avoid resetting all the user edited data."}, {"bug_id": "264413", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/impl/ResolvedBundle.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/impl/DirectoryBundleContainer.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetEnvironmentPreferenceNode.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/BundleManifestSourceLocationManager.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/BaseImportWizardSecondPage.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SourceLocationKey.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SourceLocationManager.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/AlternateSourceLocations.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardFirstPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/SourceCodeLocationsPreferenceNode.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizard.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferenceNode.java"], "repo": "eclipse.pde.ui", "reformed_query": "wizard settings prefenence settings preference code prefenence wizard preference code", "bug_title": " [target] Broken buttons on plug-in import wizard (source code locations & environment)", "bug_description": "The plug-in import wizard has two buttons that link to old target platform prefenence page settings (source locations and environment). We need these to work properly with the new preference page."}, {"bug_id": "264696", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage2.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/target/TargetDefinitionContentPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Open happen remove definition create selected bug   target", "bug_title": " [target] No information on current target if backing target definition file deleted", "bug_description": "Steps: 1) Create a new target definition in local metadata 2) Set it as the target platform 3) Close Eclipse 4) Delete the backing target definition in pde.core metadata 5) Open Eclipse, open target preference page Result: Nothing is selected, but there is still a target platform. Once we remove the old target platform preference page we will have to handle this case where something happens to the fiel backing the current target platform.  We should probably log an exception and create a new target platform based on the current settings. This should happen for workspace files as well.  If we add support to open external files and set them as the target platform this problem will get worse (bug 264056)."}, {"bug_id": "266144", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaOverviewPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaFormPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "editor Missing schema doc Hit", "bug_title": " [doc] Missing help topics in schema editor", "bug_description": "Build id: I20090224-0800 1) Open an extension point schema editor 2) Hit F1 3) Try clicking all the \"see also\" links -> These links are all broken (missing content)"}, {"bug_id": "266548", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage2.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/target/NewTargetDefinitionFileWizard.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/target/NewTargetDefnitionFileWizardPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "dialog uncommon message wizard conflicts workspace place Bug error", "bug_title": " [target] Move... target button allows targets to be moved on top of each other", "bug_description": "Move... button was added in bug 264901.  Since we are on a preference page we don't actually create the new files in the workspace until OK or Apply is pressed. The move... dialog only checks workspace files conflicts.  So it is possible to move two target definitions to the same place.  When this happens, one overwrites the other which is lost forever. This is an uncommon case, but it is easily fixable.  We just need to pass the list of 'moved' targets to the Move wizard.  It can do an additional check to see if the path the user has chosen is already in the list and set an error message on the wizard."}, {"bug_id": "266711", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/targetdefinition/InformationSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/target/TargetDefinitionContentPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "empty NPEs random validation preference editor couldn NPE target editor", "bug_title": " [target] Making a target's name empty causes NPE", "bug_description": "If you set a target's name to be an empty string in the wizard or editor you get NPEs.  We should avoid the NPEs, but also add validation preventing an empty name (which couldn't be shown properly on the preference page). Note that there are other fields that can be set to random values and there is no validation for them."}, {"bug_id": "266737", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/targetdefinition/TargetEditor.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "file Open Editor definition Save work definition Build File functional", "bug_title": " [target] \"Save As\" does not work on the Target Definition Editor", "bug_description": "Build ID: I20090224-0800 Steps To Reproduce: 1. Create a new target definition using File -> New -> Target Definition 2. Save is as a file in the workspace. 3. Open it. It will open in the Target Definition Editor 4. Do File -> Save As. Nothing happens Either the Save As should be made functional or it should be disabled. More information:"}, {"bug_id": "266880", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/impl/TargetDefinition.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardFirstPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "active thrown definitions specific created definitions platform enabled combo specific", "bug_title": " [target] New import from target doesn't like spaces", "bug_description": "On the import plug-in wizard, whenever the state is created, if any of the containers have spaces in the names the state doesn't included them.  This applies to the active target, specific definitions or just pointing at a directory. Also, if I go to the import wizard, click on the button to open the target platform preference page, set something as active, then close the preferences, when I return to the import wizard the combo has nothing selected.  Since the next button is still enabled an NPE is thrown if next is clicked."}, {"bug_id": "267848", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspacePluginModelManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ManifestConsistencyChecker.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/plugin/WorkspacePluginModelBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "clue MANIFEST warning pug ins illegally MANIFEST error pug MANIFEST", "bug_title": " PDE illegally complains about non-externalized strings", "bug_description": "I20090310-0100, broken since 3.5 M4. PDE illegally complains about non-externalized strings in old plug-ins (i.e. those which do not have a MANIFEST.MF. This used to work up to 3.5 M3. While I understand that my pug-in does not use the newest format, I have no clue from PDE why I now get these warnings. There is no warning/error saying that my plug-in is outdated."}, {"bug_id": "268751", "ground_truth": ["ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/wizards/DSCreationOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "Declarative WizardDialog core PDE plain Workspace modify prepareAbstractEditingModel Utility Bug", "bug_title": " [ds tooling] NPE in new DS Component wizard", "bug_description": "(Eclipse 3.5M6 on Mac OS X/Cocoa/x86_64) The new Declarative Services Component wizard throws a NPE on clicking Finish. Stack trace follows. Note that my project is plain JDT, not PDE. There should be no requirement to use the DS tooling only in PDE projects, and even if this were a requirement the error should be caught rather than throwing an NPE. !ENTRY org.eclipse.pde.ds.ui 4 0 2009-03-16 10:06:24.540 !MESSAGE java.lang.NullPointerException !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.core.text.AbstractEditingModel.getInputStream(AbstractEditingModel.java:183) at org.eclipse.pde.internal.core.text.AbstractEditingModel.load(AbstractEditingModel.java:135) at org.eclipse.pde.internal.ui.util.PDEModelUtility.prepareAbstractEditingModel(PDEModelUtility.java:504) at org.eclipse.pde.internal.ui.util.PDEModelUtility.generateModelEdits(PDEModelUtility.java:344) at org.eclipse.pde.internal.ui.util.PDEModelUtility.modifyModel(PDEModelUtility.java:294) at org.eclipse.pde.internal.ds.ui.wizards.DSCreationOperation.writeBuildProperties(DSCreationOperation.java:110) at org.eclipse.pde.internal.ds.ui.wizards.DSCreationOperation.execute(DSCreationOperation.java:86) at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:106) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1800) at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:118) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:464) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:372) at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:934) at org.eclipse.pde.internal.ds.ui.wizards.DSNewWizard.performFinish(DSNewWizard.java:63) at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:742) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:373) [Stack Trace Trimmed]"}, {"bug_id": "268966", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/impl/TargetDefinitionPersistenceHelper.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathComputer.java"], "repo": "eclipse.pde.ui", "reformed_query": "jface entries eclipse eclipse replacing attachments Steps existing org replacing", "bug_title": " Import binary plug-ins does not update source attachment when replacing existing non-jared plug-ins", "bug_description": "I20090313-0100 Import binary plug-ins does not the update source attachment when replacing existing non-jared plug-ins. Steps: - with I20090313-0100, import org.junit and org.junit4 from 3.4.2 as binary => source attachments OK - import binary plug-ins from default target (I20090313-0100) => source attachments broken, since entries in .classpath still reference the old sourcepath, e.g.: <classpathentry exported=\"true\" kind=\"lib\" path=\"junit.jar\" sourcepath=\"org.junit.source_3.8.2.v20080602-1318.jar\"/> This is only a problem for non-jared plug-ins (e.g. works fine for org.eclipse.jface)."}, {"bug_id": "269001", "ground_truth": ["ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/editor/sections/DSReferenceSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "unnamed Viewer lang occurred doUpdateItem JFace update Reference update display", "bug_title": " [ds tooling]: Problems with unnamed reference elements", "bug_description": "(Eclipse 3.5M6 on Mac OS X/Cocoa/x86_64) The Referenced Services tab of the DS component editor uses the name attribute of the <reference> elements for display, along with the bind/unbind method names (if applicable) and an icon. However in DS1.1. the name attribute is optional, so the entry the list may display no useful information, e.g. just \"[<none>,<none>]\" Also when in this state, if we switch to the Source tab and back to Services tab, a NPE is thrown. Stack trace follows. !ENTRY org.eclipse.jface 4 2 2009-03-17 15:06:53.281 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.jface\". !STACK 0 java.lang.NullPointerException at org.eclipse.jface.viewers.StyledString.append(StyledString.java:264) at org.eclipse.jface.viewers.StyledString.<init>(StyledString.java:133) at org.eclipse.jface.viewers.StyledString.<init>(StyledString.java:118) at org.eclipse.pde.internal.ds.ui.editor.sections.DSReferenceSection$ReferenceLabelProvider.update(DSReferenceSection.java:83) at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:145) at org.eclipse.jface.viewers.AbstractTableViewer.doUpdateItem(AbstractTableViewer.java:399) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:481) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2111)"}, {"bug_id": "269007", "ground_truth": ["ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/editor/sections/DSReferenceSection.java", "ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/editor/sections/DSProvideSection.java", "ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/editor/dialogs/DSEditReferenceDialog.java", "ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/editor/DSServicesPage.java", "ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/editor/sections/DSPropertiesSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "remove impossible bind Eclipse bind click editing references method methods", "bug_title": " [ds tooling]: Cannot unset bind/unbind methods on service references", "bug_description": "(Eclipse 3.5M6 on Mac OSX/Cocoa/x86_64) When editing a service reference in the DS component editor, it is impossible to remove bind/unbind methods from service reference (at least without going into the XML source). Add a service reference with a bind method \"setFoo\" and unbind method \"unsetFoo\". Then edit the reference and blank out the bind/unbind method names and click Ok. The names will still be setFoo/unsetFoo."}, {"bug_id": "269685", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportHelper.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "org project project Importing ins org Bug plug org folder", "bug_title": " Importing plug-ins as source should not import .class files", "bug_description": "I20090317-1745 Importing plug-ins as source should not import .class files. Currently, all class files from the binary plug-in end up in the root of the imported plug-in (in their folders, so you usually just see an 'org' or 'com' folder inside the project)."}, {"bug_id": "270549", "ground_truth": ["ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/editor/sections/DSProvideSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "editor Open Observe component rendered reproduce Eclipse", "bug_title": " [ds tooling] \"Provided Services\" label does not always get rendered", "bug_description": "Created attachment 130344 [details] Screen shot. Using Eclipse 3.5 M6. See the attached screen shot that shows that sometimes the \"Provided Services\" label on the \"Services\" tab of the DS editor does not always get rendered. Steps to reproduce: 1. Open any DS component XML document. 2. Turn to the Source page. 3. Close the editor. 4. Reopen the DS component XML document. 5. The document should be opened on the Source page. 6. Change to the Services page. 7. Observe that the \"Provided Services\" label is missing."}, {"bug_id": "271362", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/site/SiteFeatureAdapter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug IDE PartService site mouse SiteFeatureAdapter partBroughtToTop inputChanged Expandable setActionBars", "bug_title": " NPE opening site.xml editor", "bug_description": "I20090401 I got this error opening an editor on a site.xml file. In case it matters the site.xml file can be found at: org.eclipse.update.tests.core/data/ExecutableFeaturePackagedSite/data2/site.xml I noticed the equals() method on this class is checking for a null feature id/version, but the hashCode method doesn't. java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.site.SiteFeatureAdapter.hashCode(SiteFeatureAdapter.java:64) at java.util.HashMap.hash(HashMap.java:313) at java.util.HashMap.put(HashMap.java:428) at java.util.HashSet.add(HashSet.java:209) at org.eclipse.pde.internal.ui.editor.site.SiteOutlinePage.getChildren(SiteOutlinePage.java:64) at org.eclipse.pde.internal.ui.editor.FormOutlinePage$BasicContentProvider.getChildren(FormOutlinePage.java:38) at org.eclipse.pde.internal.ui.editor.FormOutlinePage$BasicContentProvider.hasChildren(FormOutlinePage.java:42) at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTreeViewer.java:2082) at org.eclipse.jface.viewers.TreeViewer.isExpandable(TreeViewer.java:587) at org.eclipse.jface.viewers.AbstractTreeViewer.isExpandable(AbstractTreeViewer.java:2108) at org.eclipse.jface.viewers.AbstractTreeViewer.updatePlus(AbstractTreeViewer.java:2763) at org.eclipse.jface.viewers.TreeViewer.updatePlus(TreeViewer.java:847) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:828) at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:802) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:776) at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:639) at org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1708) at org.eclipse.jface.viewers.AbstractTreeViewer.internalExpandToLevel(AbstractTreeViewer.java:1718) at org.eclipse.jface.viewers.AbstractTreeViewer.internalInitializeTree(AbstractTreeViewer.java:1491) at org.eclipse.jface.viewers.TreeViewer.internalInitializeTree(TreeViewer.java:828) at org.eclipse.jface.viewers.AbstractTreeViewer$5.run(AbstractTreeViewer.java:1474) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1392) at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:402) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1353) at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1467) at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:274) at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1634) at org.eclipse.pde.internal.ui.editor.FormOutlinePage.createControl(FormOutlinePage.java:120) at org.eclipse.pde.internal.ui.editor.PDEMultiPageContentOutline.setPageActive(PDEMultiPageContentOutline.java:137) at org.eclipse.pde.internal.ui.editor.PDEMultiPageContentOutline.setActionBars(PDEMultiPageContentOutline.java:100) at org.eclipse.ui.part.PageBookView.preparePage(PageBookView.java:431) at org.eclipse.ui.part.PageBookView.createPage(PageBookView.java:404) at org.eclipse.ui.part.PageBookView.partActivated(PageBookView.java:743) at org.eclipse.ui.views.contentoutline.ContentOutline.partBroughtToTop(ContentOutline.java:212) at org.eclipse.ui.part.PageBookView$4.partBroughtToTop(PageBookView.java:1003) at org.eclipse.ui.internal.PartListenerList2$2.run(PartListenerList2.java:85) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.PartListenerList2.fireEvent(PartListenerList2.java:55) at org.eclipse.ui.internal.PartListenerList2.firePartBroughtToTop(PartListenerList2.java:83) at org.eclipse.ui.internal.PartService.firePartBroughtToTop(PartService.java:212) at org.eclipse.ui.internal.WorkbenchPagePartList.firePartBroughtToTop(WorkbenchPagePartList.java:76) at org.eclipse.ui.internal.WorkbenchPagePartList.fireActiveEditorChanged(WorkbenchPagePartList.java:52) at org.eclipse.ui.internal.PartList.setActiveEditor(PartList.java:162) at org.eclipse.ui.internal.WorkbenchPage.makeActiveEditor(WorkbenchPage.java:1277) at org.eclipse.ui.internal.WorkbenchPage.bringToTop(WorkbenchPage.java:851) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2868) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2762) at org.eclipse.ui.internal.WorkbenchPage.access$11(WorkbenchPage.java:2754) at org.eclipse.ui.internal.WorkbenchPage$10.run(WorkbenchPage.java:2705) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2701) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2685) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2676) at org.eclipse.ui.ide.IDE.openEditor(IDE.java:650) at org.eclipse.ui.ide.IDE.openEditor(IDE.java:609) at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:361) at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:168) at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:229) at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:208) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274) at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:250) at org.eclipse.jdt.internal.ui.navigator.OpenAndExpand.run(OpenAndExpand.java:49) at org.eclipse.ui.actions.RetargetAction.run(RetargetAction.java:221) at org.eclipse.ui.navigator.CommonNavigatorManager$3.open(CommonNavigatorManager.java:202) at org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48) at org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:842) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:37) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:840) at org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1101) at org.eclipse.ui.navigator.CommonViewer.handleOpen(CommonViewer.java:467) at org.eclipse.jface.viewers.StructuredViewer$6.handleOpen(StructuredViewer.java:1205) at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:264) at org.eclipse.jface.util.OpenStrategy.access$2(OpenStrategy.java:258) at org.eclipse.jface.util.OpenStrategy$1.mouseSelectItem(OpenStrategy.java:429) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:365) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1003) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3880) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3473) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2393) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2357) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2209) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:499) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:492) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:615) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:556) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:511) at org.eclipse.equinox.launcher.Main.run(Main.java:1284)"}, {"bug_id": "272021", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEPreferencesManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "preferences PDEPreferencesManager PDEPreferences Bug streamline", "bug_title": " [preferences] Javadoc the PDEPreferencesManager", "bug_description": "The new preferences manager in PDE aims to streamline the usage of preferences in PDE (bug 264394).  Unfortunately, even though it is now used throughout the platform it is not documented properly.  New classes, especially those used throughout the component, should have javadoc to ensure they are used correctly."}, {"bug_id": "272107", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/TargetContentsGroup.java"], "repo": "eclipse.pde.ui", "reformed_query": "longer Minor location tree bottom bundle target filter content text", "bug_title": " [target] Minor UI issues with new content tab", "bug_description": "See bug 270626. - The content tree and filter text are not flat on WinXP. - The x of y label at the bottom of the tab doesn't show up on WinXP - Editing the bundle containers on the location tab may break the content tab (the containers are no longer equal after they have been edited)."}, {"bug_id": "272309", "ground_truth": ["ds/org.eclipse.pde.ds.core/src/org/eclipse/pde/internal/ds/core/builders/DSErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "validate Visitor Exception Services emergency Reporter ava DSBuilder Services validate", "bug_title": " [ds tooling] NPE in DSErrorReporter.reportIllegalCardinality(...)", "bug_description": "in i0414 at various times the following appears in the log !MESSAGE Errors running builder 'Declarative Services Builder' on project 'org.e quinoxosgi.toast.swt.emergency'. !SUBENTRY 1 org.eclipse.pde.ds.core 2 75 2009-04-15 09:38:34.238 !MESSAGE java.lang.NullPointerException encountered while running Declarative Se rvices Builder. !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.ds.core.builders.DSErrorReporter.reportIlleg alCardinality(DSErrorReporter.java:243) at org.eclipse.pde.internal.ds.core.builders.DSErrorReporter.validateRef erenceCardinality(DSErrorReporter.java:225) at org.eclipse.pde.internal.ds.core.builders.DSErrorReporter.validateRef erenceElements(DSErrorReporter.java:118) at org.eclipse.pde.internal.ds.core.builders.DSErrorReporter.validateCon tent(DSErrorReporter.java:76) at org.eclipse.pde.internal.ds.core.builders.DSBuilder.checkFile(DSBuild er.java:140) at org.eclipse.pde.internal.ds.core.builders.DSBuilder.access$2(DSBuilde r.java:131) at org.eclipse.pde.internal.ds.core.builders.DSBuilder$DeltaVisitor.visi t(DSBuilder.java:93) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.j ava:68) at org.eclipse.core.internal.events.ResourceDelta.accept(ResourceDelta.j"}, {"bug_id": "272641", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/nls/ModelChangeElement.java"], "repo": "eclipse.pde.ui", "reformed_query": "externalized MANIFEST patch equal equal manually untouched header externalized MANIFEST", "bug_title": " Externalize Strings for MANIFEST.MF should not put \".0\" suffix on each header", "bug_description": "Is there any particular reason to suffix each OSGI-Bundle header that is externalized from a MANIFEST.MF with \".0\"? Bundle-Name becomes substituted as \"Bundle-Name.0\" We always have to manually remove the \".0\" suffix as there cannot be more than one Bundle-Name header anyway. Would be nice if the Externalization-Wizard would just leave the substitution name untouched and keeps it equal with the bundle header name. I could provide a patch."}, {"bug_id": "272985", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/EventDetailsDialog.java"], "repo": "eclipse.pde.ui", "reformed_query": "constructor Dialog Clipboard clipboard Clipboard instantiated Event Details Bug instantiated", "bug_title": " EventDetailsDialog leaks Clipboard", "bug_description": "The Clipboard is instantiated in the constructor but clipboard.dispose() cannot be found anywhere in the class."}, {"bug_id": "273049", "ground_truth": ["ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/cheatsheet/CSAbstractEditor.java"], "repo": "eclipse.pde.ui", "reformed_query": "opens NullPointerException description Register window Problem clicking", "bug_title": " [CheatSheet] Registering a cheat sheet fails with java.lang.NullPointerException", "bug_description": "When editing a CheatSheet the button \"Register this cheet sheet\" opens a window where you can enter a (new) category and a description. When doing so and then clicking \"Finish\" a popup \"Problem Occured\" comes up saying \"java.lang.NullPointerException\". (no more details) The cheat sheet is not registered after this."}, {"bug_id": "273421", "ground_truth": ["ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/target/LocalTargetDefinitionTests.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug Tests Tests ins bundle expected bundle JDT JDT expected", "bug_title": " Failing LocalTargetDefinitionTests because a bundle has been added to the JDT feature", "bug_description": "The LocalTargetDefinitionTests fail since N20090421-2000, because the test contains a hard-coded list of plug-ins expected in the JDT feature. We've added org.hamcrest.core as a separate bundle, see bug 272942."}, {"bug_id": "273943", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ApiBaselineManager.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/IApiXmlConstants.java"], "repo": "eclipse.pde.ui", "reformed_query": "component pool files order problems restore baseline concatenating bundle bundle", "bug_title": " Usage of pools inside api baseline xml files is causing problems", "bug_description": "Using pools is causing grief on api baseline restore. The pools are assumed to be used by concatenating the bundle version with the bundle name in order to read an api component from the pool's location. This assumption is not expected when initializing the baseline on a folder location."}, {"bug_id": "274646", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/wizards/CompareOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "hits API", "bug_title": " Progress reporting for API comparison only hits 10%", "bug_description": "The progress reporting when doing an API compare never gets past 10%, and then it's finished. Would be good to have better progress reporting."}, {"bug_id": "274678", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/exports/FeatureOptionsTab.java"], "repo": "eclipse.pde.ui", "reformed_query": "types categorization selection options errors button Bug Browse top tab", "bug_title": " [category] file selection dialog displays error dialogs while searching", "bug_description": "I20090430-2300 * Export a feature * Choose a categorization file from the options tab using the \"Browse...\" button If an exception is hit checking file content types an error dialog is shown for each exception on top of the file selection dialog. We should suppress these errors. For example, I got several \"resource out of synch with the file system\" dialogs."}, {"bug_id": "274687", "ground_truth": ["ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/target/TargetDefinitionResolutionTests.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/TargetPlatformService.java"], "repo": "eclipse.pde.ui", "reformed_query": "target Bug platform   eclipse", "bug_title": " [target] Reloading a target platform containing delta-pack always out of synch", "bug_description": "I20090430-2300 If I press re-load on a target platform that contains ${eclipse_home} and the delta-pack, PDE always thinks its out of synch and re-sets the target platform."}, {"bug_id": "274724", "ground_truth": ["ds/org.eclipse.pde.ds.ui/src/org/eclipse/pde/internal/ds/ui/wizards/DSFileWizardPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "honour Click dialog Window component increase Component original Appearance File", "bug_title": " [ds tooling] new component wizard does not honour dialog font", "bug_description": "Build id: I20090428-0100 1. Window > Preferences > General > Appearance > Colors and Fonts 2. Basic > Dialog Font 3. Click 'Change...', increase the font size by a few points. 4. Click 'OK' to commit the change. 5. File > New > Other... 6. Plug-in Development > Component Definition 7. The top part is bigger in size but the bottom section is still the original size."}, {"bug_id": "274765", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/targetdefinition/TargetEditor.java"], "repo": "eclipse.pde.ui", "reformed_query": "failed error error defn assertion dialog Resolve target dialog background", "bug_title": " [target] Cancelling resolution after editor closed raises assertion failure", "bug_description": "Created attachment 134189 [details] Assertion failure Build ID: I20090430-2300 Steps To Reproduce: 1. Create new target defn 2. Add something from the Galileo repo, resolve began running in the background 3. While resolving, I gave up and closed the editor (experienced bug 274694) 4. Resolve was still running so I clicked cancel in the progress view. 5. Got an error dialog: \"assertion failed: ContentViewer must have a content provider when input is set\". See attached. No stack in the log."}, {"bug_id": "275296", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECore.java"], "repo": "eclipse.pde.ui", "reformed_query": "create Shutdown Host reflect referencing adaptor Create Context apply PDECore", "bug_title": " [preferences] saving can trigger preference initializaion/exception at shutdown", "bug_description": "At shutdown, preference saving can trigger preference initialization (if they have not yet been loaded), which causes the following exception in the log: Steps: * Create a target definition in an *editor* that has a software site container (I created one referencing the \"Platform SDK\") * Close all editors *except* the target definition * Shutdown/restart workspace * Shutdown org.osgi.framework.BundleException: The bundle's start level is not met.  Cannot transient start the bundle: org.eclipse.pde_3.4.100.qualifier [144] at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:317) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.core.internal.runtime.InternalPlatform.start(InternalPlatform.java:913) at org.eclipse.core.internal.plugins.PluginDescriptor.doPluginActivation(PluginDescriptor.java:360) at org.eclipse.core.internal.plugins.PluginDescriptor.getPlugin(PluginDescriptor.java:340) at org.eclipse.core.runtime.Platform.getPlugin(Platform.java:764) at org.eclipse.core.internal.preferences.legacy.InitLegacyPreferences.init(InitLegacyPreferences.java:43) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.applyRuntimeDefaults(PreferenceServiceRegistryHelper.java:146) at org.eclipse.core.internal.preferences.PreferencesService.applyRuntimeDefaults(PreferencesService.java:367) at org.eclipse.core.internal.preferences.DefaultPreferences.applyRuntimeDefaults(DefaultPreferences.java:163) at org.eclipse.core.internal.preferences.DefaultPreferences.loadDefaults(DefaultPreferences.java:236) at org.eclipse.core.internal.preferences.DefaultPreferences.load(DefaultPreferences.java:232) at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:307) at org.eclipse.core.internal.preferences.EclipsePreferences.internalNode(EclipsePreferences.java:543) at org.eclipse.core.internal.preferences.EclipsePreferences.node(EclipsePreferences.java:669) at org.eclipse.core.internal.preferences.AbstractScope.getNode(AbstractScope.java:38) at org.eclipse.core.runtime.preferences.DefaultScope.getNode(DefaultScope.java:68) at org.eclipse.pde.internal.core.PreferenceInitializer.initializeDefaultPreferences(PreferenceInitializer.java:51) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.runInitializer(PreferenceServiceRegistryHelper.java:276) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.applyRuntimeDefaults(PreferenceServiceRegistryHelper.java:130) at org.eclipse.core.internal.preferences.PreferencesService.applyRuntimeDefaults(PreferencesService.java:367) at org.eclipse.core.internal.preferences.DefaultPreferences.applyRuntimeDefaults(DefaultPreferences.java:163) at org.eclipse.core.internal.preferences.DefaultPreferences.loadDefaults(DefaultPreferences.java:236) at org.eclipse.core.internal.preferences.DefaultPreferences.load(DefaultPreferences.java:232) at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:307) at org.eclipse.core.internal.preferences.EclipsePreferences.internalNode(EclipsePreferences.java:543) at org.eclipse.core.internal.preferences.EclipsePreferences.node(EclipsePreferences.java:669) at org.eclipse.core.internal.preferences.AbstractScope.getNode(AbstractScope.java:38) at org.eclipse.core.runtime.preferences.DefaultScope.getNode(DefaultScope.java:68) at org.eclipse.pde.internal.core.PDEPreferencesManager.<init>(PDEPreferencesManager.java:34) at org.eclipse.pde.internal.core.PDECore.getPreferencesManager(PDECore.java:60) at org.eclipse.pde.internal.core.PDECore.stop(PDECore.java:260) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:840) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:833) at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:474) at org.eclipse.osgi.framework.internal.core.AbstractBundle.suspend(AbstractBundle.java:546) at org.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1098) at org.eclipse.osgi.framework.internal.core.StartLevelManager.decFWSL(StartLevelManager.java:593) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:261) at org.eclipse.osgi.framework.internal.core.StartLevelManager.shutdown(StartLevelManager.java:216) at org.eclipse.osgi.framework.internal.core.InternalSystemBundle.suspend(InternalSystemBundle.java:266) at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:685) at org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:583) at org.eclipse.core.runtime.adaptor.EclipseStarter.shutdown(EclipseStarter.java:409) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:200) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) at org.eclipse.equinox.launcher.Main.main(Main.java:1287) Caused by: org.eclipse.osgi.framework.internal.core.AbstractBundle$BundleStatusException: The bundle's start level is not met.  Cannot transient start the bundle: org.eclipse.pde_3.4.100.qualifier [144] ... 54 more Root exception: org.eclipse.osgi.framework.internal.core.AbstractBundle$BundleStatusException: The bundle's start level is not met.  Cannot transient start the bundle: org.eclipse.pde_3.4.100.qualifier [144] at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:317) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.core.internal.runtime.InternalPlatform.start(InternalPlatform.java:913) at org.eclipse.core.internal.plugins.PluginDescriptor.doPluginActivation(PluginDescriptor.java:360) at org.eclipse.core.internal.plugins.PluginDescriptor.getPlugin(PluginDescriptor.java:340) at org.eclipse.core.runtime.Platform.getPlugin(Platform.java:764) at org.eclipse.core.internal.preferences.legacy.InitLegacyPreferences.init(InitLegacyPreferences.java:43) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.applyRuntimeDefaults(PreferenceServiceRegistryHelper.java:146) at org.eclipse.core.internal.preferences.PreferencesService.applyRuntimeDefaults(PreferencesService.java:367) at org.eclipse.core.internal.preferences.DefaultPreferences.applyRuntimeDefaults(DefaultPreferences.java:163) at org.eclipse.core.internal.preferences.DefaultPreferences.loadDefaults(DefaultPreferences.java:236) at org.eclipse.core.internal.preferences.DefaultPreferences.load(DefaultPreferences.java:232) at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:307) at org.eclipse.core.internal.preferences.EclipsePreferences.internalNode(EclipsePreferences.java:543) at org.eclipse.core.internal.preferences.EclipsePreferences.node(EclipsePreferences.java:669) at org.eclipse.core.internal.preferences.AbstractScope.getNode(AbstractScope.java:38) at org.eclipse.core.runtime.preferences.DefaultScope.getNode(DefaultScope.java:68) at org.eclipse.pde.internal.core.PreferenceInitializer.initializeDefaultPreferences(PreferenceInitializer.java:51) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.runInitializer(PreferenceServiceRegistryHelper.java:276) at org.eclipse.core.internal.preferences.PreferenceServiceRegistryHelper.applyRuntimeDefaults(PreferenceServiceRegistryHelper.java:130) at org.eclipse.core.internal.preferences.PreferencesService.applyRuntimeDefaults(PreferencesService.java:367) at org.eclipse.core.internal.preferences.DefaultPreferences.applyRuntimeDefaults(DefaultPreferences.java:163) at org.eclipse.core.internal.preferences.DefaultPreferences.loadDefaults(DefaultPreferences.java:236) at org.eclipse.core.internal.preferences.DefaultPreferences.load(DefaultPreferences.java:232) at org.eclipse.core.internal.preferences.EclipsePreferences.create(EclipsePreferences.java:307) at org.eclipse.core.internal.preferences.EclipsePreferences.internalNode(EclipsePreferences.java:543) at org.eclipse.core.internal.preferences.EclipsePreferences.node(EclipsePreferences.java:669) at org.eclipse.core.internal.preferences.AbstractScope.getNode(AbstractScope.java:38) at org.eclipse.core.runtime.preferences.DefaultScope.getNode(DefaultScope.java:68) at org.eclipse.pde.internal.core.PDEPreferencesManager.<init>(PDEPreferencesManager.java:34) at org.eclipse.pde.internal.core.PDECore.getPreferencesManager(PDECore.java:60) at org.eclipse.pde.internal.core.PDECore.stop(PDECore.java:260) at org.eclipse.osgi.framework.internal.core.BundleContextImpl$2.run(BundleContextImpl.java:840) at java.security.AccessController.doPrivileged(Native Method) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.stop(BundleContextImpl.java:833) at org.eclipse.osgi.framework.internal.core.BundleHost.stopWorker(BundleHost.java:474) at org.eclipse.osgi.framework.internal.core.AbstractBundle.suspend(AbstractBundle.java:546) at org.eclipse.osgi.framework.internal.core.Framework.suspendBundle(Framework.java:1098) at org.eclipse.osgi.framework.internal.core.StartLevelManager.decFWSL(StartLevelManager.java:593) at org.eclipse.osgi.framework.internal.core.StartLevelManager.doSetStartLevel(StartLevelManager.java:261) at org.eclipse.osgi.framework.internal.core.StartLevelManager.shutdown(StartLevelManager.java:216) at org.eclipse.osgi.framework.internal.core.InternalSystemBundle.suspend(InternalSystemBundle.java:266) at org.eclipse.osgi.framework.internal.core.Framework.shutdown(Framework.java:685) at org.eclipse.osgi.framework.internal.core.Framework.close(Framework.java:583) at org.eclipse.core.runtime.adaptor.EclipseStarter.shutdown(EclipseStarter.java:409) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:200) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) at org.eclipse.equinox.launcher.Main.main(Main.java:1287)"}, {"bug_id": "276509", "ground_truth": ["ui/org.eclipse.pde.ui/src_samples/org/eclipse/pde/internal/ui/samples/ReviewPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Steps overlaps press overlaps Windows Samples Accept review screenshot press", "bug_title": " Eclipse samples review wizard has incorrect text margins", "bug_description": "Created attachment 136001 [details] Screenshot on Mac Steps to reproduce: - On the Welcome page select \"Samples\" - Select \"Property sheet and outline\" - Download samples - Accept default project name, press Next - The text on the \"Review\" page of the wizard overlaps its border The border is visible by default on Mac (see screenshot attached) and becomes visible on Windows if the text is selected."}, {"bug_id": "277611", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ExternalModelManager.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ICoreConstants.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/TargetPreferenceModifyListener.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/AbstractTargetHandle.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/NameVersionDescriptor.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/provisional/LoadTargetDefinitionJob.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug Bug Updatesite Target Target Target attached source equinox Platform", "bug_title": " [target] Target Platform brings plugins back from previous installations", "bug_description": "...installed Riena RC1 into my target using PDE Target Platform Definition via Updatesite. worked well, all bundles there - also all .source bundles but I dont get the sources per ex. if hovering about a classname. ...nothing attached... but the .sorce bundles are there and I can import them into workspace and can see the sources. all other .source bundles (like equinox) are well recognized from target platform"}, {"bug_id": "278598", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/product/ProductFromConfigOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "arguments plugin product config launch ClassLoader org Single define getDeclaredConstructors", "bug_title": " [product] ignore certain program arguments when initializing from a launch config", "bug_description": "Build ID: I20090528-2000 Steps To Reproduce: 1. Make product configuration 2. Run export product wizard and uncheck \"Generate metadata repositiory\" 3. Run exported product. Log file is created (see below) More information: !SESSION 2009-06-01 16:00:11.359 ----------------------------------------------- eclipse.buildId=unknown java.version=1.6.0_14 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=${target.os}, ARCH=${target.arch}, WS=${target.ws}, NL=${target.nl} Command-line arguments:  -os ${target.os} -ws ${target.ws} -arch ${target.arch} -console !ENTRY org.eclipse.osgi 4 0 2009-06-01 16:00:12.593 !MESSAGE An error occurred while automatically activating bundle org.eclipse.ui.workbench (26). !STACK 0 org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.WorkbenchPlugin for bundle org.eclipse.ui.workbench is invalid at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:157) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:449) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:183) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:576) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:546) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:477) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:465) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:445) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:150) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1193) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160) at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:874) at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243) at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:189) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) Caused by: java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError at java.lang.Class.getDeclaredConstructors0(Native Method) at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389) at java.lang.Class.getConstructor0(Class.java:2699) at java.lang.Class.newInstance0(Class.java:326) at java.lang.Class.newInstance(Class.java:308) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:152) ... 65 more Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.SWTError at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:489) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) ... 71 more Root exception: java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError at java.lang.Class.getDeclaredConstructors0(Native Method) at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389) at java.lang.Class.getConstructor0(Class.java:2699) at java.lang.Class.newInstance0(Class.java:326) at java.lang.Class.newInstance(Class.java:308) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:152) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:449) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:183) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:576) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:546) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:477) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:465) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:445) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:150) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1193) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160) at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:874) at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243) at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:189) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.SWTError at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:489) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) ... 71 more !ENTRY org.eclipse.osgi 4 0 2009-06-01 16:00:12.593 !MESSAGE An error occurred while automatically activating bundle kz.ms.app (3). !STACK 0 org.osgi.framework.BundleException: The activator kz.ms.app.Activator for bundle kz.ms.app is invalid at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:157) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1193) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160) at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:874) at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243) at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:189) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) Caused by: java.lang.NoClassDefFoundError: org/eclipse/ui/plugin/AbstractUIPlugin at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:183) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:576) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:546) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:477) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:465) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:445) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:150) ... 32 more Caused by: org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter$TerminatingClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.ui.workbench (26). at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:125) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:449) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) ... 50 more Caused by: org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.WorkbenchPlugin for bundle org.eclipse.ui.workbench is invalid at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:157) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) ... 60 more Caused by: java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError at java.lang.Class.getDeclaredConstructors0(Native Method) at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389) at java.lang.Class.getConstructor0(Class.java:2699) at java.lang.Class.newInstance0(Class.java:326) at java.lang.Class.newInstance(Class.java:308) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:152) ... 65 more Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.SWTError at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:489) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) ... 71 more Root exception: java.lang.NoClassDefFoundError: org/eclipse/ui/plugin/AbstractUIPlugin at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:183) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:576) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:546) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:477) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:465) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:445) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:150) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1193) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160) at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:874) at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243) at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:189) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) Caused by: org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter$TerminatingClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.ui.workbench (26). at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:125) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:449) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) ... 50 more Caused by: org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.WorkbenchPlugin for bundle org.eclipse.ui.workbench is invalid at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:157) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) ... 60 more Caused by: java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError at java.lang.Class.getDeclaredConstructors0(Native Method) at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389) at java.lang.Class.getConstructor0(Class.java:2699) at java.lang.Class.newInstance0(Class.java:326) at java.lang.Class.newInstance(Class.java:308) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:152) ... 65 more Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.SWTError at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:489) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) ... 71 more !ENTRY org.eclipse.osgi 4 0 2009-06-01 16:00:12.593 !MESSAGE Application error !STACK 1 org.eclipse.core.runtime.CoreException: Plug-in kz.ms.app was unable to load class kz.ms.app.Application. at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.throwException(RegistryStrategyOSGI.java:180) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:162) at org.eclipse.core.internal.registry.ExtensionRegistry.createExecutableExtension(ExtensionRegistry.java:874) at org.eclipse.core.internal.registry.ConfigurationElement.createExecutableExtension(ConfigurationElement.java:243) at org.eclipse.core.internal.registry.ConfigurationElementHandle.createExecutableExtension(ConfigurationElementHandle.java:51) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:189) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) Caused by: org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter$TerminatingClassNotFoundException: An error occurred while automatically activating bundle kz.ms.app (3). at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:125) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadClass(AbstractBundle.java:1193) at org.eclipse.core.internal.registry.osgi.RegistryStrategyOSGI.createExecutableExtension(RegistryStrategyOSGI.java:160) ... 15 more Caused by: org.osgi.framework.BundleException: The activator kz.ms.app.Activator for bundle kz.ms.app is invalid at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:157) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) ... 27 more Caused by: java.lang.NoClassDefFoundError: org/eclipse/ui/plugin/AbstractUIPlugin at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:621) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.defineClass(DefaultClassLoader.java:183) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.defineClass(ClasspathManager.java:576) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findClassImpl(ClasspathManager.java:546) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClassImpl(ClasspathManager.java:477) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass_LockClassLoader(ClasspathManager.java:465) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:445) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:452) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at org.eclipse.osgi.internal.loader.BundleLoader.loadClass(BundleLoader.java:321) at org.eclipse.osgi.framework.internal.core.BundleHost.loadClass(BundleHost.java:231) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:150) ... 32 more Caused by: org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter$TerminatingClassNotFoundException: An error occurred while automatically activating bundle org.eclipse.ui.workbench (26). at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:125) at org.eclipse.osgi.baseadaptor.loader.ClasspathManager.findLocalClass(ClasspathManager.java:449) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.findLocalClass(DefaultClassLoader.java:211) at org.eclipse.osgi.internal.loader.BundleLoader.findLocalClass(BundleLoader.java:376) at org.eclipse.osgi.internal.loader.SingleSourcePackage.loadClass(SingleSourcePackage.java:33) at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:449) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) ... 50 more Caused by: org.osgi.framework.BundleException: The activator org.eclipse.ui.internal.WorkbenchPlugin for bundle org.eclipse.ui.workbench is invalid at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:157) at org.eclipse.osgi.framework.internal.core.BundleContextImpl.start(BundleContextImpl.java:750) at org.eclipse.osgi.framework.internal.core.BundleHost.startWorker(BundleHost.java:352) at org.eclipse.osgi.framework.internal.core.AbstractBundle.start(AbstractBundle.java:280) at org.eclipse.osgi.framework.util.SecureAction.start(SecureAction.java:408) at org.eclipse.core.runtime.internal.adaptor.EclipseLazyStarter.postFindLocalClass(EclipseLazyStarter.java:111) ... 60 more Caused by: java.lang.NoClassDefFoundError: org/eclipse/swt/SWTError at java.lang.Class.getDeclaredConstructors0(Native Method) at java.lang.Class.privateGetDeclaredConstructors(Class.java:2389) at java.lang.Class.getConstructor0(Class.java:2699) at java.lang.Class.newInstance0(Class.java:326) at java.lang.Class.newInstance(Class.java:308) at org.eclipse.osgi.framework.internal.core.AbstractBundle.loadBundleActivator(AbstractBundle.java:152) ... 65 more Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.SWTError at org.eclipse.osgi.internal.loader.BundleLoader.findClassInternal(BundleLoader.java:489) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:405) at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:393) at org.eclipse.osgi.internal.baseadaptor.DefaultClassLoader.loadClass(DefaultClassLoader.java:105) at java.lang.ClassLoader.loadClass(ClassLoader.java:252) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:320) ... 71 more !ENTRY org.eclipse.osgi 2 0 2009-06-01 16:00:12.609 !MESSAGE The following is a complete list of bundles which are not resolved, see the prior log entry for the root cause if it exists: !SUBENTRY 1 org.eclipse.osgi 2 0 2009-06-01 16:00:12.609 !MESSAGE Bundle org.eclipse.swt.win32.win32.x86_3.5.0.v3549a [24] was not resolved. !SUBENTRY 2 org.eclipse.swt.win32.win32.x86 2 0 2009-06-01 16:00:12.609 !MESSAGE Platform filter did not match: (& (osgi.ws=win32) (osgi.os=win32) (osgi.arch=x86))"}, {"bug_id": "279697", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/ReferenceExtractor.java"], "repo": "eclipse.pde.ui", "reformed_query": "Usage access ClassFileMethodVisitor visitor Insn eclipse References extract ClassReader Array", "bug_title": " ArrayIndexOutOfBoundsException running use scan", "bug_description": "I20090605-1444 It seems that we are passing in an empty value to get a qualified type name in our method visitor when processing an INVOKE_STATIC method instruction and ASM does not like that :) java.lang.ArrayIndexOutOfBoundsException: 0 at org.objectweb.asm.Type.getObjectType(Unknown Source) at org.eclipse.pde.api.tools.internal.builder.ReferenceExtractor$ClassFileMethodVisitor.visitMethodInsn(ReferenceExtractor.java:377) at org.objectweb.asm.ClassReader.accept(Unknown Source) at org.objectweb.asm.ClassReader.accept(Unknown Source) at org.eclipse.pde.api.tools.internal.model.ApiType.extractReferences(ApiType.java:161) at org.eclipse.pde.api.tools.internal.provisional.search.ApiSearchEngine.getResolvedReferences(ApiSearchEngine.java:152) at org.eclipse.pde.api.tools.internal.provisional.search.ApiSearchEngine.access$0(ApiSearchEngine.java:147) at org.eclipse.pde.api.tools.internal.provisional.search.ApiSearchEngine$ReferenceExtractor.visit(ApiSearchEngine.java:90) at org.eclipse.pde.api.tools.internal.model.ArchiveApiTypeContainer.accept(ArchiveApiTypeContainer.java:168) at org.eclipse.pde.api.tools.internal.model.AbstractApiTypeContainer.accept(AbstractApiTypeContainer.java:56) at org.eclipse.pde.api.tools.internal.model.AbstractApiComponent.accept(AbstractApiComponent.java:58) at org.eclipse.pde.api.tools.internal.provisional.search.ApiSearchEngine.searchReferences(ApiSearchEngine.java:229) at org.eclipse.pde.api.tools.internal.provisional.search.ApiSearchEngine.search(ApiSearchEngine.java:298) at org.eclipse.pde.api.tools.usage.internal.ui.search.ApiUsageSearchPage$1.run(ApiUsageSearchPage.java:190) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "280070", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/spy/sections/ActiveMenuSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "window invokeFramework runEventLoop createActionContributionItemText EventTable filterEvent pde EventTable runDeferredEvents Bug", "bug_title": " NPE using Plugin Spy in Navigate menu", "bug_description": "I used ALT+SHIFT+F1 and then selected Navigate>Open Declaration eclipse.buildId=I20090603-2000 java.fullversion=J2RE 1.5.0 IBM J9 2.3 Linux x86-32 j9vmxi3223-20080315 (JIT enabled) J9VM - 20080314_17962_lHdSMr JIT  - 20080130_0718ifx2_r8 GC   - 200802_08 BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US Command-line arguments:  -os linux -ws gtk -arch x86 -data /opt/pwebster/workspaces/e4 Error Fri Jun 12 08:46:57 EDT 2009 Unhandled event loop exception java.lang.NullPointerException at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.createActionContributionItemText(ActiveMenuSection.java:158) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.createActionContributionItemText(ActiveMenuSection.java:158) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.createActionContributionItemText(ActiveMenuSection.java:158) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.createActionContributionItemText(ActiveMenuSection.java:158) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.createActionContributionItemText(ActiveMenuSection.java:158) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.createActionContributionItemText(ActiveMenuSection.java:158) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.createActionContributionItemText(ActiveMenuSection.java:158) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.createActionContributionItemText(ActiveMenuSection.java:127) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.scan(ActiveMenuSection.java:103) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.scan(ActiveMenuSection.java:106) at org.eclipse.pde.internal.runtime.spy.sections.ActiveMenuSection.build(ActiveMenuSection.java:61) at org.eclipse.pde.internal.runtime.spy.dialogs.MenuSpyDialog.createDialogArea(MenuSpyDialog.java:96) at org.eclipse.pde.internal.runtime.spy.dialogs.MenuSpyDialog.createContents(MenuSpyDialog.java:69) at org.eclipse.jface.window.Window.create(Window.java:431) at org.eclipse.pde.internal.runtime.spy.handlers.MenuSpyHandler.handleEvent(MenuSpyHandler.java:91) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Display.filterEvent(Display.java:1467) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1175) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3493) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3112) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:79) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:618) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311)"}, {"bug_id": "280119", "ground_truth": ["ua/org.eclipse.pde.ua.core/src/org/eclipse/pde/internal/ua/core/toc/text/TocMarkerManager.java", "ua/org.eclipse.pde.ua.core/src/org/eclipse/pde/internal/ua/core/toc/text/TocModel.java", "ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/toc/TocEditor.java", "ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/toc/TocPage.java", "ua/org.eclipse.pde.ua.core/src/org/eclipse/pde/internal/ua/core/toc/text/TocDocumentHandler.java", "ua/org.eclipse.pde.ua.core/src/org/eclipse/pde/internal/ua/core/toc/text/TocMarkerManager.java", "ua/org.eclipse.pde.ua.core/src/org/eclipse/pde/internal/ua/core/toc/text/TocModel.java", "ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/toc/TocEditor.java", "ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/toc/TocPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "support errors debug Editor source TOC TOC message source TOC", "bug_title": " TOC Editor should debug XML errors", "bug_description": "When you open an XML file that contains errors in the TOC editor, you can see the file in the source view, but when you click the Definition tab you get a message that there are errors so it can't open. It would be helpful to know what the errors are. Perhaps the source view could act like other XML editors and provide debug support."}, {"bug_id": "280286", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/search/ApiSearchEngine.java"], "repo": "eclipse.pde.ui", "reformed_query": "count engine search Search searching search engine running Bug report", "bug_title": " Search engine should report results after a threshold has been hit", "bug_description": "I20090611-1540 Currently our search engine reports any results it has found when it finishes searching a package. It can happen that a package can contain many many types, which leads to our search engine running out of memory. We should include a threshold (max reference count) that if hit would also report."}, {"bug_id": "280630", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/wizards/ApiBaselineWizardPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug Baseline API", "bug_title": " New API Baseline dialog: Does not resize vertically", "bug_description": "Created attachment 139442 [details] Screenshot I20090611-1540 New API Baseline dialog: Does not resize vertically."}, {"bug_id": "281923", "ground_truth": ["ui/org.eclipse.pde.launching/src/org/eclipse/pde/launching/JUnitLaunchConfigurationDelegate.java"], "repo": "eclipse.pde.ui", "reformed_query": "Launch pde headless test junit parameters eclipse platform Application org", "bug_title": " Run in UI thread unchecked doesn't work with Headless Mode application", "bug_description": "Build ID: 3.5 GA Steps To Reproduce: 1. Launch a JUnit Plug-in test with \"Run in UI thread\" unchecked and the application set to \"[No Application] - Headless Mode\" 2. IDE still comes up (if you are using a target platform without the IDE, an exception is thrown) More information: The command line parameters end up being -application org.eclipse.pde.junit.runtime.nonuithreadtestapplication -testApplication org.eclipse.ui.ide.workbench To workaround this, you can either check \"Run in UI thread\" or you can override the application parameter with -testApplication org.eclipse.pde.junit.runtime.coretestapplication The \"Run in UI thread\" check box doesn't really make sense in headless mode, but unchecking it (which is more intuitive) should not break the tests."}, {"bug_id": "283588", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/targetdefinition/ContentPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/targetdefinition/EnvironmentPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/targetdefinition/DefinitionPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "context keeping target depressed editor hookup", "bug_title": " [target] target editor help acting strange, possibly incorrect context hookup", "bug_description": "Clicking on the help button at the top right opens the dynamic help to the right page.  But if you click and hold (keeping the button depressed) a generic workbench help page comes up.  Also, if you have the dynamic help up for the editor, sometimes clicking on different things in the editor will open the same generic help page."}, {"bug_id": "286656", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/PluginBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "saves Steps workspace configuration Plugins dirty selected marked launch reopen", "bug_title": " Plugins tab likes being the dirty button", "bug_description": "I20090809-2000 Selecting the Plug-ins tab in a PDE launch configuration says the configuration has updates when none have been applied. Steps: 1. create a new PDE launch configuration 2. go to plug-ins tab and change setting to \"plug-ins selected below only\" and hit apply 3. close the dialog and close one of your workspace projects 4. reopen the dialog and go to the plug-ins tab. SHAZAAM it is marked as having changes. Pressing the revert button does nothing, pressing apply saves the phantom changes."}, {"bug_id": "287599", "ground_truth": ["apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/search/tests/UseSearchTests.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/search/UseSearchRequestor.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/search/ApiUseReportConverter.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/search/SearchMessages.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/search/XmlSearchReporter.java", "apitools/org.eclipse.pde.api.tools/src_ant/org/eclipse/pde/api/tools/internal/tasks/ApiUseTask.java", "apitools/org.eclipse.pde.api.tools/xslt/notsearched.xsl", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/use/ApiUseScanJob.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/search/searchmessages.properties"], "repo": "eclipse.pde.ui", "reformed_query": "details annoying searched list reporting nice complete Bug simple summary", "bug_title": " Provide summary of missing required bundles", "bug_description": "I20090818-0800 With the new details provided for why bundles have not been searched (for use reporting), it would be nice if there was an additional page listing all of the bundles required for a complete search. This information is available on the details page, but it is quite annoying to have to check the details for every single skipped bundle when a nice summary page could tell you what bundles are missing in a simple list."}, {"bug_id": "288343", "ground_truth": ["ui/org.eclipse.pde.junit.runtime/src/org/eclipse/pde/internal/junit/runtime/UITestApplication.java"], "repo": "eclipse.pde.ui", "reformed_query": "Reproduce load thrown Agent UITestApplication invokeFramework failure app testing sun", "bug_title": " UITestApplication does not guard against exception in runTests", "bug_description": "User-Agent:       Opera/9.64 (Windows NT 6.0; U; en) Presto/2.1.1 Build Identifier: I20090611-1540 Currently, the UITestApplication used in PDE Tests does not protect against exceptions occuring in the TestableObject's runTests(...) method. Any exception thrown there will lead to the Test application not being shut down. That's not much of a problem in an interactive environment, where the user can just close the application, but it is problematic in an automated testing environment. Reproducible: Always Steps to Reproduce: 1. Create a PDE Debug configuration with a separate test plugin (or fragment) 2. Add all required plugins to the launch configuration 3. Remove the plugin under test from the launch configuration 4. Run the test 5. The test run will fail and the test application will continue to run The reason for the failure in this case is the missing plugin in the launch configuration that leads to an exception similar to this: java.lang.IllegalArgumentException: No Classloader found for plug-in plugin.under.test at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.getClassLoader(RemotePluginTestRunner.java:77) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.getTestClassLoader(RemotePluginTestRunner.java:71) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClass(RemoteTestRunner.java:693) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.loadClasses(RemoteTestRunner.java:429) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:452) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683) at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390) at org.eclipse.pde.internal.junit.runtime.RemotePluginTestRunner.main(RemotePluginTestRunner.java:62) at org.eclipse.pde.internal.junit.runtime.CoreTestApplication.run(CoreTestApplication.java:23) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.internal.app.EclipseAppContainer.callMethodWithException(EclipseAppContainer.java:574) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:368) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:559) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:514) at org.eclipse.equinox.launcher.Main.run(Main.java:1311) at org.eclipse.equinox.launcher.Main.main(Main.java:1287) The reason that the application is not shutting down is that the exception causes the UITestApplication.runTests() method to exit without calling \tfTestableObject.testingFinished();"}, {"bug_id": "289502", "ground_truth": ["ua/org.eclipse.pde.ua.tests/src/org/eclipse/pde/internal/ua/tests/cheatsheet/SimpleCSSSpellCheckTestCase.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/XMLStringPartitionScanner.java"], "repo": "eclipse.pde.ui", "reformed_query": "href checking org erros content Spell checking screen issues erros", "bug_title": " Spell checking issues in org.eclipse.pde.doc.user/toc.xml", "bug_description": "Created attachment 147238 [details] screen shot I20090915-0100 With the new spell checking support in PDE, I get some spelling erros on element attribute tags, rather than their content, like, \"The word 'href' is not spelled correctly\"."}, {"bug_id": "290138", "ground_truth": ["ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/cheatsheet/simple/details/SimpleCSItemDetails.java"], "repo": "eclipse.pde.ui", "reformed_query": "readAndDispatch selectionChanged CSItem document ManagedForm runtime start Location Delegating doFireDocumentChanged", "bug_title": " Cannot select nodes in the cheat-sheet editor", "bug_description": "FUP to bug 290136 After I closed the editor - losing all of my work since it could not be saved - when I re-opened the editor and try to select a node in the left-hand pane I get the following exception: java.lang.IllegalArgumentException: Argument not valid at org.eclipse.swt.SWT.error(SWT.java:3933) at org.eclipse.swt.SWT.error(SWT.java:3867) at org.eclipse.swt.SWT.error(SWT.java:3838) at org.eclipse.jface.text.DefaultDocumentAdapter.getLine(DefaultDocumentAdapter.java:182) at org.eclipse.swt.custom.StyledText.getPointAtOffset(StyledText.java:5340) at org.eclipse.swt.custom.StyledText.setCaretLocation(StyledText.java:7830) at org.eclipse.swt.custom.StyledText.reset(StyledText.java:7266) at org.eclipse.swt.custom.StyledText.handleTextSet(StyledText.java:6184) at org.eclipse.swt.custom.StyledText$6.textSet(StyledText.java:5548) at org.eclipse.jface.text.DefaultDocumentAdapter.fireTextSet(DefaultDocumentAdapter.java:364) at org.eclipse.jface.text.DefaultDocumentAdapter.documentChanged(DefaultDocumentAdapter.java:287) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged2(AbstractDocument.java:735) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:712) at org.eclipse.jface.text.AbstractDocument.doFireDocumentChanged(AbstractDocument.java:697) at org.eclipse.jface.text.AbstractDocument.fireDocumentChanged(AbstractDocument.java:762) at org.eclipse.jface.text.AbstractDocument.set(AbstractDocument.java:1203) at org.eclipse.jface.text.AbstractDocument.set(AbstractDocument.java:1183) at org.eclipse.pde.internal.ua.ui.editor.cheatsheet.simple.details.SimpleCSItemDetails.updateFields(SimpleCSItemDetails.java:285) at org.eclipse.pde.internal.ua.ui.editor.cheatsheet.simple.details.SimpleCSItemDetails.selectionChanged(SimpleCSItemDetails.java:368) at org.eclipse.ui.forms.DetailsPart$1.run(DetailsPart.java:274) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.forms.DetailsPart.showPage(DetailsPart.java:261) at org.eclipse.ui.forms.DetailsPart.update(DetailsPart.java:234) at org.eclipse.ui.forms.DetailsPart.selectionChanged(DetailsPart.java:219) at org.eclipse.ui.forms.ManagedForm.fireSelectionChanged(ManagedForm.java:148) at org.eclipse.pde.internal.ui.editor.TreeSection$PartAdapter.selectionChanged(TreeSection.java:32) at org.eclipse.pde.internal.ui.parts.TreePart$1.selectionChanged(TreePart.java:45) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:2132) at org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1160) at org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1190) at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:228) at org.eclipse.jface.util.OpenStrategy.access$4(OpenStrategy.java:222) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:389) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1002) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3885) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3478) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:610) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:565) at org.eclipse.equinox.launcher.Main.run(Main.java:1362)"}, {"bug_id": "290756", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/OSGiFrameworkPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "SafeRunner ActionContributionItem invoke EclipseStarter Delegating Busy schema Util OSGiFrameworkPreferencePage handleWidgetSelection", "bug_title": " NPE when opening OSGi frameworks prefs page", "bug_description": "I20090917-0100 * open preferences * open \"OSGi frameworks\" pref page Exception Stack Trace: java.lang.NullPointerException at org.eclipse.pde.internal.core.schema.SchemaRegistry.getSchemaURL(SchemaRegistry.java:93) at org.eclipse.pde.internal.ui.preferences.OSGiFrameworkPreferencePage.createContents(OSGiFrameworkPreferencePage.java:121) at org.eclipse.jface.preference.PreferencePage.createControl(PreferencePage.java:232) at org.eclipse.jface.preference.PreferenceDialog.createPageControl(PreferenceDialog.java:1501) at org.eclipse.jface.preference.PreferenceDialog$14.run(PreferenceDialog.java:1258) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.preference.PreferenceDialog.showPage(PreferenceDialog.java:1252) at org.eclipse.ui.internal.dialogs.FilteredPreferenceDialog.showPage(FilteredPreferenceDialog.java:679) at org.eclipse.jface.preference.PreferenceDialog$10.run(PreferenceDialog.java:708) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.preference.PreferenceDialog$9.selectionChanged(PreferenceDialog.java:704) at org.eclipse.jface.viewers.StructuredViewer$3.run(StructuredViewer.java:864) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.runtime.Platform.run(Platform.java:888) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:48) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.firePostSelectionChanged(StructuredViewer.java:862) at org.eclipse.jface.viewers.StructuredViewer.handlePostSelect(StructuredViewer.java:1175) at org.eclipse.jface.viewers.StructuredViewer$5.widgetSelected(StructuredViewer.java:1200) at org.eclipse.jface.util.OpenStrategy.firePostSelectionEvent(OpenStrategy.java:251) at org.eclipse.jface.util.OpenStrategy.access$5(OpenStrategy.java:245) at org.eclipse.jface.util.OpenStrategy$3.run(OpenStrategy.java:419) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:134) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3453) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3100) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ui.internal.dialogs.WorkbenchPreferenceDialog.open(WorkbenchPreferenceDialog.java:211) at org.eclipse.ui.internal.OpenPreferencesAction.run(OpenPreferencesAction.java:65) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1186) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3478) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3097) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2405) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2369) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2221) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:500) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:493) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:113) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:194) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:367) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:610) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:565) at org.eclipse.equinox.launcher.Main.run(Main.java:1362)"}, {"bug_id": "291559", "ground_truth": ["ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/AllPDETests.java", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/build/properties/BaseValidator.java", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/build/properties/BuildPropertiesValidator.java", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/build/properties/AllValidatorTests.java", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/build/properties/BaseValidator.java", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/build/properties/BuildPropertiesValidator.java", "ui/org.eclipse.pde.ui.tests/tests/build.properties/org.eclipse.pde.tests.build.properties.one.zip", "ui/org.eclipse.pde.ui.tests/tests/build.properties/org.eclipse.pde.tests.build.properties.two.zip", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PreferenceInitializer.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/CompilerFlags.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SourceEntryErrorReporter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/PDECompilersConfigurationBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "build Bug problem build property build property includes source separate", "bug_title": " Create a new section for preferences of build.properties related problems", "bug_description": "The preference for build.properties related problem is associated with many problem. Create a separate section for build.properties covering the preferences liked with each property like source.<library>, src.includes, etc."}, {"bug_id": "292938", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionPointDetails.java"], "repo": "eclipse.pde.ui", "reformed_query": "Open steps Reproduce plugin work extension schema Edit enclosed fails", "bug_title": " \"Open extension point schema\" link fails in plugin.xml editor", "bug_description": "User-Agent:       Opera/9.80 (Windows NT 5.1; U; de) Presto/2.2.15 Version/10.00 Build Identifier: 20090619-0625 In the plugin.xml editor the link \"Open extension point schema\" does not work under conditions described in steps to reproduce. A warning message is presented: \"Extension point schema for extension point <extpointname> cannot be found.\" (where <extpointname> is the name of the new extension point enclosed in quotes) Also tested under Windows 2000, maybe all platforms are affected. Reproducible: Always Steps to Reproduce: 1. Add a new extension point in the plugin.xml editor in tab \"Extension Points\" (keep the \"Edit extension point schema when done\" checked) -> the extension point schema editor opens fine and is activated 2. Close the extension point schema editor without doing any changes to the schema -> the plugin.xml editor is activate again 3. Try to open extension point schema using the link \"Open extension point schema\" -> warning message, schema editor does not open"}, {"bug_id": "293474", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/context/XMLInputContext.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug editor", "bug_title": " Editing extensions in PDE editor creates invalid plugin.xml", "bug_description": "Created attachment 150655 [details] Extensions tab I was editing a new plugin in the Extensions tab and saving it as I go.  I ended up in the state where it had created an invalid plugin.xml PW"}, {"bug_id": "295577", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LaunchAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "surfaces Target bit configurations launch mode add SWT trick arg", "bug_title": " [target] Target args do not get added to configs created from product configurations", "bug_description": "- On the Mac with Cocoa 32bit on Snow Leopard... - Create a target platform - Flip to the environment tab and set -d32 as a VM arg to cause the a launched JRE to be in 32 bit mode - Create a product/launch config that uses SWT (so it has 32 bit libs as per the defaults for a 32bit SDK) - Run the launch/product - Notice that you get an error saying that you cannot run 32bit libs on a 64bit VM - Now add -d32 to the VM args on the product/launch - Run again and notice that everything works Summary, -d32 on the launcher/product does the trick but the VM args (well at least that VM arg) set on the target are ignored. Note that I don't think this is anything specific to the Mac, I just happen to have a scenario on the Mac that surfaces the problem"}, {"bug_id": "296113", "ground_truth": ["ui/org.eclipse.pde.junit.runtime/src/org/eclipse/pde/internal/junit/runtime/RemotePluginTestRunner.java"], "repo": "eclipse.pde.ui", "reformed_query": "String org Test prints user bug IllegalArgumentException message Classloader getClassLoader", "bug_title": " RemotePluginTestRunner should issue better message when test plug-in not resolved", "bug_description": "HEAD RemotePluginTestRunner currently prints \"java.lang.IllegalArgumentException: No Classloader found for plug-in org.eclipse.core.expressions.tests\" when the test plug-in could not be resolved, e.g. in the scenario from bug 296105. \"No Classloader found\" does not tell the user what the problem is. Could you please change the message in RemotePluginTestRunner#getClassLoader(String) to something like this, so that the user knows why this happens: throw new IllegalArgumentException(\"No Classloader found for plug-in \" + pluginId + \" (plug-in was not resolved)\"); //$NON-NLS-1$ //$NON-NLS-2$"}, {"bug_id": "296917", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "basicBuildLoop Workspace validate data core BuildErrorReporter Manager BuildManager Exception validate", "bug_title": " NPE while building my workspace", "bug_description": "Using build I20091201-1600, I got the following NPE while building the entire workspace (Full build): !SESSION 2009-12-04 15:02:47.778 ----------------------------------------------- eclipse.buildId=I20091201-1600 java.version=1.6.0_17 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=fr_FR Framework arguments:  -showLocation Command-line arguments:  -os win32 -ws win32 -arch x86_64 -consoleLog -showLocation -data C:\\eclipse\\workspaces\\v36\\formatter\\head !ENTRY org.eclipse.ui 2 2 2009-12-04 15:03:43.722 !MESSAGE Perspective OTI - Debug has been made into a local copy !ENTRY org.eclipse.core.resources 4 2 2009-12-04 15:09:20.263 !MESSAGE Problems occurred when invoking code from plug-in: \"org.eclipse.core.resources\". !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateExecutionEnvironment(BuildErrorReporter.java:268) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateBuild(BuildErrorReporter.java:230) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validate(BuildErrorReporter.java:123) at org.eclipse.pde.internal.core.builders.ErrorReporter.validateContent(ErrorReporter.java:127) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateBuildProperties(ManifestConsistencyChecker.java:326) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateProject(ManifestConsistencyChecker.java:241) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.build(ManifestConsistencyChecker.java:167) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:627) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:170) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:253) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:256) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:309) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:341) at org.eclipse.core.internal.resources.Workspace.build(Workspace.java:342) at org.eclipse.ui.actions.GlobalBuildAction$1.run(GlobalBuildAction.java:178) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55) !ENTRY org.eclipse.core.resources 4 75 2009-12-04 15:09:30.571 !MESSAGE Errors occurred during the build. !SUBENTRY 1 org.eclipse.pde.core 4 75 2009-12-04 15:09:30.571 !MESSAGE Errors running builder 'Plug-in Manifest Builder' on project 'org.eclipse.jdt.core'. !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateExecutionEnvironment(BuildErrorReporter.java:268) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateBuild(BuildErrorReporter.java:230) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validate(BuildErrorReporter.java:123) at org.eclipse.pde.internal.core.builders.ErrorReporter.validateContent(ErrorReporter.java:127) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateBuildProperties(ManifestConsistencyChecker.java:326) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateProject(ManifestConsistencyChecker.java:241) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.build(ManifestConsistencyChecker.java:167) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:627) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:170) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:253) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:256) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:309) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:341) at org.eclipse.core.internal.resources.Workspace.build(Workspace.java:342) at org.eclipse.ui.actions.GlobalBuildAction$1.run(GlobalBuildAction.java:178) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55) !ENTRY org.eclipse.core.resources 4 75 2009-12-04 15:09:30.571 !MESSAGE Errors occurred during the build. !SUBENTRY 1 org.eclipse.pde.core 4 75 2009-12-04 15:09:30.581 !MESSAGE Errors running builder 'Plug-in Manifest Builder' on project 'org.eclipse.jdt.core'. !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateExecutionEnvironment(BuildErrorReporter.java:268) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateBuild(BuildErrorReporter.java:230) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validate(BuildErrorReporter.java:123) at org.eclipse.pde.internal.core.builders.ErrorReporter.validateContent(ErrorReporter.java:127) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateBuildProperties(ManifestConsistencyChecker.java:326) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateProject(ManifestConsistencyChecker.java:241) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.build(ManifestConsistencyChecker.java:167) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:627) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:170) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:201) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:253) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:256) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:309) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:341) at org.eclipse.core.internal.resources.Workspace.build(Workspace.java:342) at org.eclipse.ui.actions.GlobalBuildAction$1.run(GlobalBuildAction.java:178) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "296970", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardDetailedPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardExpressPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/BaseImportWizardSecondPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "detail wizard lists space layout Plug Bug list", "bug_title": " Plug-in import detail page has bad layout in linux", "bug_description": "On the second page of the plug-in import wizard, there are two lists separated by buttons.  These lists are intended to be of equal size, filling extra space in the dialog. On linux, the sizes are not equal because the first list's width is forced to be as wide as the first checkbox option underneath it."}, {"bug_id": "297115", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SourceEntryErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SourceEntryErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "binary src workspace error Helps src message including slash messages", "bug_title": " some error messages don't recognize directories", "bug_description": "Using an M4ish build (12/04 currently) I see \"error messages\" for many of our build.property files ... such as including build.properties in 'src' build. Very cool. Helps us clean things up. But, there's a few that I think are overly strict on the exact form of directory name. In one, for example, we had source.. = beaninfo output.. = bin and got an error message that 'beaninfo' was not a source folder and that 'bin' was not an output folder. But they were! Turns out, I can make the error message go away by changing them to source.. = beaninfo/ output.. = bin/ But seems to me the trailing slash should not be required. Very counter intuitive. A similar case is output..=. Gives an error message of \"the folder '.' does not exist in the workspace\". But, as a directory '.' pretty much always exists. And in this case, adding a trailing slash did not help. This is actually required for many \"third party\" (binary only) bundles that have the class files in the root of the bundle."}, {"bug_id": "297483", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECoreMessages.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/BuildErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SourceEntryErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/pderesources.properties"], "repo": "eclipse.pde.ui", "reformed_query": "build path source source warn entry properties Java folder library", "bug_title": " should warn when class file folder does not have output.<library> entry", "bug_description": "Build.properties validation should warn when a class file folder on the build path (i.e. library on the Java build path) does not have a corresponding output.<library> entry in the build.properties. This is similar to a source folder not having an output entry in the build.properties. This is a follow up to bug 297115."}, {"bug_id": "298742", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SourceEntryErrorReporter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/MultiFixResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/text/PDEQuickAssistAssistant.java"], "repo": "eclipse.pde.ui", "reformed_query": "Add follow source uppercase missing eclipse", "bug_title": " Duplicate and unordered problems in build.properties", "bug_description": "Created attachment 155218 [details] test project HEAD, follow-up to bug 296457 - import the attached project (modified version of org.eclipse.core.filebuffers) - open build.properties - go to source page - click the quick fix light bulb on line 1 => There are 2 fixes called \"Add all missing java compiler build entries\" (should only be one) => \"Java\" should have uppercase \"J\" => The entries are not always in the same order."}, {"bug_id": "302928", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/EditIUContainerPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Category tested previous Update works create Definition Update download result", "bug_title": " Target Definition problems with Helios", "bug_description": "Build Identifier: I20100129-1300 I'm having some trouble with my target definition. After adding http://download.eclipse.org/releases/helios  as \"software site\", I selected a few projects. Now if I want to add new projects (double click on the \"software site\") the dialog tells me \"At least one item must be selected\" and my previous selection is gone. Far more worse is that I can not unselect \"Group by Category\", well I can but nothing happens. Same result when I create a new target definition trying to unselect the \"Group by Category\" option. I would like to add \"Eclipse SDK\" to my selected projects which is not possible. I just tested it with Eclipse 3.5.1 and the Helios Update Site works properly. Reproducible: Always"}, {"bug_id": "304041", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/P2Utils.java"], "repo": "eclipse.pde.ui", "reformed_query": "src Utils Dead Utils UnableToAcquireP PDECore eclipse Utils Unable warnings", "bug_title": " Compiler warnings in I20100225-1936", "bug_description": "1. WARNING in /src/org/eclipse/pde/internal/core/P2Utils.java (at line 337) if (agent == null) { throw new CoreException(new Status(IStatus.ERROR, PDECore.PLUGIN_ID, PDECoreMessages.P2Utils_UnableToAcquireP2Service)); } Dead code 2. WARNING in /src/org/eclipse/pde/internal/core/P2Utils.java (at line 368) if (agent == null) { throw new CoreException(new Status(IStatus.ERROR, PDECore.PLUGIN_ID, PDECoreMessages.P2Utils_UnableToAcquireP2Service)); } Dead code"}, {"bug_id": "304426", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/build/RuntimeInstallJob.java"], "repo": "eclipse.pde.ui", "reformed_query": "exists createMatchQuery build Parser Win SDK Installable java backtrace Runtime", "bug_title": " Regression: Cannot \"install into host\" with I20100302-0800", "bug_description": "Build ID: Eclipse SDK I20100302-0800 on WinXP SP2 / Sun Jdk 1.6.0_16 I cannot Export > Deployable Plugins : Install into Host any more. Unfortunately, this is currently blocking my testing since I don't know how else I would get a debuggee to run. I know that this did work with I20100217-1031. Here is the error I get: An internal error occurred during: \"Install Job\". Parse error in string \"requiredCapabilities.exists(rq | rq ~= $0 && rq.name == $1 && rq.range == $2\": Unexpeced end of expression at position 76 and here is the backtrace from errorlog: org.eclipse.equinox.p2.metadata.expression.ExpressionParseException: Parse error in string \"requiredCapabilities.exists(rq | rq ~= $0 && rq.name == $1 && rq.range == $2\": Unexpeced end of expression at position 76 at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.syntaxError(ExpressionParser.java:633) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.syntaxError(ExpressionParser.java:626) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.assertToken(ExpressionParser.java:390) at org.eclipse.equinox.internal.p2.ql.parser.QLParser.parseLambdaDefinition(QLParser.java:290) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.parseCollectionRHS(ExpressionParser.java:261) at org.eclipse.equinox.internal.p2.ql.parser.QLParser.parseCollectionRHS(QLParser.java:216) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.parseCollectionExpression(ExpressionParser.java:239) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.parseNot(ExpressionParser.java:223) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.parseBinary(ExpressionParser.java:159) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.parseAnd(ExpressionParser.java:145) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.parseOr(ExpressionParser.java:131) at org.eclipse.equinox.internal.p2.ql.parser.QLParser.parseCondition(QLParser.java:62) at org.eclipse.equinox.internal.p2.metadata.expression.parser.ExpressionParser.parse(ExpressionParser.java:94) at org.eclipse.equinox.p2.metadata.expression.ExpressionUtil.parse(ExpressionUtil.java:63) at org.eclipse.equinox.p2.query.ExpressionMatchQuery.<init>(ExpressionMatchQuery.java:38) at org.eclipse.equinox.p2.query.QueryUtil.createMatchQuery(QueryUtil.java:347) at org.eclipse.pde.internal.ui.build.RuntimeInstallJob.createInstallableUnitPatch(RuntimeInstallJob.java:203) at org.eclipse.pde.internal.ui.build.RuntimeInstallJob.run(RuntimeInstallJob.java:142) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)"}, {"bug_id": "305232", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/FeatureBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "config getCheckedLeafCount Counter config plugins correct choose filter Count getCheckedLeafCount", "bug_title": " [feature] [launching] When choosing features to launch, counter does not update with filtering", "bug_description": "1) Open launch config, plugins tab, choose \"Selected features below\" 2) Have a subset of features checked (counter is correct) 3) Apply a text filter that changes the visible checked Result: Counter only considers what is checked and visible The fix will be to use the filtered checkbox tree's getCheckedLeafCount() method.  It was implemented specifically to get a count that ignores the filters."}, {"bug_id": "307149", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/refactoring/ContainerRenameParticipant.java"], "repo": "eclipse.pde.ui", "reformed_query": "remove Create behavior Edit OSGi Reproduce Bug", "bug_title": " Adding import packages to Manifest.MF does not cause rebuild", "bug_description": "Build Identifier: 3.6 Imported packages added to the Manifest.MF file will not be used to build the bundle till you start eclipse. Reproducible: Always Steps to Reproduce: 1. Create an OSGi bundle and add some java files importing packages that are outside the bundle. 2. Observe that the java files have the errors that the packages cannot be resolved. 2. Edit the Manifest.MF to import these packages. by adding (Import-Packages: xxx) 3. Observe that the errors that the packages cannot be resolved are still there. (the imported packages that are added to Manifest.MF are not taken into consideration in building my bundle). 4. Restart eclipse. 5. All the errors are gone and all the packages are resolved. 6. After this first time, if I remove the imported packages, I get the errors ( which is expected) 7. When I add them back the errors are resolved (which is expected) The incorrect behavior is only the first time the packages are added to the Manifest.MF."}, {"bug_id": "307524", "ground_truth": ["ui/org.eclipse.pde.core/plugin.xml", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/content/DefaultDocumentFactory.java"], "repo": "eclipse.pde.ui", "reformed_query": "Factory longer wst edit editor org IDocumentFactory highlight ends seconds", "bug_title": " Using org.eclipse.wst.xml_* makes the Plug-in Manifest Editor unreliable", "bug_description": "I have an installation where I use the XML-Editor provided by the org.eclipse.wst.xml_* features. With that the PDE Manifest Editor no longer works reliably: - Opening a plugin.xml for the first time, the outline view \"flickers\" a few seconds - Copy and pasting an XML snippet in the plugin.xml source editor tab does not syntax-highlight the new snippet. - Editing the plugin.xml source directly is not immediately reflected in the Extensions tab - Using the Extensions tab to edit a dirty plugin.xml is unreliable.  The XML content gets easily distorted. The reason seems to be that the 'org.eclipse.wst.xml.core' plugin specifies an IDocumentFactory that ends up creating the document for the plugin.xml file."}, {"bug_id": "308321", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/AbstractPluginBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "level Tab eclipse column broken Application Config spinner Tab Bug", "bug_title": " The spinner is outside the column area on eclipse app launch config", "bug_description": "The spinner and combo cell editors are off a nudge out of area for columns \"Start level\" and \"Auto-Start\" on Plug-ins Tab of Eclipse Application Launch Config. Fix for Bug 308030 have broken it."}, {"bug_id": "308547", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/LibrarySection.java"], "repo": "eclipse.pde.ui", "reformed_query": "entries Path editor Form check Bundle Manifest classes project relative", "bug_title": " classpath entries added using Manifest.MF editor need to check the bundle root.", "bug_description": "Build Identifier: 3.6 If I have a bundle root that differs from the project root, and I use the Manifest editor to add classpath entries, the entries are always added relative to the project root, not the bundle root. Reproducible: Always Steps to Reproduce: If I have a Web bundle and my bundle root is WebContent. When I use the Form based Manifest editor ( Runtime tab) to add the WEB-INF/classes classpath entry, I end up with this entry added: Bundle-ClassPath: WebContent/WEB-INF/classes/ What I expect is to get this Bundle-ClassPath: WEB-INF/classes/"}, {"bug_id": "308633", "ground_truth": ["ui/org.eclipse.pde.launching/src/org/eclipse/pde/internal/launching/launcher/BundleLauncherHelper.java", "ui/org.eclipse.pde.launching/src/org/eclipse/pde/internal/launching/launcher/BundleLauncherHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "version target numbers application creating Feature feature", "bug_title": " Feature based launch ignores version numbers", "bug_description": "features are now all found from target platform but creating a launch config feature based doesn't work very well example: the tp evolved for some features and plugins from 0.5.13 thru 0.5.15 and 0.5.16 if I define the launch config, the newest version (0.5.16) of these features was displayed, but the launched eclipse application has plug-ins from the oldest one (0.5.13) even if I define dependencies to 0.5.16 minimum - always the oldest are choosen, so at the moment I cannot use the powerful new feature-based launch configs."}, {"bug_id": "308693", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/TargetDefinition.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/provisional/LoadTargetDefinitionJob.java"], "repo": "eclipse.pde.ui", "reformed_query": "Filter model user target features managing model content content Bug", "bug_title": " Filter workspace features if target is managed using features", "bug_description": "1) Create a target pointing at the Eclipse install 2) On the content tab, select manage using features 3) Deselect everything except one feature 4) Set the target as the active target platform 5) Open a new Eclipse launch config 6) On the plug-ins/content tab use \"selected features below\" Result: All features in the installation are visible in the table. We should filter the list of features in the model manager if the user is managing the target by features and a subset is selected."}, {"bug_id": "309469", "ground_truth": ["ui/org.eclipse.pde.launching/src/org/eclipse/pde/internal/launching/launcher/BundleLauncherHelper.java", "ui/org.eclipse.pde.launching/src/org/eclipse/pde/internal/launching/launcher/LaunchConfigurationHelper.java", "ui/org.eclipse.pde.launching/src/org/eclipse/pde/launching/EquinoxLaunchConfiguration.java"], "repo": "eclipse.pde.ui", "reformed_query": "level bundles eclipse bundles bundles org starts level bundles configurator", "bug_title": " Self-hosting eclipse starts update.configurator at start-level 3", "bug_description": "see bug280186 comment 16 The old update.configurator bundle is getting the following in the bundles.info used for self-hosting ... org.eclipse.update.configurator/,3,true For the SDK this is set to org.eclipse.update.configurator/,4,false"}, {"bug_id": "309693", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ApiFilterStore.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/BaseApiAnalyzer.java"], "repo": "eclipse.pde.ui", "reformed_query": "Created reason existence filters Bug unused attachment Bug call resources", "bug_title": " Extra workspace jobs created auto-removing unused filters", "bug_description": "Created attachment 165303 [details] proposed fix Trying to reproduce bug 309635, I found that our builder will call-back to the a filter stores' removeAPIFilters(..) method even if there are no filters to remove (with auto-remove filters turned on). This call-back creates a workspace job and causes work in the filter store for no reason. I also found that this can cause a resource exception if the job runs while the project is being deleted. The patch prevents the spurious jobs from being created and checks for the existence of the parent resource before blindly trying to create resources."}, {"bug_id": "311183", "ground_truth": ["ui/org.eclipse.pde.launching/src/org/eclipse/pde/internal/launching/launcher/BundleLauncherHelper.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/FeatureBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "selected radio button External exist External additional Select silently list", "bug_title": " additional plug-in in feature launch gets silently removed", "bug_description": "I20100429-1549 * Create a plug-in in the workspace called \"a.b.c\" based on the \"plug-in with a view\" example * Create an Eclipse Application launch using \"features selected below\" on the Plug-ins tab * Select all features and add additional plug-in \"a.b.c\" * Select the \"External\" radio button for \"Default plug-in location\" * Apply * Close/re-open The additional plug-in is gone. Looks like the bundle is removed from the list since it does not exist externally."}, {"bug_id": "311927", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/FeatureBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "Launch account org basicRun FeatureLaunchModel reflect app observable Handle Result", "bug_title": " NPE from select required button on feature based launch config", "bug_description": "1) Open a new Eclipse launch config 2) Open the plug-ins tab, set to \"selected features below\" 3) Hit add plug-in, add a random plug-in 4) Hit select required Result: NPE in the log because the method doesn't account for the new individual plug-in support. eclipse.buildId=I20100429-1549 java.version=1.6.0_18 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_CA Framework arguments:  -product org.eclipse.sdk.ide Command-line arguments:  -product org.eclipse.sdk.ide -data /home/cwindatt/WS/Workspace Target -dev file:/home/cwindatt/WS/Workspace/.metadata/.plugins/org.eclipse.pde.core/Target/dev.properties -os linux -ws gtk -arch x86 -consoleLog -console Error Thu May 06 11:24:25 CDT 2010 Unhandled event loop exception java.lang.ClassCastException: org.eclipse.pde.internal.ui.elements.NamedElement cannot be cast to org.eclipse.pde.internal.ui.launcher.FeatureBlock$FeatureLaunchModel at org.eclipse.pde.internal.ui.launcher.FeatureBlock$ButtonSelectionListener.handleAddRequired(FeatureBlock.java:308) at org.eclipse.pde.internal.ui.launcher.FeatureBlock$ButtonSelectionListener.widgetSelected(FeatureBlock.java:190) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:234) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1234) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3540) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3159) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.debug.internal.ui.launchConfigurations.LaunchConfigurationsDialog.open(LaunchConfigurationsDialog.java:1125) at org.eclipse.debug.ui.DebugUITools$1.run(DebugUITools.java:398) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:406) at org.eclipse.debug.ui.DebugUITools.openLaunchConfigurationDialogOnGroup(DebugUITools.java:340) at org.eclipse.debug.ui.actions.LaunchAction.runWithEvent(LaunchAction.java:117) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1234) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3540) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3159) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2601) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2565) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2399) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:669) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:662) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) at org.eclipse.equinox.launcher.Main.run(Main.java:1407) at org.eclipse.equinox.launcher.Main.main(Main.java:1383)"}, {"bug_id": "311979", "ground_truth": ["ui/org.eclipse.pde.junit.runtime/src/org/eclipse/pde/internal/junit/runtime/UITestApplication.java", "ui/org.eclipse.pde.junit.runtime/src/org/eclipse/pde/internal/junit/runtime/NonUIThreadTestApplication.java", "ui/org.eclipse.pde.junit.runtime/plugin.xml"], "repo": "eclipse.pde.ui", "reformed_query": "Tab Bug junit deselect junit change Eclipse application Result testApplication", "bug_title": " Validate/Add Required on junit plug-in launch does not consider both 'application' and 'app to test'", "bug_description": "1) Open a new junit plug-in launch configuration and select a test that can run headless 2) Uncheck run in UI thread 3) Set the application to [No Application] 4) Open the plug-ins tab, deselect all 5) Check a non-UI plug-in 6) Hit select all required 7) Hit validate (everything should be good to go) 8) Launch Result: Launch fails because it can't find the \"org.eclipse.pde.junit.runtime.nonuithreadtestapplication\" application. The above steps will illustrate the problem, but there are other configurations that can have the same result. In Eclipse Launch configs there is a single application to launch.  In JUnit Plug-in configs there can be two applications to launch -application and -testApplication.  The plugins tab only checks -application when validating and adding required plug-ins. The solution is not as straightforward as checking both applications during validate.  When the \"Run in UI thread\" checkbox is unchecked, only -application is set, but the launch delegate will change the attributes.  The solution is probably to move the logic from the delegate to the Main Tab (which we are already subclassing)."}, {"bug_id": "312434", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SourceEntryErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "attachment SourceEntryErrorReporter STACK Created validateBuildProperties Runner replace MESSAGE file Build", "bug_title": " NPE in SourceEntryErrorReporter.validate(..)", "bug_description": "Created attachment 167930 [details] .classpath HEAD, looks like this got broken by bug 297483. Steps: - create a new Plug-in project, all defaults - replace the .classpath file with the attached file - clean and build the project => Error dialog, log entry: !ENTRY org.eclipse.core.resources 4 75 2010-05-11 16:25:38.388 !MESSAGE Errors occurred during the build. !SUBENTRY 1 org.eclipse.pde.core 4 75 2010-05-11 16:25:38.388 !MESSAGE Errors running builder 'Plug-in Manifest Builder' on project 'Bug'. !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.core.builders.SourceEntryErrorReporter.validate(SourceEntryErrorReporter.java:405) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validateBuild(BuildErrorReporter.java:233) at org.eclipse.pde.internal.core.builders.BuildErrorReporter.validate(BuildErrorReporter.java:139) at org.eclipse.pde.internal.core.builders.ErrorReporter.validateContent(ErrorReporter.java:127) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateBuildProperties(ManifestConsistencyChecker.java:316) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateProject(ManifestConsistencyChecker.java:231) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.build(ManifestConsistencyChecker.java:157) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:629) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:172) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:203) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:255) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:258) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:311) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:343) at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:144) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:242) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)"}, {"bug_id": "312466", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "Workspace remove initialized listen Service Workspace remove result initlaize result", "bug_title": " early call to modify bundle root leaves WorkspacePluginModelManager un-initialized", "bug_description": "It's possible to use the IBundleProjectService to set the root of a bundle. If this is done before the PDE model managers are initialized, it can leave the WorkspacePluginModelManager in an un-initialized state. It results in a call to 'removeModel(...)', and 'createModel(...)', which will quietly initlaize 'fModels' to a hashtable, and the next call to 'initialize()' will be ignored since 'fModels' is no longer null. The result is that the model manager is not hooked up to listen to resource deltas."}, {"bug_id": "312646", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/FeatureBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "Select switching empty ins launch switching select tree selected selected", "bug_title": " empty feature list when 1 is selected", "bug_description": "Using HEAD: * New Eclipse Application launch configuration * Choose \"features selected below\" * De-select all features * check \"Only show selected\" * Select \"org.eclipse.pde\" feature (appears in list) * Select \"plug-ins selected below only\" * Select \"features selected below\" The selection count shows 1 of N, but the list/tree is empty At this point, switching back to \"plug-ins selected below\" and then back to \"features selected below\", the selection count is now 0... so the select gets removed somehow."}, {"bug_id": "313175", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/SourceEntryErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "output Bug problem output lib entry generated generated missing missing", "bug_title": " No problem generated when missing output.<lib> entry", "bug_description": ""}, {"bug_id": "313187", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/actions/OpenSchemaAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "plug OpenSchemaAction special file check point opened exists click Select", "bug_title": " OpenSchemaAction does not handle locations with spaces in it", "bug_description": "1) Open an Eclipse that is installed at a path with a space in it 2) Create a plug-in project,add an extension that comes from the default target platform 3) Select the extension and click \"Open extension point schema\" Result: Nothing happens, no error dialog, no schema is opened Two fixes should be made: 1) OpenSchemaAction.run(), line 192 and 194, where we get a path from the url we should use the URIUtils to correctly handle spaces and other special characters. 2) Inside openSchemaFile and openSchemaJar, we should check that the file exists and report an error if it doesn't."}, {"bug_id": "313381", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/FeatureBlock.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "Open explanation Plug warn warning Launch warn select features solution", "bug_title": " When launching with features, pressing select features button when no features available should warn user", "bug_description": "1) Open an Eclipse launch config 2) Plug-ins Tab, Launch using features selected below. 3) Select all features 4) Press select features... We should have a warning message saying that all features have been selected.  A better solution would be to disable the button, however, there is no easy way to do this.  In addition, if the user is only viewing selected plug-ins, there would be no explanation to the user as to why the button was disabled."}, {"bug_id": "313952", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardExpressPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "wizards bombs Plugin cancel PluginImportLabelProvider Result crashes project", "bug_title": " NPE from import page crashes Eclipse", "bug_description": "1) Get or create a plug-in project that has the PDE nature, but no manifest 2) File > Import > Plug-ins and Fragments 3) Error occurs 4) Hit cancel button, another error occurs 5) Hit the cancel button at top right Result: My Eclipse session bombs. The import wizard can't open because of java.lang.NullPointerException at org.eclipse.pde.internal.ui.wizards.imports.PluginImportLabelProvider.getStyledText(PluginImportLabelProvider.java:57) at org.eclipse.pde.internal.ui.wizards.imports.PluginImportLabelProvider.getText(PluginImportLabelProvider.java:39) The import wizard then can't close because of java.lang.NullPointerException at org.eclipse.pde.internal.ui.wizards.imports.PluginImportWizardDetailedPage.dispose(PluginImportWizardDetailedPage.java:647) at org.eclipse.jface.wizard.Wizard.dispose(Wizard.java:188)"}, {"bug_id": "315039", "ground_truth": ["ui/org.eclipse.pde.launching/src/org/eclipse/pde/internal/launching/launcher/LaunchConfigurationHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "ini proper talks Eclipse configuration screen requirement properties Bug correctly", "bug_title": " [patch] Eclipse launch configuration should inherit properties from target platform", "bug_description": "When creating a new Eclipse launch configuration from a target platform not containing products but an application PDE correctly recognizes the default application. However, due to the fix for bug 175437 all config.ini properties inherited from the target platform are cleared during launching. My observation is that this fix is too drastic. The requirement in bug 175437 only talks about the splash screen. In this case the products indeed don't match. However, I have a case where I create a new Eclipse launch config based on an Eclipse application from my target platform. PDE correctly recognizes the application in config.ini and sets the proper default application to launch. However, because of this fix other important properties are not copied."}, {"bug_id": "319268", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspaceModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "projects WorkspaceModelManager happen Model   proper", "bug_title": " PDE is confused about non-PDE projects", "bug_description": "In my development workspace I have a combination of PDE and regular java projects. Some of my non-PDE projects *happen* to have META-INF/MANIFEST.MF. Even though the projects do not have PDE.PLUGIN_NATURE, PDE still parses META-INF/MANIFEST.MF files and considers whatever it is able to find there during resolution of dependencies of (proper) PDE projects. These unexpected and often invalid dependencies pollute compile classpath inside workspace and, more importantly, cause runtime problems for Eclipse applications and JUnit Plug-in tests launched from the workspace. I have rather trivial fix (check for PDE natures in org.eclipse.pde.internal.core.WorkspaceModelManager isXXXProject methods), if you are interested."}, {"bug_id": "321624", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LaunchAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "args RCP configuration Windows arch product Steps args button console", "bug_title": " Pgm & Vm Arguments get duplicated when launching from product editor", "bug_description": "I20100802-1800 Steps: * Create an RCP application project named \"a.prod\" based on the \"Hello RCP\" Template * After the project is created, launch the project by pressing the \"run\" button in the project's manifest editor. This creates a launch configuration named \"a.prod.application\", and on Windows has Pgm & Vm args as follows: -os ${target.os} -ws ${target.ws} -arch ${target.arch} -nl ${target.nl} -consoleLog -Xms40m -Xmx384m * Create a new Product Configuration in project \"a.prod\", named \"def.prod\". Initialize the content from the \"a.prod.application\" launch configuration. The product's \"Launching\" tab is correctly initialized with Pgm and VM args as follows: -consoleLog -Xms40m -Xmx384m * Launch the product by pressing the \"Run\" button in the product editor. The resulting launch configuration named \"def.product\" has Pgm and VM args as follows: -os ${target.os} -ws ${target.ws} -arch ${target.arch} -nl ${target.nl} -consoleLog -consoleLog -Xms40m -Xmx384m -Xms40m -Xmx384m * The consoleLog and memory arguments are duplicated"}, {"bug_id": "321891", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/java/QuickFixProcessor.java"], "repo": "eclipse.pde.ui", "reformed_query": "caused issue Bug importing bundle appears Broken Project missing", "bug_title": " Missing import-package quick fix", "bug_description": "Created attachment 175951 [details] Project showing missing quick fix PDE has lots of validation errors and quick fixes. When a problem is due to missing dependencies in the manifest and PDE knows which bundle the missing package is from, there are usually two (or more) quick fixes: - add an import-package (listed first, as per the best practise) - add a require-bundle Unfortunately, we've found one case where the first quick-fix is missing. This has caused some of our testers to chose the require-bundle option, which caused problems later on (import-package was a better option, and works more often in our runtime). I've attached a project that shows this issue. It is a bit contrived, but I was trying to simplify a more complex testcase. I think I've determined that this issue only appears when the missing dependency is a package from a bundle you are already importing a different package from (i.e. the bundle is already in the PDE classpath container). To see the issue, open BrokenClass.java and look at the compile errors on lines 3 and 8. The quick fix for line 3 has both options, but the quick fix for line 8 only shows require-bundle."}, {"bug_id": "322637", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/AbstractPluginBlock.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/BlockAdapter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/FeatureBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "changed Launch dialog", "bug_title": " Validation dialog does not closes properly", "bug_description": "Validation dialog does not closes when the 'Launch with' is changed."}, {"bug_id": "323827", "ground_truth": ["ui/org.eclipse.ui.views.log/META-INF/MANIFEST.MF", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogView.java"], "repo": "eclipse.pde.ui", "reformed_query": "text log view attached notice background", "bug_title": " Wrong colour on parent composite in the error log view", "bug_description": "Created attachment 177617 [details] screen shot I20100824-1210 and 3.6.1 In the error log view if you turn on \"show text filter\" you will notice that the background of the composite that holds the filter widget is also white. I would expect it to be the standard tab colour. The attached screen shot shows the problem."}, {"bug_id": "324773", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/feature/RequiresSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Recompute box Save Recompute close Open dependencies Save labeled tab", "bug_title": " [patch] feature.xml editor, Recompute check box in dependencies tab does not stay set", "bug_description": "Build Identifier: 20100218-1602 In the feature.xml editor, on top of Dependencies tab there is one check box labeled: Recompute when feature plug-ins change You can tick it, but if you close an reopen feature.xml it's not ticked any more. Reproducible: Always Steps to Reproduce: 1. Open feature.xml 2. Click Dependencies tab 3. Tick \"Recompute when feature plug-ins change\" 4. Save and close feature.xml 5. Reopen feature.xml and go to Dependencies tab, the check is off"}, {"bug_id": "326472", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/TargetContentsGroup.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/CachedCheckboxTreeViewer.java"], "repo": "eclipse.pde.ui", "reformed_query": "deselect referenced references definition editor selected editor definition plug opening", "bug_title": " Can't remove missing plug-in through the Target Definition editor", "bug_description": "Build Identifier: 20100917-0705 ... Reproducible: Always Steps to Reproduce: 1. delete a plug-in that is referenced from an existing target definition file 2. upon opening that target definition, there is a notice that a \"required plug-in could not be found\"; deselect that plug-in in the \"Content\" tab and save 3. re-open the target definition; the missing plug-in is selected again! Workaround: Open the target definition in a text editor and delete the line that references the missing plug-in."}, {"bug_id": "326561", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/TracingBlock.java", "ui/org.eclipse.pde.launching/src/org/eclipse/pde/launching/IPDELauncherConstants.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug test Clicking tracing launch dirty configuration notice test test", "bug_title": " Tracing tab is the new new dirty button", "bug_description": "I20100928-0800 Open a PDE launch configuration and navigate to the tracing tab, and notice the dirty button becomes enabled. Clicking the revert button does not do anything - and leaves the button enabled. In my test case I have tracing enabled for one bundle."}, {"bug_id": "329218", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/use/ApiUseLaunchDelegate.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/use/Messages.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/use/messages.properties", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/use/ApiUseScanTab.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/use/ApiUseScanJob.java"], "repo": "eclipse.pde.ui", "reformed_query": "option report based radio Provide consumer button oriented Extension oriented", "bug_title": " Provide a consumer based report launch config UI", "bug_description": "Extension to bug 322571.  The consumer oriented report should be available from the existing launch configuration.  We should have a radio button or combo to select the type of report.  Most of the controls will be the same between the settings. We could also add an option to produce both reports."}, {"bug_id": "330278", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dependencies/PackageFinder.java"], "repo": "eclipse.pde.ui", "reformed_query": "traced traced findPackagesInClassFiles Organize computeReferencedTypes search Fully Referenced produce Finder", "bug_title": " PackageFinder.findPackagesInClassFiles may produce invalid package names", "bug_description": "While working on bug 330256 I noticed some weird package names when scanning for dependencies in binary class files. I traced it down to org.eclipse.pde.internal.ui.search.dependencies.PackageFinder.findPackagesInClassFiles(IClassFile[], IProgressMonitor). Here is the call stack: PackageFinder.getPackage(String) line: 185 PackageFinder.computeReferencedTypes(IClassFileReader, Set) line: 82 PackageFinder.findPackagesInClassFiles(IClassFile[], IProgressMonitor) line: 34 OrganizeManifestsProcessor$2(AddNewBinaryDependenciesOperation).findSecondaryDependencies(String[], Set, Map, Set, IBundle, boolean, IProgressMonitor) line: 40 OrganizeManifestsProcessor$2(AddNewDependenciesOperation).execute(IProgressMonitor) line: 84 ... The root cause seems to be in #extractFullyQualifiedType(). example input: extractFullyQualifiedType(\"Lcom/abc/MyClass$1;\") resulting output: \"new com.abc$MyClass(){}\""}, {"bug_id": "332047", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/MainTab.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/WorkspaceDataBlock.java", "ui/org.eclipse.pde.ui/plugin.xml", "ui/org.eclipse.pde.launching/src/org/eclipse/pde/internal/launching/launcher/LauncherUtils.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/LauncherUtilsStatusHandler.java"], "repo": "eclipse.pde.ui", "reformed_query": "Locked Locked select Edit field workspace Bug select Clicking Locked", "bug_title": " Clicking 'Edit...' on 'Workspace Cannot Be Locked' dialog should select workspace location", "bug_description": "I20101206-1800. Clicking 'Edit...' on 'Workspace Cannot Be Locked' dialog should select the workspace location field."}, {"bug_id": "334523", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaInputContext.java"], "repo": "eclipse.pde.ui", "reformed_query": "Input createModel createPartControl plugin Pointer access SchemaDescriptor lang sdk Input", "bug_title": " NPE when opening schema editor", "bug_description": "What steps will reproduce the problem? 1. Open attached schema from within the manfiest editor, extension points page (dbl click) -- Error Details -- Date: Mon Jan 17 16:42:36 CET 2011 Message: Unable to create editor ID org.eclipse.pde.ui.schemaEditor: An unexpected exception was thrown. Severity: Error Product: Eclipse SDK 3.7.0.v201008051700 (org.eclipse.sdk.ide) Plugin: org.eclipse.ui Session Data: eclipse.buildId=I20100805-1700 java.version=1.6.0_22 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=linux, ARCH=x86, WS=gtk, NL=en_US Command-line arguments:  -os linux -ws gtk -arch x86 Exception Stack Trace: java.lang.NullPointerException at org.eclipse.pde.internal.core.schema.SchemaDescriptor.<init>(SchemaDescriptor.java:46) at org.eclipse.pde.internal.ui.editor.schema.SchemaInputContext.createExternalModel(SchemaInputContext.java:76) at org.eclipse.pde.internal.ui.editor.schema.SchemaInputContext.createModel(SchemaInputContext.java:57) at org.eclipse.pde.internal.ui.editor.context.InputContext.create(InputContext.java:134) at org.eclipse.pde.internal.ui.editor.schema.SchemaInputContext.<init>(SchemaInputContext.java:42) at org.eclipse.pde.internal.ui.editor.schema.SchemaEditor.createSystemFileContexts(SchemaEditor.java:103) at org.eclipse.pde.internal.ui.editor.PDEFormEditor.createInputContexts(PDEFormEditor.java:206) at org.eclipse.pde.internal.ui.editor.PDEFormEditor.createPages(PDEFormEditor.java:244) at org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:348) at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:670) at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:465) at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:595) at org.eclipse.ui.internal.EditorReference.getEditor(EditorReference.java:289) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2863) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2768) at org.eclipse.ui.internal.WorkbenchPage.access$11(WorkbenchPage.java:2760) at org.eclipse.ui.internal.WorkbenchPage$10.run(WorkbenchPage.java:2711) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2707) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2691) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2674) at org.eclipse.pde.internal.ui.editor.schema.SchemaEditor.openEditor(SchemaEditor.java:211) at org.eclipse.pde.internal.ui.editor.schema.SchemaEditor.openSchema(SchemaEditor.java:201) at org.eclipse.pde.internal.ui.editor.actions.OpenSchemaAction.openSchemaFile(OpenSchemaAction.java:219) at org.eclipse.pde.internal.ui.editor.actions.OpenSchemaAction.run(OpenSchemaAction.java:194) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionPointsSection.handleDoubleClick(ExtensionPointsSection.java:225) at org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.handleDoubleClick(TableSection.java:46) at org.eclipse.pde.internal.ui.parts.TablePart$2.doubleClick(TablePart.java:46) at org.eclipse.jface.viewers.StructuredViewer$1.run(StructuredViewer.java:824) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.fireDoubleClick(StructuredViewer.java:822) at org.eclipse.jface.viewers.StructuredViewer.handleDoubleSelect(StructuredViewer.java:1113) at org.eclipse.jface.viewers.StructuredViewer$4.widgetDefaultSelected(StructuredViewer.java:1225) at org.eclipse.jface.util.OpenStrategy.fireDefaultSelectionEvent(OpenStrategy.java:238) at org.eclipse.jface.util.OpenStrategy.access$0(OpenStrategy.java:235) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:296) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1258) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3552) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3171) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2629) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2593) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2427) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:670) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:663) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:115) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:369) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:619) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:574) at org.eclipse.equinox.launcher.Main.run(Main.java:1407)"}, {"bug_id": "334843", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/search/UseReportConverter.java"], "repo": "eclipse.pde.ui", "reformed_query": "appears Api reference UseReportConverter lang append length buffer appended Report", "bug_title": " UseReportConverter prints out reference plus value(s) for \"API patterns\"", "bug_description": "Build Identifier: 3.7M4 To reproduce: 1. Run the API Use Ant Task with attribute: apipatterns=\".*\" 2. Convert the XML report to HTML using the API Use Report Conversion Ant Task. The resulting HTML will report the used API patterns as : API Patterns: \t[Ljava.lang.String;@b524aa.* I looked at the code and the problem appears to be in class UseReportConverter, where the API patterns string array is appended directly: String[] patterns = this.metadata.getApiPatterns(); if(patterns != null) { buffer.append(this.metadata.getApiPatterns()); for (int i = 0; i < patterns.length; i++) { buffer.append(patterns[i]).append(BR); } } Reproducible: Always"}, {"bug_id": "335353", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/TargetContentsGroup.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/AddBundleContainerSelectionPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/EditProfileContainerPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/TargetLocationsGroup.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/AddFeatureContainersPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/target/TargetDefinitionContentPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Increase Target Add Bug definition Window Preferences definition button inconsistent", "bug_title": " Font size inconsistent when trying to add a target definition", "bug_description": "I20110124-1800 1. Window > Preferences > General > Appearance > Colors and Fonts 2. Basic > Dialog Font 3. Increase the font size. 4. Click 'OK'. 5. Window > Preferences > Plug-in Development > Target Platform 6. Click the 'Add...' button. 7. Click 'Next >'. 8. See the differences in font sizes in this page. Swap around between the different pages and you'll see that every page is inconsistent."}, {"bug_id": "34165", "ground_truth": ["org.eclipse.pde/src/org/eclipse/pde/internal/builders/ManifestConsistencyChecker.java", "org.eclipse.pde/src/org/eclipse/pde/internal/builders/JarManifestErrorReporter.java", "org.eclipse.pde/src/org/eclipse/pde/internal/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "org.eclipse.pde/src/org/eclipse/pde/internal/builders/BuildErrorReporter.java", "org.eclipse.pde/src/org/eclipse/pde/internal/builders/CompilerFlags.java", "org.eclipse.pde/src/org/eclipse/pde/internal/PDEMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/xhtml/XHTMLConverter.java", "org.eclipse.pde/src/org/eclipse/pde/internal/builders/ErrorReporter.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/CompilersConfigurationTab.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/xhtml/XHTMLConversionOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "File mark plugin Manifest sync properties report warning", "bug_title": " Manifest builder should keep build.properties and plugin.xml in sync or at least mark inconsistencies", "bug_description": "File build.properties has entries for the libraries that are listed in plugin.xml. Manifest builder should compare the two and report a warning when jar names are not the same."}, {"bug_id": "342512", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/context/XMLInputContext.java"], "repo": "eclipse.pde.ui", "reformed_query": "changed Bug Edit popular SDK Eclipse   tion", "bug_title": " Plug-in Manifest Editor adds garbage after '&' mnemonics when saving.", "bug_description": "Build Identifier: I20110407-2200 OS: RedHat Linux Enterprise 6.0 Eclipse SDK Version: 4.1.0 Build id: I20110407-2200 Plug-in Manifest Editor add garbage after '&' + mnemonics when it save plugin.xml. For example. \"Sample Menu(&M)\" is changed into \"Sample Menu(&M)Menu\". \"Sample Action(&S)\" is changed into \"Sample Action(&S)tion\". Expressions (&M),(&S) are important and popular formats for DBCS to use mnemonics Reproducible: Always Steps to Reproduce: 1.Import Project 'bugXXXXX.zip\" attached to this report. 2.This project is a plug-in project generated from Template 'Hello, World'. 3.Open 'plugin.xml' with Plug-in Manifest Editor. 4.Click Tab 'Extensions', 5.Verify Menu 'Sample Menu(&M)Menu\", Action 'Sample Action(&S)tion'. 6.Those have been already corrupted. 7.Edit them into 'Sample Menu(&M)', 'Sample Action(&S)'. 8.Save the file, but the labels are corrupted again."}, {"bug_id": "343455", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathHelper.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "buildAndLaunch jobs Exception Refreshing hosted UIPlugin org Entries launching getDevPaths", "bug_title": " NPE Launching when workspace contains a project deleted from disk", "bug_description": "My workspace contains a project which was deleted from the disk.  Attempting to launch a self hosted workspace resulted in the following NPE: java.lang.NullPointerException at org.eclipse.pde.internal.core.ClasspathHelper.getDevPaths(ClasspathHelper.java:259) at org.eclipse.pde.internal.core.ClasspathHelper.getDevEntriesProperties(ClasspathHelper.java:92) at org.eclipse.pde.launching.EclipseApplicationLaunchConfiguration.getProgramArguments(EclipseApplicationLaunchConfiguration.java:113) at org.eclipse.pde.launching.AbstractPDELaunchConfiguration.launch(AbstractPDELaunchConfiguration.java:72) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:854) at org.eclipse.debug.internal.core.LaunchConfiguration.launch(LaunchConfiguration.java:703) at org.eclipse.debug.internal.ui.DebugUIPlugin.buildAndLaunch(DebugUIPlugin.java:928) at org.eclipse.debug.internal.ui.DebugUIPlugin$8.run(DebugUIPlugin.java:1132) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54) Refreshing the project to pick up the changes on disk made the NPE go away."}, {"bug_id": "344914", "ground_truth": ["apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/model/tests/ComponentManifestTests.java", "apitools/org.eclipse.pde.api.tools/src_ant/org/eclipse/pde/api/tools/internal/tasks/AnalysisReportConversionTask.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/problems/ApiProblem.java", "apitools/org.eclipse.pde.api.tools.tests/src/org/eclipse/pde/api/tools/tests/ApiToolsTestSuite.java", "apitools/org.eclipse.pde.api.tools/src_ant/org/eclipse/pde/api/tools/internal/tasks/APIToolsAnalysisTask.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/model/BundleComponent.java"], "repo": "eclipse.pde.ui", "reformed_query": "downloads download base reports report download problems apitools drops API", "bug_title": " API problems in 'org.eclipse.help.base'", "bug_description": "I20110505-0800 and 3.7 M7. Was OK in 3.7 M6. API Tools reports problems with 'org.eclipse.help.base': http://download.eclipse.org/eclipse/downloads/drops/I20110505-0800/apitools/apitoolsverifications/html/org.eclipse.help.base/report.html I don't know whether the breakage is expected. If so, those problems should be filtered."}, {"bug_id": "344929", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ManifestSourcePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "Dectector Action jface project Display busyOpenEditor Sash Loop getRangeElement getRangeElement", "bug_title": " NPE in ManifestSourcePage.getRangeElement", "bug_description": "I20110505-0800. 1. create a Java project 2. convert to PDE project 3. add new file called 'plugin.xml' java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.plugin.ManifestSourcePage.getRangeElement(ManifestSourcePage.java:207) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionAttributePointDectector.checkIfOnTarget(ExtensionAttributePointDectector.java:103) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionAttributePointDectector.setTextEditor(ExtensionAttributePointDectector.java:81) at org.eclipse.pde.internal.ui.editor.plugin.ManifestSourcePage.createPartControl(ManifestSourcePage.java:282) at org.eclipse.ui.part.MultiPageEditorPart.addPage(MultiPageEditorPart.java:241) at org.eclipse.ui.forms.editor.FormEditor.addPage(FormEditor.java:325) at org.eclipse.ui.part.MultiPageEditorPart.addPage(MultiPageEditorPart.java:211) at org.eclipse.ui.forms.editor.FormEditor.addPage(FormEditor.java:308) at org.eclipse.pde.internal.ui.editor.MultiSourceEditor.addSourcePage(MultiSourceEditor.java:30) at org.eclipse.pde.internal.ui.editor.plugin.ManifestEditor.addEditorPages(ManifestEditor.java:449) at org.eclipse.pde.internal.ui.editor.PDEFormEditor.addPages(PDEFormEditor.java:953) at org.eclipse.ui.forms.editor.FormEditor.createPages(FormEditor.java:138) at org.eclipse.pde.internal.ui.editor.PDEFormEditor.createPages(PDEFormEditor.java:245) at org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:348) at org.eclipse.ui.internal.EditorReference.createPartHelper(EditorReference.java:670) at org.eclipse.ui.internal.EditorReference.createPart(EditorReference.java:465) at org.eclipse.ui.internal.WorkbenchPartReference.getPart(WorkbenchPartReference.java:595) at org.eclipse.ui.internal.PartPane.setVisible(PartPane.java:313) at org.eclipse.ui.internal.presentations.PresentablePart.setVisible(PresentablePart.java:180) at org.eclipse.ui.internal.presentations.util.PresentablePartFolder.select(PresentablePartFolder.java:270) at org.eclipse.ui.internal.presentations.util.LeftToRightTabOrder.select(LeftToRightTabOrder.java:65) at org.eclipse.ui.internal.presentations.util.TabbedStackPresentation.selectPart(TabbedStackPresentation.java:473) at org.eclipse.ui.internal.PartStack.refreshPresentationSelection(PartStack.java:1245) at org.eclipse.ui.internal.PartStack.setSelection(PartStack.java:1198) at org.eclipse.ui.internal.PartStack.showPart(PartStack.java:1597) at org.eclipse.ui.internal.PartStack.add(PartStack.java:493) at org.eclipse.ui.internal.EditorStack.add(EditorStack.java:103) at org.eclipse.ui.internal.PartStack.add(PartStack.java:479) at org.eclipse.ui.internal.EditorStack.add(EditorStack.java:112) at org.eclipse.ui.internal.EditorSashContainer.addEditor(EditorSashContainer.java:63) at org.eclipse.ui.internal.EditorAreaHelper.addToLayout(EditorAreaHelper.java:225) at org.eclipse.ui.internal.EditorAreaHelper.addEditor(EditorAreaHelper.java:213) at org.eclipse.ui.internal.EditorManager.createEditorTab(EditorManager.java:781) at org.eclipse.ui.internal.EditorManager.openEditorFromDescriptor(EditorManager.java:680) at org.eclipse.ui.internal.EditorManager.openEditor(EditorManager.java:641) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditorBatched(WorkbenchPage.java:2942) at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:2850) at org.eclipse.ui.internal.WorkbenchPage.access$11(WorkbenchPage.java:2842) at org.eclipse.ui.internal.WorkbenchPage$10.run(WorkbenchPage.java:2793) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2789) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2773) at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:2764) at org.eclipse.ui.ide.IDE.openEditor(IDE.java:651) at org.eclipse.ui.ide.IDE.openEditor(IDE.java:610) at org.eclipse.ui.wizards.newresource.BasicNewFileResourceWizard.performFinish(BasicNewFileResourceWizard.java:111) at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:827) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:432) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:624) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:240) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4163) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3752) at org.eclipse.jface.window.Window.runEventLoop(Window.java:825) at org.eclipse.jface.window.Window.open(Window.java:801) at org.eclipse.ui.internal.actions.NewWizardShortcutAction.run(NewWizardShortcutAction.java:135) at org.eclipse.jface.action.Action.runWithEvent(Action.java:498) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:584) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:501) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:411) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1053) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4163) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3752) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:2696) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:2660) at org.eclipse.ui.internal.Workbench.access$4(Workbench.java:2494) at org.eclipse.ui.internal.Workbench$7.run(Workbench.java:674) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:667) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:123) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:179) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:622) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:577) at org.eclipse.equinox.launcher.Main.run(Main.java:1410) at org.eclipse.equinox.launcher.Main.main(Main.java:1386)"}, {"bug_id": "344996", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/comparator/CompareApiScopeVisitor.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/util/Util.java"], "repo": "eclipse.pde.ui", "reformed_query": "API leads", "bug_title": " API Freeze check leads to a NPE", "bug_description": "When trying to fix 344976 I got a NPE while running the ant task."}, {"bug_id": "352274", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/feature/LicenseFeatureSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "local Bug feature editor editing created editor dirty patch local", "bug_title": " feature editor does not set dirty state on license text editing", "bug_description": "Editing the text of a local license of a feature does not set the dirty state (while all other edit fields do). I've created a patch to fix that."}, {"bug_id": "354586", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/ApiPlugin.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/problems/IApiProblemTypes.java"], "repo": "eclipse.pde.ui", "reformed_query": "problem error checkout Warning project eclipse determining Errors build workspace", "bug_title": " API Errors/Warnings severity fishy", "bug_description": "N20110810-2000. Something is fishy when determining the severity of an API Errors/Warnings problem. 1. start new workspace 2. set 'Missing execution environment descriptions' to 'Warning' 3. checkout 'org.eclipse.ui.navigator' from HEAD ==> WRONG: error after build due to missing EE description 4. open the 'API Errors/Warnings' property page for the project ==> OK: the page  indicates that the problem should be reported as warning"}, {"bug_id": "355873", "ground_truth": ["ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/imports/AllImportTests.java"], "repo": "eclipse.pde.ui", "reformed_query": "Repo org Application Eclipse Org repo tests UITestApplication Assertion pde", "bug_title": " Import from CVS tests no longer have a repo to import from", "bug_description": "Our import from repo test case is now failing because the pde.ua.ui bundle is now in the git repository. testImportOrgEclipsePdeUaUi\tFailure\tProject org.eclipse.pde.ua.ui does not exist junit.framework.AssertionFailedError: Project org.eclipse.pde.ua.ui does not exist at org.eclipse.pde.ui.tests.imports.BaseImportTestCase.verifyProject(BaseImportTestCase.java:131) at org.eclipse.pde.ui.tests.imports.ImportFromRepoTestCase.verifyProject(ImportFromRepoTestCase.java:107) at org.eclipse.pde.ui.tests.imports.BaseImportTestCase.verifyProject(BaseImportTestCase.java:125) at org.eclipse.pde.ui.tests.imports.BaseImportTestCase.doSingleImport(BaseImportTestCase.java:66) at org.eclipse.pde.ui.tests.imports.ImportFromRepoTestCase.testImportOrgEclipsePdeUaUi(ImportFromRepoTestCase.java:78) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:501) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:259) at org.eclipse.test.UITestApplication$2.run(UITestApplication.java:197)"}, {"bug_id": "355890", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/nls/NLSFragmentGenerator.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/build/ExternalBuildModel.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ExtensionsErrorReporter.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDERegistryStrategy.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SearchablePluginsManager.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/dialogs/FilteredPluginArtifactsSelectionDialog.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/MinimalState.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/TargetPlatformHelper.java", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/target/TargetDefinitionResolutionTests.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/util/ManifestUtils.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug jar Bug platform proper PDE extension bundle target bundles", "bug_title": " Target platform does not recognize bundles with extension other than *.jar", "bug_description": "Currently bundles in the target platform are recognized by PDE only if they have an extension of 'jar'. Can that be more flexible ? If I have a bundle with proper structure and a Manifest but the extension is a 'war' or a 'zip' can PDE recognize it ?"}, {"bug_id": "356209", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/spy/sections/ActiveSelectionSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "binding Build HandlerUtil binding getActiveShell Active Dialog Workbench Workbench getActiveShell", "bug_title": " [Compatibility] HandlerUtil.getActiveShell gives me always the parent (Workbench) Shell", "bug_description": "Build Identifier: 4.1 If I open a Dialog and hit a key binding I never get the Dialog's Shell. Reproducible: Always"}, {"bug_id": "357654", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/TargetContentsGroup.java"], "repo": "eclipse.pde.ui", "reformed_query": "shared Overflow Required getFeatureDependencies java ruggles buildId TargetContentsGroup StackOverflowError", "bug_title": " StackOverFlowError selecting Add Required Plugins at Target Platform preference, Target Definition dialog, Content tab", "bug_description": "StackOverFlowError after clicking \"Add Required\" in the Target Platform pref, Edit Target Definition, Content tab, after selecting com.soyatec.edepend (installed at target platform from within it using http://www.soyatec.com/update/helios) -- Error Details -- Date: Wed Sep 14 12:04:19 EDT 2011 Message: Unhandled event loop exception Severity: Error Product: Eclipse 1.4.0.20110609-1120 (org.eclipse.epp.package.rcp.product) Plugin: org.eclipse.ui Session Data: eclipse.buildId=I20110613-1736 java.version=1.6.0_26 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US Framework arguments:  -product org.eclipse.epp.package.rcp.product Command-line arguments:  -data C:\\Users\\eddie\\Documents\\Workspaces\\37_ruggles -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.rcp.product Exception Stack Trace: java.lang.StackOverflowError at org.eclipse.pde.internal.core.feature.Feature.getImports(Feature.java:106) at org.eclipse.pde.internal.ui.shared.target.TargetContentsGroup.getFeatureDependencies(TargetContentsGroup.java:831) at org.eclipse.pde.internal.ui.shared.target.TargetContentsGroup.getFeatureDependencies(TargetContentsGroup.java:837) at org.eclipse.pde.internal.ui.shared.target.TargetContentsGroup.getFeatureDependencies(TargetContentsGroup.java:837) at org.eclipse.pde.internal.ui.shared.target.TargetContentsGroup.getFeatureDependencies(TargetContentsGroup.java:837) at org.eclipse.pde.internal.ui.shared.target.TargetContentsGroup.getFeatureDependencies(TargetContentsGroup.java:837) at org.eclipse.pde.internal.ui.shared.target.TargetContentsGroup.getFeatureDependencies(TargetContentsGroup.java:837) <and repeat, that's all I can see>"}, {"bug_id": "35888", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/NewElementAction.java"], "repo": "eclipse.pde.ui", "reformed_query": "core org info plugin editor Project add", "bug_title": " Adding extensions using plugin manifest editor", "bug_description": "I encounter a couple of minor problems when using the plugin manifest editor to add a builder extension to my plugin. Here's what I did and the problems I encountered: 1) I added a org.eclipse.core.resources.builder extension on the Extensions page. 2) To this I added a \"(buider)\" and to this I added a \"run\". 3) I open the properties on the \"run\" and the default class name was missing an I (the name was \"ncrementatalProjectBuilder1\") (Problem 1). 4) I then used the wizard (Java Attribute Editor) to change the class info and generate a new builder class. The resulting class did not use my defined Java code template which has the proper copyright in it (Problem 2)."}, {"bug_id": "367980", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/parts/PluginVersionPart.java"], "repo": "eclipse.pde.ui", "reformed_query": "undesired table PDE separator style qualified bundle PluginVersionPart VersionRange undesired", "bug_title": " Support for pre-release versions", "bug_description": "With changes to the Equinox VersionRange class (bug 366419) I am seeing some undesired affects to PDE UI.  In particular the PluginVersionPart is not behaving well. The code uses VersionRange to parse the ranges, which is good.  But now that VersionRange supports pre-release versions we see some undesired fully qualified versions getting placed in the UI and in the manifest when they should not be. The following table shows what unqualified version ranges get translated into when fully qualified: [L,R) => [L-,R-) [L,R] => [L-,R.] (L,R) => (L.,R-) (L,R] => (L.,R.] These 4 variants should not be fully qualified when placed in the bundle manifest.  This would cause the bundle to stop working on older R4.3 framework implementations since they do not understand the pre-release style versions (e.g. 1.0.0-beta) that use a '-' qualifier separator. I will attach a patch with a suggested fix."}, {"bug_id": "370536", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/context/InputContextManager.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/PluginInputContextManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "Eclipse xml reopen extensions perform editor extension", "bug_title": " Creating a product for a plugin -> Extension tab is still empty until editor is closed an re-opened", "bug_description": "If I create a plug-in without extensions and add a product to it, this action will create the plugin.xml file and add a contribution to the \"org.eclipse.core.runtime.products\" extension point. If I had the MANIFEST.MF editor open and if I switch the Extension tab, this tab appears empty Error: I have to close and reopen the the editor to see the new extension. How-to reproduce: I have created a detailed descrition how to reproduce this. First create a plug-in as described here: http://www.vogella.de/articles/Eclipse4RCP/article.html#e4_plugin Aftrwards perform the following: http://www.vogella.de/articles/Eclipse4RCP/article.html#plugin_creatinge4 Stop after the \"Create Product configuration\" step and validate that the extension point is not visible."}, {"bug_id": "371944", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/P2TargetUtils.java"], "repo": "eclipse.pde.ui", "reformed_query": "Add Hit Create returns Result software Bug", "bug_title": " [target] Software site (IU) locations don't remember included software settings", "bug_description": "Found while working on bug 351417 1) Create a target definition on the preference page 2) Add a software site location 3) Modify some of the included software settings 4) Hit finish on the the edit software site and edit target definition dialogs (returns to the preference page) 5) Open the same target definition again Result: The settings have reverted"}, {"bug_id": "372087", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/SplashLocationSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "launches location platform plugins faster started Splash entry demo Splash", "bug_title": " Splash in exported product not found", "bug_description": "Currently the editor for the product definition files says the following: ----------- The splash screen appears when the product launches.  If its location is not specified, the 'splash.bmp' file is assumed to be in the product's defining plug-in. ----------- If the location is not specified, this works well if the product is started from Eclipse but if the plugin is not set the exported product will not find its splashscreen. Looks like the following entry is not added to config.ini: osgi.splashPath=platform:/base/plugins/com.example.rcp.demo I suggest to change either the text or add the entry to config.ini. Text changes might be faster. :-)"}, {"bug_id": "380857", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ee.cdcfoundation11/build.properties", "apitools/org.eclipse.pde.api.tools.ee.j2se12/build.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/ExtensionsFilterUtil.java", "apitools/org.eclipse.pde.api.tools.ee.feature/build.properties", "apitools/org.eclipse.pde.api.tools.ee.j2se15/build.properties", "ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/util/TestBundleCreator.java", "apitools/org.eclipse.pde.api.tools.ee.javase16/build.properties", "apitools/org.eclipse.pde.api.tools.ee.osgiminimum11/build.properties", "apitools/org.eclipse.pde.api.tools.generator/build.properties", "apitools/org.eclipse.pde.api.tools.ee.j2se13/build.properties", "apitools/org.eclipse.pde.api.tools.generator/OSGI-INF/l10n/bundle.properties", "apitools/org.eclipse.pde.api.tools.ee.osgiminimum12/build.properties", "apitools/org.eclipse.pde.api.tools.ee.j2se14/build.properties", "apitools/org.eclipse.pde.api.tools.ee.jre11/build.properties", "apitools/org.eclipse.pde.api.tools.ee.cdcfoundation10/build.properties", "apitools/org.eclipse.pde.api.tools.ee.osgiminimum10/build.properties", "ui/org.eclipse.pde.ui.tests/tests/projects/classpathresolver/build.properties", "apitools/org.eclipse.pde.api.tools.ee.javase17/build.properties"], "repo": "eclipse.pde.ui", "reformed_query": "properties org afc dcd", "bug_title": " Fix mixed line delimiters", "bug_description": "The following change messed up the line delimiters for several files: http://git.eclipse.org/c/pde/eclipse.pde.ui.git/diff/apitools/org.eclipse.pde.api.tools.ee.cdcfoundation11/build.properties?id=9eb2c6bee2afc8c16abdf52aacc798dcd3a617f0 How could this happen?"}, {"bug_id": "381875", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/core/target/LoadTargetDefinitionJob.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/core/target/ITargetDefinition.java"], "repo": "eclipse.pde.ui", "reformed_query": "user eclipse pde attachment core target Javadoc Created user core", "bug_title": " Javadoc errors in org.eclipse.pde.core.target", "bug_description": "Created attachment 216941 [details] pde.doc.user.javadoc.txt The latest 3.8 build has some Javadoc errors in the newly added org.eclipse.pde.core.target"}, {"bug_id": "383448", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ee.osgiminimum12/META-INF/MANIFEST.MF", "apitools/org.eclipse.pde.api.tools.generator/src/org/eclipse/pde/api/tools/generator/EEGenerator.java", "apitools/org.eclipse.pde.api.tools.ee.osgiminimum12/src/org/eclipse/pde/api/tools/internal/api_stubs/OSGi_Minimum-1.2.zip"], "repo": "eclipse.pde.ui", "reformed_query": "OSGi missing OSGi missing security installed defined OSGi min org", "bug_title": " ee.osgiminimum 1.2 is missing X500Principal", "bug_description": "I have org.eclipse.pde.api.tools.ee.osgiminimum12_1.0.200.v20120530-1420 installed and it seems to be missing the following as defined by the OSGi min 1.2 execution environment. javax/security/auth/x500/X500Principal.class"}, {"bug_id": "391828", "ground_truth": ["ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/target/TargetEnvironmentTestCase.java"], "repo": "eclipse.pde.ui", "reformed_query": "locally testExecutionEnvironment JavaRuntime copied resolve packages pulls Optional target craft", "bug_title": " TargetEnvironmentTestCase tests fail locally", "bug_description": "The tests have been around for some time and it became accepted fact that they were flaky when run locally. org.eclipse.pde.ui.tests.target.TargetEnvironmentTestCase.testStateDictionaryNumber() Debugging through this test shows that the state's platform properties have nothing to do with the known execution environments.  This test is not comparing anything useful.  The platform properties have an execution environment property.  However, it is a list of supported execution environments.  The list of execution environments is given to us directly from JavaRuntime. I'm proposing to delete this test. org.eclipse.pde.ui.tests.target.TargetEnvironmentTestCase.testExecutionEnvironment() This test is very similar in that it pulls the state's platform properties and checks for execution environments.  This is not necessary as PDE never collects execution environment information from the state.  Also, the test isn't actually testing that the properties contain all the execution environemnts, it simply checks that all sets of properties have an execution environment.  This fails locally because the jdt debug tests have a test profile called 'systempackage' that I have copied below. {org.osgi.framework.os.name=win32, osgi.resolveOptional=true, osgi.os=win32, org.osgi.framework.language=en, osgi.nl=en_CA, org.osgi.framework.processor=x86, osgi.arch=x86, osgi.resolverMode=development, osgi.system.bundle=org.eclipse.osgi, osgi.ws=win32, org.osgi.framework.system.packages=one.two,three.four} This test should also be deleted. *** If we were concerned about the contents of our state's properties, we could craft a test to do a better comparison.  However, in PDE we never need the state properties describing EE profiles so I recommend just removing the tests."}, {"bug_id": "393597", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/feature/PluginSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Widget Plugin models Internal PluginSection SWT Eclipse Display modelsChanged Reset", "bug_title": " Widget is disposed in Load Target Platform Job", "bug_description": "I got this stack trace while trying to set a target platform with the link above right \"Set as Target Platform\". I could only set it by restarting Eclipse. org.eclipse.swt.SWTException: Widget is disposed at org.eclipse.swt.SWT.error(SWT.java:4361) at org.eclipse.swt.SWT.error(SWT.java:4276) at org.eclipse.swt.SWT.error(SWT.java:4247) at org.eclipse.swt.widgets.Widget.error(Widget.java:468) at org.eclipse.swt.widgets.Widget.getDisplay(Widget.java:582) at org.eclipse.pde.internal.ui.editor.feature.PluginSection.modelsChanged(PluginSection.java:343) at org.eclipse.pde.internal.core.PluginModelManager.fireDelta(PluginModelManager.java:387) at org.eclipse.pde.internal.core.PluginModelManager.modelsChanged(PluginModelManager.java:286) at org.eclipse.pde.internal.core.PluginModelManager.resetState(PluginModelManager.java:1074) at org.eclipse.pde.core.target.LoadTargetDefinitionJob.performPlatformReset(LoadTargetDefinitionJob.java:602) at org.eclipse.pde.core.target.LoadTargetDefinitionJob.handleReload(LoadTargetDefinitionJob.java:579) at org.eclipse.pde.core.target.LoadTargetDefinitionJob.loadPlugins(LoadTargetDefinitionJob.java:286) at org.eclipse.pde.core.target.LoadTargetDefinitionJob.runInWorkspace(LoadTargetDefinitionJob.java:143) at org.eclipse.core.internal.resources.InternalWorkspaceJob.run(InternalWorkspaceJob.java:38) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:54)"}, {"bug_id": "394260", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/AbstractModel.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/extension/BaseExtensionPointMainPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/ProductInputContext.java", "ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/cheatsheet/comp/CompCSInputContext.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/feature/FeatureInputContext.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/site/SiteInputContext.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/category/CategoryInputContext.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/schema/SchemaInputContext.java"], "repo": "eclipse.pde.ui", "reformed_query": "endings cross user includes eclipse delimiters change users Delimiters extensible", "bug_title": " Feature Manifest and several other editors don't respect end-line delimiters", "bug_description": "After the line ending problems discussions[1], we, at Eclipse MDT/OCL project, decided to standarize the use of the Unix line ending. However, windows users (like me) are having problems when using the Feature Manifest editor: If I change a feature.xml which has Unix line endings by the means of that editor, the line endings are automatically changed to Windows one after every saving. This is quite inconvenient, since a I have to remember to reset the Unix line ending (File -> Conver Line Delimiters To -> Unix) before every commit which includes a feature.xml file This problem, of course, is extensible to every end-user (including other project committers) which use a Windows SO. note: The Plugin Manifest Editor works fine what respects to this issue. [1] http://dev.eclipse.org/mhonarc/lists/cross-project-issues-dev/msg07987.html"}, {"bug_id": "400129", "ground_truth": ["ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/toc/TocEditor.java", "ui/org.eclipse.pde.core/META-INF/MANIFEST.MF", "ua/org.eclipse.pde.ua.ui/src/org/eclipse/pde/internal/ua/ui/editor/ctxhelp/CtxHelpEditor.java", "ua/org.eclipse.pde.ua.ui/META-INF/MANIFEST.MF"], "repo": "eclipse.pde.ui", "reformed_query": "context bug Context Register Project Steps attachment Editor Register message", "bug_title": " [ua] NPE when registering context help for non-plugin project", "bug_description": "Created attachment 226651 [details] Log with NPE It is wrong to register context help for a non-plugin project, but the error message could be more descriptive than NPE. Steps to reproduce: 1. Create new General Project. 2. Create new Context Help in that project. 3. Click \"Register this context help file\" in the top right corner of Context Help Editor. 4. Click Finish. => Error dialog with NPE appears. Similar to bug 273049 comment 3."}, {"bug_id": "401983", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportHelper.java"], "repo": "eclipse.pde.ui", "reformed_query": "OSGI imports built file folder Binary CBI correct INF folder", "bug_title": " [CBI] Binary plug-in import also imports /OSGI-INF from the corresponding source bundle", "bug_description": "I20130227-2000. Binary plug-in import also imports /OSGI-INF from the corresponding source bundle. This is misleading, as there's already the plugin.properties file (correct). 1. import a binary plug-in built with CBI, e.g. jface.text ==> imports the OSGI-INF folder"}, {"bug_id": "405015", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/BaseApiAnalyzer.java"], "repo": "eclipse.pde.ui", "reformed_query": "markers invalid problems created Build notice tag type", "bug_title": " Unsupported tag on a secondary type causes two problems to be created", "bug_description": "4.3.0 I20130326-0800 Build the example below and notice you will get two problem markers for the invalid @noreference tag package x.y.z; public interface test13 { } /** * @noreference */ interface test13outer {} could be related to the fix for bug 404744 or bug 404830"}, {"bug_id": "405375", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/ApiUseScanPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "work entry table message Restore API directory Scans stays doesn", "bug_title": " Restore defaults doesn't work on the API Use Scans preference page", "bug_description": "1) Go to the API use scans page 2) Add a directory without use scans (error message opens) 3) Press restore defaults (entry is removed from the table) Result: Error message stays and you cannot leave the page."}, {"bug_id": "406018", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "Starter SafeRunner occurred NLLocation Window EventTable EclipseAppLauncher version update SafeRunnable", "bug_title": " [plugin] NPE from plug-in extensions editor", "bug_description": "My steps 1) Expand plug-in dependencies of org.eclipse.jdt.debug.tests 2) Find org.eclipse.jdt.ui, open it's manifest editor 3) Expand any of the extensions Result: NPE This does not happen if the editor is opened via the Open Manifest command. eclipse.buildId=4.3.0.I20130416-0800 java.version=1.7.0_11 java.vendor=Oracle Corporation BootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_US Command-line arguments:  -os win32 -ws win32 -arch x86_64 Error Thu Apr 18 13:34:53 CDT 2013 Problems occurred when invoking code from plug-in: \"org.eclipse.jface\". java.lang.NullPointerException at org.eclipse.core.filesystem.URIUtil.toURI(URIUtil.java:131) at org.eclipse.pde.internal.core.PDEManager.addNLLocation(PDEManager.java:88) at org.eclipse.pde.internal.core.PDEManager.getNLLookupLocations(PDEManager.java:71) at org.eclipse.pde.internal.core.text.plugin.PluginModelBase.createNLResourceHelper(PluginModelBase.java:148) at org.eclipse.pde.internal.core.text.AbstractEditingModel.getNLResourceHelper(AbstractEditingModel.java:68) at org.eclipse.pde.internal.core.text.AbstractEditingModel.getResourceString(AbstractEditingModel.java:61) at org.eclipse.pde.internal.core.text.plugin.PluginObjectNode.getResourceString(PluginObjectNode.java:107) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection.resolveObjectName(ExtensionsSection.java:1022) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection.resolveObjectName(ExtensionsSection.java:967) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection.access$0(ExtensionsSection.java:966) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionsSection$ExtensionLabelProvider.getText(ExtensionsSection.java:141) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.getText(WrappedViewerLabelProvider.java:108) at org.eclipse.jface.viewers.WrappedViewerLabelProvider.update(WrappedViewerLabelProvider.java:164) at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:152) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:953) at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:113) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:1033) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:485) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:49) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:175) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2167) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:848) at org.eclipse.jface.viewers.AbstractTreeViewer$1.run(AbstractTreeViewer.java:823) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:797) at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:644) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:768) at org.eclipse.jface.viewers.AbstractTreeViewer.handleTreeExpand(AbstractTreeViewer.java:1500) at org.eclipse.jface.viewers.TreeViewer.handleTreeExpand(TreeViewer.java:952) at org.eclipse.jface.viewers.AbstractTreeViewer$4.treeExpanded(AbstractTreeViewer.java:1511) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:132) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1057) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1081) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066) at org.eclipse.swt.widgets.Tree.wmNotifyChild(Tree.java:7612) at org.eclipse.swt.widgets.Control.wmNotify(Control.java:5617) at org.eclipse.swt.widgets.Composite.wmNotify(Composite.java:1935) at org.eclipse.swt.widgets.Control.WM_NOTIFY(Control.java:5169) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4667) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4977) at org.eclipse.swt.internal.win32.OS.CallWindowProcW(Native Method) at org.eclipse.swt.internal.win32.OS.CallWindowProc(OS.java:2440) at org.eclipse.swt.widgets.Tree.callWindowProc(Tree.java:1534) at org.eclipse.swt.widgets.Tree.WM_LBUTTONDOWN(Tree.java:6482) at org.eclipse.swt.widgets.Control.windowProc(Control.java:4647) at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:6005) at org.eclipse.swt.widgets.Display.windowProc(Display.java:4977) at org.eclipse.swt.internal.win32.OS.DispatchMessageW(Native Method) at org.eclipse.swt.internal.win32.OS.DispatchMessage(OS.java:2546) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3757) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1108) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:992) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:137) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:602) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:559) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:149) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:124) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:110) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:79) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:354) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:181) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450)"}, {"bug_id": "406119", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/completion/APIToolsJavadocCompletionProposalComputer.java"], "repo": "eclipse.pde.ui", "reformed_query": "Javadoc auto fragment type existing computer carat method auto complete", "bug_title": " Javadoc tag autocomplete does not work at the end of a tag", "bug_description": "Version: 4.3.0 Build id: I20130416-0800 (also before this) If you type in the complete tag and then try to autocomplete it nothing happens. For example you type @noextend (carat next to 'd') and try to auto complete it nothing happens. We should be able to auto-complete the tag + fragment even if the tag is already typed. The problem was in our completion proposal computer #acceptTag method, where we short-circuit when the tag name appears in a listing of existing names."}, {"bug_id": "409352", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/scanner/TagScanner.java"], "repo": "eclipse.pde.ui", "reformed_query": "org http noreference error Evaluation API core org eclipse getEvaluation", "bug_title": " [regression] API tooling complains about missing @since tag for an interface method that has @noreference tag", "bug_description": "API tooling produces \"Missing @since tag on getEvaluation()\" error message for\thttp://git.eclipse.org/c/cdt/org.eclipse.cdt.git/tree/core/org.eclipse.cdt.core/parser/org/eclipse/cdt/core/dom/ast/IValue.java line 35. API tooling in Eclipse 3.8.2 was satisfied by the @noreference tag."}, {"bug_id": "409680", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/XMLErrorReporter.java"], "repo": "eclipse.pde.ui", "reformed_query": "Element Open Checker core builder settings STACK project xml Error", "bug_title": " NullPointerException in XMLErrorReporter.getTextContent", "bug_description": "Using: Eclipse SDK 4.3.0 Build id: I20130601-1500, cocoa 64 org.eclipse.pde.ui 3.8.0.v20130515-1659 Eclipse Git Team Provider 3.0.0.201305291141 Mac OS X 10.8.3 (can't reproduce on Ubuntu 13.04) 1. Clone git://git.eclipse.org/gitroot/cdt/org.eclipse.cdt.git, checkout master 2. Import org.eclipse.cdt.core and org.eclipse.cdt.core 3. Open org.eclipse.cdt.ui/plugin.xml in the XML editor 4. Checkout commit 4ead47e9484df076e410ba0a33e1c45f52d44c28 (bug 409651: MinGW language settings provider provides duplicate include paths) 5. With plugin.xml still opened in the editor, checkout master 6. NPE occurs. !ENTRY org.eclipse.core.resources 4 75 2013-06-02 15:36:00.558 !MESSAGE Errors occurred during the build. !SUBENTRY 1 org.eclipse.pde.core 4 75 2013-06-02 15:36:00.558 !MESSAGE Errors running builder 'Plug-in Manifest Builder' on project 'org.eclipse.cdt.ui'. !STACK 0 java.lang.NullPointerException at org.eclipse.pde.internal.core.builders.XMLErrorReporter.getTextContent(XMLErrorReporter.java:356) at org.eclipse.pde.internal.core.builders.ExtensionsErrorReporter.validateTranslatableElementContent(ExtensionsErrorReporter.java:442) at org.eclipse.pde.internal.core.builders.ExtensionsErrorReporter.validateElement(ExtensionsErrorReporter.java:197) at org.eclipse.pde.internal.core.builders.ExtensionsErrorReporter.validateElement(ExtensionsErrorReporter.java:203) at org.eclipse.pde.internal.core.builders.ExtensionsErrorReporter.validateElement(ExtensionsErrorReporter.java:203) at org.eclipse.pde.internal.core.builders.ExtensionsErrorReporter.validateExtension(ExtensionsErrorReporter.java:110) at org.eclipse.pde.internal.core.builders.ExtensionsErrorReporter.validateContent(ExtensionsErrorReporter.java:75) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateFiles(ManifestConsistencyChecker.java:296) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.validateProject(ManifestConsistencyChecker.java:223) at org.eclipse.pde.internal.core.builders.ManifestConsistencyChecker.build(ManifestConsistencyChecker.java:157) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:726) Unfortunately, I can't reproduce this on another machine (Ubuntu) or another workspace."}, {"bug_id": "409969", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/TargetPlatformPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "TargetPlatformPreferencePage Apply produces plugins workspace runGC empty called don metadata", "bug_title": " Target Platform GC should run more often", "bug_description": "TargetPlatformPreferencePage.runGC is called only when a target has been removed from the preferences. My current Team's process for target platform is as follows: - The releng build produces a new .target file for each build and delivers it to source control - Team members accept the new .target file and then either reload the target from the preferences, or select \"Set as Target Platform\" in the target editor. As time goes by, the target moves forward on the versions of bundles it contains, old versions remain in the target folder and GC is never called because team members don't normally need to remove targets. As an example, a teammate has used the same workspace & targets for a relatively long time.  His .metadata\\.plugins\\org.eclipse.pde.core\\.bundle_pool\\plugins folder on disk was 5.9GB.  He manually triggered a GC by doing: Preferences -> Target Plaform > Add.. > Start with empty definition > finish Apply Select New Target > Remove OK GC then ran, and when complete his bundle_pool was reduced to 695MB"}, {"bug_id": "416507", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogView.java"], "repo": "eclipse.pde.ui", "reformed_query": "view Log snippet exceptions select Explorer entry entries broken open", "bug_title": " Error Log view does not display child entries for new exceptions", "bug_description": "At least broken since 3.7. Error Log view does not display child entries for new exceptions. Test Case: 1. paste the following snippet into the 'Package Explorer': /* w\u00c3\u00b6rst */ public class Bug {} 2. close the editor 3. change the project's encoding to 'US-ASCII' 4. open the 'Error Log' view 5. select the project in the 'Package Explorer' 6. Source > Format ==> OK: an entry with children appears in the 'Error Log' view 7. Source > Format ==> BUG: an entry without children appears in the 'Error Log' view"}, {"bug_id": "417603", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/IncrementalApiBuilder.java"], "repo": "eclipse.pde.ui", "reformed_query": "Build Description Type Unjustified project Core prior build", "bug_title": " Unjustified @since tag error during incremental build", "bug_description": "Version: 4.4.0 Build id: I20130918-2000 prior to applying the patch for bug 411773, I formatted the class AntCorePreferences and after an incremental build I get the following error: Description\tResource\tPath\tLocation\tType Invalid @since 2.1 tag on org.eclipse.ant.core.AntCorePreferences; expecting @since 3.3\tAntCorePreferences.java\t/org.eclipse.ant.core/src/org/eclipse/ant/core\tline 76\t@since tag problem If I clean the project the error goes away. I reproduced on Mac and Win 7."}, {"bug_id": "418392", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginPathFinder.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/ProfileBundleContainer.java"], "repo": "eclipse.pde.ui", "reformed_query": "mis bundle", "bug_title": " PDE Build's dependency on runtime compatibility should not be optional", "bug_description": "At least, that was one suggestion coming from bug 415008 comment 65. There might be other, more \"direct\" solutions (such as to \"require\" the \"compatibility.state\" bundle? Or ... to avoid the need for even that? I forget where we \"left\" that issue, but wanted to open this bug to track it. Let me know if I am mis-remembering. Thanks,"}, {"bug_id": "424597", "ground_truth": ["ui/org.eclipse.pde.ui.tests/src/org/eclipse/pde/ui/tests/ee/ExportBundleTests.java"], "repo": "eclipse.pde.ui", "reformed_query": "workbench html testresults Bug org junit Export PartRenderingEngine gtk create", "bug_title": " testExport14Environment junit assertion Missing exported bundle", "bug_description": "Build ID: N20131220-2000 http://download.eclipse.org/eclipse/downloads/drops4/N20131220-2000/testresults/html/org.eclipse.pde.ui.tests_linux.gtk.x86_6.0.html testExport14Environment Missing exported bundle junit.framework.AssertionFailedError: Missing exported bundle at org.eclipse.pde.ui.tests.ee.ExportBundleTests.testExport14Environment(ExportBundleTests.java:144) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:657) at org.eclipse.test.EclipseTestRunner.run(EclipseTestRunner.java:310) at org.eclipse.test.UITestApplication$2.run(UITestApplication.java:197) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:136) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3746) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3394) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1122) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1006) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:146) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:612) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:565) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:125) at org.eclipse.test.UITestApplication.runApplication(UITestApplication.java:140) at org.eclipse.test.UITestApplication.run(UITestApplication.java:62) at org.eclipse.test.UITestApplication.start(UITestApplication.java:212) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:109) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:80) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:372) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:226) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:636) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:591) at org.eclipse.equinox.launcher.Main.run(Main.java:1450) at org.eclipse.equinox.launcher.Main.main(Main.java:1426) at org.eclipse.core.launcher.Main.main(Main.java:34) -------------------------------------------------------------------- Please look at Bug 379855"}, {"bug_id": "430305", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/problems/IApiProblem.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/ApiPluginPreferenceInitializer.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/ApiErrorsWarningsConfigurationBlock.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/PreferenceMessages.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/problems/problemmessages.properties", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/BaseApiAnalyzer.java", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/problems/ApiProblemFactory.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/preferencemessages.properties", "apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/provisional/problems/IApiProblemTypes.java", "apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/markers/ApiMarkerResolutionGenerator.java"], "repo": "eclipse.pde.ui", "reformed_query": "version problem marker read marker ASM marker setting marker bytecodes", "bug_title": " [1.8] Remove the unsupported bytecodes preference in Luna", "bug_description": "We added a preference setting and problem marker for unsupported bytecodes.  In the Luna stream, the new version of ASM will read Java 8 bytecodes rendering this preference obsolete (until the next Java release). While there is no harm in having the preference page, it will do nothing."}, {"bug_id": "435321", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/AbstractProblemDetector.java"], "repo": "eclipse.pde.ui", "reformed_query": "required method constructor screen attachment MethodRefConstructorTest leading attached Method range", "bug_title": " Char range is off by one marking constructor method reference", "bug_description": "Created attachment 243309 [details] screen shot consider the following snippet: public class MethodRefConstructorTest { class MR { @SuppressWarnings(\"unused\") public <T> void mr(Supplier<T> supplier) {} }; void m1() { MR mr = new MR(); mr.mr(MySupplier<String>::new); } } where MySupplier is restricted and comes from a required bundle. The section marked for the error is '(MySupplier<String>::new'. I would not expect the leading '(' to be marked. See the attached screen shot."}, {"bug_id": "436418", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PluginModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "Bug view Plug ins Find numerous Plugins", "bug_title": " Regression: Plug-ins view: Find References shows nothing", "bug_description": "RC3: Window->Show View->Plugins Select org.eclipse.ui.editors Find References In RC3 Nothing is displayed. RC2 shows numerous dependencies."}, {"bug_id": "441883", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/compare/ManifestContentMergeViewer.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/compare/PluginContentMergeViewer.java"], "repo": "eclipse.pde.ui", "reformed_query": "rtl Compare bidi LEFT MANIFEST   files", "bug_title": " [bidi] Compare editors for MANIFEST.MF and plugin.xml must enforce LTR", "bug_description": "Created attachment 246052 [details] Fix Follow-up to bug 441495. Compare editors for MANIFEST.MF and plugin.xml files have to enforce LEFT_TO_RIGHT orientation even in an RTL environment (e.g. workspace started with -dir rtl)."}, {"bug_id": "443114", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExtensionsSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "bug custom extension editor Bug attaching caused reproduction", "bug_title": " extension editor no longer shows custom icons", "bug_description": "Created attachment 246629 [details] example project Regression caused by bug 429420, see bug 429420 comment 11. I'm attaching a small test project for reproduction."}, {"bug_id": "443338", "ground_truth": ["ui/org.eclipse.pde.core/text/org/eclipse/pde/internal/core/text/plugin/PluginModelBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "Install PDE http plugin xml error remove", "bug_title": " Errors during saving the plugin descriptor file", "bug_description": "Created attachment 246735 [details] Dialog with error Found in eclipse-SDK-M20140827-0800-win32-x86_64 Steps to recreate the issue: 1) Install the 'Eclipse 4 - Core tools' plugin from the update site: http://download.eclipse.org/e4/downloads/drops/S-0.16-201408072200/repository 2) Generate sample E4 RCP application with the wizard: File/New/Eclipse 4/Eclipse 4 Application Project 3) Open plugin.xml file and remove the property 'applicationCSS' 4) Delete the following file from the project: css/default.css 5) Open product configuration file and try to launch the application 6) Application runs, but the PDE reports the issue, see attachment (it can be another issue connected to some assertion failure)"}, {"bug_id": "458995", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/builder/ApiAnalysisBuilder.java"], "repo": "eclipse.pde.ui", "reformed_query": "colon Manager ApiAnalysisBuilder ManifestElement manifest events invalid ApiAnalysisBuilder Auto java", "bug_title": " [api tooling] API parse error of MANIFEST.MF without naming the project", "bug_description": "The API tooling reported an error in a MANIFEST.MF without listing the project name. org.osgi.framework.BundleException: The manifest line \"=======\" is invalid; it has no colon ':' character after the header key. at org.eclipse.osgi.util.ManifestElement.parseBundleManifest(ManifestElement.java:550) at org.eclipse.pde.api.tools.internal.builder.ApiAnalysisBuilder.build(ApiAnalysisBuilder.java:478) at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:730) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:205) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:245) at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:298) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:301) at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:357) at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:380) at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:144) at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:239) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:55)"}, {"bug_id": "459100", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ResolutionGenerator.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/ConfigureTargetPlatformResolution.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "Quick Configure Target Platform opening project configured preference opening Platform", "bug_title": " [patch] Suggest \"Configure Target-Platform\" as Quick-fix when dependency is not found in MANIFEST.MF", "bug_description": "When a dependency is not resolved in a MANIFEST, one of the most common cause is that target-platform is not correctly configured (either it's not using a good TP for this project, or the current TP misses thing). So the Quick fix for such missing dependency should also suggest an entry to configure target-platforms (opening the target-platforms preference page)."}, {"bug_id": "461083", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/TargetLocationsGroup.java"], "repo": "eclipse.pde.ui", "reformed_query": "Site Locations Eclipse resolving dialog presume open panel exists item", "bug_title": " [target] Target definition editor prematurely allows editing of a Software Site", "bug_description": "I created a target definition file that contains a location which is a P2 Software Site.  The initial state of my workspace is that I have a different target selected, and the target definition file exists in my workspace, but it is not open in an editor.  The P2 Software Site has categories, and the target definition file selects some of those categories. The problem is that if open the target definition file and then quickly edit the P2 Software Site, the \"Edit Software Site\" dialog will incorrectly show that no categories are selected. Here are the steps to reproduce the problem. 1 -- Start with a workspace in which the target definition file is not open in an editor. 2 -- Open the target definition file.  Immediately after opening the file, Eclipse creates a progress monitor that says \"Resolving Target Definition\".  At this point, the editor also displays the \"Locations\" panel where it displays the Software Site associated with the target. 3 -- Now, before Eclipse has completed resolving the target definition, double click on the Software Site in the \"Locations\" panel.  At this point, Eclipse will open the \"Edit Software Site\" dialog, but no categories will be selected.  An error message will be displayed at the top of the panel saying \"At least one item must be selected\". I presume that the easiest solution would be to block opening the \"Edit Software Site\" dialog until the process of resolving the target definition is complete."}, {"bug_id": "461549", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/target/P2TargetUtils.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/TargetLocationsGroup.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/Messages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/messages.properties"], "repo": "eclipse.pde.ui", "reformed_query": "target repositories bug remote allowing button profile created tooltips sequence", "bug_title": " [patch] [target] Dont increment sequence number during reload and provide tooltips for reload and update", "bug_description": "+++ This bug was initially created as a clone of Bug #441190 +++ Additional discussion on Bug 439034.  We should consider having a reload button that clears the cached p2 profile, allowing the p2 sites to query the remote repositories. We now allow this after a successful update as well as when the resolution returned an error status. +++ This bug was initially created as a clone of Bug #439034 +++"}, {"bug_id": "465909", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/product/PreferencesSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Description Created wizard Product file Convert automatically Create GVT Steps", "bug_title": " GVT45: Truncation found after setup Convert Preferences.", "bug_description": "Created attachment 252949 [details] Strings are truncated. Build ID: 20150320-0800 Locale: English Steps to reproduce: 1. Create a new Plug-in project. 2. Right-click on the Plug-in project then create a new Product Configuration. 3. Click New button then enter Product Name for the Product Definition. 4. Click Finish. 5. Click Customization tab. 6. Click Convert Preferences wizard link. 7. Browse to a .epf file then click Finish. Problem Description: The page should be refreshed automatically or a scroll bar is needed."}, {"bug_id": "466783", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/preferences/ApiBaselinePreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "wizard Preference Click Hit API Shell wizard ApiBaselinePreferencePage location Click", "bug_title": " [apitools] Add New API Baseline wizard opened with wrong parent shell", "bug_description": "Build Id: 4.5.0.I20150506-2000 Found another location in ApiBaselinePreferencePage wrongly using ApiUIPlugin#getShell() to set the parent shell for a dialog. 1. Window > Preferences > Plug-in Development > API Baselines 2. Click on Add Baseline 3. Hit escape Focus does not go back to the Preferences dialog. Only seen on Windows; OS X seems to do the right thing."}, {"bug_id": "475855", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/FeatureBlock.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/launcher/AbstractPluginBlock.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java"], "repo": "eclipse.pde.ui", "reformed_query": "Platform highlighted details Description IES concatenation Description appeared mislead variables", "bug_title": " [patch] TVT_IES45_Platform: String concatenation appeared on Polish Language", "bug_description": "Created attachment 256114 [details] concatenation Description: In highlighted strings normal word is used as variable. Translation of normal words in Polish is context dependent so normal words cannot be used as variables. Current construction can mislead end user."}, {"bug_id": "476867", "ground_truth": ["ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/EventDetailsDialog.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/EventDetailsDialogAction.java", "ui/org.eclipse.ui.views.log/src/org/eclipse/ui/internal/views/log/LogView.java"], "repo": "eclipse.pde.ui", "reformed_query": "work filter RESULT visible button reproduce select View patch Event", "bug_title": " [patch] Event log filter doesn't work when enabled from event details", "bug_description": "Steps to reproduce: 1. Click Windows -> Show View -> Error log 2. Right click on any event and select Event Details from context menu 3. Click on Show Filters Dialog button in the Event Details Dialog. 4. Uncheck some event types (for example OK and Info) and click OK in the filters dialog. RESULT: the event types OK and Information are still visible in the \"Error log\" window"}, {"bug_id": "477658", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/exports/FeatureExportOperation.java"], "repo": "eclipse.pde.ui", "reformed_query": "FeatureExportOperation Export log Operation Feature", "bug_title": " Use multi-catch in FeatureExportOperation line 189 and log the error", "bug_description": ""}, {"bug_id": "482554", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/spy/sections/ActiveMenuSection.java"], "repo": "eclipse.pde.ui", "reformed_query": "pass pluginAction spy warnings warnings xml List plugin Object invocation", "bug_title": " Warning in org.eclipse.pde.runtime", "bug_description": "There are 2 pending warnings. Also parameter type should be put in List etc and disable of those warnings ( in pom.xml) should be removed 1. WARNING in /src/org/eclipse/pde/internal/runtime/spy/sections/ActiveMenuSection.java (at line 155) Method method = clazz.getDeclaredMethod(\"createDelegate\", null); //$NON-NLS-1$ Type null of the last argument to method getDeclaredMethod(String, Class...) doesn't exactly match the vararg parameter type. Cast to Class[] to confirm the non-varargs invocation, or pass individual arguments of type Class for a varargs invocation. 2. WARNING in /src/org/eclipse/pde/internal/runtime/spy/sections/ActiveMenuSection.java (at line 157) method.invoke(pluginAction, null); Type null of the last argument to method invoke(Object, Object...) doesn't exactly match the vararg parameter type. Cast to Object[] to confirm the non-varargs invocation, or pass individual arguments of type Object for a varargs invocation."}, {"bug_id": "484548", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/feature/FeatureObject.java"], "repo": "eclipse.pde.ui", "reformed_query": "feature displayable label Eclipse Exception attribute NPE defines org", "bug_title": " Feature manifest file with no label gives NPE while clicking on Dependencies tab.", "bug_description": "As per doc, label is optional element and attribute definitions are as follows: <feature> - defines the feature id - required feature identifier (eg. com.xyz.myfeature) version - required component version (eg. 1.0.3) label - optional displayable label (name). Intended to be translated. Error is similar to java.lang.NullPointerException: HIDDEN at org.eclipse.core.internal.preferences.EclipsePreferences.internalGet(:-1) at org.eclipse.core.internal.preferences.EclipsePreferences.getBoolean(:-1) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.initialize(:-1) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.createClient(:-1) at org.eclipse.pde.internal.ui.editor.StructuredViewerSection.<init>(:-1) at org.eclipse.pde.internal.ui.editor.TableSection.<init>(:-1) at org.eclipse.pde.internal.ui.editor.TableSection.<init>(:-1) at org.eclipse.pde.internal.ui.editor.feature.RequiresSection.<init>(:-1) at org.eclipse.pde.internal.ui.editor.feature.FeatureDependenciesPage.createFormContent(:-1)"}, {"bug_id": "486911", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/shared/target/StyledBundleLabelProvider.java"], "repo": "eclipse.pde.ui", "reformed_query": "workbench Styled createAndRunUI runWithDefault Method equinox runtime shared Input", "bug_title": " NPE in StyledBundleLabelProvider.getImage", "bug_description": "java.lang.NullPointerException at org.eclipse.pde.internal.ui.shared.target.StyledBundleLabelProvider.getImage(StyledBundleLabelProvider.java:290) at org.eclipse.pde.internal.ui.shared.target.TargetLocationLabelProvider.getImage(TargetLocationLabelProvider.java:46) at org.eclipse.pde.internal.ui.shared.target.TargetLocationLabelProvider.update(TargetLocationLabelProvider.java:33) at org.eclipse.jface.viewers.ViewerColumn.refresh(ViewerColumn.java:141) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:949) at org.eclipse.jface.viewers.AbstractTreeViewer$UpdateItemSafeRunnable.run(AbstractTreeViewer.java:118) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:50) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:173) at org.eclipse.jface.viewers.AbstractTreeViewer.doUpdateItem(AbstractTreeViewer.java:1029) at org.eclipse.jface.viewers.StructuredViewer$UpdateItemSafeRunnable.run(StructuredViewer.java:474) at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:42) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:50) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:173) at org.eclipse.jface.viewers.StructuredViewer.updateItem(StructuredViewer.java:2170) at org.eclipse.jface.viewers.AbstractTreeViewer.createTreeItem(AbstractTreeViewer.java:843) at org.eclipse.jface.viewers.AbstractTreeViewer.lambda$0(AbstractTreeViewer.java:820) at org.eclipse.jface.viewers.AbstractTreeViewer$$Lambda$57/899344442.run(Unknown Source) at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:70) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:795) at org.eclipse.jface.viewers.TreeViewer.createChildren(TreeViewer.java:596) at org.eclipse.jface.viewers.AbstractTreeViewer.createChildren(AbstractTreeViewer.java:766) at org.eclipse.jface.viewers.AbstractTreeViewer.internalInitializeTree(AbstractTreeViewer.java:1538) at org.eclipse.jface.viewers.TreeViewer.internalInitializeTree(TreeViewer.java:772) at org.eclipse.jface.viewers.AbstractTreeViewer.lambda$1(AbstractTreeViewer.java:1523) at org.eclipse.jface.viewers.AbstractTreeViewer$$Lambda$56/1229944013.run(Unknown Source) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1458) at org.eclipse.jface.viewers.TreeViewer.preservingSelection(TreeViewer.java:354) at org.eclipse.jface.viewers.StructuredViewer.preservingSelection(StructuredViewer.java:1419) at org.eclipse.jface.viewers.AbstractTreeViewer.inputChanged(AbstractTreeViewer.java:1517) at org.eclipse.jface.viewers.ContentViewer.setInput(ContentViewer.java:286) at org.eclipse.jface.viewers.StructuredViewer.setInput(StructuredViewer.java:1696) at org.eclipse.pde.internal.ui.shared.target.TargetLocationsGroup.setInput(TargetLocationsGroup.java:306) at org.eclipse.pde.internal.ui.editor.targetdefinition.TargetEditor$TargetChangedListener$2$1.runInUIThread(TargetEditor.java:489) at org.eclipse.ui.progress.UIJob$1.run(UIJob.java:97) at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35) at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:182) at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3807) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3446) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$4.run(PartRenderingEngine.java:1118) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:336) at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1019) at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:157) at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:691) at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:336) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:604) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150) at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:138) at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134) at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:388) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:243) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:497) at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:670) at org.eclipse.equinox.launcher.Main.basicRun(Main.java:609) at org.eclipse.equinox.launcher.Main.run(Main.java:1516) at org.eclipse.equinox.launcher.Main.main(Main.java:1489)"}, {"bug_id": "488805", "ground_truth": ["ds/org.eclipse.pde.ds.annotations/src/org/eclipse/pde/ds/internal/annotations/DSAnnotationCompilationParticipant.java"], "repo": "eclipse.pde.ui", "reformed_query": "model project project follow Compilation bug Bug operation loading project", "bug_title": " DSAnnotationCompilationParticipant performs unnecessary model modification", "bug_description": "This is in follow-up to https://bugs.eclipse.org/bugs/show_bug.cgi?id=488440. In cases when there have been no added or removed descriptor files in a given build (in buildFinished), the participant still performs a project modification operation; this operation won't find any changes and won't modify the model in the end, but still performs unnecessary model loading, setup, etc. when we already know that there are no changes to reconcile."}, {"bug_id": "489924", "ground_truth": ["apitools/org.eclipse.pde.api.tools/src/org/eclipse/pde/api/tools/internal/model/ApiModelFactory.java"], "repo": "eclipse.pde.ui", "reformed_query": "configured IApi target Manager configured toOSString Baseline SEPARATOR generated isDerivedFromTarget", "bug_title": " API baseline from target X is not considered as derived from target X", "bug_description": "On Windows the method ApiModelFactory.isDerivedFromTarget(IApiBaseline, ITargetDefinition) returns wrong results directly after a restart of Eclipse. ApiModelFactory consistently uses IPath.SEPARATOR to encode/decode the \"target:\"-based location of a baseline, but after a restart of Eclipse the method ApiBaselineManager.restoreBaseline(IApiBaseline, InputStream) does the following: baseline.setLocation(Path.fromPortableString(baselineLocation).toOSString()); On Windows that results in all slashes being translated into backslashes, so that in the method ApiModelFactory.isDerivedFromTarget(IApiBaseline, ITargetDefinition) the location of the baseline becomes different from the location generated out of the given target. In Oomph this results in Setup Tasks that always want to perform, because they wrongly establish that the configured target name has changed."}, {"bug_id": "496382", "ground_truth": ["apitools/org.eclipse.pde.api.tools.ui/src/org/eclipse/pde/api/tools/ui/internal/wizards/DirectoryBasedApiBaselineWizardPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "app Baseline Bug macos layout Add API", "bug_title": " New Eclipse.app layout: Add-API Baseline\" doesn't accept app bundle", "bug_description": "In macos,  Add-API Baseline\" doesn't accept app bundle. See Bug 462404 for a similar problem"}, {"bug_id": "50018", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/tools/UpdateBuildpathWizard.java"], "repo": "eclipse.pde.ui", "reformed_query": "save automatically update classpath   Ideally", "bug_title": " update class path should prompt to save the plugin.xml", "bug_description": "If you edit build.xml and then do update class path you are not prompted to save the build.xml file. This can make things very confusing (and anything which improves the comprehension of plugin classpath juggling is a good thing) Ideally this classpath update should happen automatically"}, {"bug_id": "56371", "ground_truth": ["ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/registry/RegistryBrowserContentProvider.java", "ui/org.eclipse.pde.runtime/src/org/eclipse/pde/internal/runtime/registry/RegistryBrowser.java"], "repo": "eclipse.pde.ui", "reformed_query": "registry View isv jdt Investigate menu swt selected plug Click", "bug_title": " Registry View does not show all activated plugins", "bug_description": "Open the plug-in registry viewer and notice activated plug-ins such as o.e.swt are NOT in the list.  Go to the toolbar, drop-down menu, uncheck 'Show Active Plug-ins Only'.  Click on o.e.swt and notice that it actually has been activated but the viewer never illustrated this fact. Scrolling down the viewer, I noticed other plug-ins become activated as they're selected (i.e. jdt.source, jdt, jdt.doc.isv, pde.source, etc.) Investigate why certain activated plug-ins aren't identified as being activated."}, {"bug_id": "61185", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/rows/ClassAttributeRow.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/PluginGeneralInfoSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/util/PDEJavaHelperUI.java"], "repo": "eclipse.pde.ui", "reformed_query": "filed based returned editor extend extension button attribute classes Bug", "bug_title": " [Manifest][Editors]Browse for class attribute types could restrict using basedOn class/interface", "bug_description": "When using the extension page of the plugin editor it would be handy if the types returned when pressing the browse button were restricted to those that implement/extend the class specified in the basedOn filed of the attribute (if it has one).  This would make it harder to put in classes that would fail runtime type checks."}, {"bug_id": "63287", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/imports/PluginImportWizardFirstPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "validateDropLocation commented Steps setErrorMessage press Mac team call box random", "bug_title": " Flickering in the \u00e2\u20ac\u0153Import plug-ins\u00e2\u20ac? dialog on the Mac", "bug_description": "I am using Build id: 200405201226. This only happens on the Mac (and Linux I believe). Steps: - Go to \"File->Import\" - Select \"External Plug-ins and Fragments\" and press \"Next\" - Uncheck the \"Target platform\" box - Type random characters in the \"Plug-in Location\" field - Notice the flickering of the dialog's error message I have traced this back to \"PluginImportWizardFirstPage#validateDropLocation()\". I put print statements in \"WizardPage#setErrorMessage(String newMessage)\". It turns out that the \"validateDropLocatoin()\" method is calling the \"setErrorMessage()\" twice on every keystroke. By looking at the code, I noticed you call a \"setErrorMessage(null)\" at the beginning, then the error message is set again later in the code. I commented out the \"setErrorMessage(null)\" call at the beginning of the method and the flickering went away. I am unaware of the reasons behind having the \"setErrorMessage(null)\u00e2\u20ac? at the beginning of the method even though the message is set again in that same method, so I am logging this to your team."}, {"bug_id": "65204", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/site/NewSiteProjectWizard.java"], "repo": "eclipse.pde.ui", "reformed_query": "add site web data researching comments", "bug_title": " XSLT web index of site.xml not supported by Mac Safari", "bug_description": "Given that we were just getting good functionality in xsl transformations of site.xml on new browsers, it's not surprising that some browsers haven't reached this benchmark. Try making an update site with generated web page.  Open the web page in system editor (i.e. Safari in the case of MacOS X). It's a blank page. :( I did some debugging and found that the code was failing when I was trying to import site.xml.  Upon researching this phenomenon, I discovered Safari simply does not support controlled XML data importing at this point in time. References: http://weblogs.mozillazine.org/mt/mt-comments.cgi?entry_id=3340 http://www.xs4all.nl/~zanstra/inTec/safariIdea/documentLoad.htm The second link has test for document loading in Safari.  There is no workaround but they do encourage responsive UI by indicating document.load() is not supported. Proposed solution:  add alert for nil-support of document loading if it fails instead of having safari hide the failure and leave the user with a blank webpage."}, {"bug_id": "65572", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/PluginInputContext.java"], "repo": "eclipse.pde.ui", "reformed_query": "NativeMethodAccessorImpl java adaptor NullPointerException DelegatingMethodAccessorImpl context point editor", "bug_title": " NPE on Open Schema (on read-only schema files)", "bug_description": "In Plugins view, - select o.e.jdt.ui - open plugin.xml - in extension points section, select an extension point - in context menu, 'open schema' - got the NPE below (same result on RC1 as I06032004) Error Jun 03, 2004 12:34:35.209 java.lang.NullPointerException java.lang.NullPointerException at org.eclipse.pde.internal.ui.editor.plugin.ExtensionPointsSection.handleOpenSchema(ExtensionPointsSection.java:272) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionPointsSection.access$1(ExtensionPointsSection.java:257) at org.eclipse.pde.internal.ui.editor.plugin.ExtensionPointsSection$2.run(ExtensionPointsSection.java:185) at org.eclipse.jface.action.Action.runWithEvent(Action.java:881) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:915) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:866) at org.eclipse.jface.action.ActionContributionItem$7.handleEvent(ActionContributionItem.java:785) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:796) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2716) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2382) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1363) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1334) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:253) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:141) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:96) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:334) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:128) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:324) at org.eclipse.core.launcher.Main.basicRun(Main.java:185) at org.eclipse.core.launcher.Main.run(Main.java:638) at org.eclipse.core.launcher.Main.main(Main.java:622)"}, {"bug_id": "68606", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/plugin/ContentPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "project suggests field select telling error picture", "bug_title": " New Plug-in Project wizard shows error when creating out-of the box project", "bug_description": "I200406250010 1. Start to create a new plug-in project 2. select project name to be \"My Plug-in\" 3. flip to next page ==> error is shown in status line (see attached picture) I would expect that the wizard suggests working default values especially when it was the wizard's decision to put the plug-in class into a package. Note: with the error the status also showed the name (good) but when the project name starts with uppercase (e.g. MyPlugin) then the status shows the warning: \"By convention, package names usually start with a lower-case letter\" without telling which value on that page is wrong and there's no package field on the wizard page, only a class field."}, {"bug_id": "76211", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/build/RuntimeInfoSection.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/RenameDialog.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/LibrarySection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Runtime menu margins problems library standard specific Rename dialog Rename", "bug_title": " Rename library dialog problems", "bug_description": "PDE Editor/Runtime tab Context menu Rename on library @@@@ The dialog title could be a little more specific: \"Rename library\" The dialog does not use standard margins (see pic)"}, {"bug_id": "82302", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/MainPreferencePage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/exports/AntGeneratingExportWizard.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/IPreferenceConstants.java"], "repo": "eclipse.pde.ui", "reformed_query": "actions prompt PDE file actions features Deployable plug problem prompt", "bug_title": " Export > Deployable plug-ins .. deletes build.xml without prompt", "bug_description": "If the plugin has 'build.xml' file, and do : Export > Deployable plug-ins and fragments, this actions deletes build.xml file. The same problem happens when Export > Deplyable features, PDE Tools > Build Site on site.xml are done."}, {"bug_id": "89782", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ICoreConstants.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDECore.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/ManifestConsistencyChecker.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/builders/PluginRebuilder.java"], "repo": "eclipse.pde.ui", "reformed_query": "changed content manifest content manifest builder Bug manifest overzealous file", "bug_title": " Manifest builder is overzealous", "bug_description": "The manifest builder is overzealous when it comes to revalidating a plugin.xml file.  It sometimes runs unnecessarily when the resource being changed has no effect on its content."}, {"bug_id": "94366", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/WorkspaceModelManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "change feature file foo add Create   plugin", "bug_title": " Feature appears twice in the feature selection dialog", "bug_description": "I20050510-0010 - Create a new RCP app using the mail template - Create a feature F, including the plugin previously created - In F, create a product file called foo.product. - In the product editor, change the product configuration to use 'features' - Move to the configuration tab of the product editor and try to \"add...\" a feature, you will notice that F appears twice."}, {"bug_id": "94448", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/bundle/BundlePluginBase.java"], "repo": "eclipse.pde.ui", "reformed_query": "singleton Bug plugin options registry ensure add notice fine directive", "bug_title": " The addition of an extension or extension-point must set the singleton directive", "bug_description": "I20050510-0010 Create a new plugin using the default options of the wizard. You end up with a plugin that has a manifest.mf and no plugin.xml. Everything is fine. Now add an extension or an extension point using the editor. Run, you will notice that the extension is not present. This is because the extension registry rejects all contributions that are not done by a singleton bundle. PDE should automatically add and always ensure that the singleton directive is present if there is an extension or an extension point in a plugin."}, {"bug_id": "94956", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/extension/BaseExtensionPointMainPage.java"], "repo": "eclipse.pde.ui", "reformed_query": "internal ModalContext swt main Pressed path Contribution widgetSelected Display schema", "bug_title": " NPE when creating extension point schema with PDE wizard", "bug_description": "hello, I wanted to create a new extension point using the wizard to create a new extension point schema file. I filled the extenion point Id and name, plugin id and container. and cliqued finished to get the follonwing NPE : java.lang.NullPointerException at org.eclipse.pde.internal.ui.wizards.extension.BaseExtensionPointMainPage$8.execute(BaseExtensionPointMainPage.java:305) at org.eclipse.ui.actions.WorkspaceModifyOperation$1.run(WorkspaceModifyOperation.java:98) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1714) at org.eclipse.ui.actions.WorkspaceModifyOperation.run(WorkspaceModifyOperation.java:110) at org.eclipse.jface.operation.ModalContext.runInCurrentThread(ModalContext.java:346) at org.eclipse.jface.operation.ModalContext.run(ModalContext.java:291) at org.eclipse.jface.wizard.WizardDialog.run(WizardDialog.java:830) at org.eclipse.pde.internal.ui.wizards.extension.NewSchemaFileMainPage.finish(NewSchemaFileMainPage.java:51) at org.eclipse.pde.internal.ui.wizards.extension.NewSchemaFileWizard.performFinish(NewSchemaFileWizard.java:65) at org.eclipse.jface.wizard.WizardDialog.finishPressed(WizardDialog.java:676) at org.eclipse.jface.wizard.WizardDialog.buttonPressed(WizardDialog.java:349) at org.eclipse.jface.dialogs.Dialog$2.widgetSelected(Dialog.java:556) at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:89) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527) at org.eclipse.jface.window.Window.runEventLoop(Window.java:803) at org.eclipse.jface.window.Window.open(Window.java:781) at org.eclipse.ui.actions.NewWizardAction.run(NewWizardAction.java:181) at org.eclipse.jface.action.Action.runWithEvent(Action.java:996) at org.eclipse.jface.action.ActionContributionItem.handleWidgetSelection(ActionContributionItem.java:538) at org.eclipse.jface.action.ActionContributionItem.access$2(ActionContributionItem.java:488) at org.eclipse.jface.action.ActionContributionItem$5.handleEvent(ActionContributionItem.java:400) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:82) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:842) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2894) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2527) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1570) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1534) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:306) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:228) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:344) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:156) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:315) at org.eclipse.core.launcher.Main.basicRun(Main.java:268) at org.eclipse.core.launcher.Main.run(Main.java:942) at org.eclipse.core.launcher.Main.main(Main.java:926) This container validation on the GUI does no seem to work, when I choose a project it displays the full path of the project instead of the name. And sometimes allows me to click finish or not without real consistency. SeB."}, {"bug_id": "95542", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/ClasspathUtilCore.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/PDEClasspathContainer.java", "ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/SearchablePluginsManager.java"], "repo": "eclipse.pde.ui", "reformed_query": "check don Bug don fragment don external workaround classpath correct", "bug_title": " PDE should not attempt to add external folder to classpath", "bug_description": "3.1M7 JDT does not support external folders.  If a fragment declares a folder as a library and the fragment is not in the workspace, PDE currently attempts to add it to the classpath (as it should).  However, JDT chokes on it. therefore, to avoid this unpleasantness, PDE should add the following check/workaround:  If the external library is a folder, don't add it.  It is not correct, but better than what is happening today."}, {"bug_id": "95935", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/search/ShowDescriptionAction.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/wizards/product/ProductDefinitonWizardPage.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/SourceBlock.java"], "repo": "eclipse.pde.ui", "reformed_query": "org Bug Bug forceExternal force pde Plug Locations preview Target", "bug_title": " Schema Preview should open in external browser", "bug_description": "3.1 M7 go to the Window > prefereces > Plug-in Development > Target Platform preference page. Switch to the Source Code Locations tab. Click on the 'org.eclipse.pde.core.source' link You will see that the schema description opens in the internal browser, which is usually desired, but not in this case since the preferences dialog is up. In this face, we should force the preview to come up in an external browser. So the open schema action should have two modes: default, and forceExternal."}, {"bug_id": "96384", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/LibrarySection.java"], "repo": "eclipse.pde.ui", "reformed_query": "pretty entireing plugin classpath pretty lined Library LIbrary Bug classpath", "bug_title": " Runtime LIbrary should be classpath", "bug_description": "In the New Plugin wizard there is a field asking for a \"Runtime Library\".  This is somewhat confusing as what people are really entireing is the plugin's local classpath.  Runtime Library lined up nicely with the plugin.xml markup but classpath lines up with the manifest.mf markup and is pretty reasonable when viewed from the old world as well. Suggest changing this to \"Classpath\""}, {"bug_id": "96962", "ground_truth": ["ui/org.eclipse.pde.ui/plugin.xml", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEPluginImages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/PDEUIMessages.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/java/ForbiddenAccessProposal.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/correction/java/QuickFixProcessor.java", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/pderesources.properties", "ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/preferences/OSGiFrameworkPreferencePage.java"], "repo": "eclipse.pde.ui", "reformed_query": "opened worked Trivial fine accessible solve Quickfix providing solve restriction", "bug_title": " Quickfix to solve restriction access problem", "bug_description": "I20050527 This morning I opened an existing workspace that was compiling fine yesterday (I did not try to run it and it was not the point), and I've noticed that it was no longer compiling because the type I was refering was \"not accessible due to access restrictions\". It tooks me a second or two before thinking that it could be that the plugin providing the type was not exporting the proper package. I fixed the package export and everything worked. Trivial. However I think for new comers to eclipse or even long time users this is not trivial. This problem must have a quick fix guiding the users on things that can be done to solve the problem. I mark as major since to me this is a major usability issue"}, {"bug_id": "97109", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/plugin/ExportPackageVisibilitySection.java"], "repo": "eclipse.pde.ui", "reformed_query": "Store send update invoking basic ArrayStoreException ExportPackageVisibilitySection Boot Structured lang", "bug_title": " RC1: Clicking on an entry in Classpath table of plugin.xml editor causes ArrayStoreException", "bug_description": "Example to reproduce: In Eclipe 3.1 RC1 open up the plugin.xml file in the plugin editor for org.eclipse.tomcat. Select the \"Runtime\" tab. Clicking on any entry in the \"Classpath\" table leads to an error dialog and: !SESSION 2005-05-28 10:48:18.593 ---------------------------------------------- - eclipse.buildId=I20050527-1300 java.version=1.5.0_03 java.vendor=Sun Microsystems Inc. BootLoader constants: OS=win32, ARCH=x86, WS=win32, NL=en_GB Command-line arguments:  -os win32 -ws win32 -arch x86 !ENTRY org.eclipse.jface 4 2 2005-05-28 11:00:36.906 !MESSAGE Problems occurred when invoking code from plug- in: \"org.eclipse.jface\". !STACK 0 java.lang.ArrayStoreException at java.util.AbstractCollection.toArray(Unknown Source) at org.eclipse.pde.internal.ui.editor.plugin.ExportPackageVisibilitySection.selectionChanged(ExportPackageVisibilitySection.java:250) at org.eclipse.ui.forms.ManagedForm.fireSelectionChanged(ManagedForm.java:127) at org.eclipse.pde.internal.ui.editor.TableSection$PartAdapter.selectionChanged(TableSection.java:31) at org.eclipse.pde.internal.ui.parts.TablePart$1.selectionChanged(TablePart.java:49) at org.eclipse.jface.viewers.Viewer$2.run(Viewer.java:162) at org.eclipse.core.internal.runtime.InternalPlatform.run(InternalPlatform.java:1038) at org.eclipse.core.runtime.Platform.run(Platform.java:775) at org.eclipse.ui.internal.JFaceUtil$1.run(JFaceUtil.java:44) at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:148) at org.eclipse.jface.viewers.Viewer.fireSelectionChanged(Viewer.java:160) at org.eclipse.jface.viewers.StructuredViewer.updateSelection(StructuredViewer.java:1784) at org.eclipse.jface.viewers.StructuredViewer.handleSelect(StructuredViewer.java:1027) at org.eclipse.jface.viewers.StructuredViewer$4.widgetSelected(StructuredViewer.java:1053) at org.eclipse.jface.util.OpenStrategy.fireSelectionEvent(OpenStrategy.java:209) at org.eclipse.jface.util.OpenStrategy.access$3(OpenStrategy.java:204) at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:364) at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:66) at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:844) at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:2929) at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:2562) at org.eclipse.ui.internal.Workbench.runEventLoop(Workbench.java:1694) at org.eclipse.ui.internal.Workbench.runUI(Workbench.java:1658) at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:366) at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:143) at org.eclipse.ui.internal.ide.IDEApplication.run(IDEApplication.java:103) at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:226) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:375) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:162) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.core.launcher.Main.invokeFramework(Main.java:334) at org.eclipse.core.launcher.Main.basicRun(Main.java:278) at org.eclipse.core.launcher.Main.run(Main.java:973) at org.eclipse.core.launcher.Main.main(Main.java:948)"}, {"bug_id": "97605", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/ui/launcher/MainTab.java"], "repo": "eclipse.pde.ui", "reformed_query": "control High size control main estate dialog dialog main screen", "bug_title": " Run Dialog cut off in High Contrast", "bug_description": "RC1 The Run Dialog's main and Common pages are cut off in High Contrast even if you exapnd them to full screen. You should also either size the dialog or provide the maximize control so that you can get the extra real estate."}, {"bug_id": "98123", "ground_truth": ["ui/org.eclipse.pde.core/src/org/eclipse/pde/internal/core/RequiredPluginsClasspathContainer.java"], "repo": "eclipse.pde.ui", "reformed_query": "adaptor basicRun EclipseStarter open fragments Classpath troublemakers invoke trace Fetch", "bug_title": " Backward compatibility issues", "bug_description": "(Copied from Eclipse.platform news group) I ran into the problem using RC1. I launch it on the new workspace. Then switch target to 3.0.1. - open preferences - select Plugin Development->Target Platform - set a location to Eclipse 3.0.1 directory Still works fine. Then import plugins into the workspace. - Select File -> Import -> External Plug-Ins And Fragments - check The target platform (as specified in Preferences) - click Next - click Add All - click Finish Almost all plugins are error-tagged. The problem is osgi plugin. If I try to update class paths, I get an error: org.eclipse.core.runtime.CoreException: Project cannot reference itself:org.eclipse.osgi at org.eclipse.pde.internal.core.ClasspathComputer.getClasspath(ClasspathComputer.java:68) at org.eclipse.pde.internal.core.ClasspathComputer.setClasspath(ClasspathComputer.java:42) at org.eclipse.pde.internal.ui.wizards.tools.UpdateClasspathJob.doUpdateClasspath(UpdateClasspathJob.java:55) at org.eclipse.pde.internal.ui.wizards.tools.UpdateClasspathJob$UpdateClasspathWorkspaceRunnable.run(UpdateClasspathJob.java:70) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1719) at org.eclipse.core.internal.resources.Workspace.run(Workspace.java:1739) at org.eclipse.pde.internal.ui.wizards.tools.UpdateClasspathJob.run(UpdateClasspathJob.java:82) at org.eclipse.core.internal.jobs.Worker.run(Worker.java:67) Workaround is to exclude osgi and update.configurator plugins from the workspace. It solves previous problem but another one comes up. I start from scratch. After launching IDE on the new workspace I create launch configuration for run-time workbench and can launch it succesfully. As soon as I import plugin and fragments (just excluding org.eclipse.osgi and org.eclipse.update.configuration as a troublemakers to avoid errors), I lose this ability. Launch (the same launch configuration) fails with the following trace log: java.lang.RuntimeException: Application \"org.eclipse.ui.ide.workbench\" could not be found in the registry. The applications available are: org.eclipse.ant.core.antRunner, org.eclipse.help.base.infocenterApplication, org.eclipse.help.base.helpApplication, org.eclipse.help.base.indexTool, org.eclipse.pde.build.BuildScriptGenerator, org.eclipse.pde.build.FetchScriptGenerator, org.eclipse.pde.junit.runtime.uitestapplication, org.eclipse.pde.junit.runtime.legacyUItestapplication, org.eclipse.pde.junit.runtime.coretestapplication, org.eclipse.update.core.standaloneUpdate. at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:325) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.core.launcher.Main.basicRun(Main.java:185) at org.eclipse.core.launcher.Main.run(Main.java:704) at org.eclipse.core.launcher.Main.main(Main.java:688) Then I remove all the imported stuff expecting that I get this functionality back. However the launch fails, just after another error: java.lang.RuntimeException: No application id has been found. at org.eclipse.core.internal.runtime.PlatformActivator$1.run(PlatformActivator.java:313) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:273) at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:129) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.eclipse.core.launcher.Main.basicRun(Main.java:185) at org.eclipse.core.launcher.Main.run(Main.java:704) at org.eclipse.core.launcher.Main.main(Main.java:688) Both 3.1RC1 and 3.0.1 are dounloaded and fresh installed. If I use workspace created using another build, it works fine."}, {"bug_id": "98790", "ground_truth": ["ui/org.eclipse.pde.ui/src/org/eclipse/pde/internal/ui/editor/PDEFormEditor.java"], "repo": "eclipse.pde.ui", "reformed_query": "plugin Source close UndoActionHandlers listener site Redo", "bug_title": " Leakage: UndoActionHandler / RedoActionHandler not disposed on open/close of plugin.xml", "bug_description": "N20050603-0010 The UndoActionHandlers and RedoActionHandlers are leaking (and keeping other large parts of the world with them) on the close of the manifest editor as the part listener that should call the dispose is not \"matching\" on the part closing. When the manifest editor closes, the part listener in OperationHistoryActionHandler (line 90) compares the part (ManifestEditor) with the site.getPart() (BundleSourcePage). So this always fails and the action handlers are not disposed."}, {"bug_id": "18462", "ground_truth": ["java/org/apache/catalina/startup/Catalina.java", "java/org/apache/catalina/startup/Embedded.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "running Catalina output list error display messages tomcat overriden", "bug_title": " System.err gets overriden to output to System.out", "bug_description": "I am using Eclipse to do my development and I am running tomcat 4.1.24 from within eclipse. One of the nice features of eclipse is that anything you display with System.out comes out in blue and anything you send to System.err is displayed in red. However when tomcat is running Catalina overrides System.err and makes it point to System.out. This is very inconvinient because its much harder to search for severe error messages in a list of millions of trivial ones."}, {"bug_id": "28852", "ground_truth": ["java/org/apache/catalina/ant/JMXQueryTask.java", "java/org/apache/catalina/ant/JMXGetTask.java", "java/org/apache/catalina/ant/JMXSetTask.java", "webapps/docs/changelog.xml", "java/org/apache/catalina/ant/ResourcesTask.java", "java/org/apache/catalina/ant/UndeployTask.java"], "repo": "tomcat70", "reformed_query": "operation unecessary Ant CRs patch manager unecessary encoding operation nice", "bug_title": " failonerror attribute on Ant tasks", "bug_description": "failonerror boolean attribute on manager Ant tasks would be a nice have to allow for more flexible operation within Ant build files. I will attach a patch next week that also fixes unecessary CRs during response read/print and missing url encoding in some tasks."}, {"bug_id": "29936", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java"], "repo": "tomcat70", "reformed_query": "web documents defaults INF find parser compiling app container comments", "bug_title": " XML parser loading problems by container", "bug_description": "I'm trying to use JSTL 1.1 with this version of tomcat and have both saxon and crimson in my web-app. If we have crimson and saxon in our webapp lib then tomcat tries to use crimson as the xml parser when reading the web.xml and compiling the jsp and we get the prefix error: org.apache.jasper.JasperException: <h3>Validation error messages from TagLibraryValidator for c</h3><p>null: java.lang.IllegalStateException: can't declare any more prefixes in this context</p><h3>Validation error messages from TagLibraryValidator for fmt</h3><p>null: java.lang.IllegalStateException: can't declare any more prefixes in this context</p> If we remove crimson, tomcat uses saxon (aelfred parser) and this fails on reading the web.xml (javax.xml.parsers.ParserConfigurationException: AElfred parser is namespace-aware) If we remove saxon and crimson then we are okay (defaults to xerces in the tomcat endorsed directory?) It seems to me that tomcat is using the parser in my web-app to read the web.xml rather than using xerces from the endorsed directory. The same web-app runs without problems in version 5.0.16. Tomcat seems to be using the service provider mechanism in 5.0.25 as I have property files in C:\\Java\\jakarta-tomcat-5.0.25 \\work\\Catalina\\localhost\\diabetes\\loader\\META-INF\\services (can't find any documents on this). If I'm using more than one parser won't this cause problems as tomcat is setting only one parser and xslt processor here? Any comments are gratefully received. Thanks, Peter Neville"}, {"bug_id": "31804", "ground_truth": ["java/org/apache/jasper/compiler/Generator.java"], "repo": "tomcat70", "reformed_query": "embracing setParent custom save root passed Tag parameter tag http", "bug_title": " setParent() is not called on nested tags in a tag file (.tagx)", "bug_description": "Hi, everybody. Suppose I have a tag file (.tagx to be precise). I have some custom tags of mine included in that tag file. If I override setParent() in such a custom tag, then I see, that it's invoked with \"null\" parameter. Custom tag is a \"Classic\" tag (extends TagSupport). Simplified example: This tag file is called \"submit.tagx\" <?xml version=\"1.0\" encoding=\"UTF-8\"?> <jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" xmlns:custom=\"http://my.com/ tags-html\" version=\"2.0\" > <jsp:directive.tag body-content=\"empty\"/> <jsp:directive.attribute name=\"action\" required=\"true\" rtexprvalue=\"true\"/> <jsp:directive.attribute name=\"label\" required=\"true\" rtexprvalue=\"true\"/> <custom:submit action=\"${action}\" label=\"${label}\" name=\"submitButton\" /> </jsp:root> In debug output from setParent(Tag) of custom:submit I see, that it's called with \"null\" value. If, instead of custom:submit, I put there another custom tag, which follows SimpleTagSupport model, then setParent(JspTag) is not called at all!!! I would expect a reference to something, representing translated class of Tag File (submit.tagx) is passed. As the result, tag nesting tree is broken. I need to access Struts html:form tag, which is the embracing tag from my inner <custom:submit> tag to obtain form name, but this is not possible. <nested:form action=\"/Action\"> <ctrl:submit action=\"save\" label=\"Save\"/> </nested:form> (where ctrl:submit is submit.tagx)"}, {"bug_id": "33356", "ground_truth": ["java/org/apache/jasper/compiler/ELParser.java"], "repo": "tomcat70", "reformed_query": "change Incorrect org function standard jasper tablib", "bug_title": " Incorrect parsing of tag attributes", "bug_description": "I get a org.apache.jasper.JasperException: with the error: \"The function string must be used with a prefix when a default namespace is not specified\" when trying to compile the following within a JSP page: <foo:set var=\"bar\" value=\"this $ is a { silly string (\"/> \"foo\" is our own tablib, it seems that Jasper seems to think that the string provided to the value attribute contains some JSP/EL which it does not. If I change the page to be: <c:set var=\"bar\" value=\"this $ is a { silly string (\"/> Then I do not get this error. However I need to use my own taglib. In the foo.tld file, the \"value\" attribute of \"set\" has rtexprvalue=true. If I set this to false then the problem goes away. However I noticed that c.tld in standard.jar also has rtexprvalue=true for the \"value\" attribute of \"set\". Why the difference in behaviour ? We also wish to have rtexprvalue=true."}, {"bug_id": "36923", "ground_truth": ["java/org/apache/jasper/compiler/Parser.java"], "repo": "tomcat70", "reformed_query": "isELIgnored ignore scriptlets reserved situations JSP delivered delivered expr scriptlets", "bug_title": " Deactivated EL expressions are not parsed for jsp expressions/scriptlets/etc", "bug_description": "JavaServer Pages Specification 2.0, section JSP.3.3.2 says: --- Since the syntactic pattern ${expr} was not reserved in the JSP specifications before JSP 2.0, there may be situations where such a pattern appears but the intention is not to activate EL expression evaluation but rather to pass through the pattern verbatim. To address this, the EL evaluation machinery can be deactivated as indicated in this section. [...] The default mode for JSP pages in a Web Application delivered using a web.xml using the Servlet 2.3 or earlier format is to ignore EL expressions; this provides for backward compatibility. --- However, even with deactivated EL expression evaluation, jsp code like: <%@ page isELIgnored=\"true\" %>${<%= \"Hello, world!\" %>} will produce output like: ${<%= \"Hello, world!\" %>} which is of course not backwards-compatible with Servlet 2.3 / JSP 1.2 container (e.g., Tomcat 4.x), where the output would be: ${Hello, world!} The ${...} syntax is widely used, and any pre-2.0 jsp pages having it would be incompatible with Tomcat 5.x even though the standard tries to ensure the compatibility."}, {"bug_id": "37326", "ground_truth": ["java/org/apache/jasper/servlet/JspServletWrapper.java"], "repo": "tomcat70", "reformed_query": "xml ascertain web JSP blank IllegalStateException discovered target sendError size", "bug_title": " No error reported when <jsp:include> has non-existent target", "bug_description": "I'm not sure this is a bug - might be expected behaviour - I'm not expert in this area.  Have tried to ascertain what should be happening, by reading the servlet/JSP spec docs and parts of the TC source code, but I'm still not quite sure.  I posted to tomcat-user twice seeking help on this (no responses). The problem that I'm seeing is that when a JSP page includes one or more JSP fragments using <jsp:include> actions, but the fragment files don't exist, the including JSP page is returned to the browser without the fragments included. It's as if the including JSP ignores the missing fragments and continues being processed.  The including page is returned with SC of 200, as if there is no problem. Nothing is written to any log file to indicate the problem. I would have expected this to return an exception or a 404, but neither happens.  Is this the expected behaviour?  As it stands, a webapp bug like this could go unnoticed for quite some time.  Normally TC is good at bringing bugs like this to the developer's attention. See attached war for simple example.  First discovered on 5.5.9, verified same behaviour on 5.5.12, both based on fresh TC installs. I appreciate that once the including JSP has written the part of its response before the include, the response could already be committed depending on buffer size, so calling sendError() will cause an IllegalStateException. Also, may not be possible to return an error page at this point, again because the response is already committed...?  Perhaps though an exception could be logged?  Or, perhaps (?)the including page's processing should be stopped, rather than allowing it to continue. Some other info: I only discovered that I had omitted the fragment files from my warfile when I first started TC from NetBeans rather than from TC batch scripts.  When I did this, the missing fragments are then reported with SC 404.  As far as I can tell, it seems that the addition of the NetBeans HTTPMonitorFilter to conf/web.xml is what causes the 404 to be reported where it was previously silent.  Have drawn a blank on why this might be. For more info (my posts to tc-user) see also: http://marc.theaimsgroup.com/? l=tomcat-user&m=113034098008166&w=2"}, {"bug_id": "37509", "ground_truth": ["java/org/apache/juli/ClassLoaderLogManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "modified trim result values ClassLoaderLogManager including charge endding len call", "bug_title": " ClassLoaderLogManager remove '\\n' at the end of logging.properties values", "bug_description": "The method ClassLoaderLogManager.replace(String) that is in charge of replacing system properties at the begining of the property also modify the end of the property due to a call to trim. This implies that Logger/Handler/Formatter that relies on properties endding with some spases (including '\\n') will have a different behaviour with JDK LogManger and tomcat ClassLoaderLogManager a modified verstion of this method could be: protected String replace(String str) { // start modification //        String result = str.trim();  // commented out int len = str.length(); int st = 0; while ((st < len) && (str.charAt(st) <= ' ')) { st++; } String result = (st > 0) ? str.substring(st) : str; // end modification if (result.startsWith(\"${\")) { int pos = result.indexOf('}'); if (pos != -1) { String propName = result.substring(2, pos); String replacement = System.getProperty(propName); if (replacement != null) { result = replacement + result.substring(pos + 1); } } } return result; }"}, {"bug_id": "37515", "ground_truth": ["java/org/apache/jasper/compiler/JDTCompiler.java", "webapps/docs/jasper-howto.xml"], "repo": "tomcat70", "reformed_query": "work baffled compiled source", "bug_title": " smap not generated by JspC when used from Ant for precompilation", "bug_description": "I've noticed that in Tomcat 5.5.12 one can pass the JspC task an smapSuppressed attribute. Unfortunately, it appears that one *still* cannot do source-level debugging of JSPs when they are precompiled via JspC with smapSuppressed=false in 5.5.12. Note that the same JSP are source-level debuggable in exactly the same set up if they are compiled on the fly by Tomcat. Unfortunately I am baffled as to why this does not work..."}, {"bug_id": "37929", "ground_truth": ["java/org/apache/jasper/runtime/PageContextImpl.java"], "repo": "tomcat70", "reformed_query": "appears spec remove SESSION apache JspWriter eventually doGetAttributeScope removal HttpSession", "bug_title": " invalidated session causes pageContext methods to fail", "bug_description": "javax.servlet.http.HttpSession methods such as getAttribute(), getValue(), getAttributeNames(), getValueNames(), etc, throw an IllegalStateException if called on a session that has been invalidated. So, with the following code in a JSP page: <% session.invalidate(); Object obj = pageContext.findAttribute(\"foo\"); %> An IllegalStateException is thrown because pageContext.findAttribute() eventually calls session.getAttribute() on a session that has been invalidated. The session that has been invalidated should simply be ignored when a method needs to process the various scopes (page, request, session, application). This impacts the following methods in PageContextImpl: public int getAttributesScope(final String name) which calls -> private int doGetAttributeScope(String name); public Object findAttribute(final String name) which calls -> private Object doFindAttribute(String name); public void removeAttribute(final String name) which calls -> private void doRemoveAttribute(String name); The fix is to catch IllegalStateException and ignore it when processing the attribute in session scope. The code then simply follows through to process application scope. No need to worry about setAttribute() because it is always invoked on a specific scope, and the spec already states that java.lang.IllegalStateException must be thrown when called on an invalidated session. pageContext.setAttribute(\"foo\", \"value of foo\", PageContext.SESSION_SCOPE); java.lang.IllegalStateException - if the scope is PageContext.SESSION_SCOPE but the page that was requested does not participate in a session or the session has been invalidated. --------------------------------------------------------------------------- At the same time, a fix should be done to method \"doRemoveAttribute(String name)\" where a try/catch block for Exception appears unnecessary. private void doRemoveAttribute(String name){ try { removeAttribute(name, PAGE_SCOPE); removeAttribute(name, REQUEST_SCOPE); if( session != null ) { try { removeAttribute(name, SESSION_SCOPE); } catch (IllegalStateException ex) { // Session has been invalidated. // Ignore and fall through to application scope. } } removeAttribute(name, APPLICATION_SCOPE); } catch (Exception ex) { // we remove as much as we can, and // simply ignore possible exceptions } } Here is a full analysis: Starting with 'removeAttribute(final String name)' - we check for null and throw NPE if necessary - we call doRemoveAttribute(name) doRemoveAttribute(name) - we call removeAttribute(name, scope) for each scope removeAttribute(final String name, final int scope) - this calls doRemoveAttribute(name, scope) doRemoveAttribute(name, scope) - page scope: attributes.remove -> won't throw an Exception - request scope: request.removeAttribute -> no documented Exception thrown - session scope: throws IllegalStateException if session is null - app scope: context.removeAttribute -> no documented Exception thrown A null value for name is already checked in removeAttribute(final String name) and we throw NPE. So this situation (removing an attr from page or request scope throwing an NPE) won't happen. In doRemoveAttribute(name), we already check on session != null before calling removeAttribute(name, SESSION_SCOPE). So there normally is no IllegalStateException thrown (except for the invalidated case). When removing an attribute from application (i.e., ServletContext) scope, any registered listeners will be notified, but the code that does that (see appserv-webtier/src/java/org/apache/catalina/core/ApplicationContext. removeAttribute()) already catches any Throwable that a listener may throw. The try/catch block is therefore unnecessary. Moreover, if any of the removal actions from the different scopes could have thrown an exception, each of them would have needed to be wrapped inside their own try/catch, so as to ensure that an exception in one scope does not cause any of the subsequent removals to be bypassed. doRemoveAttribute(String name) has therefore been modified as follows: private void doRemoveAttribute(String name){ removeAttribute(name, PAGE_SCOPE); removeAttribute(name, REQUEST_SCOPE); if( session != null ) { try { removeAttribute(name, SESSION_SCOPE); } catch (IllegalStateException ex) { // Session has been invalidated. // Ignore and fall through to application scope. } } removeAttribute(name, APPLICATION_SCOPE); } -------------------------- Changes done on glassfish. ymmv on jasper for the diffs. --- PageContextImpl.java\t9 Dec 2005 18:54:30 -0000\t1.7 +++ PageContextImpl.java\t16 Dec 2005 00:11:21 -0000\t1.8 @@ -452,8 +452,13 @@ return REQUEST_SCOPE; if (session != null) { +            try { if (session.getAttribute(name) != null) return SESSION_SCOPE; +            } catch (IllegalStateException ex) { + \t        // Session has been invalidated. +                // Ignore and fall through to application scope. +            } } if (context.getAttribute(name) != null) @@ -495,9 +500,14 @@ return o; if (session != null) { +\t    try { o = session.getAttribute(name); -            if (o != null) -                return o; + \t    } catch (IllegalStateException ex) { + \t        // Session has been invalidated. +                // Ignore and fall through to application scope. + \t    } + + \t    if (o != null) return o; } return context.getAttribute(name); @@ -559,19 +569,18 @@ } } - private void doRemoveAttribute(String name){ -        try { removeAttribute(name, PAGE_SCOPE); removeAttribute(name, REQUEST_SCOPE); if( session != null ) { +            try { removeAttribute(name, SESSION_SCOPE); +            } catch (IllegalStateException ex) { +                // Session has been invalidated. +                // Ignore and fall through to application scope. } -            removeAttribute(name, APPLICATION_SCOPE); -        } catch (Exception ex) { -            // we remove as much as we can, and -            // simply ignore possible exceptions } +        removeAttribute(name, APPLICATION_SCOPE); } public JspWriter getOut() {"}, {"bug_id": "37984", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java"], "repo": "tomcat70", "reformed_query": "userPassword Open password Open environment user patch attached assuming authenticate", "bug_title": " JNDIRealm.java not able to handle MD5 password", "bug_description": "I'm using JNDIRealm to authenticate to OpenLDAP 2.2.28.  Within OpenLDAP I've configured the userPassword attribute for each user to contain the MD5 digest, and each is prefixed with the string \"{MD5}\".  I am not an LDAP expert by any means but I believe this prefix is a standard convention.  Anyway assuming this is a convention then JNDIRealm needs to strip off the \"{MD5}\" portion much like it does with \"{SHA1}\".  See attached patch which accomplishes this and I verified it works in my environment."}, {"bug_id": "38553", "ground_truth": ["java/org/apache/catalina/authenticator/SSLAuthenticator.java"], "repo": "tomcat70", "reformed_query": "method HTTP xml config expect certificate access authenticate", "bug_title": " Wrong HTTP code for failed CLIENT-CERT authentication", "bug_description": "server.xml: =========== I set clientAuth to \"want\" tomcat-user.xml: ================ I create a role and an user with the ssl certificate metadata web.xml: ======== For a private URL on my webseite, I create a security constraint like this one: <security-constraint> <web-resource-collection> <web-resource-name>App</web-resource-name> <url-pattern>/protected.jsp</url-pattern> </web-resource-collection> <auth-constraint> <role-name>tomcat</role-name> </auth-constraint> <user-data-constraint> <transport-guarantee>CONFIDENTIAL</transport-guarantee> </user-data-constraint> </security-constraint> <login-config> <auth-method>CLIENT-CERT</auth-method> </login-config> <security-role> <role-name>tomcat</role-name> </security-role> My results: (I try to access the restricted JSP-Page) =========== 1) When there is the RIGHT client certificate in the browser keystore: it works :-) 2) When there is the WRONG client certificate I get: HTTP Status 401 - Cannot authenticate with the provided credentials (this is ok, too) 3) When there is NO client certificate I get: HTTP Status 400 - No client certificate chain in this request 400 usually stands for a bad request or bad syntax. The Bug: ======== In case 3 I expect to get HTTP Status 401."}, {"bug_id": "38570", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java"], "repo": "tomcat70", "reformed_query": "FileDirContext separate definitions moved file interpreting documentation xml docBase StandardContext", "bug_title": " if docBase path contains \"webapps\", a backslash is inserted", "bug_description": "There seem to be a problem when interpreting docBase in context definitions, if it contains the string \"webapps\". For testing, I moved tomcat-docs to a separate directory outside of webapps, then defined a file tomcat-docs.xml in CATALINA_HOME/conf/Catalina/localhost : <Context docBase=\"${catalina.home}/../something/tomcat-docs\"> </Context> When I name that directory \"something\" as above, everything works ok, http://localhost:12345/tomcat-docs displays the documentation (my tomcat runs on port 12345). When I name that directory \"webappsSomething\", it is interpreted as \"webapps/Something\" and loading the application (tomcat docu) fails on start of Tomcat: <Context docBase=\"${catalina.home}/../webappsSomething/tomcat-docs\"> </Context> 08.02.2006 15:25:30 org.apache.catalina.core.StandardContext resourcesStart SCHWERWIEGEND: Error starting static Resources java.lang.IllegalArgumentException: Document base D:\\be\\JAVA_IDE\\jakarta-tomcat-5.5.9\\..\\webapps\\Something\\tomcat-docs does not exist or is not a readable directory at org.apache.naming.resources.FileDirContext.setDocBase(FileDirContext.java:140) at org.apache.catalina.core.StandardContext.resourcesStart(StandardContext.java:3754) at org.apache.catalina.core.StandardContext.start(StandardContext.java:3925) Apparently Tomcat is fiddling around with the docBase path as soon as it contains the string webapps - why?"}, {"bug_id": "39592", "ground_truth": ["java/org/apache/catalina/ssi/SSIServletExternalResolver.java"], "repo": "tomcat70", "reformed_query": "Dispatcher Couldn StandardEngineValve ssi Protocol ASF fixed core Webapp decided", "bug_title": " SSI does not correctly process HEAD request", "bug_description": "Hello, I think there is a small bug in Tomcat 5.0 and 5.5 (at least I could see it already with many versions of Tomcat). I use SSI org.apache.catalina.ssi.SSIServlet and <param-name>isVirtualWebappRelative</param-name> <param-value>1</param-value> All my pages (*.html) are processed by the SSI <url-pattern>*.html</url-pattern> If there is a normal GET request, SSI compiles a page and everything is just OK. However, for  the HEAD request to the same page (there is no need to compile the page) the SSI still tries to do it and generates a number of exceptions (see enclosed). This error is not critical but overloads my catalina.out file. I do not think that it is difficult to fix it. I already reported this error to tomcat-dev, but decided to create a formal \"bug\" report at ASF Bugzilla to see if it was already fixed or not. This is not a big error, but it is annoying. Thanks! With the best regards, Igor Tetko ***** Apr 28, 2006 11:26:45 AM org.apache.catalina.core.ApplicationContext log SEVERE: #include--Couldn't include file: styles.html java.io.IOException: Couldn't find file: /incl/styles.html at org.apache.catalina.ssi.SSIServletExternalResolver.getFileText(SSIServletExternalResolver.java:537) at org.apache.catalina.ssi.SSIMediator.getFileText(SSIMediator.java:155) at org.apache.catalina.ssi.SSIInclude.process(SSIInclude.java:44) at org.apache.catalina.ssi.SSIProcessor.process(SSIProcessor.java:146) at org.apache.catalina.ssi.SSIServlet.processSSI(SSIServlet.java:221) at org.apache.catalina.ssi.SSIServlet.requestHandler(SSIServlet.java:187) at org.apache.catalina.ssi.SSIServlet.doGet(SSIServlet.java:123) at javax.servlet.http.HttpServlet.doHead(HttpServlet.java:270) at javax.servlet.http.HttpServlet.service(HttpServlet.java:706) at javax.servlet.http.HttpServlet.service(HttpServlet.java:802) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:672) at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:574) at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:499) at org.apache.catalina.ssi.SSIServletExternalResolver.getFileText(SSIServletExternalResolver.java:519) at org.apache.catalina.ssi.SSIMediator.getFileText(SSIMediator.java:155) at org.apache.catalina.ssi.SSIInclude.process(SSIInclude.java:44) at org.apache.catalina.ssi.SSIProcessor.process(SSIProcessor.java:146) at org.apache.catalina.ssi.SSIServlet.processSSI(SSIServlet.java:221) at org.apache.catalina.ssi.SSIServlet.requestHandler(SSIServlet.java:187) at org.apache.catalina.ssi.SSIServlet.doGet(SSIServlet.java:123) at javax.servlet.http.HttpServlet.doHead(HttpServlet.java:270) at javax.servlet.http.HttpServlet.service(HttpServlet.java:706) at javax.servlet.http.HttpServlet.service(HttpServlet.java:802) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:252) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:173) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:213) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:178) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:126) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:105) at org.apache.catalina.valves.FastCommonAccessLogValve.invoke(FastCommonAccessLogValve.java:495) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:107) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:148) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:869) at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:664) at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:527) at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:80) at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:684) at java.lang.Thread.run(Thread.java:613)"}, {"bug_id": "39724", "ground_truth": ["java/org/apache/catalina/core/StandardPipeline.java"], "repo": "tomcat70", "reformed_query": "basic code addValve valve Add valve getNext problem Note Add", "bug_title": " Bug on StandardPipeline.removeValve(Valve valve) for T5.5.16+", "bug_description": "I run into this problem with T5 when tring to add/remove/add a valve to the standard engine. -For what I understand an empty pipeline has: basic = StandardEngineValve (For example); first = null; -If you add a valve you will get basic = StandardEngineValve first = myValve (with myValve.next = StandardEngineValve) -If you remove the valve you will get basic =StandardEngineValve first = StandardEngineValve Note that StandardEngineValve is in first too here. -If I try to add a new valve given the actual code in  addValve the valve will not be added because (see the **) current = basic and current.getNext() = null; addValve(Valve valve) { // Add this Valve to the set associated with this Pipeline if (first == null) { first = valve; valve.setNext(basic); } else { Valve current = first; while (current != null) { **                if (current.getNext() == basic) { current.setNext(valve); valve.setNext(basic); break; } current = current.getNext(); } } }"}, {"bug_id": "39769", "ground_truth": ["java/org/apache/catalina/core/StandardWrapper.java"], "repo": "tomcat70", "reformed_query": "SHARED Security instanceSupport Wrapper Servlet web Capture Ctx Loader myServlet", "bug_title": " Wrong class loader when the myServlet.destroy() called if myServlet is in the T5 shared directory", "bug_description": "Hi all, My web app needs to have Thread.currentThread().getContextClassLoader() always right.  When the application is unload it seem not be the case. My classes are under the T5's shared directory (so all my servlet.getClass().getClassLoader() == the shared classloader i.e.: StandardCalssLoader. My understanding is that when executing the code in my web app Thread.currentThread().getContextClassLoader() should always give the WebappLoader used in the StandardContext. The problem occurs in StandardWrapper.unload()  before calling the servlet.destroy() method .... ClassLoader oldCtxClassLoader = Thread.currentThread().getContextClassLoader(); ClassLoader classLoader = instance.getClass().getClassLoader(); PrintStream out = System.out; if (swallowOutput) { SystemLogHandler.startCapture(); } // Call the servlet destroy() method try { instanceSupport.fireInstanceEvent (InstanceEvent.BEFORE_DESTROY_EVENT, instance); Thread.currentThread().setContextClassLoader(classLoader); if( System.getSecurityManager() != null) { SecurityUtil.doAsPrivilege(\"destroy\", instance); SecurityUtil.remove(instance); } else { instance.destroy(); } .... In the code, the INSTANCE variable is my servlet and it have been loaded by the SHARED classloader.  So the classloader set in the thread is not the right one. It Should be the classloader related to StandardContext.getLoader() This problem occurs when I try to close my T5 dos windows and I suppose will occurs when I will uninstall any webApp from my T5. I notice the problem in T5 5.5.16 but I verified and it's the same code in 5.5.17.  So probably the problem is still there Best Regards /David Gagnon"}, {"bug_id": "39875", "ground_truth": ["java/org/apache/catalina/realm/RealmBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "tomcat src src getLogger RealmBase java http java share containerLog", "bug_title": " RealmBase#init() needs cleanup", "bug_description": "In RealmBase#init(): <quote> public void init() { this.containerLog = container.getLogger(); if( initialized && container != null ) return; initialized=true; if( container== null ) { </quote> If the container is null, then a NPE will occurs. The container is not null, then the if block is no longer needed. The first line is changed at revision r372854. http://svn.apache.org/viewvc/tomcat/container/tc5.5.x/catalina/src/share/org/apache/catalina/realm/RealmBase.java?r1=371686&r2=372854"}, {"bug_id": "40380", "ground_truth": ["java/org/apache/catalina/session/StandardSession.java"], "repo": "tomcat70", "reformed_query": "expiring Potential Session Potential expiring session expiring session manager expire", "bug_title": " Potential syncro problem in StandardSession.expire(boolean)", "bug_description": "public void expire(boolean notify) { // Mark this session as \"being expired\" if needed if (expiring) return; // No man's land here synchronized (this) { if (manager == null) return; expiring = true;"}, {"bug_id": "40551", "ground_truth": ["java/org/apache/catalina/ha/session/JvmRouteBinderValve.java", "java/org/apache/catalina/ha/session/LocalStrings.properties"], "repo": "tomcat70", "reformed_query": "JVM enter replace failed sessions trigger attaching attaching route nodes", "bug_title": " Sticky sessions using PersistentManager enter indeterminate state on node failover", "bug_description": "If a cluster of nodes is being load balanced with sticky sessions, and a particular node becomes unavailable, any sessions bound to that node must be redistributed.  Particularly in the case of mod_jk these sessions will not be bound to whichever node the failover occurred on because the jessionid will still contain the JVM route of the original failed node, thus placing the session in an indeterminate state and losing sticky properties. I am attaching a patch that will trigger a session to rebind itself to a new node if the jvmroutes don't match and replace the jessionid in the browser's cookie."}, {"bug_id": "40771", "ground_truth": ["java/org/apache/coyote/http11/filters/SavedRequestInputFilter.java"], "repo": "tomcat70", "reformed_query": "body trail setEnd REPLAY designed getEnd implemented read Input work", "bug_title": " Can't read POST data from within a filter or valve", "bug_description": "I was attempting to create a Filter or Valve that could be placed in front of an Axis web service that would handle security according to the WS-Security specification. That turned out to be a rabbit trail, but I did find and fix a bug that I discovered along the way. I ran into problems reading POST data (the web service request) from the org.apache.catalina.connector.Request object exposed in the Filter/Valve interfaces. This is a chunk of code in a prototype Valve that didn't work: private ByteChunk getPOSTBody(Request request) throws IOException { ByteChunk retval = new ByteChunk(request.getContentLength()); ByteChunk body = new ByteChunk(request.getContentLength()); int bytesRead; do { bytesRead = request.getCoyoteRequest().doRead(body); retval.append(body); } while (bytesRead >= 0) ; //puts the data back into the pipe. request.getCoyoteRequest().action (ActionCode.ACTION_REQ_SET_BODY_REPLAY, retval); return retval; } This code works as designed, however the problem occurs later on when Axis attempted to parse the web service request. I don't remember the exact Axis error, but I was able to track the problem down to a bug in the org.apache.coyote.http11.filters.SavedRequestInputFilter class. The doRead method was not properly implemented to return a -1 when appropriate. Here is my modified version of the doRead method: public int doRead(ByteChunk chunk, org.apache.coyote.Request request) throws IOException { int writeLength = 0; if (chunk.getLimit() > 0 && chunk.getLimit() < input.getLength()) { writeLength = chunk.getLimit(); } else { writeLength = input.getLength(); } if(input.getOffset()>= input.getEnd()) return -1; input.substract(chunk.getBuffer(), 0, writeLength); chunk.setOffset(0); chunk.setEnd(writeLength); return writeLength; } This bug won't show up unless someone tries to use a filter/valve to do something with web services. That's not too likely because that's what we have SOAPHandlers for."}, {"bug_id": "40817", "ground_truth": ["java/org/apache/catalina/servlets/CGIServlet.java"], "repo": "tomcat70", "reformed_query": "mapping HttpServlet type webAppRootDir Servlet result java adaptive servlet fine", "bug_title": " servlet-cgi throws index out of bounds exception on certain cgi", "bug_description": "First, servlets-cgi.jar needs to exist and the servlet must be mapped: for example: <servlet-mapping> <servlet-name>cgi</servlet-name> <url-pattern>*.pl</url-pattern> </servlet-mapping> Test perl cgi script: #!/usr/bin/perl print \"Content-type: text/plain\", \"\\n\\n\"; print \"Hello world, from Perl\\n\"; One perl script is placed in www-root (\"/test.pl\") and the other in any subfolder (\"/test/test.pl\" or \"/cgi-bin/test.pl\", etc.) The cgi script in the subfolder will run fine. The cgi script in the www-root will generate an exception: java.lang.StringIndexOutOfBoundsException: String index out of range: -1 java.lang.String.substring(String.java:1768) java.lang.String.substring(String.java:1735) org.apache.catalina.servlets.CGIServlet$CGIEnvironment.findCGI(CGIServlet.java:948) org.apache.catalina.servlets.CGIServlet$CGIEnvironment.setCGIEnvironment(CGIServlet.java:1015) org.apache.catalina.servlets.CGIServlet$CGIEnvironment.<init>(CGIServlet.java:766) org.apache.catalina.servlets.CGIServlet.doGet(CGIServlet.java:584) javax.servlet.http.HttpServlet.service(HttpServlet.java:689) javax.servlet.http.HttpServlet.service(HttpServlet.java:802) The problem is this line (line 948 in CGIServlet.java): cginame = currentLocation.getParent().substring(webAppRootDir.length())+ File.separator + name; The problem is that webAppRootDir is 1 char longer than currentLocation.getParent() because webAppRootDir ends with a File.separator (in this case, a \"/\").  And removing the extra File.separator from webAppRootDir will result in a different String related exception elsewhere. And here's a fix that works: cginame = (currentLocation.getParent() + File.separator).substring(webAppRootDir.length()) + name; (If necessary, the fix can be made more adaptive by checking to see if it really does have a File.separator at the end and if not...add it...otherwise, let it be, etc.) (on a side note, I have one more bug to fix; the ENV_VAR \"SCRIPT_FILENAME\" isn't defined as it should be [required for PHP4/5] but I'll submit a different bug/fix for that.)"}, {"bug_id": "40901", "ground_truth": ["java/org/apache/catalina/servlets/DefaultServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "interpreted prevent error directory italics site file listings italics control", "bug_title": " listings page does not escape XML characters", "bug_description": "On Solaris you can have a file or directory name called \"<b>xxx\" or \"<i>yyy\". Using Tomcat's listings feature, you get a directory listing with the file name in bold or italics. I am not familiar with Javascript or cross-site scripting security problems, but I believe Tomcat escapes XML characters like \">\" and \"<\" to prevent client browsers to interpret HTML codes that are not intended to be interpreted as such for the default error page. I think the same should be done for listings, or a warning should be added to the documentation not to use it if you have no control over the file/directory names you list."}, {"bug_id": "40929", "ground_truth": ["java/org/apache/catalina/loader/StandardClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "files StandardClassLoader fact ended reflect file java updated work extend", "bug_title": " Misleading comments in StandardClassLoader", "bug_description": "Sometime during the Tomcat 5 development, the StandardClassLoader in org.apache.catalina.loader package was stripped down, and is now just a URLClassLoader. I work with code that extends the StandardClassLoader (we use the automatic reloading of jar files), and during an upgrade from tomcat 4 to tomcat 5.5 found difficultly trying to figure out what had happened to the code.  I ended up having to install SVN and do a svn log to figure out why the code was removed. When the code was stripped down, the comments in the java file (and therefore in the javadoc api) remained identical, so the javadoc api for the class is very misleading.  For instance, the comments say that the class implements Reloader, when it in fact does not. The class comments should be updated to reflect the state of the code. I can't see this as being very high priority, but it would likely be an easy to fix for people whom are in the code regularly, and it would make the javadoc much more readable for people that extend the StandardClassLoader for their own purposes."}, {"bug_id": "41074", "ground_truth": ["java/org/apache/jasper/compiler/Generator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "hard generator tag Output plugin upper jsp tags", "bug_title": " Output of tag \"jsp:plugin\" is not conform to XHTML.", "bug_description": "The jsp comiler outputs all tag required for an object in upper case letters. To be conform with XHTML lower case is required, but all tags are hard coded in the generator."}, {"bug_id": "41327", "ground_truth": ["webapps/docs/changelog.xml", "java/org/apache/jasper/servlet/JspServlet.java"], "repo": "tomcat70", "reformed_query": "error path existent jsp tomcat Jasper webapp browser", "bug_title": " Jasper does'nt display the full path of the file in a 404 Not found error page", "bug_description": "When you try accessing a non-existent jsp page in a webapp, tomcat(jasper) doesnt display the full path of the file which was not found in the browser. example: Accessing a non-existent jsp page say a.jsp with this url http://localhost:8080/jsp-examples/a.jsp would return a 404 Not Found error page which displays \"/a.jsp not found\". Rather it should be \"/jsp-examples/a.jsp not found\"."}, {"bug_id": "41606", "ground_truth": ["java/org/apache/jasper/compiler/Compiler.java"], "repo": "tomcat70", "reformed_query": "lastModified exists Interval startup getClassFileName enable Modified getClassFileName lastModified JSP", "bug_title": " The jspInit method is called twice.", "bug_description": "The problem is: The jspInit method is called twice. The definition is: -The JSP background compilations are enable. (In default web.xml, define checkInterval and define development false.) -Define the JSP with <servlet> and <load-on-startup> tag in web.xml. The proposing: org/apache/jasper/compiler/Compiler.java ---- public void compile(boolean compileClass, boolean jspcMode) throws FileNotFoundException, JasperException, Exception { .... if( compileClass ) { File targetFile = new File(ctxt.getClassFileName()); if (targetFile.exists()) { long targetLastModified = targetFile.lastModified(); if (jsw != null) { jsw.setServletClassLastModifiedTime(targetLastModified); } } } }// last of the method. ---- Regards, Yuichiro"}, {"bug_id": "41608", "ground_truth": ["webapps/docs/changelog.xml", "java/org/apache/catalina/core/StandardWrapperValve.java"], "repo": "tomcat70", "reformed_query": "Exception StandardWrapperValve log Wrapper service message log applicationDispatcher Exception apache", "bug_title": " The log level is different at same messages.", "bug_description": "I suggest a little message improvement. The log level is different at same messages. The message \"Servlet.service() for servlet {0} threw exception\" is output in eight places, but the message level is not same. --org.apache.catalina.core.ApplicationDispatcher#invoke ... wrapper.getLogger().error(sm.getString(\"applicationDispatcher.serviceException\", wrapper.getName()), e); ... wrapper.getLogger().error(sm.getString(\"applicationDispatcher.serviceException\", wrapper.getName()), e); ... wrapper.getLogger().error(sm.getString(\"applicationDispatcher.serviceException\", wrapper.getName()), rootCause); ... wrapper.getLogger().error(sm.getString(\"applicationDispatcher.serviceException\", wrapper.getName()), e); --org.apache.catalina.core.StandardWrapperValve#invoke container.getLogger().warn(sm.getString(\"standardWrapper.serviceException\", wrapper.getName()), e); ... container.getLogger().warn(sm.getString(\"standardWrapper.serviceException\", wrapper.getName()), e); ... container.getLogger().error(sm.getString(\"standardWrapper.serviceException\", wrapper.getName()), rootCause); ... container.getLogger().error(sm.getString(\"standardWrapper.serviceException\", wrapper.getName()), e); Are there any reasons for using getLogger().warn()? I think it would be better that all of them use getLogger().error(...)."}, {"bug_id": "41666", "ground_truth": ["java/org/apache/catalina/servlets/DefaultServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "resource result code code failure headerValue lastModified PRECONDITION work caused", "bug_title": " If-Unmodified-Since failure", "bug_description": "The If-Unmodified-Since header doesn't work enoughly. failed case: The If-Unmodified-Since header value: 1000000(milliseconds) The lastModified value of target resource: 1001000(milliseconds) In this case, the response's status code should be SC_PRECONDITION_FAILED, but the result is not so. caused by: In DefaultServlet#checkIfUnmodifiedSince: if ( lastModified > (headerValue + 1000)) { I think it should be: if ( lastModified >= (headerValue + 1000)) {"}, {"bug_id": "41869", "ground_truth": ["java/org/apache/jasper/compiler/Validator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "JSP provide TagData Attribute pageInfo isELIgnored attribute attributes attributes considered", "bug_title": " Should EL (Expression Language) expressions result in the TagData.REQUEST_TIME_VALUE object?", "bug_description": "I have a custom tag with attributes defined in the TLD file as allowing run- time expression values, meaning: <rtexprvalue>true</rtexprvalue> I also have a TagExtraInfo class that I am using to validate the values provided. Inside my TagExtraInfo sub-class I have code such as this: Object attr = data.getAttribute(\"groupSize\"); if ( attr != null && !attr.equals(TagData.REQUEST_TIME_VALUE) { and so on.   When, in my JSP, I provide attribute values such as \"<%= 10 * 14 %\" (JSP scriplet) I do indeed get the TagData.REQUEST_TIME_VALUE object back on this call. However, when I instead have an EL value, something like \"${groupSizeValue}\", I do not received the REQUEST_TIME_VALUE distinguished object back.  I receive a String object, containing the text \"${groupSizeValue}\".  Is this the correct behavior?  Everything I have read (books, Google searches, etc.) seems to point me in the thinking that this is a bug. From looking at the tomcat 5.5.20 and 5.5.23 source code, I see where the JspAttribute (nested class of Node) is created.  In the Validator class, line 1117, is the creation for this object passing the constant \"false\" for the \"expr\" argument (5th argument to the 1st ctor of this class).  I believe it is line 1117 that would be getting executed since the if statement preceding this is: if (el.containsEL() && !pageInfo.isELIgnored()) { So, my question is, why would an EL expression when EL is not being ignored be considered not an expression?"}, {"bug_id": "42039", "ground_truth": ["java/org/apache/catalina/core/StandardWrapperValve.java"], "repo": "tomcat70", "reformed_query": "output output Unavailable stack Tomcat Tomcat Exception thrown doesn Unavailable", "bug_title": " Tomcat doesn't output the stack trace of UnavailableException.", "bug_description": "When UnavailableException is thrown from the Servlet:init, Tomcat doesn't output the stack trace of UnavailableException. The cause of problem is lost. Tomcat should output the stack trace at the \"invoke\" method of StandardWrapperValue."}, {"bug_id": "42071", "ground_truth": ["java/org/apache/jasper/servlet/JspServletWrapper.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Unavailable JSP returns access IllegalStateException UnavailableException JSP access occurs status", "bug_title": " If a JSP throws an UnavailableException twice, an IllegalStateException occurs.", "bug_description": "If a JSP throws an UnavailableException twice, an IllegalStateException occurs. first access: JSP throws UnavailableException. second access: If the JSP throws an UnavailableException again then an IllegalStateException occurs and Tomcat returns status code:500 to the client. The problem is not that the IllegalStateException occurs. The problem is that the JSP can be called even though it cannot be used."}, {"bug_id": "42072", "ground_truth": ["java/org/apache/jasper/servlet/JspServletWrapper.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "JSP accessed SRV Jsp time SRV Java Destroy jsp Servlet", "bug_title": " The call of the jspDestroy method violates it about the Java Servlet Specification 2.4, SRV.2.3.2.1.", "bug_description": "When a JSP is accessed for a second time, the jspDestroy method is called even if a ServletException is thrown from the init method of the class that extends HttpJspPage. This violates the Java Servlet Specification 2.4, SRV.2.3.2.1."}, {"bug_id": "42119", "ground_truth": ["java/org/apache/tomcat/util/http/ContentType.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Type parseCharacterEncoding getCharsetFromContentType Coyote returns additional multipart code occur src", "bug_title": " request.getCharacterEncoding misparses charset=UTF-8; xyz=3", "bug_description": "(This bug is also present in Coyote source 6.0.10.) If there is an HTTP header Content-Type: text/abc; charset=UTF-8; xyz=3 request.getCharacterEncoding() returns \"UTF-8; xyz=3\" but Tomcat 4.1.24 returns \"UTF-8\". In Tomcat 4.1.24, request.getCharacterEncoding uses parseCharacterEncoding defined in jakarta-tomcat-4.1.24-src/catalina/src/share/org/apache/catalina/util/RequestUtil.java and it correctly handles the case of other Content-Type parameters. In Tomcat 5.5.23, however, request.getCharacterEncoding uses getCharsetFromContentType defined in from apache-tomcat-5.5.23-src/connectors/util/java/org/apache/tomcat/util/http/ContentType.java which does not search for a possible terminating semicolon in the charset, thus erroneously including additional characters in the charset. The code in 5.5.23 has a comment begins // Basically return everything after \";charset=\" Please consider using the code from 4.1.24 This problem showed up when Content-Type was multipart/mixed and a client specified a charset parameter to Content-Type; however, it will occur in any Content-Type where charset is specified and is not the last parameter."}, {"bug_id": "42361", "ground_truth": ["java/org/apache/catalina/authenticator/FormAuthenticator.java", "webapps/docs/changelog.xml", "java/org/apache/catalina/authenticator/SavedRequest.java"], "repo": "tomcat70", "reformed_query": "content encoding custom login result verified application type redirected request", "bug_title": " POST content type incorrect for multipart forms after login", "bug_description": "When using a form with a custom encoding (e.g. \"multipart/form-data\"), the content type is not restored after a redirect to a login page (auth-method = FORM). To reproduce: - A page that POSTs using multipart/form-data encoding (or anything other than application/x-www-form-urlencoded) to a result page that is protected by a login page (auth-method=FORM) is invoked. - Even though the multipart POST data exists (verified by reading input stream of request from result page) the content type of the request is always \"application/x-www-form-urlencoded\". - This only happens when redirected to the login page first.  It does not happen if already logged in."}, {"bug_id": "42436", "ground_truth": ["java/org/apache/catalina/startup/WebRuleSet.java"], "repo": "tomcat70", "reformed_query": "Introspection service xerces form extra qname Illegal web exception trunk", "bug_title": " service-qname and soap-header not parsed correctly", "bug_description": "The service-qname and soap-header elements are type j2ee:xsdQNameType according to the schema at: https://svn.apache.org/repos/asf/tomcat/tc6.0.x/trunk/java/javax/servlet/resources/j2ee_web_services_client_1_1.xsd Using this schema, an example soap-header element might look like: <soap-header xmlns:myns=\"http://myns.org\">myns:extra-header</soap-header> However Tomcat's digester expects a soap-header element to look like: <soap-header> <namespaceURI>http://myns.org</namespaceURI> <localpart>extra-header</localpart> </soap-header> which is from a previous webservice DTD, I think. When the digester processes a web.xml that uses the correct form of <soap-header> it produces this stack trace: May 16, 2007 10:18:08 AM org.apache.tomcat.util.digester.Digester endElement SEVERE: End event threw exception java.lang.IllegalArgumentException: Can't convert argument: null at org.apache.tomcat.util.IntrospectionUtils.convert(IntrospectionUtils.java:976) at org.apache.tomcat.util.digester.CallMethodRule.end(CallMethodRule.java:523) at org.apache.tomcat.util.digester.Rule.end(Rule.java:229) at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:633) <service-qname> elements that use the correct form do not produce a stacktrace but they are not processed correctly."}, {"bug_id": "42444", "ground_truth": ["java/org/apache/catalina/valves/AccessLogValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "buf access AccessLogValve AccessLogValve Valve apache form revision addElement addElement", "bug_title": " Potential NullPointerException in org.apache.catalina.valves.AccessLogValve", "bug_description": "In the class AccessLogValve.RequestElement in the method addElement there is an access of the form: request.getProtocol(), even though the variable request is known to be 'null' which will cause a NullPointerException. Patch below: --- Index: F:/Workspace/Apache2/tomcat6/java/org/apache/catalina/valves/AccessLogValve.java =================================================================== --- F:/Workspace/Apache2/tomcat6/java/org/apache/catalina/valves/AccessLogValve.java\t(revision 538877) +++ F:/Workspace/Apache2/tomcat6/java/org/apache/catalina/valves/AccessLogValve.java\t(working copy) @@ -1035,7 +1035,7 @@ buf.append(request.getProtocol()); } else { buf.append(\"- - \"); -                buf.append(request.getProtocol()); +                // buf.append(request.getProtocol()); } } }"}, {"bug_id": "42503", "ground_truth": ["java/org/apache/naming/resources/FileDirContext.java"], "repo": "tomcat70", "reformed_query": "doesn jsp ROOT foreign Server Resource modified size time", "bug_title": " ServletContext.getResourceAsStream returns stale data", "bug_description": "Under certain conditions, the resource cache implementation used by the servlet/JSP engine (in org.apache.naming.resource) does not detect that a file in its cache has been modified and therefore returns the previous contents of the file. This happens only * when the file contents are modified but the file length doesn't change * until the time the first change in the file is detected after server startup To reproduce the problem, put the attached test.jsp and test.txt into the ROOT web app and then do the following. (I used Tomcat 6's trunk for the test) % cat test.txt abcd % telnet . 9080 Trying 0.0.0.0... Connected to .. Escape character is '^]'. GET /test.jsp HTTP/1.0 HTTP/1.1 200 OK Server: Apache-Coyote/1.1 Set-Cookie: JSESSIONID=706D6FE8B06687509D42E79DBEE266EF; Path=/ Content-Type: text/html Content-Length: 26 Date: Wed, 23 May 2007 23:03:05 GMT Connection: close File contents=[ abcd ] Connection to . closed by foreign host. % cat test.txt (change the contents but not the size) efgh % telnet . 9080 Trying 0.0.0.0... Connected to .. Escape character is '^]'. GET /test.jsp HTTP/1.0 HTTP/1.1 200 OK Server: Apache-Coyote/1.1 Set-Cookie: JSESSIONID=2B144247B747F54184114FA82869DE14; Path=/ Content-Type: text/html Content-Length: 26 Date: Wed, 23 May 2007 23:04:24 GMT Connection: close File contents=[ abcd ]"}, {"bug_id": "42530", "ground_truth": ["java/org/apache/catalina/session/ManagerBase.java"], "repo": "tomcat70", "reformed_query": "Nullpointer doGet changed Hash sessions http Process context backgroundProcess HashMap", "bug_title": " ManagerBase.backgroundProcess throws NullPointerException.", "bug_description": "ManagerBase.backgroundProcess throws NullPointerException. java.lang.NullPointerException at org.apache.catalina.session.ManagerBase.processExpires(ManagerBase.java:682) at org.apache.catalina.session.ManagerBase.backgroundProcess(ManagerBase.java:667) at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1316) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1601) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1610) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1610) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1590) at java.lang.Thread.run(Thread.java:595) Environment: Tomcat6.0.13 JDK1.5.11 TestServletF protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { HttpSession session = request.getSession(); session.invalidate(); } Test: ab -c 3000 -n 300000 http://localhost:8080/contextName/TestServlet It is as follows in org.apache.catalina.session.ManagerBase:(findSessions() that is called by processExpires()). public Session[] findSessions() { Session results[] = null; synchronized (sessions) { results = new Session[sessions.size()];  ----- (A) results = (Session[]) sessions.values().toArray(results); ----- (B) } return (results); } In Tomcat6, sessions of ManagerBase has been changed from HashMap to ConcurrentHashMap. At the same time, synchronized operations of sessions have been removed from the  methods such as findSession(String is), add(Session session), and remove(Session session). However, if the lock of sessions is not acquired by add(Session session) and remove(Session session), Servlets can execute session.invalidate() between (A) and (B). (see above.) As a result, NullpointerException is thrown by processing the 682 line of ManagerBase.processExpires(). if (!sessions[i].isValid()) { I think add(Session session) and remove(Session session) should manipulate sessions in synchronized manner like Tomcat5.5."}, {"bug_id": "42579", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java"], "repo": "tomcat70", "reformed_query": "respond directory ldap servers discovered SVN repo Search cursory server", "bug_title": " [Patch] JNDIRealm fails to parse absolute names", "bug_description": "Active Directory can respond to a query with SearchResult's that are not relative.  We discovered this happening with a directory hosted across many servers when the userBase was not sufficient to identify a single server. In getUserBySearch, JNDIRealm assumes that the SearchResult is relative and goes about creating a DN for the user by appending together the various bits of names it gets back.  This is definitely wrong for absolute names which are URL's of the form:  ldap://server/encoded_user_dn I discovered this issue in Tomcat 5.5 and a cursory look at the SVN repo for Tomcat 6.0 reveals that this bug is also present there. I have a patch for this issue which I will attach."}, {"bug_id": "42648", "ground_truth": ["java/org/apache/catalina/tribes/transport/nio/NioReplicationTask.java"], "repo": "tomcat70", "reformed_query": "getOptions transport NioReceiver rxBufSize allocateDirect Xmx instance direct Tomcat Buf", "bug_title": " SWAP increases by the cluster of Tomca6", "bug_description": "SWAP increases by the cluster of Tomca6 and operation becomes unstable. Environment Tomcat6.0.13 JDK1.5.11 memory : 2G Heap size : - Xmx1500m -Xms1500m SWAP increases only for direct=\"true\". It occurs when operating for a long time by a high load. <Receiver className=\"org.apache.catalina.tribes.transport.nio.NioReceiver\" ... direct=\"true\" /> SWAP doesn't increase when setting it to direct =\"false\". <Receiver className=\"org.apache.catalina.tribes.transport.nio.NioReceiver\" ... direct=\"false\" /> I noticed the following. In org.apache.catalina.tribes.transport.nio.NioReplicationTask,buffer is made per run method. public synchronized void run() { if ( (getOptions() & OPTION_DIRECT_BUFFER) == OPTION_DIRECT_BUFFER ) { buffer = ByteBuffer.allocateDirect(getRxBufSize()); }else { buffer = ByteBuffer.allocate (getRxBufSize()); } if (key == null) { return;\t// just in case } .... The buffer is enough if made once. For instance, The creating of buffer by the run method is stopped. public synchronized void run() { //    \tif ( (getOptions() & OPTION_DIRECT_BUFFER) == OPTION_DIRECT_BUFFER ) { //            buffer = ByteBuffer.allocateDirect(getRxBufSize()); //        }else { //            buffer = ByteBuffer.allocate (getRxBufSize()); //        } .... Creating of buffer by the setRxBufSize method. public void setRxBufSize(int rxBufSize) { this.rxBufSize = rxBufSize; if ( (getOptions() & OPTION_DIRECT_BUFFER) == OPTION_DIRECT_BUFFER ) { buffer = ByteBuffer.allocateDirect(getRxBufSize()); }else { buffer = ByteBuffer.allocate (getRxBufSize()); } } Result. SWAP doesn't increase."}, {"bug_id": "42650", "ground_truth": ["java/org/apache/catalina/tribes/transport/nio/PooledParallelSender.java"], "repo": "tomcat70", "reformed_query": "apache catalina apache common sendMessage sendClusterDomain Parallel traces java ReplicationValve", "bug_title": " PooledParallelSender.sendMessage throws NullpointerException", "bug_description": "org.apache.catalina.tribes.transport.PooledSender.getSender() has the possibility of returning Null. However, org.apache.catalina.tribes.transport.nio.PooledParallelSender.sendMessage doesn't check Null. (PooledParallelSender.sendMessage calls getSender()) Therefore, NullpointerException is thrown. Finally, NullpointerException is thrown in the finally block. The following are the stack traces. org.apache.catalina.tribes.ChannelException: java.lang.NullPointerException; No faulty members identified. at org.apache.catalina.tribes.group.GroupChannel.send (GroupChannel.java:225) at org.apache.catalina.tribes.group.GroupChannel.send (GroupChannel.java:175) at org.apache.catalina.ha.tcp.SimpleTcpCluster.send (SimpleTcpCluster.java:835) at org.apache.catalina.ha.tcp.SimpleTcpCluster.sendClusterDomain (SimpleTcpCluster.java:814) at org.apache.catalina.ha.tcp.ReplicationValve.send (ReplicationValve.java:551) at org.apache.catalina.ha.tcp.ReplicationValve.sendMessage (ReplicationValve.java:535) at org.apache.catalina.ha.tcp.ReplicationValve.sendSessionReplicationMessage (ReplicationValve.java:517) at org.apache.catalina.ha.tcp.ReplicationValve.sendReplicationMessage (ReplicationValve.java:428) at org.apache.catalina.ha.tcp.ReplicationValve.invoke (ReplicationValve.java:362) at org.apache.catalina.connector.CoyoteAdapter.service (CoyoteAdapter.java:261) at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190) at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:283) at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:767) at org.apache.jk.common.ChannelSocket.processConnection (ChannelSocket.java:697) at org.apache.jk.common.ChannelSocket$SocketConnection.runIt (ChannelSocket.java:889) at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run (ThreadPool.java:686) at java.lang.Thread.run(Thread.java:595) Caused by: java.lang.NullPointerException at org.apache.catalina.tribes.transport.PooledSender.returnSender (PooledSender.java:48) at org.apache.catalina.tribes.transport.nio.PooledParallelSender.sendMessage (PooledParallelSender.java:52) at org.apache.catalina.tribes.transport.ReplicationTransmitter.sendMessage (ReplicationTransmitter.java:80) at org.apache.catalina.tribes.group.ChannelCoordinator.sendMessage (ChannelCoordinator.java:78) at org.apache.catalina.tribes.group.ChannelInterceptorBase.sendMessage (ChannelInterceptorBase.java:75) at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.sendMessage (TcpFailureDetector.java:87) at org.apache.catalina.tribes.group.ChannelInterceptorBase.sendMessage (ChannelInterceptorBase.java:75) at org.apache.catalina.tribes.group.interceptors.MessageDispatchInterceptor.sendMe ssage(MessageDispatchInterceptor.java:73) at org.apache.catalina.tribes.group.ChannelInterceptorBase.sendMessage (ChannelInterceptorBase.java:75) at org.apache.catalina.tribes.group.GroupChannel.send (GroupChannel.java:216) When Sender cannot be acquired, it is necessary to throw ChannelException. Otherwise, because the exception can not catch with interceptor such as org.apache.catalina.tribes.group.interceptors.TcpFailureDetector, the exception handling cannot be done. The same processing of org.apache.catalina.tribes.transport.bio.PooledMultiSender checks Null."}, {"bug_id": "42693", "ground_truth": ["java/org/apache/jasper/compiler/Compiler.java"], "repo": "tomcat70", "reformed_query": "clicking choose decribed warning items jsp PROBLEM calling menuitem Tag", "bug_title": " JSP-Generation error with recursive tagfile structure", "bug_description": "addendum: it's Version 6.13 (not available in combobox above) scenario: ========= a menu is decribed by a tree structure; rendering the menu is done by a tagfile 'render_menuitem', which renders the current item either as a leaf item (clicking on it causes an action) or as a node item (clicking on it opens another next-level submenu); rendering the submenu is done by calling the tagfile again from within its body; this worked fine with tomcat 5.0.x and 5.5.x to make it clear see the following pseudo code (the original code is to voluminous): tagfile 'render_menuitem.tagx': <jsp:root ...> <jsp:directive.attribute name=\"menu_item\"/> <c:choose> <c:when test=\"${menu_item.isNode} <div>node: ${menu_item.label}</div> <c:forEach var=\"sub_item\" items=\"menu_item.children\"> <!-- THIS IS GOING TO CAUSE THE PROBLEM WITH TOMCAT6: --> <tags:render_menuitem menu_item=\"${sub_item}\"/> </c:forEach> <c:when> <c:otherwise> <div>leaf: ${menu_item.label}</div> </c:otherwise> </c:choose> </jsp:root> faulty behaviour: ================ with tomcat 6.0.13, the generated Java-Source for the tagfile reveals, that the body of the doTag() method is empty and therefore emits no html; the compilation itself was silently done, no error or warning was shown in the logfiles."}, {"bug_id": "42747", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java"], "repo": "tomcat70", "reformed_query": "descriptor CATALINA StandardContext descriptors work work attribute context BASE className", "bug_title": " Context className attribute ignored for contexts deployed from descriptors in web/META-INF/context.xml", "bug_description": "When deploying an app from a context descriptor inside a webapp/META-INF directory via context.xml, the className is ignored and the context is created as a StandardContext.  I've tried to use a ReplicatedContext class in a cluster from this configuration and it does not work.  However, it does work if i move the context.xml to $CATALINA_BASE/conf/[EngineName]/[HostName]/webapp.xml."}, {"bug_id": "43117", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java"], "repo": "tomcat70", "reformed_query": "getWorkDir configuration dangerousness revision application trunk Dangerousness getWorkDir Retrieve point", "bug_title": " Dangerousness of workDir setting on Context", "bug_description": "Hi, I'd like to point out the dangerousness of workDir setting on Context. If workDir is an empty string, i.e. workDir=AA, then workDir will be set as CATALINA_HOME. Therefore if application will be reloaded, then the files in CATALINA_HOME will be deleted. I know this problem is caused by wrong configuration, but it is too dangerous, anyway. I propose a patch. Index: /trunk/java/org/apache/catalina/core/StandardContext.java =================================================================== --- /trunk/java/org/apache/catalina/core/StandardContext.java\t(revision 565643) +++ /trunk/java/org/apache/catalina/core/StandardContext.java\t(working copy) @@ -5006,7 +5006,7 @@ // Acquire (or calculate) the work directory path String workDir = getWorkDir(); -        if (workDir == null) { +        if (workDir == null || workDir.length() == 0) { // Retrieve our parent (normally a host) name String hostName = null;"}, {"bug_id": "43142", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java"], "repo": "tomcat70", "reformed_query": "copy webapp tomcat FOLDER load app xxx copy war war", "bug_title": " webapp expanded in a FOLDER named webapps/xxx.war is loaded TWICE", "bug_description": "reproduce: copy the expanded of file xxx.war file in a FOLDER tomcat/webapps/xxx.war bug: tomcat will load the app TWICE"}, {"bug_id": "43216", "ground_truth": ["java/org/apache/catalina/session/StandardManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Access Object patch standard String endAccess ACTIVITY ois readObjectData ois", "bug_title": " ACTIVITY_CHECK does not work correctly when Tomcat is restarted", "bug_description": "Hi, I noticed that org.apache.catalina.session.StandardSession.ACTIVITY_CHECK does not work correctly because the StandardSession#accessCount will be set as -1 when Tomcat is restarted and session is loaded from the SESSION.ser file. StandardManager#doLoad() calls session.endAccess() and this method execute 2 things. * set isNew = false * decrement accessCount I think isNew attribute is already set by session.readObjectData(ois) in StandardManager#doLoad(), and accessCount is already set as 0. IMHO, it is not necessary calling session.endAccess() in the doLoad(). Here is a patch. Index: /tc6.0.x/trunk/java/org/apache/catalina/session/StandardManager.java =================================================================== --- /tc6.0.x/trunk/java/org/apache/catalina/session/StandardManager.java (revision 569774) +++ /tc6.0.x/trunk/java/org/apache/catalina/session/StandardManager.java (working copy) @@ -395,7 +395,6 @@ session.setManager(this); sessions.put(session.getIdInternal(), session); session.activate(); -                    session.endAccess(); } } catch (ClassNotFoundException e) { log.error(sm.getString(\"standardManager.loading.cnfe\", e), e);"}, {"bug_id": "43236", "ground_truth": ["java/org/apache/catalina/connector/Response.java"], "repo": "tomcat70", "reformed_query": "getWriter circumstances works output outputBuffer add resets call hold Response", "bug_title": " Response.setCharacterEncoding() fails after Response.getWriter() and Response.reset()", "bug_description": "The class org.apache.catalina.connector.Response resets the internal hold coyoteResponse and outputBuffer during reset(): public void reset() { if (included) return;     // Ignore any call from an included servlet coyoteResponse.reset(); outputBuffer.reset(); } but if anyone has already set the characterEncoding (e.g. to UTF-8) and already got the writer, than all following invocations of request.setCharacterEncoding() will do nothing, because the internal save flag for usingWriter is not reseted. This is very annoying, because the coyoteResponse.reset(), resets the characterEncoding to iso8859-1. So I have no change to change/reset the charaterEncoding to UTF-8. I'll think if you reset the response, you should also reset the usingWriter flag or add another special flag, that works with this circumstances."}, {"bug_id": "43285", "ground_truth": ["java/org/apache/el/parser/AstValue.java"], "repo": "tomcat70", "reformed_query": "lang exception Component faces parser HtmlCommandButton Wrapper parser http Connection", "bug_title": " Missing EL Coercion causes argument type mismatch", "bug_description": "I'll attach a sample web application reproducing the error. Note that this error only occurs when using Tomcat 6.0.x (i.e. it works with Jetty as it uses Sun's EL RI). Moreover it doesn't matter which JSF implementation you're using to reproduce the error (I just wanted to mention that as it's definitely no bug in MyFaces even though the following stack trace shows a FacesException). The exception stack trace: javax.faces.FacesException: Exception while calling broadcast on component : {Component-Path : [Class: javax.faces.component.UIViewRoot,ViewId: /home.jsp][ Class: javax.faces.component.html.HtmlForm,Id: j_id_jsp_923754602_1][Class: javax.faces.component.html.HtmlCommandButton,Id: j_id_jsp_923754602_3]} at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:494) at javax.faces.component.UICommand.broadcast(UICommand.java:105) at javax.faces.component.UIViewRoot._broadcastForPhase(UIViewRoot.java:292) at javax.faces.component.UIViewRoot.process(UIViewRoot.java:209) at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:117) at org.apache.myfaces.lifecycle.InvokeApplicationExecutor.execute(InvokeApplicationExecutor.java:32) at org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:95) at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:70) at javax.faces.webapp.FacesServlet.service(FacesServlet.java:144) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:263) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:844) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:584) at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447) at java.lang.Thread.run(Thread.java:619) Caused by: org.apache.jasper.el.JspELException: /home.jsp(12,3) '#{numberBean.number}' java.lang.IllegalArgumentException: argument type mismatch at org.apache.jasper.el.JspValueExpression.setValue(JspValueExpression.java:94) at org.apache.myfaces.event.SetPropertyActionListener.processAction(SetPropertyActionListener.java:72) at javax.faces.event.ActionEvent.processListener(ActionEvent.java:48) at javax.faces.component.UIComponentBase.broadcast(UIComponentBase.java:489) ... 20 more Caused by: java.lang.IllegalArgumentException: argument type mismatch at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at javax.el.BeanELResolver.setValue(BeanELResolver.java:108) at javax.el.CompositeELResolver.setValue(CompositeELResolver.java:68) at org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.access$501(FacesCompositeELResolver.java:46) at org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver$6.invoke(FacesCompositeELResolver.java:132) at org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.invoke(FacesCompositeELResolver.java:148) at org.apache.myfaces.el.unified.resolver.FacesCompositeELResolver.setValue(FacesCompositeELResolver.java:128) at org.apache.el.parser.AstValue.setValue(AstValue.java:114) at org.apache.el.ValueExpressionImpl.setValue(ValueExpressionImpl.java:249) at org.apache.jasper.el.JspValueExpression.setValue(JspValueExpression.java:85) ... 23 more"}, {"bug_id": "43366", "ground_truth": ["java/org/apache/catalina/manager/ManagerServlet.java"], "repo": "tomcat70", "reformed_query": "CentOS howto command FAIL Cent command exhibit Fedora manager sessions", "bug_title": " Session Statistics command in manager fails with \"Unknown command /sessions\"", "bug_description": "A documentation page for Tomcat 6 at http://tomcat.apache.org/tomcat-6.0-doc/manager-howto.html#Session%20Statistics allows for the following command to be used in the manager: http://localhost/manager/sessions?path=/ This used to work in Tomcat 5. In Tomcat 6, the following error is returned: FAIL - Unknown command /sessions I have created two different installations of Tomcat 6.0.14 (one on CentOS 5, and one on Fedora 7). Both installations exhibit the same failure."}, {"bug_id": "43435", "ground_truth": ["java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "executed mapMembers Iterator codes entrySet high org java lot tomcat", "bug_title": " AbstractReplicatedMap.memberDisappeared is executed more than the necessity.", "bug_description": "The following codes are in the memberDisappeared method of org.apache.catalina.tribes.tipis.AbstractReplicatedMap. public void memberDisappeared(Member member) { boolean removed = false; synchronized (mapMembers) { removed = (mapMembers.remove(member) != null ); } Iterator i = super.entrySet().iterator(); while (i.hasNext()) { ** omit Relocate of session. ** This means relocate of the session is done every time after member is deleted from mapMembers (The value of removed : regardless of true/false). I think that if the member has already been deleted, the relocate of the session need not be done. This most strongly influencing is stop Tomcat(setting TcpFailureDetector) in Cluster at a high load (A lot of requests are processed at the same time). Above-mentioned case is The relocate of the session is done at all requests where memberDisappeared is detected by TcpFailureDetector. The relocate of the session is a little heavy processing. IMHO, this is not good thing. I made AbstractReplicatedMap's patch. Index: /tomcat6- trunk/java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java =================================================================== --- /tomcat6- trunk/java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java (revision 577691) +++ /tomcat6- trunk/java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java (working copy) @@ -713,6 +713,7 @@ boolean removed = false; synchronized (mapMembers) { removed = (mapMembers.remove(member) != null ); +            if (!removed) return; } Iterator i = super.entrySet().iterator(); Regards."}, {"bug_id": "43617", "ground_truth": ["java/org/apache/jasper/compiler/Generator.java"], "repo": "tomcat70", "reformed_query": "JSP java attribute tag org", "bug_title": " attribute values within a .tag(x) file are not properly escaped", "bug_description": "Attribute values within a .tag(x) file are not properly escaped when they are converted into .java files. E.g Create a .tagx file with this content <jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" xmlns=\"http://www.w3.org/1999/xhtml\" version=\"2.1\"> <div test='\"'>Hello world</div> </jsp:root> Call this tag from a .jsp page. Will attach a patch within some minutes"}, {"bug_id": "43706", "ground_truth": ["java/org/apache/catalina/servlets/WebdavServlet.java"], "repo": "tomcat70", "reformed_query": "resource passed TESTS finish WebDAV litmus copymove WARNING resource patch", "bug_title": " Fix a litmus warning for WebdavServlet", "bug_description": "The litmus WebDAV compliance test suite produces a couple of warnings in its 'copymove' group of tests. This is the output on tomcat6 trunk: $ env TESTS=\"copymove\" litmus http://localhost:8080/webdav/ -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... WARNING: COPY to new resource didn't give 201 ...................... pass (with 1 warning) 4. copy_overwrite........ pass 5. copy_cleanup.......... pass 6. copy_coll............. pass 7. move.................. WARNING: MOVE to new resource didn't give 201 ...................... pass (with 1 warning) 8. move_coll............. pass 9. move_cleanup.......... pass 10. finish................ pass <- summary for `copymove': of 11 tests run: 11 passed, 0 failed. 100.0% -> 2 warnings were issued. With my patch the warnings are gone: $ env TESTS=\"copymove\" litmus http://localhost:8080/webdav/ -> running `copymove': 0. init.................. pass 1. begin................. pass 2. copy_init............. pass 3. copy_simple........... pass 4. copy_overwrite........ pass 5. copy_cleanup.......... pass 6. copy_coll............. pass 7. move.................. pass 8. move_coll............. pass 9. move_cleanup.......... pass 10. finish................ pass <- summary for `copymove': of 11 tests run: 11 passed, 0 failed. 100.0%"}, {"bug_id": "43868", "ground_truth": ["java/org/apache/tomcat/util/modeler/ManagedBean.java"], "repo": "tomcat70", "reformed_query": "ManagedBean getGetter Setter remove Bean object remove replace getGetter MBean", "bug_title": " MBeanServer invoke issue", "bug_description": "Impossible to invoke \"removeRole\" or other MBean methods and \"setAttribute\" by MBeanServer cause of the same bug in ManagedBean.java at both lines 545 (getSetter method) and 604 (getInvoke method): object = this; Must be replace by: object = bean; Fortunately getGetter method is correct."}, {"bug_id": "43893", "ground_truth": ["java/org/apache/catalina/servlets/WebdavServlet.java"], "repo": "tomcat70", "reformed_query": "Don PROPFIND User plain Type status Type WebDAV localhost file", "bug_title": " WebdavServlet returns incorrect values for the \"href\" property when it is mapped with / url prefix, instead of /*", "bug_description": "Deploy the attached WAR file under a vanilla installation of Tomcat 6.0.14, then send the following WebDAV request (I simply pasted it in netcat, maybe telnet will work too if you don't have netcat): PROPFIND /webdav/file.txt HTTP/1.1 Content-Type: text/xml; charset=utf-8 User-Agent: Jakarta Commons-HttpClient/3.0 Host: localhost:8080 Depth: 0 Don't forget to press enter twice at the end. Observe the result: <?xml version=\"1.0\" encoding=\"utf-8\" ?> <multistatus xmlns=\"DAV:\"><response><href>/webdav/file.txt/file.txt</href> <propstat><prop><creationdate>2007-11-18T07:42:14Z</creationdate> <displayname><![CDATA[file.txt]]></displayname> <getlastmodified>Sun, 18 Nov 2007 07:42:14 GMT</getlastmodified> <getcontentlength>0</getcontentlength> <getcontenttype>text/plain</getcontenttype> <getetag>W/\"0-1195371734000\"</getetag> <resourcetype/><source></source> <supportedlock><lockentry><lockscope><exclusive/></lockscope><locktype><write/ ></locktype></lockentry><lockentry><lockscope><shared/></ lockscope><locktype><write/></locktype></lockentry></supportedlock> </prop> <status>HTTP/1.1 200 OK</status> </propstat> </response> </multistatus> Note in particular the incorrect value in <href>/webdav/file.txt/file.txt</ href>, paths are being duplicated. This wouldn't usually be a big problem as many WebDAV clients don't rely so much on this \"href\" value, but the Apache slide-webdavlib client library relies on it and breaks if it's incorrect, so any WebDAV enabled applications using this library will not work with Tomcat 6. That's the only reason I marked this bug as major, apologies if it's a wrong classification."}, {"bug_id": "43909", "ground_truth": ["java/org/apache/el/lang/EvaluationContext.java"], "repo": "tomcat70", "reformed_query": "locale EvaluationContext EvaluationContext org Context EvaluationContext lang ELContext prohibits purpose", "bug_title": " EL EvaluationContext wrapper hides locale", "bug_description": "org.apache.el.lang.EvaluationContext doesn't pass locale to the wrapped ELContext as does org.apache.jasper.el.ELContextWrapper. This prohibits using of the locale for it's original purpose."}, {"bug_id": "44223", "ground_truth": ["java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java"], "repo": "tomcat70", "reformed_query": "logs logs property property SSL type problem globally keystore Type", "bug_title": " Tomcat ignores the \"javax.net.ssl.trustStoreType\" system property", "bug_description": "Set up a SSL Connector with a keystore in JKS format: <Connector ... SSLEnabled=\"true\" keystoreFile=\"tomcat.keystore\" keystoreType=\"JKS\"> Let's say you need a custom truststore (e.g. for authenticating self-signed client certificates), and that this truststore is also needed by some of your webapps, not only Tomcat. The natural thing to do then is to configure this truststore globally for the whole JVM, not in server.xml. Let's also assume this truststore is in a different format (e.g. PKCS#12). So before starting Tomcat, you do this: export JAVA_OPTS=\"-Djavax.net.ssl.trustStore=trusted.keystore - Djavax.net.ssl.trustStoreType=PKCS12\" Well, it doesn't work. If you look at tomcat/logs/catalina.out, you will see a keystore-related exception. Upon further debugging, you will discover the problem is that Tomcat is trying to open the truststore as if it were in JKS format, even though it is clearly specified as type PKCS12 in JAVA_OPTS above."}, {"bug_id": "44529", "ground_truth": ["java/org/apache/catalina/realm/RealmBase.java"], "repo": "tomcat70", "reformed_query": "hasResourcePermission URLs mode precluded xml compliant override mode user legal", "bug_title": " RealmBase authorization via hasResourcePermission not fully servlet spec compliant", "bug_description": "The authorization implementation in RealmBase, in the hasResourcePermission method is not fully servlet specification compliant. The spec (both 2.4 and 2.5) states: \"... A security constraint that does not contain an authorization constraint shall combine with authorization constraints that name or imply roles to allow unauthenticated access. The special case of an authorization constraint that names no roles shall combine with any other constraints to override their affects and cause access to be precluded. ...\" In Tomcat this works fine as long as there aren't weird (but legal!) combinations or security-constraints on the same URLs. Example: <security-constraint> <web-resource-collection> <url-pattern>/someUrl/*</url-pattern> <http-method>POST</http-method> </web-resource-collection> <!-- no auth-constraint, to allow everyone --> </security-constraint> <security-constraint> <web-resource-collection> <url-pattern>/someUrl/*</url-pattern> <http-method>POST</http-method> </web-resource-collection> <!-- no roles, to allow noone --> <auth-constraint /> </security-constraint> (if we ignore that this kind of configuration is pretty pointless,) the spec dictates that a POST to /someUrl/index.html should be denied access. Tomcat grants it. (both 5.5.23 and 6.0.14 do) Example 2: <security-constraint> <web-resource-collection> <url-pattern>/someUrl/*</url-pattern> <http-method>POST</http-method> </web-resource-collection> <!-- no roles, to allow noone --> <auth-constraint /> </security-constraint> <security-constraint> <web-resource-collection> <url-pattern>/someUrl/*</url-pattern> <http-method>POST</http-method> </web-resource-collection> <auth-constraint> <role-name>*</role-name> </auth-constraint> </security-constraint> Now it gets interesting. In \"strict\" mode, access to /someUrl/index.html is denied (regardless of the web.xml-configured security roles and the roles the user has). In \"auth-only\" mode, access is always granted, and in \"strict auth-only\" mode access is granted if there are no web.xml-configured security roles. Now these modes are a Tomcat addition to the spec, but I feel access should have been denied in all modes, both to stay in line with the spec and to keep the behaviour predictable."}, {"bug_id": "44558", "ground_truth": ["java/org/apache/tomcat/util/net/JIoEndpoint.java"], "repo": "tomcat70", "reformed_query": "invoke error throwing BindException endpoint bit startup bind StandardService assign", "bug_title": " cite attempted address when throwing \"Cannot assign requested address\"", "bug_description": "SEVERE: Error starting endpoint java.net.BindException: Cannot assign requested address:2217 at org.apache.tomcat.util.net.JIoEndpoint.init(JIoEndpoint.java:501) at org.apache.tomcat.util.net.JIoEndpoint.start(JIoEndpoint.java:515) at org.apache.coyote.http11.Http11Protocol.start(Http11Protocol.java:203) at org.apache.catalina.connector.Connector.start(Connector.java:1131) at org.apache.catalina.core.StandardService.start(StandardService.java:531) at org.apache.catalina.core.StandardServer.start(StandardServer.java:710) at org.apache.catalina.startup.Catalina.start(Catalina.java:578) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) saying which address a bind was attempted for would accelerate the error resolution quite a bit!"}, {"bug_id": "44562", "ground_truth": ["java/javax/servlet/http/HttpServlet.java"], "repo": "tomcat70", "reformed_query": "HttpServletResponse HttpServletRequest service GERONIMO Servlet resp HttpServletRequest Exception check copy", "bug_title": " HEAD requests cannot go through request dispatch include.", "bug_description": "See https://issues.apache.org/jira/browse/GERONIMO-3896 briefly... tomcat complains: Servlet.service() for servlet SimpleDispatchServlet threw exception javax.servlet.ServletException: Original SevletResponse or wrapped original ServletResponse not passed to RequestDispatcher in violation of SRV.8.2 and SRV.14.2.5.1 at org.apache.catalina.core.ApplicationDispatcher.checkSameObjects(ApplicationDispatcher.java:985) ... The relevant code seems to be in javax.servlet.http.HttpServlet protected void doHead(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException { NoBodyResponse response = new NoBodyResponse(resp); doGet(req, response); response.setContentLength(); } which is fine but class NoBodyResponse implements HttpServletResponse { rather than class NoBodyResponse extends HttpServletResponseWrapper { The patch attached to the jira issue makes this change and adapts NoBodyResponse to be a subclass of HttpServletResponseWrapper and the user reports that it fixes the problem.   I don't know if there would be formatting issues applying the patch to tomcat's copy of the spec classes."}, {"bug_id": "44620", "ground_truth": ["java/org/apache/coyote/http11/InternalNioOutputBuffer.java"], "repo": "tomcat70", "reformed_query": "correctly size app addToBB dead Write config offset Header nio", "bug_title": " infinit loop in nio connector code", "bug_description": "The code below has a chance to cause tomcat enter dead loop in class InternalNioOutputBuffer private synchronized void addToBB(byte[] buf, int offset, int length) throws IOException { -->       while (socket.getBufHandler().getWriteBuffer().remaining() < length) { flushBuffer(); } when the buffer size of socket is smaller than length. The default size of socket comes from socket.appWriteBufSize, which is 8192; The value of length is limited by maxHttpHeaderSize, which is 9000. Well, the chance for dead loop exists and happened. It can be avoid if we config the two value correctly in server.xml"}, {"bug_id": "44633", "ground_truth": ["java/org/apache/catalina/loader/LocalStrings.properties", "java/org/apache/catalina/loader/WebappClassLoader.java"], "repo": "tomcat70", "reformed_query": "catalina Context WebappClassLoader lang sought throwing wrong Webapp Webapp findClass", "bug_title": " say which jar/class is wrong when throwing UnsupportedClassVersionError", "bug_description": "after happily using tomcat 6/java6, we had to move back to tomcat 5/java5. Unfortunately, it seems that one jar or .class files not yet compiled under java5 got there too. Suggestion: in  at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1815) catch UnsupportedClassVersionError and re-throw it after adding hints with which class sought/jar file it happens! java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:585) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:294) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:432) Caused by: java.lang.UnsupportedClassVersionError: Bad version number in .class file at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:620) at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124) at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:1815) at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:869) at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1322) at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1201) at org.apache.catalina.core.StandardWrapper$1.run(StandardWrapper.java:1017) at java.security.AccessController.doPrivileged(Native Method) at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1013) at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:932) at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:3951) at org.apache.catalina.core.StandardContext.start(StandardContext.java:4225) at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1013) at org.apache.catalina.core.StandardHost.start(StandardHost.java:718) at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1013) at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:442) at org.apache.catalina.core.StandardService.start(StandardService.java:450) at org.apache.catalina.core.StandardServer.start(StandardServer.java:709) at org.apache.catalina.startup.Catalina.start(Catalina.java:551) ... 6 more"}, {"bug_id": "44986", "ground_truth": ["java/org/apache/jasper/compiler/Validator.java"], "repo": "tomcat70", "reformed_query": "jspError process Sign places syntax Body JIoEndpoint Standard upper Type", "bug_title": " JSP compilation exception with pageEncoding=\"utf-8\" and file with byte order marks", "bug_description": "JSP-File has byte order marks. If the attribute is set to \"UTF-8\" (upper case) or the file has no byte order marks, the compilation workes fine. {code} 12:32:16,946 ERROR [[jsp]] Servlet.service() for servlet jsp threw exception org.apache.jasper.JasperException: /dialog.jsp(2,0) Page-encoding specified in XML prolog (UTF-8) is different from that specified in page directive (utf-8) at org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:40) at org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:407) at org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:236) at org.apache.jasper.compiler.Validator$DirectiveVisitor.comparePageEncodings(Validator.java:362) at org.apache.jasper.compiler.Validator$DirectiveVisitor.visit(Validator.java:197) at org.apache.jasper.compiler.Node$PageDirective.accept(Node.java:590) at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2338) at org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2388) at org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2394) at org.apache.jasper.compiler.Node$Root.accept(Node.java:489) at org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2338) at org.apache.jasper.compiler.Validator.validate(Validator.java:1700) at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:178) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:306) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:286) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:273) at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:566) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:316) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:336) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265) at javax.servlet.http.HttpServlet.service(HttpServlet.java:803) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:654) at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:445) at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:379) at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:292) at de.cit.jsp.control.DispatchServlet.forward(DispatchServlet.java:286) at de.cit.jsp.control.DispatchServlet.doGet(DispatchServlet.java:272) at javax.servlet.http.HttpServlet.service(HttpServlet.java:690) at javax.servlet.http.HttpServlet.service(HttpServlet.java:803) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at de.cit.util.javax.servlet.ValidationFilter.doFilter(ValidationFilter.java:108) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at de.cit.util.javax.servlet.jsp.XHtmlContentTypeFilter.doFilter(XHtmlContentTypeFilter.java:36) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.jboss.web.tomcat.filters.ReplyHeaderFilter.doFilter(ReplyHeaderFilter.java:96) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:230) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175) at org.jboss.web.tomcat.security.SecurityAssociationValve.invoke(SecurityAssociationValve.java:179) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:432) at org.jboss.web.tomcat.security.JaccContextValve.invoke(JaccContextValve.java:84) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) at org.jboss.web.tomcat.service.jca.CachedConnectionValve.invoke(CachedConnectionValve.java:157) at org.apache.catalina.authenticator.SingleSignOn.invoke(SingleSignOn.java:420) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:262) at org.apache.coyote.ajp.AjpProcessor.process(AjpProcessor.java:437) at org.apache.coyote.ajp.AjpProtocol$AjpConnectionHandler.process(AjpProtocol.java:366) at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:446) at java.lang.Thread.run(Thread.java:619) {code} Case insensitive camparison in org.apache.jasper.compiler.Validator.comparePageEncodings(...) seems to fix the problem: {code} /* * Compares page encodings specified in various places, and throws * exception in case of page encoding mismatch. * * @param pageDirEnc The value of the pageEncoding attribute of the page * directive @param pageDir The page directive node * * @throws JasperException in case of page encoding mismatch */ private String comparePageEncodings(String pageDirEnc, Node.PageDirective pageDir) throws JasperException { Node.Root root = pageDir.getRoot(); String configEnc = root.getJspConfigPageEncoding(); /* * Compare the 'pageEncoding' attribute of the page directive with * the encoding specified in the JSP config element whose URL * pattern matches this page. Treat \"UTF-16\", \"UTF-16BE\", and * \"UTF-16LE\" as identical. */ if (configEnc != null) { if (!pageDirEnc.equalsIgnoreCase(configEnc) && (!pageDirEnc.toUpperCase().startsWith(\"UTF-16\") || !configEnc .toUpperCase().startsWith(\"UTF-16\"))) { err.jspError(pageDir, \"jsp.error.config_pagedir_encoding_mismatch\", configEnc, pageDirEnc); } else { return configEnc; } } /* * Compare the 'pageEncoding' attribute of the page directive with * the encoding specified in the XML prolog (only for XML syntax, * and only if JSP document contains XML prolog with encoding * declaration). Treat \"UTF-16\", \"UTF-16BE\", and \"UTF-16LE\" as * identical. */ if ((root.isXmlSyntax() && root.isEncodingSpecifiedInProlog()) || root.isBomPresent()) { String pageEnc = root.getPageEncoding(); if (!pageDirEnc.equalsIgnoreCase(pageEnc) && (!pageDirEnc.toUpperCase().startsWith(\"UTF-16\") || !pageEnc .toUpperCase().startsWith(\"UTF-16\"))) { err.jspError(pageDir, \"jsp.error.prolog_pagedir_encoding_mismatch\", pageEnc, pageDirEnc); } else { return pageEnc; } } return pageDirEnc; } {code}"}, {"bug_id": "45101", "ground_truth": ["java/org/apache/naming/resources/DirContextURLConnection.java"], "repo": "tomcat70", "reformed_query": "Object values URLConnection values API details object standard toString Modified", "bug_title": " DirContextURLConnection - Format Date Header Values per HTTP spec", "bug_description": "Created attachment 22035 [details] Return Date header values in HTTP format When you retrieve a header value from a DirContextURLConnection, it currently returns a string by simply calling .toString() on the internal object, no matter the type of that Object.  For Date value headers such as 'Last-Modified', this results in a String formatted according to Java standards, rather than the Date format specified by the HTTP standard as clients of the API would expect. This is a follow-up to bug 44611."}, {"bug_id": "45212", "ground_truth": ["java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java"], "repo": "tomcat70", "reformed_query": "entries hasNext isPrimary Primary hasNext values Key size MapEntry unmodifiableSet", "bug_title": " AbstractReplicatedMap.entrySet returns values not entries.", "bug_description": "AbstractReplicatedMap implements entrySet() as follows; public Set entrySet() { LinkedHashSet set = new LinkedHashSet(super.size()); Iterator i = super.entrySet().iterator(); while ( i.hasNext() ) { Map.Entry e = (Map.Entry)i.next(); Object key = e.getKey(); MapEntry entry = (MapEntry)super.get(key); if ( entry != null && entry.isPrimary() ) set.add(entry.getValue()); } return Collections.unmodifiableSet(set); } this returns a set of all the *values*, the line set.add(entry.getValue()) should be set.add(entry);"}, {"bug_id": "45272", "ground_truth": ["java/org/apache/tomcat/util/http/ServerCookie.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Version FIwn YKke   Dfwdx", "bug_title": " Version 1 cookie not persisted in IE", "bug_description": "A cookie with value \"MIGCBgkrBgEEAYI3WAOgdTBzBgorBgEEAYI3WAMBoGUwYwIDAgABAgJmAwICAMAECN7UUhW1gKdu%0ABBBgywr0Nm%2FxNVdoCHCcNMB2BDiF%2FIwn6i47%2B1H0fKHpkJeDVFhEvyYKke1zTGupImD7r2JOcdo%2F%0A6%2FK85sELQu%2BbOW%2BH9lhDfwdxHA%3D%3D\" and version 1 is persisted correctly and returned using tomcat 5.5.26 and Firefox but not persisted using tomcat 5.5.26 and IE. This issue is not present in 5.5.25."}, {"bug_id": "45279", "ground_truth": ["java/org/apache/catalina/tribes/membership/McastServiceImpl.java"], "repo": "tomcat70", "reformed_query": "time leave Group calls leaveGroup receiving close Group leaks Impl", "bug_title": " McastServiceImpl leaks sockets.", "bug_description": "McastServiceImpl does not close its socket in stop() as it claims. It merely calls leaveGroup(), which is sufficient to stop receiving messages, but does not close the socket. This causes a file descriptor leak each time the service is stopped. add; socket.close(); after leaveGroup();"}, {"bug_id": "45285", "ground_truth": ["java/org/apache/catalina/core/DefaultInstanceManager.java"], "repo": "tomcat70", "reformed_query": "apache needed SomeService injected CLASSES apache superclass SomeService Field process", "bug_title": " RESOURCES DECLARED IN PARENT CLASSES ARE NOT INJECTED", "bug_description": "According to the section EE.5.2.3 of the Java EE specification: ------------------------ Resource annotations may appear on any of the classes listed above, or on any superclass of any class listed above. A resource annotation on any class in the inheritance hierarchy defines a resource needed by the application component. ------------------------ I use JSF managed beans with @EJB annotated members. If a resource is annotated in a super class of a class it's not injected. Example: public class Base{ @EJB private SomeService service; .... } public class Child implements Base{ .... } Base class used as managed bean has 'service' injected. Child class used as managed bean does NOT have 'service' injected. If I dare suggest the problem source ... As I can see org.apache.catalina.util.DefaultAnnotationProcessor is used. It has the following lines in its  'public void processAnnotations(Object instance)' method: .... Field[] fields = instance.getClass().getDeclaredFields(); .... Method[] methods = instance.getClass().getDeclaredMethods(); .... Class.getDeclaredFields method returns 'public, protected, default (package) access, and private fields, but excludes inherited fields'. The same thing is with Class.getDeclaredMethods."}, {"bug_id": "45419", "ground_truth": ["conf/web.xml", "java/org/apache/catalina/servlets/DefaultServlet.java", "webapps/docs/default-servlet.xml"], "repo": "tomcat70", "reformed_query": "RFE speed plugin returning Accept safe DefaultServlet allowing Servlet download", "bug_title": " Return Accept-Ranges from DefaultServlet", "bug_description": "Currently the DefaultServlet accepts the \"Ranges\" request header, but doesn't indicate this in its response by returning \"Accept-Ranges: bytes\". Although this is not required in HTTP/1.1, setting the header is required in order for the Adobe Acrobat plugin to correctly handle Linearized PDF's (which can speed download by allowing random access to a PDF file). Although it's not strictly necessary according to the specification I can't think of any reason why this header is not safe to set in a response from DefaultServlet, which is always dealing with static files, and not doing so has a negative impact on serving large PDF files - so I'm filing it as a bug rather than an RFE."}, {"bug_id": "45427", "ground_truth": ["java/org/apache/jasper/compiler/Parser.java"], "repo": "tomcat70", "reformed_query": "good Parser parseELExpression string doParse File unescaped ELExpression combination jasper", "bug_title": " Unmatched quotes inside EL break JSP parser", "bug_description": "Created attachment 22277 [details] Simple WAR containing test JSPs for the working and broken expressions. According to my reading of Sun's EL spec for JSP 2.1, any of the following expressions should be legal - ${'This string contains unmatched escaped \\' single and \" double quotes, inside single quotes'} ${\"This string contains unmatched ' single and escaped \\\" double quotes, inside double quotes\"} ${\"This string contains an ' unescaped single quote, inside double quotes\"} ${'This string contains an \" unescaped, unmatched double quote, inside single quotes'} - but in Tomcat, none of the above expressions compiles, at least not when alone. (In some files, the unmatched quote may be matched inside a later EL expression. In that case, the JSP will compile, but both expressions, together with everything in between them, will be merged into one string literal! This is especially insidious.) org.apache.jasper.JasperException: /broken1.jsp(2,2) Unterminated ${ tag org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:40) org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:407) org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:132) org.apache.jasper.compiler.Parser.parseELExpression(Parser.java:763) org.apache.jasper.compiler.Parser.parseElements(Parser.java:1451) org.apache.jasper.compiler.Parser.parse(Parser.java:133) org.apache.jasper.compiler.ParserController.doParse(ParserController.java:216) org.apache.jasper.compiler.ParserController.parse(ParserController.java:103) org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:153) org.apache.jasper.compiler.Compiler.compile(Compiler.java:314) org.apache.jasper.compiler.Compiler.compile(Compiler.java:294) org.apache.jasper.compiler.Compiler.compile(Compiler.java:281) org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:566) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:317) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:337) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:266) javax.servlet.http.HttpServlet.service(HttpServlet.java:803) The EL parser implementation seems to think that nested quotes are only escaped if they are the same (single/double) as the surrounding quotes, but nested quotes don't have to be closed/matched. The JSP implementation, on the other hand, seems to think that quotes do have to be matched, unless they are escaped. For some strings (above), no combination of escaping will make both parsers happy. I'm not sure whether this is a bug in the JSP implementation, or perhaps a deficiency in the JSP/EL specs. I have collected the above expressions which break the parser (broken[1234].jsp), along with some illegal expressions and some working expressions (working.jsp) in a small WAR file which is attached to this report. I don't believe that the files broken[1234].jsp should be causing exceptions. Note: for some reason, single quoted strings are not allowed(!) to contain escaped double quotes, and vice versa, so these expressions are illegal, and thus it's okay that they don't compile (illegal[12].jsp): ${\"This string contains an \\' escaped single quote, inside double quotes\"} ${'This string contains an \\\" escaped double quote, inside single quotes'} (Note that the text of the EL spec implies that these should be legal, but the EL grammar says otherwise. Not a good sign...)"}, {"bug_id": "45441", "ground_truth": ["java/org/apache/catalina/core/ApplicationDispatcher.java"], "repo": "tomcat70", "reformed_query": "Tomcat outerRequest issue path tuckey Andrzej resolve org called outerRequest", "bug_title": " Matching of relevant servlet filters fails when request is forwarded...", "bug_description": "I ran into a situation where Tomcat will not execute appropriate filters on a request that has been forwarded. I'm using the handy URLRewriteFilter implementation (from tuckey.org).  When I forwarded a request internally, filters that had a matching url-pattern (in the web.xml file) and with a dispatcher setting of both REQUEST and FORWARD were not invoked. On tracing the code (hours later), I found that the problem lies inside the ApplicationDispatcher code.  It set the DISPATCHER_REQUEST_PATH_ATTR state attribue to be the servletPath.  That meant that only matches using the servlet path would match, but longer (more exact) urls would fail to match. For example, using the following filter mapping: <filter-mapping> <filter-name>my-filter</filter-name> <url-pattern>/app/level/mycode.do</url-pattern> <dispatcher>REQUEST</dispatcher> <dispatcher>FORWARD</dispatcher> </filter-mapping> would not match a request that was forwarded to /app/level/mycode.do, which it should! Changing the url pattern to be \"/app/*\" would match, but \"/app/level/*\" would not, since the servletPath was /app in this example. The fix for this is quite simple.  In the ApplicationDispatcher.java code, in the method processRequest() (which is only called for forwards), change the following statement: state.outerRequest.setAttribute (ApplicationFilterFactory.DISPATCHER_REQUEST_PATH_ATTR, servletPath); to use requestURI instead as follows: state.outerRequest.setAttribute (ApplicationFilterFactory.DISPATCHER_REQUEST_PATH_ATTR, requestURI ); This resolves the problem and let all the examples above correctly match and run the filter on a forward. I believe includes will also be broken in the same manner. Similar changes to the doInclude() method in ApplicationDispatcher.java will likely resolve that issue as well, though I have not tested this personally. Be nice to see this resolved in 6.0.17+. Thanks! ....Andrzej"}, {"bug_id": "45453", "ground_truth": ["java/org/apache/catalina/realm/JDBCRealm.java"], "repo": "tomcat70", "reformed_query": "postgresql response object authentication AbstractJdbc user setString stmt preparedRoles Realm", "bug_title": " JDBCRealm.getRoles bad synchronization causes hangs w/ DIGEST authentication", "bug_description": "JDBCRealm.getRoles bad synchronization causes hangs w/ DIGEST authentication JDBCRealm caches PreparedStatement preparedRoles. That, and missing synchronization in JDBCRealm and/or DigestAuthenticator allow two threads to call getRoles simultaneously so that T1 will do stmt.executeQuery() while T2 does stmt.setString(1, userName) plus another .executeQuery() on the same PreparedStatement object. In the worst case, the JDBC driver gets confused by this, and blocks forever waiting for server response, causing all other threads that try to access DB hang. (This was observed with PostgreSQL 8.3-603-jdbc4 JDBC driver) org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:451) org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:350) org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:254) org.apache.catalina.realm.JDBCRealm.getRoles(JDBCRealm.java:631) org.apache.catalina.realm.JDBCRealm.getPrincipal(JDBCRealm.java:596) org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:399) org.apache.catalina.authenticator.DigestAuthenticator.findPrincipal(DigestAuthenticator.java:283) org.apache.catalina.authenticator.DigestAuthenticator.authenticate(DigestAuthenticator.java:176)"}, {"bug_id": "45618", "ground_truth": ["java/org/apache/catalina/tribes/transport/nio/ParallelNioSender.java"], "repo": "tomcat70", "reformed_query": "situations nio Nio org Lku src called catalina tar Sender", "bug_title": " Selector is not closed.", "bug_description": "In the class ParallelNioSender [1], a Selector (selector) is declared as a field. In line 60, it is opened (selector = Selector.open()). However, it is not closed in any situations. As shown by its Javadoc [2], it has a close() method, and this method should be called to close the selector. [1]http://www.google.com/codesearch?hl=en&q=lang:java+open+java.nio.channels.Selector+show:hsMlF-2s6UU:ZSXpd2XI4bI:dK-_LkuTzG4&sa=N&ct=rx&cd=4&cs_p=http://archive.apache.org/dist/tomcat/tomcat-6/v6.0.0/src/apache-tomcat-6.0.0-src.tar.gz&cs_f=apache-tomcat-6.0.0-src/java/org/apache/catalina/tribes/transport/nio/ParallelNioSender.java&cs_p=http://archive.apache.org/dist/tomcat/tomcat-6/v6.0.0/src/apache-tomcat-6.0.0-src.tar.gz&cs_f=apache-tomcat-6.0.0-src/java/org/apache/catalina/tribes/transport/nio/ParallelNioSender.java [2]http://java.sun.com/j2se/1.5.0/docs/api/java/nio/channels/Selector.html"}, {"bug_id": "45628", "ground_truth": ["java/org/apache/catalina/util/ManifestResource.java"], "repo": "tomcat70", "reformed_query": "attributes file ant Validator fail attributes doesn Deploying MANIFEST spec", "bug_title": " ExtensionValidator doesn't handle wrapped lines in MANIFEST.MF", "bug_description": "Deploying webapps that contain commons-attributes-api.jar or commons-attributes-compiler.jar (downloaded from the Maven repository) fail with a message from ExtensionValidator along the lines of 'Required extension \"ant\" not found'. This happens because the MANIFEST.MF file in these jars contain wrapped lines. Per the JAR spec, lines longer than 72 bytes have to wrap. These MANIFEST.MF files contain lines like: ant-Implementation-URL: http://www.ibiblio.org/maven/ant/jars/ant-1.5. jar which evidently cause ExtensionValidator to complain. If you edit the MANIFEST.MF files to eliminate the continuation line: ant-Implementation-URL: http://www.ibiblio.org/maven/ant/jars/ant-1.5.jar there are no errors."}, {"bug_id": "45977", "ground_truth": ["java/org/apache/catalina/connector/CoyoteAdapter.java"], "repo": "tomcat70", "reformed_query": "Secure postParseRequest setSecure req configuration Secure correct org Exception prior", "bug_title": " Duplicate comment in code - CoyoteAdapter.java", "bug_description": "The XXX comments below seem to say the same thing.  Not sure what the XXX represents. /** * Parse additional request parameters. */ protected boolean postParseRequest(org.apache.coyote.Request req, Request request, org.apache.coyote.Response res, Response response) throws Exception { // XXX the processor needs to set a correct scheme and port prior to this point, // in ajp13 protocols dont make sense to get the port from the connector.. // XXX the processor may have set a correct scheme and port prior to this point, // in ajp13 protocols dont make sense to get the port from the connector... // otherwise, use connector configuration if (! req.scheme().isNull()) { // use processor specified scheme to determine secure state request.setSecure(req.scheme().equals(\"https\"));"}, {"bug_id": "46051", "ground_truth": ["java/org/apache/catalina/connector/CoyoteWriter.java"], "repo": "tomcat70", "reformed_query": "Writer catalina base based defined defer getProperty output SEP catalina", "bug_title": " Servlet response writer does not respect line.separator system property", "bug_description": "Created attachment 22763 [details] remove special CoyoteWriter println handling public void doGet(final HttpServletRequest request, final HttpServletResponse response) throws ServletException, IOException { response.setContentType(\"text/plain\"); PrintWriter writer = response.getWriter(); writer.print(\"hello world\"); writer.println(); //FIXME ignores System.getProperty(\"line.separator\") and always outputs \\r\\n return; } This means that if you use a servlet Writer on a Unix system to output any text based data format which is defined as requiring Unix format line endings ('\\n'), that data will be corrupted. This appears to be because org.apache.catalina.connector.CoyoteWriter does: -------- private static final char[] LINE_SEP = { '\\r', '\\n' }; public void println() { write(LINE_SEP); } -------- This used to work in Tomcat 4. Looking at the old code at http://svn.apache.org/repos/asf/tomcat/archive/tc4.0.x/tags/tc4.0.6/connectors/coyote/src/java/org/apache/coyote/tomcat4/CoyoteWriter.java it appears to defer line endings to the PrintWriter base class which does the right thing. Was this change was made to output HTTP headers properly or something?  It specifically seems to override the default behavior to do this.  I don't know the code well enough to determine if the attached patch to revert to the default behavior again would break something? Thanks for your consideration."}, {"bug_id": "46096", "ground_truth": ["java/org/apache/catalina/core/DefaultInstanceManager.java"], "repo": "tomcat70", "reformed_query": "getClass processAnnotations avoid instance standard Exception processAnnotations Declared standard Manager", "bug_title": " DefaultAnnotationProcessor.processAnnotations should use doPrivileged to call getDeclaredFields", "bug_description": "If tomcat is running with a SecurityManager, and a JSP uses PageContext.forward, DefaultAnnotationProcessor code can be called with untristed code on the call stack. The processAnnotations method contains the line: Field[] fields = instance.getClass().getDeclaredFields(); getDeclaredFields() is subject to security checks so this throws a java.security.AccessControlException. DefaultAnnotationProcessor is part of the code in the catlina lib directory, which is granted AllPermissions in the standard policy file.  However, because there is untrusted JSP code on the stack, these permissions are not used. The call to getDeclaredFields() should be wrapped in an AccessController.doPrivileged call to avoid the exception."}, {"bug_id": "46105", "ground_truth": ["java/org/apache/catalina/authenticator/FormAuthenticator.java"], "repo": "tomcat70", "reformed_query": "redirect parameter perfect attribute Encoding site tomcat perfect Character UTF", "bug_title": " URIEncoding doesn't affect after form-authentication redirect", "bug_description": "How to reproduce bug. Configure tomcat connector with URIEncoding=UTF-8 attribute. Make a simple page that write out any request parameter. Configure this page as protected with form-based authentication. Try to access page, e.g. /site/page.jsp?q=%xx%yy%zz%tt where q=%xx%yy%zz is value in UTF-8 charset. When page is being accessed for the first time, then after authentication, parameter \"q\" is incorrectly interpreted (it seems as it was in ISO8859-1 or anything else, but not UTF-8). But subsequent access to the _same_ URI, i.e. /site/page.jsp?q=%xx%yy%zz%tt gives perfect result. I also tried useBobyEncodingForURI=true and request.setCharacterEncoding(\"UTF-8\") - nothing is changed."}, {"bug_id": "46264", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java", "webapps/docs/config/engine.xml", "java/org/apache/coyote/AbstractProtocol.java", "java/org/apache/catalina/core/mbeans-descriptors.xml", "java/org/apache/catalina/Container.java", "java/org/apache/tomcat/util/threads/DedicatedThreadExecutor.java", "java/org/apache/catalina/Host.java", "java/org/apache/catalina/startup/HostConfig.java", "java/org/apache/catalina/startup/ContextConfig.java", "java/org/apache/catalina/core/ContainerBase.java", "java/org/apache/catalina/startup/LocalStrings.properties", "test/org/apache/tomcat/util/threads/DedicatedThreadExecutorTest.java", "java/org/apache/catalina/core/LocalStrings.properties", "java/org/apache/catalina/core/StandardHost.java", "webapps/docs/config/host.xml"], "repo": "tomcat70", "reformed_query": "slow minutes app environments takes minutes server number takes JMS", "bug_title": " Shutting down tomcat with large number of contexts is slow", "bug_description": "Shutting down tomcat with large number of contexts is slow On some of our sandbox testing environments, we have tomcat loaded with 30-40 contexts, and run a very large heap (2-3GB).  Most of these contexts are large applications which take anywhere from 5-10 seconds to shutdown each.  Most of the time spent shutting down each application is not spent using the local app server CPU, but shutting down remote resources (Announcing the application is going down over JMS, flushing write buffers, closing DB connections, closing JMS connections, closing log connections, etc.).  Shutting down tomcat typically takes minutes, because it shuts down one context at a time."}, {"bug_id": "46357", "ground_truth": ["java/org/apache/catalina/ha/deploy/FarmWarDeployer.java"], "repo": "tomcat70", "reformed_query": "Farm condition wrong Deployer wrong Deployer War Farm code Engine", "bug_title": " FarmWarDeployer has nonsense condition", "bug_description": "FarmWarDeployer has the following code at line 152: if(econtainer == null && econtainer instanceof Engine) { There's clearly something wrong with that condition."}, {"bug_id": "46381", "ground_truth": ["java/org/apache/jasper/compiler/Generator.java"], "repo": "tomcat70", "reformed_query": "jspx undefined Application OncePerRequestAbstractMgnlFilter cms Connection stripes Include java Repository", "bug_title": " Coerce EL expression to java.lang.Object breaks expression concatenation", "bug_description": "Created attachment 23009 [details] Source file I have a simple <c:set> tag with expression concatenation. This tag breaks with this stack trace: org.apache.jasper.JasperException: Unable to compile class for JSP: An error occurred at line: 22 in the jsp file: /templates/paragraphs/notizia.jsp The operator + is undefined for the argument type(s) java.lang.Object, java.lang.Object 19:       <c:when test=\"${!empty(node.link)}\"> 20:         <c:set value=\"${node.link}\" var=\"url\" /> 21:         <c:if test=\"${!(fn:startsWith(url,'http'))}\"> 22:           <c:set value=\"${pageContext.request.contextPath}${url}\" var=\"url\" /> 23:           <c:set value=\" \" var=\"target\" /> 24:         </c:if> 25:         <a href=\"${url}\" class=\"${target}\">${node.testo}</a> Stacktrace: at org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:92) at org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:330) at org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:423) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:334) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:312) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:299) at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:586) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:317) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646) at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551) at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488) at info.magnolia.context.WebContextImpl.include(WebContextImpl.java:191) at info.magnolia.module.templating.paragraphs.JspParagraphRenderer.render(JspParagraphRenderer.java:73) at info.magnolia.cms.beans.config.ParagraphRenderingFacade.render(ParagraphRenderingFacade.java:112) at info.magnolia.cms.beans.config.ParagraphRenderingFacade.render(ParagraphRenderingFacade.java:91) at info.magnolia.cms.taglibs.Include.doEndTag(Include.java:192) at org.apache.jsp.templates.paragraphs.bloccoInfo_jsp._jspx_meth_cms_005fincludeTemplate_005f0(bloccoInfo_jsp.java:332) at org.apache.jsp.templates.paragraphs.bloccoInfo_jsp._jspx_meth_cms_005fcontentNodeIterator_005f0(bloccoInfo_jsp.java:289) at org.apache.jsp.templates.paragraphs.bloccoInfo_jsp._jspService(bloccoInfo_jsp.java:98) at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646) at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:551) at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:488) at info.magnolia.context.WebContextImpl.include(WebContextImpl.java:191) at info.magnolia.module.templating.paragraphs.JspParagraphRenderer.render(JspParagraphRenderer.java:73) at info.magnolia.cms.beans.config.ParagraphRenderingFacade.render(ParagraphRenderingFacade.java:112) at info.magnolia.cms.beans.config.ParagraphRenderingFacade.render(ParagraphRenderingFacade.java:91) at info.magnolia.cms.taglibs.Include.doEndTag(Include.java:192) at org.apache.jsp.templates.pages.firstlevelgruppo_jsp._jspx_meth_cms_005fincludeTemplate_005f1(firstlevelgruppo_jsp.java:428) at org.apache.jsp.templates.pages.firstlevelgruppo_jsp._jspx_meth_cms_005fcontentNodeIterator_005f1(firstlevelgruppo_jsp.java:385) at org.apache.jsp.templates.pages.firstlevelgruppo_jsp._jspService(firstlevelgruppo_jsp.java:115) at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at info.magnolia.cms.filters.MgnlMainFilter.doFilter(MgnlMainFilter.java:100) at info.magnolia.cms.filters.MgnlMainFilter.doFilter(MgnlMainFilter.java:200) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:646) at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:436) at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:374) at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:302) at info.magnolia.module.templating.renderers.JspTemplateRenderer.renderTemplate(JspTemplateRenderer.java:78) at info.magnolia.cms.filters.RenderingFilter.doFilter(RenderingFilter.java:103) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.BackwardCompatibilityFilter.doFilter(BackwardCompatibilityFilter.java:72) at info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:62) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.InterceptFilter.doFilter(InterceptFilter.java:117) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.AggregatorFilter.doFilter(AggregatorFilter.java:111) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.security.BaseSecurityFilter.doFilter(BaseSecurityFilter.java:61) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.RepositoryMappingFilter.doFilter(RepositoryMappingFilter.java:90) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.CompositeFilter.doFilter(CompositeFilter.java:64) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:65) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.CompositeFilter.doFilter(CompositeFilter.java:64) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.VirtualUriFilter.doFilter(VirtualUriFilter.java:115) at info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:62) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.i18n.I18nContentSupportFilter.doFilter(I18nContentSupportFilter.java:75) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at net.sourceforge.stripes.controller.StripesFilter.doFilter(StripesFilter.java:180) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.module.cache.executor.Bypass.processCacheRequest(Bypass.java:57) at info.magnolia.module.cache.filter.CacheFilter.doFilter(CacheFilter.java:118) at info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:62) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.module.cache.filter.GZipFilter.doFilter(GZipFilter.java:84) at info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:62) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:73) at info.magnolia.cms.filters.CosMultipartRequestFilter.doFilter(CosMultipartRequestFilter.java:84) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.security.BaseSecurityFilter.doFilter(BaseSecurityFilter.java:61) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.security.LogoutFilter.doFilter(LogoutFilter.java:81) at info.magnolia.cms.filters.OncePerRequestAbstractMgnlFilter.doFilter(OncePerRequestAbstractMgnlFilter.java:62) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.security.auth.login.LoginFilter.doFilter(LoginFilter.java:76) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.ContentTypeFilter.doFilter(ContentTypeFilter.java:80) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.ContextFilter.doFilter(ContextFilter.java:72) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlFilterChain.doFilter(MgnlFilterChain.java:71) at info.magnolia.cms.filters.CompositeFilter.doFilter(CompositeFilter.java:64) at info.magnolia.cms.filters.AbstractMgnlFilter.doFilter(AbstractMgnlFilter.java:71) at info.magnolia.cms.filters.MgnlMainFilter.doFilter(MgnlMainFilter.java:97) at info.magnolia.cms.filters.MgnlMainFilter.doFilter(MgnlMainFilter.java:200) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at it.ragno.web.filters.LocaleSyncFilter.doFilter(LocaleSyncFilter.java:82) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.springframework.orm.hibernate3.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:198) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:845) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583) at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:447) at java.lang.Thread.run(Thread.java:619)"}, {"bug_id": "46403", "ground_truth": ["java/org/apache/tomcat/util/http/ServerCookie.java", "webapps/docs/config/systemprops.xml"], "repo": "tomcat70", "reformed_query": "acegi http Max OGM quotes Thu Thu http OGM post", "bug_title": " Persistent cookies written by 6.0.18 do not work in Internet Explorer or Safari", "bug_description": "This blog post shows up in Google when searching for this problem, and is a better explanation that I can give here: http://cephas.net/blog/2008/11/18/tomcat-6018-version-1-cookies-acegi-remember-me-and-ie/ To summarize, in 6.0.18, the way Tomcat writes persistent cookie headers was changed from: Set-Cookie: yankeessuck=YWFyb246MTIyODI0ODEwMjk5NjoyOGM5ODc4YzExOGZiOGZjZTBkZDE0ZTA1ZWRhZTM3Nw==; Expires=Thu, 19-Nov-2009 02:29:29 GMT; to: Set-Cookie: yankeessuck=\"YWFyb246MTIyODI0ODEwMjk5NjoyOGM5ODc4YzExOGZiOGZjZTBkZDE0ZTA1ZWRhZTM3Nw==\"; Version=1; Max-Age=31536000; The value was enclosed in quotes, a \"Version=1\" parameter was added, and the Expires parameter was replaced with a Max-Age parameter. Though cookies are written correctly to specification, Internet Explorer (6 and 7) and Safari do not support the Max-Age parameter. As a result, an application writing persistent cookies in this version of Tomcat won't work for Internet Explorer or Safari."}, {"bug_id": "46462", "ground_truth": ["java/org/apache/jasper/servlet/JasperLoader.java"], "repo": "tomcat70", "reformed_query": "additional starts Lack intend JasperLoader browse starts org parent attempt", "bug_title": " JSPWiki JSP compilation prevented by org.apache.jasper.Constants.JSP_PACKAGE_NAME", "bug_description": "Hi, JSPWiki is currently an Incubator project at Apache. We intend to use the package name org.apache.jspwiki. However, any classes in this package tree fail to load when imported into a JSP page, specifically during Jasper's attempt to compile it. For example, <%@ page import=\"org.apache.jspwiki.WikiPage\" %> does not compile. My colleague Harry Metske traced the cause to this line in org.apache.jasper.servlet.JasperLoader: if( !name.startsWith(Constants.JSP_PACKAGE_NAME) ) { // Class is not in org.apache.jsp, therefore, have our // parent load it clazz = parent.loadClass(name); if( resolve ) resolveClass(clazz); return clazz; } The recommended bug fix would be to append a period (\".\") to the expression passed into name.startsWith(), which in this case would then evaluate to \"org.apache.jsp.\", and allow JSPWiki classes to load and compile. This issue is important for us as we emerge from incubation. Lack of a fix means that JSPWiki cannot release under the desired package name \"org.apache.jspwiki.\" See additional commentary in the Apache JIRA database here: https://issues.apache.org/jira/browse/JSPWIKI-464"}, {"bug_id": "46471", "ground_truth": ["java/org/apache/jasper/compiler/JspUtil.java", "java/org/apache/jasper/compiler/ParserController.java", "java/org/apache/jasper/compiler/ImplicitTagLibraryInfo.java", "java/org/apache/jasper/compiler/TagFileProcessor.java", "java/org/apache/jasper/compiler/TagLibraryInfoImpl.java"], "repo": "tomcat70", "reformed_query": "apache comment survives investigating jsp packed compiled tags result jsp", "bug_title": " Compiled tag files from different tag libraries share the same package", "bug_description": "When in web application there are several tag libraries packed in jar files that have tag files in them, when those files are compiled they share the same package: org.apache.jsp.tag.meta As a result, if there are tags with the same name in different libraries, only one of them survives. I encountered it while investigating bug #37084. See comment #13 there."}, {"bug_id": "46564", "ground_truth": ["java/org/apache/jasper/compiler/Validator.java"], "repo": "tomcat70", "reformed_query": "valid encoding tagx display casing Jasper error pageEncoding root valid", "bug_title": " .tagx files don't compile if the document and page encoding casing differs", "bug_description": "Jasper will raise an error like /WEB-INF/tags/sampletaglib/sampletag.tagx(3,99) Page-encoding specified in XML prolog (iso-8859-1) is different from that specified in page directive (ISO-8859-1) if the encoding specified within the XML prolog and the page directive use different casing: <?xml version=\"1.0\" encoding=\"iso-8859-1\"?> <jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"2.0\"> <jsp:directive.tag display-name=\"sampletag\" pageEncoding=\"ISO-8859-1\" /> This is a sample tag! </jsp:root> Proposed solution: Compare the encodings case-insensitive. For example: iso-8859-1 and ISO-8859-1 are both valid identifiers for the same encoding."}, {"bug_id": "46666", "ground_truth": ["java/org/apache/coyote/http11/Http11Processor.java"], "repo": "tomcat70", "reformed_query": "error error inputBuffer timeout implicitely Time execution time timeout KeepAliveTimeout", "bug_title": " Why is disableUploadTimeout and KeepAliveTimeout correlated in Http11 Connector?", "bug_description": "In Http11Processor.java while (started && !error && keepAlive) { // Parsing the request header try { if (!disableUploadTimeout && keptAlive) { if (keepAliveTimeout > 0) { socket.setSoTimeout(keepAliveTimeout); } else if (soTimeout > 0) { socket.setSoTimeout(soTimeout); } } inputBuffer.parseRequestLine(); request.setStartTime(System.currentTimeMillis()); keptAlive = true; if (!disableUploadTimeout) { socket.setSoTimeout(timeout); } disableUploadTimeout  - This flag allows the servlet container to use a different, longer connection timeout while a servlet is being executed, which in the end allows either the servlet a longer amount of time to complete its execution, or a longer timeout during data upload. If not specified, this attribute is set to \"true\". The code above is waiting on a new Http Request and precedes the servlet processing logic.  It seems odd to me that I must set disableTimeout to false to get my keepAliveTimeout set. To set keepalivetimout, I must implicitely enable upload timeout whether I need it or not.  It seems to me that the disableTimeout is unneccessary in the following line if (!disableUploadTimeout && keptAlive) { Do you agree with this? Thanks for the insight"}, {"bug_id": "46915", "ground_truth": ["java/javax/el/ResourceBundleELResolver.java"], "repo": "tomcat70", "reformed_query": "Resource ResourceBundle place reproducible message installation printing Tomcat property file", "bug_title": " Unable to get ResourceBundle keys in Tomcat 6", "bug_description": "Created attachment 23417 [details] modified foreach.jsp file that reads properties file There is issue with ResourceBundle using JSTL in tomcat 6. The problem is in using the following code ${messageString.resourceBundle.keys} The above code is not able to resolve the keys and result in printing of ???keys??? Here messageString is a variable set using below code <fmt:setBundle basename=\"LocalStrings\" scope=\"session\" var=\"messageString\" /> I have tested it with example jsp provided in the tomcat's example webapp. The issue is reproducible with both JSTL1.1 and JSTL 1.2 and JDK 1.5 and 1.6 However it is working fine in Tomcat 5.5 Attached is the sample foreach.jsp with modified code to read a property file available in \\webapps\\examples\\WEB-INF\\classes folder under tomcat installation directory. Just place this file in examples webapp and view source"}, {"bug_id": "46958", "ground_truth": ["java/org/apache/catalina/manager/Constants.java"], "repo": "tomcat70", "reformed_query": "href writer Tomcat xsl status stylesheet util writer Constants Tomcat", "bug_title": " manager XML interface hard-coded path in XSL transformation", "bug_description": "The manager XML-interface cannot be used if it's installed under any other path than /manager, failing to find the xform.xsl file needed for XSL transformation. Fails: http://example.com/mymanager/status?XML=true Works: http://example.com/manager/status?XML=true Reason for error, in Tomcat sources org.apache.catalina.manager.Constants XML_STYLE returns the constant value \"<?xml-stylesheet type=\\\"text/xsl\\\" href=\\\"/manager/xform.xsl\\\" ?>\"; The /manager part needs to be modified to match webapp path. Caller: org.apache.catalina.util.RequestUtil.StatusTransformer public static void writeHeader(PrintWriter writer, final String contextPath, int mode) { //... // TODO needs current virtual webapp path as parameter writer.write(Constants.XML_STYLE); } On a sidenote, in org.apache.catalina.manager.host.Constants there is a similar hard-coded value, which might cause similar problems in the future. It seems to be unreferenced in the current sources right now (unused value)."}, {"bug_id": "46967", "ground_truth": ["java/org/apache/catalina/session/ManagerBase.java"], "repo": "tomcat70", "reformed_query": "proper File DataInputStream ManagerBase strange Random Access marked debugging debugging", "bug_title": " ManagerBase.setRandomFile error handling fix", "bug_description": "On some platforms (z/OS for sure), the device file /dev/urandom can pass the \"f.exists()\" test, but throws an IOException of some kind when trying to open it.  The current code in ManagerBase.setRandomFile() doesn't handle this, which results in EVERY call to getRandom() to try again and log the error  \"Failed to close randomIS\". The following changes to the method will add proper error handling to correct this (my changes marked \"// kjw\") public void setRandomFile( String s ) { // as a hack, you can use a static file - and genarate the same // session ids ( good for strange debugging ) if (Globals.IS_SECURITY_ENABLED){ randomIS = (DataInputStream)AccessController.doPrivileged(new PrivilegedSetRandomFile()); } else { try{ devRandomSource=s; File f=new File( devRandomSource ); if( ! f.exists() ) return; randomIS= new DataInputStream( new FileInputStream(f)); randomIS.readLong(); if( log.isDebugEnabled() ) log.debug( \"Opening \" + devRandomSource ); } catch( IOException ex ) { log.debug(\"Error reading \" + devRandomSource, ex); //kjw if (randomIS != null) {  // kjw: if opened try { randomIS.close(); } catch (Exception e) { log.warn(\"Failed to close randomIS.\"); } }                       // kjw devRandomSource = null; // kjw: don't try again automatically randomIS=null; } } }"}, {"bug_id": "46985", "ground_truth": ["java/org/apache/coyote/http11/Http11Processor.java"], "repo": "tomcat70", "reformed_query": "versa Alive endpoint oldSoTimeout http completely renamed Note getCurrentThreadsBusy endpoint", "bug_title": " Impossible condition in coyote.http11.Http11Processor.process(Socket socket)", "bug_description": "coyote.http11.Http11Processor.process(Socket socket) ... int soTimeout = socket.getSoTimeout(); int oldSoTimeout = soTimeout; int threadRatio = (endpoint.getCurrentThreadsBusy() * 100) / endpoint.getMaxThreads(); if (threadRatio > 75) { keepAliveLeft = 1; } if (soTimeout != oldSoTimeout) { The above condition will never be true. It looks like the code is trying to reset the timeout if it has not changed, but it will never do so. Both the method and the class have a variable called \"socket\" which may be part of the problem - is the method trying to set the instance socket to have the same timeout as the parameter socket, or vice versa? The socket parameter should be renamed. Note that the Javadoc appears to be completely wrong as well."}, {"bug_id": "46988", "ground_truth": ["java/org/apache/catalina/ant/jmx/JMXAccessorTask.java"], "repo": "tomcat70", "reformed_query": "JMXAccessor Task JMXAccessorTask String   Patch", "bug_title": " JMXAccessorTask String constants should be final", "bug_description": "Created attachment 23452 [details] Patch to make fields final JMXAccessorTask String constants should be final"}, {"bug_id": "46998", "ground_truth": ["java/org/apache/tomcat/util/threads/TaskThreadFactory.java"], "repo": "tomcat70", "reformed_query": "Task change TaskThreadFactory Factory TaskThreadFactory details change Created Thread attachment", "bug_title": " small fix to TaskThreadFactory", "bug_description": "Created attachment 23466 [details] change scope change scope"}, {"bug_id": "47050", "ground_truth": ["java/org/apache/catalina/core/StandardHostValve.java"], "repo": "tomcat70", "reformed_query": "passed escapes attributes shouldn Catalina roland write copied StandardHostValve HTML", "bug_title": " StandardHostValve.status unnecessarily HTML-escapes the error message", "bug_description": "I have written a JSP page that prints all request attributes verbatimly to the output. When I access it as http://localhost:8100/roland/404&amp; it outputs the following HTML code: <body> javax.servlet.error.message=/roland/404&amp;amp;<br> javax.servlet.error.request_uri=/roland/404&amp;<br> ... </body> I was surprised that the error.message has been HTML-escaped, but the error.request hasn't. What's the intention of this escaping? It feels like Catalina is imitating PHP's magic-quotes here, which it shouldn't. In my opinion, the error message should be copied to the request attribute as-is and not being passed through RequestUtil.filter, so the programmer can write it to log files or a text/plain error page without unfiltering it first."}, {"bug_id": "47111", "ground_truth": ["java/org/apache/tomcat/util/res/StringManager.java"], "repo": "tomcat70", "reformed_query": "StringManager bugzilla Created Manager StringManager issues org org Manager StringManager", "bug_title": " do caching the resources like the docu say it (StringManager)", "bug_description": "Created attachment 23559 [details] do caching the resources like the docu say it do caching the resources like the docu say it see https://issues.apache.org/bugzilla/show_bug.cgi?id=46933"}, {"bug_id": "47158", "ground_truth": ["java/org/apache/catalina/valves/AccessLogValve.java"], "repo": "tomcat70", "reformed_query": "Based judging current Based java AccessLogValve java problem http Log", "bug_title": " I think AccessLogValve has race condition problem", "bug_description": "\"Double-Checked Locking\" pattern is heavily used in this class, but the usage of it in AccessLogValve has some issues of race condition judging by this article: http://www.cs.umd.edu/~pugh/java/memoryModel/DoubleCheckedLocking.html Based by this article, I think these variables in this class should be declared as volatile to get rid of race condition: private volatile long currentMillis; private volatile  Date currentDate;"}, {"bug_id": "47216", "ground_truth": ["java/org/apache/coyote/http11/Http11Processor.java"], "repo": "tomcat70", "reformed_query": "LOCAL process parseHost ADDR getLocalAddress actionCode method process ACTION Host", "bug_title": " Possible NPE in Http11Processor.action()", "bug_description": "The code at around line 1075: } else if (actionCode == ActionCode.ACTION_REQ_LOCAL_ADDR_ATTRIBUTE) { if (localAddr == null) localAddr = socket.getLocalAddress().getHostAddress(); fails to check if \"socket != null\". Since this is checked everywhere else in the method this is probably a bug. The method Http11Processor.parseHost() also references \"socket\" without checking for null. Within the class, it is only called by process(Socket), which guarantees that it won't be null. However once process() returns normally, socket will be set to null. The parseHost() method is public, so it may be called when socket == null. Perhaps the parseHost() method should be private?"}, {"bug_id": "47237", "ground_truth": ["java/org/apache/coyote/http11/Http11NioProtocol.java"], "repo": "tomcat70", "reformed_query": "tomcat NIOConnector consumption amount high connections NioProcessor objects message alive", "bug_title": " Put a hard limit on Http11NioProcessor objects", "bug_description": "These objects get cached with keep alive connections, with a very large amount of connections, this means memory consumption. http://tomcat.markmail.org/message/vyk2mjymxzjsxwao?q=NIOConnector+and+high+memory+consumption"}, {"bug_id": "47320", "ground_truth": ["java/org/apache/catalina/connector/CoyoteAdapter.java", "java/org/apache/catalina/connector/LocalStrings.properties"], "repo": "tomcat70", "reformed_query": "apache org receive problem apache encoding CoyoteAdapter official bug Buffer", "bug_title": " Decoding jsessionid bug on z/os", "bug_description": "If you receive a rewritten URL on z/os with uss (unix on a mainframe), Tomcat does not properly decode the jsessionid portion of the URL. The problem is in org.apache.catalina.connector.CoyoteAdapter in the parseSessionId method. The two instantiations of a String object do not specify the encdoding to use. e.g. String sid = new String(uriBC.getBuffer(), start + sessionIdStart, semicolon2 - sessionIdStart); ...as well as the second String instantiation in this method. Consequently z/os uses its default encoding which (I think) is EBCDIC. If I recompile with a hardcoded \"UTF-8\" for the encoding then the jsessionid decodes properly.  Not that I am suggesting this literally for the official fix. e.g. String sid = new String(uriBC.getBuffer(), start + sessionIdStart, semicolon2 - sessionIdStart, \"UTF-8\");"}, {"bug_id": "47331", "ground_truth": ["java/org/apache/jasper/compiler/Validator.java", "java/org/apache/jasper/resources/LocalStrings.properties"], "repo": "tomcat70", "reformed_query": "JSP error img omit html Tomcat error expression users Server", "bug_title": " No translation error messag when using #{...} in template text", "bug_description": "JSP.2.2 requires a translation error when an #{...} EL expression is used in templated text. (See also the Section 1.2.4 of \"JavaServer Pages 2.1 Expression Language Specification\".) Tomcat 6.0.18 *erronously* parse the expression. Tomcat 6.0.20 *rightly* does not but it also does not issue any error like the JSP specs requires. An example might clarify. Given the following JSP snip: --- [snip] --- <?xml version=\"1.0\" encoding=\"UTF-8\"?> <jsp:root version=\"2.1\" xmlns:jsp=\"http://java.sun.com/JSP/Page\" xmlns:c=\"http://java.sun.com/jsp/jstl/core\" xmlns:f=\"http://java.sun.com/jsf/core\" xmlns:h=\"http://java.sun.com/jsf/html\"> <jsp:directive.page contentType=\"text/html;charset=UTF-8\" pageEncoding=\"UTF-8\"/> <jsp:output omit-xml-declaration=\"no\" doctype-root-element=\"html\" doctype-public=\"-//W3C//DTD XHTML 1.0 Transitional//EN\" doctype-system=\"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"/> <f:view> <html xmlns=\"http://www.w3.org/1999/xhtml\"> <head> <link rel=\"stylesheet\" href=\"#{facesContext.externalContext.requestContextPath}/resources/theme/current/css/screen.css\" type=\"text/css\" /> <link rel=\"shortcut icon\" href=\"#{facesContext.externalContext.requestContextPath}/resources/theme/current/img/favicon.ico\" type=\"image/x-icon\"/> </head> <body> <!-- ... --> </body> </html> </f:view> </jsp:root> --- [/snip] --- With Tomcat 6.0.18 I get: --- [snip] --- <?xml version=\"1.0\" encoding=\"UTF-8\"?> <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"> <html xmlns=\"http://www.w3.org/1999/xhtml\"> <head> <!-- ... --> <link rel=\"stylesheet\" href=\"/my-web-app/resources/theme/current/css/screen.css\" type=\"text/css\" /> <link rel=\"shortcut icon\" href=\"/my-web-app/resources/theme/current/img/favicon.ico\" type=\"image/x-icon\"/> </head> <!-- ... --> </html>. --- [/snip] --- Instead with Tomcat 6.0.20: --- [snip] --- <?xml version=\"1.0\" encoding=\"UTF-8\"?> <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"> <html xmlns=\"http://www.w3.org/1999/xhtml\"> <head> <!-- ... --> <link rel=\"stylesheet\" href=\"#{facesContext.externalContext.requestContextPath}/resources/theme/current/css/screen.css\" type=\"text/css\" /> <link rel=\"shortcut icon\" href=\"#{facesContext.externalContext.requestContextPath}/resources/theme/current/img/favicon.ico\" type=\"image/x-icon\"/> </head> <!-- ... --> </html>. --- [/snip] --- But neither an error nor a warning message appear in the log. For a discussion about this see the following post on the tomcat-user ML: http://mail-archives.apache.org/mod_mbox/tomcat-users/200906.mbox/%3ca764c6280906070128j2bfdc49fvf6a0fb31d3165cc1@mail.gmail.com%3e and the subsequent replies."}, {"bug_id": "47343", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java"], "repo": "tomcat70", "reformed_query": "deploy engine directory resource INF doc deleted svn Reproduction length", "bug_title": " Fails re-deploying, when we update context.xml.", "bug_description": "When context.xml of the conf/<engine>/<host>directory is updated, docBase directory is deleted and fails re-deploying. Reproduction. (The context name is assumed to be testWebapp. ) 1.<<Tomcat_home>>/webapps/testWebapp/META-INF/context.xml is prepared. 2.Context.xml is not put under the conf/<engine>/<host> directory. (means first deployed) 3.Tomcat is started. (testWebapp.xml is created to the conf/<engine>/<host> directory. ) 4.testWebapp.xml of conf/<engine>/<host > is updated. Result. <<Tomcat_home>>/webapps/testWebapp directory is deleted. The cause is in the fixed of \"http://svn.apache.org/viewvc?view=rev&revision=712464\". The order of the resource added to HostConfig$DeployedApplication#redeployResources was changed by this fix. order of the redploy resources is as follows. [before fix] Case of Deploy war. war -> context.xml(conf/<engine>/<host>) -> doceBase directory Case of Deploy directory. doceBase directory -> context.xml(META-INF/context.xml) [after fix] Case of Deploy war. context.xml(conf/<engine>/<host>) -> war -> doceBase directory Case of Deploy directory. context.xml(META-INF/context.xml) -> doceBase directory HostConfig#checkResources is as follows. for (int i = 0; i < resources.length; i++) { ...omits if ((!resource.isDirectory()) && resource.lastModified() > lastModified) { ...omits // Delete other redeploy resources for (int j = i + 1; j < resources.length; j++) { try { File current = new File(resources[j]); ...omits ExpandWar.delete(current); } } catch (IOException e) { log.warn(sm.getString (\"hostConfig.canonicalizing\", app.name), e); } } ...omits After all, When testWebapp.xml of conf/<engine>/<host > is updated, directory is deleted or war and the directory are deleted. As a result, It fails in deploying because it tries to deploy it only with context.xml (docBase direcotry doesn't exist). Regards."}, {"bug_id": "47364", "ground_truth": ["java/org/apache/catalina/connector/Request.java"], "repo": "tomcat70", "reformed_query": "request attribute thatget Tomcat attributes supported suggested involved", "bug_title": " HttpServletRequest.getAttributeNames() does not return the names of all attributes", "bug_description": "In an email exchange that involved Ranier (see attachment), he suggested I log this in Bugzilla, so I am. I was using Tomcat 6.0.20 on Windows XP SP3 with the latest Java 6 JVM. In the doGet method of a servlet, I was trying to see all request attributes to see if the \"sendfile supported\" attribute was set (specifically the request attribute org.apache.tomcat.sendfile.support). On my first pass at this I just used HttpServletRequest.getAttributeNames() to dump all the names of the attributes expecting to see this one listed, but I got no attributes listed at all. Then I actually got the attribute via getAttribute(\"org.apache.tomcat.sendfile.support\") which worked. So getAttributeNames is not returning the names of all attributes. So either: 1. getAttributeNames needs to be fixed to return the names of all attributes (i.e., a code change); or 2. The Tomcat doc needs to be updated in some way as to say thatgetAttributeNames only returns certain attributes and blah blah (i.e., a doc change). Again my original email and Ranier's reply is attached. Thanks!"}, {"bug_id": "47462", "ground_truth": ["java/org/apache/catalina/startup/WebRuleSet.java"], "repo": "tomcat70", "reformed_query": "revision applications namespace Rule application IgnoreAnnotationsRule attributes Tomcat Annotations applications", "bug_title": " The annotation doesn't become effective.(metadata-complete=\"false\" is not effective.)", "bug_description": "Even if \"false\" is set to metadata-complete, the annotation doesn't become effective. To invalidate the annotation by all the Web applications of Tomcat, metadata-complete of conf/web.xml is set to \"true\". [conf/web.xml] <web-app xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" version=\"2.5\" metadata-complete=\"true\" > ..... </web-app> To make the annotation of Web application (testWebApp) effective, metadata-complete of webapps/testWebApp/WEB-INF/web.xml is set to \"false\". [webapps/testWebApp/WEB-INF/web.xml] <web-app xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" version=\"2.5\" metadata-complete=\"false\"> .... </web-app> However, testWebApp doesn't make the annotation effective. Because WebRuleSet#IgnoreAnnotationsRule#begin is as follows. When metadata-complete is \"false\", context.setIgnoreAnnotations(false) is not invoked. [WebRuleSet#IgnoreAnnotationsRule#begin] final class IgnoreAnnotationsRule extends Rule { public IgnoreAnnotationsRule() { } public void begin(String namespace, String name, Attributes attributes) throws Exception { Context context = (Context) digester.peek(digester.getCount() - 1); String value = attributes.getValue(\"metadata-complete\"); if (\"true\".equals(value)) { context.setIgnoreAnnotations(true); } if (digester.getLogger().isDebugEnabled()) { digester.getLogger().debug (context.getClass().getName() + \".setIgnoreAnnotations( \" + context.getIgnoreAnnotations() + \")\"); } } } I think that the following patches are necessary. Index: java/org/apache/catalina/startup/WebRuleSet.java =================================================================== --- java/org/apache/catalina/startup/WebRuleSet.java\t(revision 763870) +++ java/org/apache/catalina/startup/WebRuleSet.java\t(working copy) @@ -848,6 +848,8 @@ String value = attributes.getValue(\"metadata-complete\"); if (\"true\".equals(value)) { context.setIgnoreAnnotations(true); +        } else if (\"false\".equals(value)) { +            context.setIgnoreAnnotations(false); } if (digester.getLogger().isDebugEnabled()) { digester.getLogger().debug Best regards."}, {"bug_id": "47478", "ground_truth": ["java/org/apache/catalina/ha/session/DeltaSession.java"], "repo": "tomcat70", "reformed_query": "apply ClusterManager copy Cluster ClusterManager ignores loaders notifies current org", "bug_title": " DeltaSession ignores notifyListenersOnReplication when BackupManager is used.", "bug_description": "When BackupManager is used, DeltaSession notifies session listener even if notifyListenersOnReplication is set to false. The cause is in the following o.a.c.h.s.DeltaSession#applyDiff's codes. public void applyDiff(byte[] diff, int offset, int length) throws IOException, ClassNotFoundException { try { ... getDeltaRequest().execute(this); } finally { Thread.currentThread().setContextClassLoader(contextLoader); } }finally { unlock(); } } DeltaSession always notifies the session listener regardless of the value of notifyListenersOnReplication. Do not notify the session listener when notifyListenersOnReplication is set to false. I think that I should add notifyListenersOnReplication to the second parameter when o.a.c.h.s.DeltaRequest#execute is invoked. For instance, as follows. [start.] Index: java/org/apache/catalina/ha/session/DeltaSession.java =================================================================== --- java/org/apache/catalina/ha/session/DeltaSession.java\t(revision 763870) +++ java/org/apache/catalina/ha/session/DeltaSession.java\t(working copy) @@ -175,7 +175,7 @@ ClassLoader[] loaders = getClassLoaders(); if (loaders != null && loaders.length > 0) Thread.currentThread().setContextClassLoader(loaders[0]); -                    getDeltaRequest().execute(this); +                    getDeltaRequest().execute(this, ((ClusterManager) getManager()).isNotifyListenersOnReplication()); } finally { Thread.currentThread().setContextClassLoader(contextLoader); } [end.] Best regards"}, {"bug_id": "47499", "ground_truth": ["java/org/apache/tomcat/util/net/JIoEndpoint.java"], "repo": "tomcat70", "reformed_query": "ServerSocket Connector bind Impl SSLServerSocketFactoryImpl BindException Server Standard jsse PlainSocketImpl", "bug_title": " provide better insight on BindException: Cannot assign requested address", "bug_description": "1) cite the address you attempt to listen (not just the port) 2) proper exception chaining the following info is currently lost: <<java.net.BindException: Cannot assign requested address at java.net.PlainSocketImpl.socketBind(Native Method) at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:359) at java.net.ServerSocket.bind(ServerSocket.java:319) at java.net.ServerSocket.<init>(ServerSocket.java:185) at javax.net.ssl.SSLServerSocket.<init>(SSLServerSocket.java:106) at com.privasphere.net.ssl.SSLServerSocketImpl.<init>(SSLServerSocketImpl.java:106) at com.privasphere.net.ssl.SSLServerSocketFactoryImpl.createServerSocket(SSLServerSocketFactoryImpl.java:71) at org.apache.tomcat.util.net.jsse.JSSESocketFactory.createSocket(JSSESocketFactory.java:100) at org.apache.tomcat.util.net.PoolTcpEndpoint.initEndpoint(PoolTcpEndpoint.java:295) at org.apache.coyote.http11.Http11BaseProtocol.init(Http11BaseProtocol.java:139) at org.apache.catalina.connector.Connector.initialize(Connector.java:1017) at org.apache.catalina.core.StandardService.initialize(StandardService.java:578)>>"}, {"bug_id": "47502", "ground_truth": ["java/org/apache/catalina/ha/session/DeltaSession.java"], "repo": "tomcat70", "reformed_query": "util Tomcat serializable defaultWriteFields putting NotSerializableException Accessor DeltaSession serialize user", "bug_title": " clustering fails on serializing javax.security.auth.subject", "bug_description": "Clustering fails on serializing javax.security.auth.subject. See stack below. I looked a little into the Tomcat code. In ./java/org/apache/catalina/connector/Request.java on line 1752 Tomcat puts the 'javax.security.auth.subject' on the session if you use a securitymanager. This is the MemoryUser in my case I think. I must use the securitymanager because I use RMI. Is there a solution possible by making the MemoryUser serializable or by not putting it in the session as an attribute. Mark Thomas <markt_at_apache_dot_org> suggested a note on the session at the Tomcat user-mailinglist. I've never seen notes on sessions. The MemoryUser comes from the security-constraint in my web.xml. Jul 8, 2009 5:53:52 PM org.apache.catalina.ha.session.DeltaSession writeObject SEVERE: Cannot serialize session attribute javax.security.auth.subject for session 9C533E0EB4A79ED5B206B8F5A5DB09AD java.io.NotSerializableException: org.apache.catalina.users.MemoryUser at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1156) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326) at java.util.LinkedList.writeObject(LinkedList.java:943) at sun.reflect.GeneratedMethodAccessor216.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150) at java.io.ObjectOutputStream.access$300(ObjectOutputStream.java:143) at java.io.ObjectOutputStream$PutFieldImpl.writeFields(ObjectOutputStream.java:1668) at java.io.ObjectOutputStream.writeFields(ObjectOutputStream.java:454) at javax.security.auth.Subject$SecureSet.writeObject(Subject.java:1281) at sun.reflect.GeneratedMethodAccessor215.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509) at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:416) at java.util.Collections$SynchronizedCollection.writeObject(Collections.java:1602) at sun.reflect.GeneratedMethodAccessor214.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1509) at java.io.ObjectOutputStream.defaultWriteObject(ObjectOutputStream.java:416) at javax.security.auth.Subject.writeObject(Subject.java:919) at sun.reflect.GeneratedMethodAccessor213.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1461) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1392) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1150) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:326) at org.apache.catalina.ha.session.DeltaSession.writeObject(DeltaSession.java:714) at org.apache.catalina.ha.session.DeltaSession.writeObjectData(DeltaSession.java:475) at org.apache.catalina.ha.session.DeltaSession.writeObjectData(DeltaSession.java:472) at org.apache.catalina.ha.session.DeltaManager.serializeSessions(DeltaManager.java:733) at org.apache.catalina.ha.session.DeltaManager.sendSessions(DeltaManager.java:1513) at org.apache.catalina.ha.session.DeltaManager.handleGET_ALL_SESSIONS(DeltaManager.java:1479) at org.apache.catalina.ha.session.DeltaManager.messageReceived(DeltaManager.java:1310) at org.apache.catalina.ha.session.DeltaManager.messageDataReceived(DeltaManager.java:1093) at org.apache.catalina.ha.session.ClusterSessionListener.messageReceived(ClusterSessionListener.java:87) at org.apache.catalina.ha.tcp.SimpleTcpCluster.messageReceived(SimpleTcpCluster.java:901) at org.apache.catalina.ha.tcp.SimpleTcpCluster.messageReceived(SimpleTcpCluster.java:882) at org.apache.catalina.tribes.group.GroupChannel.messageReceived(GroupChannel.java:269) at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79) at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79) at org.apache.catalina.tribes.group.interceptors.TcpFailureDetector.messageReceived(TcpFailureDetector.java:110) at org.apache.catalina.tribes.group.ChannelInterceptorBase.messageReceived(ChannelInterceptorBase.java:79) at org.apache.catalina.tribes.group.ChannelCoordinator.messageReceived(ChannelCoordinator.java:241) at org.apache.catalina.tribes.transport.ReceiverBase.messageDataReceived(ReceiverBase.java:225) at org.apache.catalina.tribes.transport.nio.NioReplicationTask.drainChannel(NioReplicationTask.java:188) at org.apache.catalina.tribes.transport.nio.NioReplicationTask.run(NioReplicationTask.java:91) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)"}, {"bug_id": "47515", "ground_truth": ["java/org/apache/catalina/ha/session/DeltaManager.java"], "repo": "tomcat70", "reformed_query": "Server catalina Message data time replicated TimeStamp isn session Manager", "bug_title": " Tomcat can't replicate session when it is started.", "bug_description": "System two Tomcat Server(AP1,AP2) Tomcat's version is 6.0.18. Replication method is Delta Manager I stopped Tomcat of AP1. Then, I restarted Tomcat of AP1. Then, for AP1, Tomcat's log is as follows. Jul 2, 2009 4:51:04 PM org.apache.catalina.ha.session.DeltaManager getAllClusterSessions WARNING: Manager [/tpcw]: Drop message SESSION-DELTA inside GET_ALL_SESSIONS sync phase start date 7/2/09 4:51 PM message date 1/1/70 9:00 AM Jul 2, 2009 4:51:04 PM org.apache.catalina.ha.session.DeltaManager getAllClusterSessions WARNING: Manager [/tpcw]: Drop message SESSION-ACCESSED inside GET_ALL_SESSIONS sync phase start date 7/2/09 4:51 PM message date 1/1/70 9:00 AM TimeStamp is incorrect when SESSION-DELTA or SESSION-ACCESSED because \"1/1/70 9:00 AM\" isn't created time of session. In this case, AP1's Tomcat may drop all session data. As a result, AP1's Tomcat can't replicate session. If TimeStamp is updated when update last replicated time, it goes well. I made patch. DeltaManager's patch. Index: java/org/apache/catalina/ha/session/DeltaManager.java =================================================================== --- java/org/apache/catalina/ha/session/DeltaManager.java\t(revision 792004) +++ java/org/apache/catalina/ha/session/DeltaManager.java\t(working copy) @@ -1162,7 +1162,10 @@ } //update last replicated time -            if (msg != null) session.setLastTimeReplicated(System.currentTimeMillis()); +            if (msg != null){ +            \tsession.setLastTimeReplicated(System.currentTimeMillis()); +            \tmsg.setTimestamp(session.getLastTimeReplicated()); +            } return msg; } catch (IOException x) { log.error(sm.getString(\"deltaManager.createMessage.unableCreateDeltaRequest\",sessionId), x);"}, {"bug_id": "47518", "ground_truth": ["java/org/apache/catalina/Valve.java"], "repo": "tomcat70", "reformed_query": "guess actions log control pipeline javadoc expected Perform problem Note", "bug_title": " Valve Interface Javadocs for invoke method references non-existent method", "bug_description": "It appears that the Valve interface javadoc hasn't been updated since around TC 5.5. Here is a snip of what it currently available from TC's website (6.0.20 I would guess): \" # If the corresponding Response was not generated (and control was not returned, call the next Valve in the pipeline (if there is one) by executing context.invokeNext(). . . . # Modify the HTTP headers included with the Response after the invokeNext() method has returned. # Perform any actions on the output stream associated with the specified Response after the invokeNext() method has returned. \" The invokeNext method has not existed in the Valve interface in many versions. I believe the replacement is: this.getNext().invoke(request, response) I'm happy to provide a doc patch if getNext().invoke(request, response) is the expected replacement for invokeNext(request, response). Note that the docs for 5.5 also have the same problem. Please let me know if I should log that separately."}, {"bug_id": "47568", "ground_truth": ["test/org/apache/catalina/startup/TestTomcat.java"], "repo": "tomcat70", "reformed_query": "directory TestTomcat Test work", "bug_title": " TestTomcat fails to delete work directory", "bug_description": "TestTomcat.setUp() creates a work directory, but does not delete it in tearDown()"}, {"bug_id": "47744", "ground_truth": ["java/org/apache/tomcat/util/net/jsse/JSSESupport.java"], "repo": "tomcat70", "reformed_query": "adapted demonstrate SSLSession asks bat CXF security policy jconsole putting", "bug_title": " Memory leak when using SSL + Java security manager", "bug_description": "Created attachment 24170 [details] The zip described in the main bug. Contains test client, JSP for the server, and patch. When using SSL + the java security manager, Tomcat leaks memory when servlets access cert path/cipher as request properties.  When the servlet/JSP asks for these properties and they are not in the request, they are loaded via the JSSESupport class. The offending method calculates the key size and attempts to cache this in the SSLSession.  Without the security manager, this is fine.  When the security manager runs, however, the AccessControlContext is different every time. Retrieving from the cache will always return null, and putting into the SSLSession's cache leaks memory.  This part is probably a JVM bug and not Tomcat's fault, but Tomcat is exercising it nonetheless. Popular web service tools (such as Apache CXF) retrieve cert properties from the request for every invocation.  Depending on the policy file, the leak may be relatively slow, requiring 100s of thousands or millions of requests; or it could be fast (in our case), requiring only ~40k to crash an instance of Tomcat limited to 1 gig of memory. A note here.  The SSLSession can be collected once it is not in use, so the memory leak isn't permanent.  If you turn down the SSLSession timeout and wait at least that amount of time in between using a specific session, you might never see this bug.  You have to continuously use the same session *and* trip JSSESession into attempting to get the keysize.  In our particular case, we have long-connected clients that stream information to us, so it is only taking is 10-20 minutes before we are being affected negatively by this. I have attached a zip containing: - A test client - A script (.bat, sorry guys, but easily adapted) to run the test client - A .jsp that trips the JSSESupport to call the affected method. - The simplest possible policy file, to demonstrate it's not a policy file issue. Also attached: a patch that fixes this issue. (It's in the zip for good measure.) I recommend setting the invocation count to at least 100,000 or so on the test client.  Use jconsole or a similar tool attached to tomcat to monitor the memory use.  You should notice that after the test, a large chunk of memory is not able to be returned by the garbage collector.  If you apply the patch, update tomcat-coyote.jar, and re-run the load test, you will notice that memory consumption stays low and you can immediately return to the baseline."}, {"bug_id": "47826", "ground_truth": ["java/org/apache/catalina/startup/Bootstrap.java"], "repo": "tomcat70", "reformed_query": "Bootstrap replace Bootstrap indexOf apache length Debug debug CATALINA substring", "bug_title": " a logging statement error in org.apache.catalina.startup.Bootstrap.java", "bug_description": "// Local repository boolean replace = false; String before = repository; while ((i=repository.indexOf(CATALINA_HOME_TOKEN))>=0) { replace=true; if (i>0) { repository = repository.substring(0,i) + getCatalinaHome() + repository.substring(i+CATALINA_HOME_TOKEN.length()); } else { repository = getCatalinaHome() + repository.substring(CATALINA_HOME_TOKEN.length()); } } while ((i=repository.indexOf(CATALINA_BASE_TOKEN))>=0) { replace=true; if (i>0) { repository = repository.substring(0,i) + getCatalinaBase() + repository.substring(i+CATALINA_BASE_TOKEN.length()); } else { repository = getCatalinaBase() + repository.substring(CATALINA_BASE_TOKEN.length()); } } if (replace && log.isDebugEnabled()) log.debug(\"Expanded \" + before + \" to \" + replace); The last line should be: \"log.debug(\"Expanded \" + before + \" to \" + repository);\""}, {"bug_id": "47827", "ground_truth": ["java/org/apache/catalina/startup/Tomcat.java", "java/org/apache/catalina/connector/Connector.java"], "repo": "tomcat70", "reformed_query": "exception Tomcat methods polite", "bug_title": " Tomcat API should not have methods that declare they throw Exception", "bug_description": "Tomcat API should not have methods that declare they throw Exception.  Something more specific would be polite to users, since it must be known what actual checked exception types can be thrown."}, {"bug_id": "47828", "ground_truth": ["java/org/apache/catalina/startup/Tomcat.java"], "repo": "tomcat70", "reformed_query": "Java JavaBean unset clients Java Java doesn doesn Silent Silent", "bug_title": " Change Tomcat.setSilent() to setSilent(boolean)", "bug_description": "Change Tomcat.setSilent() to setSilent(boolean).  It's nicer for clients to have a JavaBean type setter, and it doesn't seem to make sense that you can set something but not unset it."}, {"bug_id": "47866", "ground_truth": ["test/org/apache/catalina/startup/TestTomcat.java"], "repo": "tomcat70", "reformed_query": "needed lang server add org resource narrow Webapp", "bug_title": " NullPointerException in embedded tomcat", "bug_description": "It seems that the WebappClassLoader was stopped? {noformat} Caused by: java.lang.NullPointerException at org.apache.catalina.loader.WebappClassLoader.findResources(WebappClassLoader.java:994) at java.lang.ClassLoader.getResources(ClassLoader.java:1016) {noformat} All I did was launch a server add a context and then ask it to load a resource from its classpath.  It's a bit more complicated than that, so I'll try and narrow it down if needed."}, {"bug_id": "47881", "ground_truth": ["java/org/apache/catalina/startup/Bootstrap.java"], "repo": "tomcat70", "reformed_query": "args config Bootstrap method org java daemon main pathname load", "bug_title": " org.apache.catalina.startup.Bootstrap's main method handles 'startd' or 'stopd' wrongly", "bug_description": "String command = \"start\"; if (args.length > 0) { command = args[args.length - 1]; } if (command.equals(\"startd\")) { args[0] = \"start\"; daemon.load(args); daemon.start(); } else if (command.equals(\"stopd\")) { args[0] = \"stop\"; daemon.stop(); } ... ... should be: String command = \"start\"; if (args.length > 0) { command = args[args.length - 1]; } if (command.equals(\"startd\")) { args[args.length - 1] = \"start\"; daemon.load(args); daemon.start(); } else if (command.equals(\"stopd\")) { args[args.length - 1] = \"stop\"; daemon.stop(); } ... ... Please refer to the following usage method of  org.apache.catalina.startup.Catalina: protected void usage() { System.out.println (\"usage: java org.apache.catalina.startup.Catalina\" + \" [ -config {pathname} ]\" + \" [ -nonaming ] { start | stop }\"); }"}, {"bug_id": "47930", "ground_truth": ["java/org/apache/catalina/session/PersistentManagerBase.java"], "repo": "tomcat70", "reformed_query": "noticed Persistent report session Restart sessiond shutdown Output catalina Created", "bug_title": " PersistentManager (using filestore) can return different session objects linked to the same session ID, when Tomcat is restarted", "bug_description": "Created attachment 24333 [details] Sample webapp and scripts to reproduce issue When using PersistentManager with a filestore backing, I've noticed that (near) simultaneous requests with the same session ID, can cause PersistentManager to return two different session objects, shortly after restarting Tomcat. I have included a sample webapp, with a test script to create simultaneous HTTP requests to a servlet, that reproduces this issue. General steps to reproduce: 0. Configure PersistentManager to use FileStore. <Manager className=\"org.apache.catalina.session.PersistentManager\" > <Store className=\"org.apache.catalina.session.FileStore\" directory=\"/tmp\" > </Store> </Manager> 1. Make a HTTP request to a servlet, and establish a new session. Note the new session ID created on the server. 2. Restart Tomcat (cleanly shutdown and startup). 3. Shortly after Tomcat starts and initialises, make near simultaneous HTTP requests to a servlet using the previously established session cookie. 4. Output the session IDs and session object hashcodes on the server side, that is associated with each request. 5. Some of the reported session object hashcodes will be different (even though their session IDs are the same). Additionally the HttpSessionListener will report that the additional sessions are created/destroyed. Expected results: Session object hashcodes should be the same for the requests (and have the same session ID). Notes on the included attachment: - sessionTest.zip contains a sample webapp with two servlets. The LoginServlet establishes a new session for a request. The TestServlet will use the session cookie attached to a request, and will retrieve the session object (printing its ID and hex-encoded object hashcode). SessionListener will log each time a session is created or destroyed. - The session_test.sh script will automatically start/shutdown Tomcat, and make HTTP requests using curl. You may have to change the location of TOMCAT_HOME, the URL of the deployed webapp, and the COOKIE path. - Using the sample webapp and script will not always reproduce the issue. It may take a few goes for it to reproduce it. Example output: [tomcat@localhost sessionTest]$ ./session_test.sh Starting Tomcat.. Logging in to init new session.. New sessiond ID: JSESSIONID=09DDD0198C190E3394C19808DD8E074A New session obj hashcode: 3e5e9db7 --- Shutting down Tomcat.. Starting Tomcat.. Session ID: JSESSIONID=09DDD0198C190E3394C19808DD8E074A Session obj hashcode: 46bb05de --- Session ID: JSESSIONID=09DDD0198C190E3394C19808DD8E074A Session obj hashcode: 46bb05de --- Session ID: JSESSIONID=09DDD0198C190E3394C19808DD8E074A Session obj hashcode: 68acbd3a --- Session ID: JSESSIONID=09DDD0198C190E3394C19808DD8E074A Session obj hashcode: 46bb05de --- Session ID: JSESSIONID=09DDD0198C190E3394C19808DD8E074A Session obj hashcode: 24bb6086 --- Session ID: JSESSIONID=09DDD0198C190E3394C19808DD8E074A Session obj hashcode: 24bb6086 --- Removing cookie /tmp/foo.cookie Shutting down Tomcat.. Notice that we have three different session objects tied to the same session ID, after the requests are made (with hashcodes: 46bb05de, 68acbd3a, 24bb6086)."}, {"bug_id": "47987", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java"], "repo": "tomcat70", "reformed_query": "validator Guys Loader loader WebappClassLoader resource perchance great site action", "bug_title": " Out of memory being caused by notFoundResources in org.apache.catalina.loader.WebappClassLoader", "bug_description": "Guys Tomcat 6.0.20, java 1.6, linux x64 org.apache.catalina.loader.WebappClassLoader records every resource you asked for that doesn't exist. On our site we have alot of pages ( > 800,000 ) all of which are using struts2 with validation. every hit means the validator does a request for a resource actionName-validation.xml This then gets cached in the WebappClassLoader about line 249 /** * The list of not found resources. */ protected HashMap notFoundResources = new HashMap(); Can this be made into a weak hash map perchance ? or something so that it won't invoke a out of memory. I'm also looking at removing the validator from those urls if anyone knows how to tell the validation interceptor that we don't use the xml files and ONLY use annotations then that would be great :) Ta D"}, {"bug_id": "47997", "ground_truth": ["java/org/apache/catalina/core/NamingContextListener.java"], "repo": "tomcat70", "reformed_query": "prevents add lifecycleEvent naming attachment object working Change Naming Listener", "bug_title": " NamingContextListener fails to add itself as a PropertyChangeListener to all namingResources", "bug_description": "Created attachment 24378 [details] proposed fix In the NamingContextListener.lifecycleEvent(LifecycleEvent) method, the NamingContextListener object fails to add itself as a PropertyChangeListener to namingResources whose context is not a Server, e.g. a Context instance.  This prevents the NamingResourcesMBean from working with non-Server contexts."}, {"bug_id": "48007", "ground_truth": ["java/org/apache/catalina/util/CustomObjectInputStream.java"], "repo": "tomcat70", "reformed_query": "directory Container readObjectData Ordinary loadClass CustomObjectInputStream resolve minute net Environment", "bug_title": " ClassNotFoundException when deserializing custom object with FileStore", "bug_description": "We're using the FileStore to make sessions persistent. Sessions are serialized correctly, but every minute or so we get an exception like the following: SEVERE: Session: 6D026DD0479F48B331D28EE8325095BB; java.lang.ClassNotFoundException: com.whatever.spikes.session.CustomClass at java.net.URLClassLoader$1.run(URLClassLoader.java:200) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:188) at java.lang.ClassLoader.loadClass(ClassLoader.java:319) at java.lang.ClassLoader.loadClass(ClassLoader.java:254) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:399) at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:247) at java.io.ObjectInputStream.resolveClass(ObjectInputStream.java:604) at org.apache.catalina.util.CustomObjectInputStream.resolveClass(CustomObjectInputStream.java:78) at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1575) at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1496) at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1732) at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1329) at java.io.ObjectInputStream.readObject(ObjectInputStream.java:351) at org.apache.catalina.session.StandardSession.readObject(StandardSession.java:1407) at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:931) at org.apache.catalina.session.FileStore.load(FileStore.java:296) at org.apache.catalina.session.StoreBase.processExpires(StoreBase.java:194) at org.apache.catalina.session.PersistentManagerBase.processExpires(PersistentManagerBase.java:553) at org.apache.catalina.session.ManagerBase.backgroundProcess(ManagerBase.java:664) at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1285) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1570) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1579) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1579) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1559) at java.lang.Thread.run(Thread.java:637) This doesn't happen if we put CustomClass in $CATALINA_HOME/shared/lib or $CATALINA_HOME/shared/classes Configuration: <Context path=\"/Spikes\" reloadable=\"true\" docBase=\"/Users/mman/Workspaces/Spikes\" workDir=\"/Users/mman/Workspaces/Spikes/work\" > <Manager className=\"org.apache.catalina.session.PersistentManager\" maxIdleBackup=\"0\" > <Store className=\"org.apache.catalina.session.FileStore\" directory=\"/Users/mman/tmp/tomcat-sessions\"/> </Manager> </Context> Environment: *) Mac OS/X 10.6.1 *) JDK 1.6.0_15 *) Tomcat 5.5.27"}, {"bug_id": "48049", "ground_truth": ["java/org/apache/naming/NamingContext.java"], "repo": "tomcat70", "reformed_query": "Empty Bound bindings Expected doesn Naming method Suffix nameNotBound Naming", "bug_title": " org.apache.naming.NamingContext's destroySubcontext() method doesn't invoke itself recursively, but invoke unbind() method", "bug_description": "Below is the original implementation of destroySubcontext(Name name) method: public void destroySubcontext(Name name) throws NamingException { checkWritable(); while ((!name.isEmpty()) && (name.get(0).length() == 0)) name = name.getSuffix(1); if (name.isEmpty()) throw new NamingException (sm.getString(\"namingContext.invalidName\")); NamingEntry entry = (NamingEntry) bindings.get(name.get(0)); if (entry == null) { throw new NameNotFoundException (sm.getString(\"namingContext.nameNotBound\", name.get(0))); } if (name.size() > 1) { if (entry.type == NamingEntry.CONTEXT) { ((Context) entry.value).unbind(name.getSuffix(1)); } else { throw new NamingException (sm.getString(\"namingContext.contextExpected\")); } } else { if (entry.type == NamingEntry.CONTEXT) { ((Context) entry.value).close(); bindings.remove(name.get(0)); } else { throw new NotContextException (sm.getString(\"namingContext.contextExpected\")); } } } However, the method invokes 'unbind' method rather than invokes itself recursively. if (name.size() > 1) { if (entry.type == NamingEntry.CONTEXT) { ((Context) entry.value).unbind(name.getSuffix(1)); } else { throw new NamingException (sm.getString(\"namingContext.contextExpected\")); } should be: if (name.size() > 1) { if (entry.type == NamingEntry.CONTEXT) { ((Context) entry.value).destroySubcontext(name.getSuffix(1)); } else { throw new NamingException (sm.getString(\"namingContext.contextExpected\")); }"}, {"bug_id": "48050", "ground_truth": ["java/org/apache/naming/LocalStrings.properties", "java/org/apache/naming/NamingContext.java"], "repo": "tomcat70", "reformed_query": "exception Exception org exist Exception NamingException apache atomic Creates checkWritable", "bug_title": " org.apache.naming.NamingContext's createSubcontext method returns Context with wrong name", "bug_description": "Below is the original source code of org.apache.naming.NamingContext's createSubcontext(Name name) method: /** * Creates and binds a new context. Creates a new context with the given * name and binds it in the target context (that named by all but * terminal atomic component of the name). All intermediate contexts and * the target context must already exist. * * @param name the name of the context to create; may not be empty * @return the newly created context * @exception NameAlreadyBoundException if name is already bound * @exception InvalidAttributesException if creation of the subcontext * requires specification of mandatory attributes * @exception NamingException if a naming exception is encountered */ public Context createSubcontext(Name name) throws NamingException { checkWritable(); Context newContext = new NamingContext(env, this.name); bind(name, newContext); return newContext; } However, the returned NamingContext has the same name with its parent NamingContext. I suggest change the source code to below: public Context createSubcontext(Name name) throws NamingException { checkWritable(); Context newContext = new NamingContext(env, name.get(name.size() - 1)); bind(name, newContext); return newContext; }"}, {"bug_id": "48102", "ground_truth": ["java/org/apache/catalina/startup/Bootstrap.java"], "repo": "tomcat70", "reformed_query": "internal word Bootstrap internal Revision XML Nov loader JAR roundabout", "bug_title": " 'Bootstrap' is misspelled as 'Boostrap' in the javadoc of the class of 'org.apache.catalina.startup.Bootstrap'", "bug_description": "Below is the javadoc of the class of 'org.apache.catalina.startup.Bootstrap': /** * Boostrap loader for Catalina.  This application constructs a class loader * for use in loading the Catalina internal classes (by accumulating all of the * JAR files found in the \"server\" directory under \"catalina.home\"), and * starts the regular execution of the container.  The purpose of this * roundabout approach is to keep the Catalina internal classes (and any * other classes they depend on, such as an XML parser) out of the system * class path and therefore not visible to application level classes. * * @author Craig R. McClanahan * @author Remy Maucherat * @version $Revision: 831860 $ $Date: 2009-11-02 19:00:01 +0800 (Mon, 02 Nov 2009) $ */ the first word ommits a 't' letter. It sould be 'Bootstrap', not 'Boostrap'."}, {"bug_id": "48104", "ground_truth": ["java/org/apache/catalina/startup/Catalina.java"], "repo": "tomcat70", "reformed_query": "base nonaming Craig version config option Mar Embedded java start", "bug_title": " the javadoc of class 'org.apache.catalina.startup.Catalina' is not complete, as in the usage() method", "bug_description": "Below is the javadoc of class 'org.apache.catalina.startup.Catalina': /** * Startup/Shutdown shell program for Catalina.  The following command line * options are recognized: * <ul> * <li><b>-config {pathname}</b> - Set the pathname of the configuration file *     to be processed.  If a relative path is specified, it will be *     interpreted as relative to the directory pathname specified by the *     \"catalina.base\" system property.   [conf/server.xml] * <li><b>-help</b> - Display usage information. * <li><b>-stop</b> - Stop the currently running instance of Catalina. * </u> * * Should do the same thing as Embedded, but using a server.xml file. * * @author Craig R. McClanahan * @author Remy Maucherat * @version $Revision: 752323 $ $Date: 2009-03-11 08:46:54 +0800 (Wed, 11 Mar 2009) $ */ However, it doesn't allude the '-nonmaing' option, and 'start' option. Below is the usage() method of the same class: /** * Print usage information for this application. */ protected void usage() { System.out.println (\"usage: java org.apache.catalina.startup.Catalina\" + \" [ -config {pathname} ]\" + \" [ -nonaming ] { start | stop }\"); } It is not complete either. It lacks the '-help' option."}, {"bug_id": "48113", "ground_truth": ["java/org/apache/catalina/tribes/util/Arrays.java"], "repo": "tomcat70", "reformed_query": "tribes behave delegates unsigned toString existing Arrays root Impl updates", "bug_title": " Member hostname components are printed as signed 8bits", "bug_description": "Created attachment 24467 [details] Patch to print hostname IP components as unsigned int Hey, Take the following member for example: 192.168.1.61:4000, when it's hostname is printed (like in toString()), it shows as: tcp://{-64, -88, 1, 61}:4000 Like in: 16:23:17,773 INFO  [TcpFailureDetector] Received memberDisappeared[org.apache.catalina.tribes.membership.MemberImpl[tcp://{-64, -88, 1, 61}:4000,{-64, -88, 1, 61},4000, alive=1814258,id={50 18 86 10 111 -47 79 83 -108 -4 82 -8 26 82 -79 -59 }, payload={-84 -19 0 5 115 114 0 50 111 ...(423)}, command={}, domain={74 79 84 84 65 95 87 65 68 ...(10)}, ]] message. Will verify. 16:23:17,897 INFO  [TcpFailureDetector] Verification complete. Member still alive[org.apache.catalina.tribes.membership.MemberImpl[tcp://{-64, -88, 1, 61}:4000,{-64, -88, 1, 61},4000, alive=1814258,id={50 18 86 10 111 -47 79 83 -108 -4 82 -8 26 82 -79 -59 }, payload={-84 -19 0 5 115 114 0 50 111 ...(423)}, command={}, domain={74 79 84 84 65 95 87 65 68 ...(10)}, ]] I attached a patch which takes the Arrays.toString(byte[]) and creates another one with a second argument \"unsigned\". Then the original delegates to this new one with a default of \"false\" for unsigned. So existing code will continue to behave as is, but the getHostname() code in MemberImpl passes \"true\" for this argument, which will make the name print as: tcp://{192, 168, 1, 61}:4000 So this code updates: java/org/apache/catalina/tribes/util/Arrays.java java/org/apache/catalina/tribes/membership/MemberImpl.java I generated the patch from trunk with a root of: java/org/apache/catalina/ So it needs to be applied from this directory."}, {"bug_id": "48117", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java"], "repo": "tomcat70", "reformed_query": "org read security misspellings Config InputSource InputSource Web file segments", "bug_title": " two misspellings in the javadoc of class \"org.apache.catalina.startup.ContextConfig\"", "bug_description": "in protected synchronized void stop(): (Line: 1059) // Removing sercurity role 'security' is misspelled to 'sercurity' in protected InputSource getWebXmlSource(String filename, String path): (Line: 1354) /** * * @param filename  Name of the file (possibly with one or more leading path *                  segemnts) to read * @param path      Location that filename is relative to * @return */ 'segments' is misspelled to 'segemnts'."}, {"bug_id": "48120", "ground_truth": ["java/org/apache/catalina/startup/SetNextNamingRule.java"], "repo": "tomcat70", "reformed_query": "Construct paramType corresonding startup Method String wrapper Type Type argument", "bug_title": " one misspelling in the javadoc of class \"org.apache.catalina.startup.SetNextNamingRule\"", "bug_description": "Line 50: /** * Construct a \"set next\" rule with the specified method name. * * @param methodName Method name of the parent method to call * @param paramType Java class of the parent method's argument *  (if you wish to use a primitive type, specify the corresonding *  Java wrapper class instead, such as <code>java.lang.Boolean</code> *  for a <code>boolean</code> parameter) */ public SetNextNamingRule(String methodName, String paramType) { 'corresponding' was misspelled as 'corresonding'"}, {"bug_id": "48121", "ground_truth": ["java/org/apache/catalina/startup/TldConfig.java"], "repo": "tomcat70", "reformed_query": "awareness TLD catalina Attribute org TldConfig TLD apache server TLD", "bug_title": " 2 misspellings in the javadoc of class \"org.apache.catalina.startup.TldConfig\"", "bug_description": "No.1 Line 194: /** * Attribute value used to turn on/off TLD  namespace awarenes. */ private boolean tldNamespaceAware = false; 'awareness' was misspelled as 'awarenes' No.2 Line 261 /** * Get the server.xml &lt;host&gt; attribute's xmlNamespaceAware. * @return true if namespace awarenes is enabled. * */ public boolean getTldNamespaceAware(){ return this.tldNamespaceAware; } 'awareness' was misspelled as 'awarenes'"}, {"bug_id": "48123", "ground_truth": ["java/org/apache/catalina/startup/WebRuleSet.java"], "repo": "tomcat70", "reformed_query": "xml startup login fragment Jsp Construct SetSessionConfig Login misspelled RuleSet", "bug_title": " 4 misspellings in the javadoc of class \"org.apache.catalina.startup.WebRuleSet\"", "bug_description": "No.1 Line: 99 /** * Construct an instance of this <code>RuleSet</code> with the default * matching pattern prefix and default fargment setting. */ public WebRuleSet() { 'fragment' was misspelled as 'fargment' No.2 Line: 614 /** * Rule to check that the <code>login-config</code> is occuring * only 1 time within the web.xml */ final class SetLoginConfig extends Rule { 'occurring' was misspelled as 'occuring' No.3 Line 635 /** * Rule to check that the <code>jsp-config</code> is occuring * only 1 time within the web.xml */ final class SetJspConfig extends Rule { 'occurring' was misspelled as 'occuring' No.4 Line 656 /** * Rule to check that the <code>session-config</code> is occuring * only 1 time within the web.xml */ final class SetSessionConfig extends Rule { 'occurring' was misspelled as 'occuring'"}, {"bug_id": "48139", "ground_truth": ["java/org/apache/catalina/startup/Tomcat.java"], "repo": "tomcat70", "reformed_query": "Created exception Tomcat unthrown", "bug_title": " Tomcat Javadoc and unthrown exception fixes", "bug_description": "Created attachment 24489 [details] Patch As the subject says..."}, {"bug_id": "48172", "ground_truth": ["java/org/apache/jasper/compiler/JspRuntimeContext.java"], "repo": "tomcat70", "reformed_query": "easily read updated Source Jsp constructor synch classpath getter jspReloadCount", "bug_title": " JspRuntimeContext synch. problems.", "bug_description": "JspRuntimeContext.jspReloadCount is synchronised when updated, but not when read by getJspReloadCount(). If the instance is accessed from multiple threads, then the returned value may not be the current value, it could be arbitrarily stale. If this is acceptable, then the Javadoc should say so; otherwise the getter needs to be synch. (or the field needs to be volatile) Or just use AtomicInteger. == Various other fields are neither final nor synchronized, e.g. classpath codeSource etc. As far as I can tell, these could easily be made final as they are only written by the constructor."}, {"bug_id": "48173", "ground_truth": ["java/org/apache/catalina/tribes/io/ChannelData.java"], "repo": "tomcat70", "reformed_query": "ARRAY tribes org DATA catalina ARRAY tribes ChannelData ChannelData org", "bug_title": " org.apache.catalina.tribes.io.ChannelData.EMPTY_DATA_ARRAY should be final", "bug_description": "org.apache.catalina.tribes.io.ChannelData.EMPTY_DATA_ARRAY should be final"}, {"bug_id": "48174", "ground_truth": ["java/org/apache/tomcat/jni/Address.java"], "repo": "tomcat70", "reformed_query": "jni apache Address org jni apache ANYADDR jni ANYADDR Address", "bug_title": " org.apache.tomcat.jni.Address.APR_ANYADDR should be final", "bug_description": "org.apache.tomcat.jni.Address.APR_ANYADDR should be final"}, {"bug_id": "48176", "ground_truth": ["java/org/apache/catalina/tribes/io/BufferPool.java", "java/org/apache/jasper/compiler/ServletWriter.java", "modules/tomcat-lite/java/org/apache/tomcat/util/http/MimeMap.java"], "repo": "tomcat70", "reformed_query": "Created", "bug_title": " Fields that should be final", "bug_description": "Created attachment 24517 [details] Patch fields that should be final"}, {"bug_id": "48197", "ground_truth": ["java/org/apache/catalina/tribes/io/XByteBuffer.java"], "repo": "tomcat70", "reformed_query": "XByteBuffer Buffer fields Patch", "bug_title": " XByteBuffer: privatize public fields; fix Javadoc", "bug_description": "Created attachment 24536 [details] Patch to fix various problems in XByteBuffer. Patch to fix various problems in XByteBuffer."}, {"bug_id": "48234", "ground_truth": ["java/org/apache/catalina/core/ContainerBase.java"], "repo": "tomcat70", "reformed_query": "core catalina apply safe safe ContainerBase prevent subclasses returns synch", "bug_title": " org.apache.catalina.core.ContainerBase.getLogger() not thread-safe?", "bug_description": "org.apache.catalina.core.ContainerBase.getLogger() is not synchronised, yet all the other methods which access org.apache.catalina.core.ContainerBase.logger are synch. This seems wrong. org.apache.catalina.core.ContainerBase.logger should probably be private to prevent unsynch. access by subclasses. Similar considerations apply to logName and logName() The Javadoc for getLogger() states that it can return null - that does not appear to be possible. [Not sure if the method ever returns the parent logger either.]"}, {"bug_id": "48249", "ground_truth": ["java/org/apache/tomcat/util/net/NioBlockingSelector.java"], "repo": "tomcat70", "reformed_query": "apache Selector NioBlockingSelector Selector BlockPoller tomcat Blocking net Selector Nio", "bug_title": " org.apache.tomcat.util.net.NioBlockingSelector.BlockPoller.run <= volatile", "bug_description": "org.apache.tomcat.util.net.NioBlockingSelector.BlockPoller.run should be volatile, as it is used to communicate between running threads."}, {"bug_id": "48266", "ground_truth": ["java/org/apache/catalina/ant/jmx/JMXAccessorTask.java", "java/org/apache/catalina/connector/Request.java", "java/org/apache/catalina/core/StandardPart.java", "java/org/apache/catalina/ha/backend/CollectedInfo.java", "java/org/apache/catalina/ha/session/BackupManager.java", "java/org/apache/catalina/ha/tcp/ReplicationValve.java", "java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java", "java/org/apache/catalina/tribes/transport/bio/MultipointBioSender.java"], "repo": "tomcat70", "reformed_query": "subject catalina", "bug_title": " Patch to fix generics in catalina", "bug_description": "Created attachment 24596 [details] Patch to fix generics in catalina As the subject says"}, {"bug_id": "48267", "ground_truth": ["java/javax/annotation/Resource.java", "java/javax/ejb/EJB.java", "java/javax/el/BeanELResolver.java", "java/javax/el/ELContext.java", "java/javax/el/ListELResolver.java", "java/javax/el/MapELResolver.java", "java/javax/el/ResourceBundleELResolver.java", "java/javax/xml/ws/WebServiceRef.java"], "repo": "tomcat70", "reformed_query": "javax generics", "bug_title": " Patch to fix generics in javax packages", "bug_description": "Created attachment 24597 [details] Patch to fix generics in javax packages Patch to fix generics in javax packages"}, {"bug_id": "48282", "ground_truth": ["java/org/apache/tomcat/util/modeler/Registry.java"], "repo": "tomcat70", "reformed_query": "details details Registry Registry NPE item Javadoc equals getName description", "bug_title": " Possible NPE in org.apache.tomcat.util.modeler.Registry", "bug_description": "Created attachment 24612 [details] Patch - see description There is a possible NPE in org.apache.tomcat.util.modeler.Registry: if ((group == null) && (item.getGroup() == null)) { results.add(item.getName()); } else if (group.equals(item.getGroup())) { // group may be null results.add(item.getName()); } The Javadoc implies that the item.getGroup() check should be nested. Patch to follow; also fixes one raw type."}, {"bug_id": "48287", "ground_truth": ["java/org/apache/catalina/core/ApplicationContextFacade.java"], "repo": "tomcat70", "reformed_query": "doPrivileged safety wrapper Context fixes warnings generics doPrivileged suppressed follow", "bug_title": " ApplicationContextFacade - generics fixes", "bug_description": "Created attachment 24618 [details] Patch ApplicationContextFacade generates lots of \"Type safety: Unchecked cast ...\" warnings which are caused by the doPrivileged() method wrapper. These can be suppressed with the patch to follow."}, {"bug_id": "48296", "ground_truth": ["java/org/apache/catalina/ant/jmx/JMXAccessorTask.java", "java/org/apache/catalina/tribes/membership/Membership.java", "java/org/apache/naming/resources/DirContextURLConnection.java"], "repo": "tomcat70", "reformed_query": "fixes details Generics Generics Created Generics Generics details attachment Created", "bug_title": " Generics fixes", "bug_description": "Created attachment 24626 [details] Generics fixes Generics fixes"}, {"bug_id": "48297", "ground_truth": ["java/org/apache/naming/factory/webservices/ServiceRefFactory.java", "webapps/docs/changelog.xml", "java/org/apache/catalina/manager/LocalStrings_fr.properties"], "repo": "tomcat70", "reformed_query": "HandlerChain Handler portName Handler handler port handlerRegistry List HandlerInfo factory", "bug_title": " webservices.ServiceRefFactory.initHandlerChain adds wrong items to list?", "bug_description": "naming.factory.webservices.ServiceRefFactory.initHandlerChain method does the following: HandlerInfo handlerref (parameter) HandlerChain handlerList = (HandlerChain) handlerRegistry.getHandlerChain(portName); handlerList.add(handlerref); Now according to http://www.j2ee.me/j2ee/1.4/docs/api/javax/xml/rpc/handler/HandlerChain.html HandlerChain, \"All elements in the HandlerChain are of the type javax.xml.rpc.handler.Handler.\" However HandlerInfo (javax.xml.rpc.handler.HandlerInfo) is not of the type Handler. HandlerInfo should be passed to the init() method of a Handler instance."}, {"bug_id": "48318", "ground_truth": ["java/org/apache/catalina/servlets/WebdavServlet.java"], "repo": "tomcat70", "reformed_query": "interfaces parse webdav NamingException Explorer WebDAV alternative Pointer Ids naming", "bug_title": " WebDAV servlet returns 500 if files not readable", "bug_description": "If a directory contains a file that is not readable by the Tomcat process (eg file permissions, dangling symlink) then Tomcat throws a NullPointerException and returns a 500 Internal Server Error to the client. Throwing NPE in these circumstances is certainly wrong.  Returning 500 with no further information is unhelpful behavior and should be fixed. Generally, interfaces of this type at least list inaccessible files (Windows Explorer, UNIX ls(1), BSD FTP client, ...) and only return an error when one attempts to access such a file. markt suggests an alternative of simply ignoring inaccessible files but notes that \"could cause issues if a user tries to upload a file of that name\" and suggests better error reporting. Stack: SEVERE: Servlet.service() for servlet webdav threw exception java.lang.NullPointerException at org.apache.catalina.servlets.WebdavServlet.parseProperties(Unknown Source) at org.apache.catalina.servlets.WebdavServlet.doPropfind(Unknown Source) at org.apache.catalina.servlets.WebdavServlet.service(Unknown Source) at javax.servlet.http.HttpServlet.service(Unknown Source) ... Method parseProperties() is in java/org/apache/catalina/servlets/WebdavServlet.java.org and the NPE happens when cacheEntry.attributes is null (case FIND_BY_PROPERTY in my testing and possibly in other cases too). Following the breadcrumbs via: cacheEntry = resources.lookupCache(path); leads eventually to java/org/apache/naming/resources/FileDirContext.java: public Attributes getAttributes(String name, String[] attrIds) throws NamingException { // Building attribute list File file = file(name); if (file == null) throw new NamingException (sm.getString(\"resources.notFound\", name)); ... protected File file(String name) { File file = new File(base, name); if (file.exists() && file.canRead()) { ... // do useful stuff } else { return null; // ouch }"}, {"bug_id": "48324", "ground_truth": ["java/org/apache/catalina/connector/Request.java"], "repo": "tomcat70", "reformed_query": "connector Request   java", "bug_title": " Javadoc fixes for connector.Request.java", "bug_description": "Created attachment 24655 [details] Javadoc fixes for connector.Request.java"}, {"bug_id": "48345", "ground_truth": ["java/org/apache/catalina/session/StoreBase.java"], "repo": "tomcat70", "reformed_query": "PersistentManagerBase Create load updated invoked xml processExpires processExpires expire className", "bug_title": " Session does time-out shorter than setting in web.xml when PersistentManager is used.", "bug_description": "I am encountering the problem that Session does time-out shorter than setting in web.xml. This is a simple scenario where the problem occurs. I am using PersistentManager by the following configuration. <Context> <Manager className=\"org.apache.catalina.session.PersistentManager\" maxIdleSwap=\"120\"> <Store className=\"org.apache.catalina.session.FileStore\"/> </Manager> </Context> I am setting the session-timeout at five minutes. <session-config> <session-timeout>5</session-timeout> </session-config> [scenario] 1. Create Session. 2. 120 seconds pass. Session does swapOut. 3. In addition, 120 seconds pass. Get Session. Session does swapIn and access time of session in the memory is updated. 4. In addition, 90 seconds pass. Get Session. Because the access time of the session has been updated in (3), The session should be able to be acquired. However, the session can not be acquired. This cause is StoreBase#processExpires invoked between (3) and (4). StoreBase#processExpire deletes the session saved in Store. StoreBase#processExpires is as follows. =====StoreBase#processExpires===== public void processExpires() { ... for (int i = 0; i < keys.length; i++) { try { StandardSession session = (StandardSession) load(keys[i]); if (session == null) { continue; } if (session.isValid()) { continue; } ... if ( ( (PersistentManagerBase) manager).isLoaded( keys[i] )) { // recycle old backup session session.recycle(); } else { // expire swapped out session session.expire(); } remove(session.getIdInternal()); } catch (Exception e) { ... } } } ====== The session saved in Store is loaded, and StandardSession#isValid() is executed. StandardSession#expire(true) is invoked for the session that passes session time-out in \"StandardSession#isValid()\". StandardSession#expire(true) invokes Manager#remove(Session). As a result, the session is deleted from the session map. In a word, session in memory is deleted by invalidating old session in Store. As a result, session does time-out shorter than setting in web.xml I made a patch against trunk. Best regards."}, {"bug_id": "48387", "ground_truth": ["java/org/apache/catalina/filters/RemoteIpFilter.java"], "repo": "tomcat70", "reformed_query": "protocolHeaderHttpsValue renames consistent Remote setter consistent getter Remote sentence field", "bug_title": " Make RemoteIpFilter parameters consistent with RemoteIpValve", "bug_description": "Created attachment 24705 [details] Rename RemoteIpFilter#protocolHeaderSslValue into protocolHeaderHttpsValue RemoteIpFilter field 'protocolHeaderSslValue' is not consistent with RemoteIpValve where it is named 'protocolHeaderHttpsValue'. Proposed patch renames 'protocolHeaderSslValue' into 'protocolHeaderHttpsValue' (field + getter and setter) and enhance one javadoc sentence."}, {"bug_id": "48443", "ground_truth": ["java/org/apache/naming/resources/DirContextURLConnection.java"], "repo": "tomcat70", "reformed_query": "processAnnotationsJndi resource contextpath URL condition Url startup URLConnection java created", "bug_title": " when the context path is empty,tomcat will startup with a FileNotFoundException", "bug_description": "Created attachment 24756 [details] fix the resource form when the <contextpath> is empty I deploy my app in tomcat without any context path, i.e. the url of index.jsp of my app is: http://localhost/index.jsp\u00ef\u00bc\u0152but not http://localhost/myapp/index.jsp. When tomcat startup,there is a FileNotFoundException: The connection created for URL [jndi:/localhost/WEB-INF/classes] was not a DirContextURLConnection java.io.FileNotFoundException at org.apache.naming.resources.DirContextURLConnection.list(DirContextURLConnection.java:436) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1602) at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1518) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1264) at org.apache.catalina.startup.ContextConfig.start(ContextConfig.java:928) because in this condition,the resource form should be /<hostname>/filename instead of /<hostname>/<contextpath>/filename I attachment a patch which can works fine for me."}, {"bug_id": "48454", "ground_truth": ["conf/web.xml", "java/org/apache/catalina/servlets/CGIServlet.java", "webapps/docs/cgi-howto.xml"], "repo": "tomcat70", "reformed_query": "internal Reader send CGIServlet depends access clean everytime Created source", "bug_title": " \"Bad file descriptor\"-IOException in CGIServlet for some programs", "bug_description": "Created attachment 24763 [details] Patch The internal CGIRunner-thread which reads the errorstream logs a \"Bad file descriptor\"-IOException everytime i called a program (see stacktrace at the end). The program works fine, but the log-messages disturb. I could reproduce the behaviour with Nagiostat as CGI-Program (http://nagiostat.sourceforge.net/). I think the behaviour depends on how fast the cgi-program will return, because I haven't the error with another cgi-program on the same machine. Looking at the code shows that the Process-Object in CGIRunner could be destroyed before the internal Thread has a chance to completely read the errorstream. I fixed the problem in CGIServlet with a errorStreamReaderThread.join(...) before proc.destroy() to allow a clean processing of the errorstream. This is not yet fixed in tomcat trunk / branch tc6.0.x Environment: Linux, Centos5.3 x64, JDK SUN 1.6.0_17, JBoss AS 5.1.0.GA (based on tomcat6.0) Patch: The attached Patch is against source of JBossWeb2.1.3. Improvement: The timeout of the join should be configurable. java.io.IOException: Bad file descriptor at java.io.FileInputStream.readBytes(Native Method) at java.io.FileInputStream.read(FileInputStream.java:199) at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:264) at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:306) at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:158) at java.io.InputStreamReader.read(InputStreamReader.java:167) at java.io.BufferedReader.fill(BufferedReader.java:136) at java.io.BufferedReader.readLine(BufferedReader.java:299) at java.io.BufferedReader.readLine(BufferedReader.java:362) at org.apache.catalina.servlets.CGIServlet$CGIRunner.sendToLog(CGIServlet.java:1828) at org.apache.catalina.servlets.CGIServlet$CGIRunner.access$400(CGIServlet.java:1388) at org.apache.catalina.servlets.CGIServlet$CGIRunner$1.run(CGIServlet.java:1663)"}, {"bug_id": "48498", "ground_truth": ["java/org/apache/jasper/compiler/JavacErrorDetail.java", "java/org/apache/jasper/resources/LocalStrings.properties"], "repo": "tomcat70", "reformed_query": "http ArrayIndexOutOfBoundsException Actual lines Tag offset servlet parseInt service createJavacError", "bug_title": " 6.0.22RC: ArrayIndexOutOfBoundsException from Jasper when compilation error inside a CDATA block", "bug_description": "Created attachment 24808 [details] /webapps/examples/WEB-INF/tags/panel.tagx Steps to reproduce: 1. Remove /WEB-INF/tags/panel.tag from the Tomcat Examples webapp and replace it with the attached XML Tag file, panel.tagx 2. Visit the following page: http://localhost:8080/examples/jsp/jsp2/tagfiles/panel.jsp 3. The page contains a scriptlet, with a CDATA block that produces a compilatin error. Expected result: Compilation error being reported for line 39, Integer.parseInt(10); Actual result: java.lang.ArrayIndexOutOfBoundsException: 46 org.apache.jasper.compiler.JavacErrorDetail.<init>(JavacErrorDetail.java:111) 4. If I add sufficient number of empty lines after the CDATA block, ArrayIndexOutOfBoundsException disappears and I can see the compiler error, but the error lines shown are wrong. The shown lines are below the actual location of the error. It looks like this offset in line numbers is due to the size of the CDATA block. ==================================================================== Full stacktrace of the above ArrayIndexOutOfBoundsException exception: java.lang.ArrayIndexOutOfBoundsException: 46 org.apache.jasper.compiler.JavacErrorDetail.<init>(JavacErrorDetail.java:111) org.apache.jasper.compiler.ErrorDispatcher.createJavacError(ErrorDispatcher.java:533) org.apache.jasper.compiler.JDTCompiler$2.acceptResult(JDTCompiler.java:377) org.eclipse.jdt.internal.compiler.Compiler.compile(Compiler.java:398) org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:429) org.apache.jasper.compiler.Compiler.compile(Compiler.java:334) org.apache.jasper.compiler.Compiler.compile(Compiler.java:312) org.apache.jasper.compiler.Compiler.compile(Compiler.java:299) org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:589) org.apache.jasper.servlet.JspServletWrapper.loadTagFile(JspServletWrapper.java:215) org.apache.jasper.compiler.TagFileProcessor.loadTagFile(TagFileProcessor.java:625) org.apache.jasper.compiler.TagFileProcessor.access$000(TagFileProcessor.java:52) org.apache.jasper.compiler.TagFileProcessor$TagFileLoaderVisitor.visit(TagFileProcessor.java:685) org.apache.jasper.compiler.Node$CustomTag.accept(Node.java:1530) org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2361) org.apache.jasper.compiler.Node$Visitor.visitBody(Node.java:2411) org.apache.jasper.compiler.Node$Visitor.visit(Node.java:2417) org.apache.jasper.compiler.Node$Root.accept(Node.java:495) org.apache.jasper.compiler.Node$Nodes.visit(Node.java:2361) org.apache.jasper.compiler.TagFileProcessor.loadTagFiles(TagFileProcessor.java:703) org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:195) org.apache.jasper.compiler.Compiler.compile(Compiler.java:332) org.apache.jasper.compiler.Compiler.compile(Compiler.java:312) org.apache.jasper.compiler.Compiler.compile(Compiler.java:299) org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:589) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:317) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:313) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:260) javax.servlet.http.HttpServlet.service(HttpServlet.java:717) ===================================================================="}, {"bug_id": "48523", "ground_truth": ["java/org/apache/catalina/realm/LocalStrings.properties", "java/org/apache/catalina/realm/LocalStrings_es.properties", "java/org/apache/catalina/startup/ContextConfig.java", "java/org/apache/catalina/startup/LocalStrings.properties", "java/org/apache/jasper/resources/LocalStrings.properties", "java/org/apache/jasper/resources/LocalStrings_es.properties", "java/org/apache/jasper/resources/LocalStrings_ja.properties", "java/org/apache/tomcat/util/net/res/LocalStrings.properties", "java/org/apache/tomcat/util/net/res/LocalStrings_es.properties"], "repo": "tomcat70", "reformed_query": "mergeConflictFilter usuario properties error fragments catalina bits pero invalidHighSurrogate web", "bug_title": " Duplicate property keys in various files", "bug_description": "There are some properties files with non-unique property keys; normally these should be unique. File: java\\org\\apache\\catalina\\realm\\LocalStrings.properties Duplicate key: 'jaasRealm.userPrincipalSuccess' jaasRealm.userPrincipalSuccess=Principal \"{0}\" is a valid user class. We will use this as the user Principal. jaasRealm.userPrincipalSuccess=Subject for username \"{0}\" returned user Principal \"{1}\" Duplicate key: 'jaasRealm.userPrincipalFailure' jaasRealm.userPrincipalFailure=No valid user Principal found jaasRealm.userPrincipalFailure=Subject for username \"{0}\" did not return a valid user Principal File: java\\org\\apache\\catalina\\realm\\LocalStrings_es.properties Duplicate key: 'jaasRealm.userPrincipalSuccess' jaasRealm.userPrincipalSuccess = El Principal \"{0}\" es una clase v\\u00E1lida de usuario. La vamos a usar como usuario Principal. jaasRealm.userPrincipalSuccess = El asunto para el nombre de usuario \"{0}\" devolvi\\u00F3 usuario Principal \"{1}\" Duplicate key: 'jaasRealm.userPrincipalFailure' jaasRealm.userPrincipalFailure = No se ha hallado usuario Principal jaasRealm.userPrincipalFailure = El asunto para el nombre de usuario \"{0}\" no devolvi\\u00F3 un usuario Principal v\\u00E1lido File: java\\org\\apache\\catalina\\startup\\LocalStrings.properties Duplicate key: 'contextConfig.jndiUrl' contextConfig.jndiUrl=The connection created for URL [{0}] was not a DirContextURLConnection contextConfig.jndiUrl=Unable to process JNDI URL [{0}] for annotations Duplicate key: 'webXml.mergeConflictFilter' webXml.mergeConflictFilter=The Servlet [{0}] was defined inconsistently in multiple fragments including fragment with name [{1}] located at [{2}] webXml.mergeConflictFilter=The Filter [{0}] was defined inconsistently in multiple fragments including fragment with name [{1}] located at [{2}] File: java\\org\\apache\\jasper\\resources\\LocalStrings.properties Duplicate key: 'jsp.error.page.invalid.buffer' jsp.error.page.invalid.buffer=Page directive: invalid value for buffer jsp.error.page.invalid.buffer=Page directive: invalid buffer size Duplicate key: 'jsp.error.xml.invalidHighSurrogate' jsp.error.xml.invalidHighSurrogate = High surrogate bits in UTF-8 sequence must not exceed 0x10 but found 0x{0}. jsp.error.xml.invalidHighSurrogate = High surrogate bits in UTF-8 sequence must not exceed 0x10 but found 0x{0}. File: java\\org\\apache\\jasper\\resources\\LocalStrings_es.properties Duplicate key: 'jsp.error.page.invalid.buffer' jsp.error.page.invalid.buffer = Directiva Page\\: valor incorrecto para b\\u00FAfer jsp.error.page.invalid.buffer = Directiva Page\\: valor incorrecto para buffer Duplicate key: 'jsp.error.xml.invalidHighSurrogate' jsp.error.xml.invalidHighSurrogate = Los bits de surrogaci\\u00F3n alta en secuencai UTF-8 no deben de exceder 0x10 pero se hall\\u00F3 0x{0}. jsp.error.xml.invalidHighSurrogate = Surrogaci\\u00F3n Alta de bits en secuencia UTF-8 no debe de exceder 0x10, pero se hall\\u00F3 0x{0}. File: java\\org\\apache\\jasper\\resources\\LocalStrings_ja.properties Duplicate key: 'jsp.error.page.invalid.buffer' jsp.error.page.invalid.buffer=page\\u6307\\u793a\\u5b50: buffer\\u5c5e\\u6027\\u306e\\u5024\\u304c\\u7121\\u52b9\\u3067\\u3059 jsp.error.page.invalid.buffer=page\\u6307\\u793a\\u5b50: \\u7121\\u52b9\\u306a\\u30d0\\u30c3\\u30d5\\u30a1\\u30b5\\u30a4\\u30ba\\u3067\\u3059 Duplicate key: 'jsp.error.xml.invalidHighSurrogate' jsp.error.xml.invalidHighSurrogate = UTF-8\\u30b7\\u30fc\\u30b1\\u30f3\\u30b9\\u306e\\u30cf\\u30a4\\u30b5\\u30ed\\u30b2\\u30fc\\u30c8\\u30d3\\u30c3\\u30c8\\u306f0x10\\u3092\\u8d8a\\u3048\\u3066\\u306f\\u3044\\u3051\\u307e\\u305b\\u3093\\u304c\\u30010x{0}\\u304c\\u898b\\u3064\\u304b\\u308a\\u307e\\u3057\\u305f jsp.error.xml.invalidHighSurrogate = UTF-8\\u30b7\\u30fc\\u30b1\\u30f3\\u30b9\\u306e\\u30cf\\u30a4\\u30b5\\u30ed\\u30b2\\u30fc\\u30c8\\u30d3\\u30c3\\u30c8\\u306f0x10\\u3092\\u8d8a\\u3048\\u3066\\u306f\\u3044\\u3051\\u307e\\u305b\\u3093\\u304c\\u30010x{0}\\u304c\\u898b\\u3064\\u304b\\u308a\\u307e\\u3057\\u305f File: java\\org\\apache\\tomcat\\util\\net\\res\\LocalStrings.properties Duplicate key: 'endpoint.poll.fail' endpoint.poll.fail=Socket [{0}] poll event: [{1}] {2} endpoint.poll.fail=Critical poller failure (restarting poller): [{0}] {1} File: java\\org\\apache\\tomcat\\util\\net\\res\\LocalStrings_es.properties Duplicate key: 'endpoint.poll.fail' endpoint.poll.fail = Conector [{0}] evento de encuesta\\: [{1}] {2} endpoint.poll.fail = Fallo cr\\u00EDtico de encuestador (reiniciando encuestador)\\: [{0}] {1} File: java\\org\\apache\\tomcat\\util\\net\\res\\LocalStrings.properties Duplicate key: 'endpoint.poll.fail' endpoint.poll.fail=Socket [{0}] poll event: [{1}] {2} endpoint.poll.fail=Critical poller failure (restarting poller): [{0}] {1} File: java\\org\\apache\\tomcat\\util\\net\\res\\LocalStrings_es.properties Duplicate key: 'endpoint.poll.fail' endpoint.poll.fail = Conector [{0}] evento de encuesta\\: [{1}] {2} endpoint.poll.fail = Fallo cr\\u00EDtico de encuestador (reiniciando encuestador)\\: [{0}] {1}"}, {"bug_id": "48613", "ground_truth": ["java/org/apache/catalina/core/AprLifecycleListener.java"], "repo": "tomcat70", "reformed_query": "Apr library path AprLifecycleListener displayed AprLifecycleListener Tomcat initialize org xml", "bug_title": " AprLifecycleListener tries to initialize even if it is not configured in server.xml", "bug_description": "When Tomcat starts, this message is displayed, in spite of this listener not being used in server.xml. There is no way to avoid it. org.apache.catalina.core.AprLifecycleListener init INFO: The Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path"}, {"bug_id": "48629", "ground_truth": ["webapps/docs/realm-howto.xml", "java/org/apache/catalina/realm/JNDIRealm.java"], "repo": "tomcat70", "reformed_query": "String substitute works attachment Format works groupDN Nested details username", "bug_title": " JNDIRealm and roleNested doesn't work with roleSearch=\"(member={1})\"", "bug_description": "Created attachment 24898 [details] patch roleNested introduced with Tomcat 6.0.24 works well with roleSearch=\"(member={0})\", but not with roleSearch=\"(member={1})\" From tomcat doc : \"Use {0} to substitute the distinguished name (DN) of the user, and/or {1} to substitute the username.\" I've attached a patch to change line : filter = roleFormat.format(new String[] { groupDN }); into : filter = roleFormat.format(new String[] { groupDN, groupDN }); Like that it handles both {0} and {1}. Regards, Gabriel."}, {"bug_id": "48647", "ground_truth": ["java/org/apache/catalina/filters/RemoteIpFilter.java", "webapps/docs/config/filter.xml"], "repo": "tomcat70", "reformed_query": "easier overridden https Filter Server details wrong configuration httpServerPort override", "bug_title": " RemoteIpFilter : request.secure and request.scheme are not forced to \"false\" and \"http\" if X-Forwarded-Proto=http", "bug_description": "Created attachment 24913 [details] Tomcat 7 patch with updated docs When X-Forwarded-Proto=\"http\", the incoming request attributes secure, scheme and serverPort are not overridden as they are with \"https\". If a request came as unsecured/http but the communication between apache and tomcat is ssl, then request.isSecure(), request.getScheme() and request.getServerPort() are wrong. Proposed patch : * introduce a httpServerPort configuration parameter * modify logic for request.isSecure(), request.getScheme() , and request.getServerPort() : ** if header \"x-forwarded-proto\" is null then keep incoming values ** else if header \"x-forwarded-proto\" is equal to \"https\" then override values to true, https and 443 ** else override values to false, http and 80 Note : * \"x-forwarded-proto\", 80, 443 and \"https\" (as the ssl value for x-forwarded-proto header) are configurable ; I use sample values in the bug description to make it easier to understand. * I will soon provide the same fix for RemoteIpValve."}, {"bug_id": "48648", "ground_truth": ["java/org/apache/tomcat/util/net/AprEndpoint.java"], "repo": "tomcat70", "reformed_query": "method Software Firewall process waiting Keepalive FINEST Apache affect times", "bug_title": " Blank page (dropped connection) when running TC7 with TCnative (APR)", "bug_description": "I encountered this trying to run the current TC trunk with TC-Native 1.1.19 on Windows. The root cause to this behavior occurred to be a wrong value configured by default as a timeout in AprEndpoint.Poller. (Also there might be further issue in how that timeout is applied / how the Poller works, but that is debatable). Current 6.0 and 5.5 (6.0.24, 5.5.28) are unaffected, because the defaults are different there. Though it looks like 6.0 can be configured to misbehave in the same way. More details below. I was accessing Tomcat by HTTP (using Http11AprProtocol), but I think that AJP (AjpAprProtocol) is affected as well. Tomcat was build from trunk (aka future TC7), at revision 904960. ~ Symptoms ~ To reproduce this issue: 1. My environment: - Windows XP 32-bit - java version \"1.6.0_17\" Java(TM) SE Runtime Environment (build 1.6.0_17-b04) Java HotSpot(TM) Client VM (build 14.3-b01, mixed mode, sharing) - Tomcat trunk, built from revision 904960 - Tomcat Native DLL 1.1.19 2. Place tcnative-1.dll into %CATALINA_HOME%/bin and start Tomcat. I am using an HTTP client, so AJP connector configuration can be removed from server.xml. Tomcat starts: 31.01.2010 18:45:16 org.apache.catalina.core.AprLifecycleListener init INFO: Loaded APR based Apache Tomcat Native library 1.1.19. 31.01.2010 18:45:16 org.apache.catalina.core.AprLifecycleListener init INFO: APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true]. 3. Use a web browser (I was using Firefox 3.6) to access some simple JSP page 4. Refresh the page in the browser. The problem is that sometimes the page does not load, (the browser shows a blank page and page info says that response length was 0 bytes) - connection was aborted. The problem was more noticeable when I had a Firewall/Ad blocker running (because they incurred some delay while sending the request?). Turning it off made this error less frequent, but it was still there -- I was able to observe it running wget in a cycle requesting the page. 500 iterations were enough for this error to occur several times, with all firewalls turned off. Here is how this error was displayed by wget: --17:32:51--  http://localhost:8080/test/foo.jsp Resolving localhost... 127.0.0.1 Connecting to localhost|127.0.0.1|:8080... connected. HTTP request sent, awaiting response... Read error (Software caused connection abort) in headers. Retrying. --17:32:51--  (try: 2)  http://localhost:8080/test/foo.jsp Connecting to localhost|127.0.0.1|:8080... connected. HTTP request sent, awaiting response... No data received. Retrying. --17:32:51--  (try: 3)  http://localhost:8080/test/foo.jsp Connecting to localhost|127.0.0.1|:8080... connected. HTTP request sent, awaiting response... 200 OK Length: 130 [text/html] Saving to: `foo.jsp.98' 0K                                                       100% 3.52M=0s ~ Investigation ~ 1. I enabled FINE, then FINEST logging for all Tomcat components in logging.properties (then selectively disabling those components that I was not interested in). That was futile: the logs showed no trace of those ignored request. 2. I enabled AccessLogValve. It did not help either: The ignored requests were not listed in the access log. 3. I launched jvisualvm tool from Java 6 JDK, connected to running Tomcat to investigate the threads and possible deadlocks there. There was no deadlock, and all threads were running. But I noticed one more thing: on a freshly started Tomcat several first requests, even if those were ignored ones,  resulted in creation of a new thread in some thread pool. Here is one of those threads, from a thread dump: \"http-8080-exec-9\" daemon prio=6 tid=0x0afac800 nid=0xe10 waiting on condition [0x0cc5f000] java.lang.Thread.State: WAITING (parking) at sun.misc.Unsafe.park(Native Method) - parking to wait for  <0x03258e80> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(Unknown Source) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(Unknown Source) at java.util.concurrent.LinkedBlockingQueue.take(Unknown Source) at java.util.concurrent.ThreadPoolExecutor.getTask(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source) Locked ownable synchronizers: - None That was the clue: it means that the request has reached Tomcat. Searching by a substring of that thread name I found that getName() + \"-exec-\" is thread name prefix used by  AbstractEndpoint.createExecutor(). Thus I investigated behaviour of AprEndpoint, confirming it by adding with some ad-hoc logging statements. I will not commit them, because this issue is sensitive to timing, so some of them were affecting its reproducibility. ~ Behaviour of AprEndpoint ~ In my configuration I was using Http11AprProtocol and it creates and uses AprEndpoint. Incoming request is processed by an Acceptor thread (AprEndpoint.Acceptor#run()) ->  Acceptor#processSocketWithOptions(long) will use getExecutor().execute(new SocketWithOptionsProcessor( )) to pass this newly opened socked further.  It is the thread created by this \"execute()\" call that I spotted in jvisualvm earlier. In SocketWithOptionsProcessor#run() in my configuration deferAccept is false, so we are calling  getPoller().add(socket)  and pass the socket to a poller. In the AprEndpoint.Poller#add( ) the socket is added to a queue to be processed. The queue array size in my configuration occurred to be 1024, so queue overflow was not an issue. Then AprEndpoint.Poller#run() processes the queue, passes the new sockets from there to TC-Native  (Poll.add() call)  and then loops over and over polling their status  (Poll.poll() call). The problem occurred to be caused by Poll.maintain( ) calls, that are executed every several iterations of the loop. In my case:  the recently opened socket remained for several iterations of the Poller loop,  but when Poll.maintain() call occurred the socket was returned from the maintain() call as a one to be closed,  and was immediately closed, dropping the connection. Thus,  Poll.maintain() was misbehaving, closing fresh sockets. Implementation of Poll.maintain() (in poll.c of TC-Native) showed that if (p->max_ttl == 0) there, the socket is to be closed immediately. p->max_ttl value is set when configuring a pollset in Poll.create( ), and can be changed later for the pollset as a whole in Poll.setTtl( ) method. In AprEndpoint.Poller the pollset is created in Poller.init(). There, the value for the timeout is determined as int timeout = getKeepAliveTimeout(); if (timeout < 0) { timeout = socketProperties.getSoTimeout(); } where /** * Keepalive timeout, if lesser or equal to 0 then soTimeout will be used. */ private int keepAliveTimeout = 0; so, the timeout actually occurred to be configured as 0. Thus the observed buggy behaviour. In TC 6.0.24  keepAliveTimeout = -1, thus soTimeout will be used. Notes: - The JavaDoc for keepAliveTimeout says that 0 means that soTimepout will be used,  but the actual implementation is different. Changing the above cited code to be if (timeout <= 0) { timeout = socketProperties.getSoTimeout(); } would be the most obvious fix for this issue. - A delay longer than soTimeout (60 or 20 seconds? IIRC) will likewise result in closing the socket, with no details mentioned in the logs. - The keepAliveTimeout property name suggests that it is used for sockets where processing already occurred, and we are keeping them alive between requests. (Zero timeout would be okay there). Why was it used for a freshly open sockets? (Zero timeout cannot be used for them)  Maybe it is a wrong name for this property? - Is it possible in the Poller to distinguish fresh sockets vs. those in keep-alive state,  and configure different timeouts for them?  It will require to keep several  pollset pools with different TTLs ? - AjpAprProtocol also uses this AjpEndpoint, so I expect it to be affected by this issue as well. - This chain of calls causing this issue occurs only if AprEndpoint.deferAccept field is false.  It is true by default but is set to false when the system does not support the requested feature. In my case, in Windows XP SP3, that feature (Socket.APR_TCP_DEFER_ACCEPT) was not supported.  A comment in the code says that it is supported in Linux kernel 2.4 and later. Thus, this issue is likely not affect Linux."}, {"bug_id": "48660", "ground_truth": ["java/org/apache/coyote/http11/Http11AprProcessor.java", "java/org/apache/coyote/http11/Http11NioProcessor.java", "java/org/apache/coyote/http11/Http11Processor.java"], "repo": "tomcat70", "reformed_query": "header correct Connector", "bug_title": " Connector compression=on overwrites Vary header", "bug_description": "When compressing the connector sets the \"Vary: Accept-Encoding\".  I think it would be more correct to append \"Accept-Encoding\" the the current value of the Vary header instead of replacing it. In particular, I cannot set this header to \"Cookie\" to force reload of the page if the JSESSIONID cookie changes"}, {"bug_id": "48661", "ground_truth": ["java/org/apache/catalina/core/StandardHostValve.java"], "repo": "tomcat70", "reformed_query": "eaglecreektech StandardHostValve location serviceJspFile behave Engine buffer IllegalStateException errorPage org", "bug_title": " inconsistent error page behavior", "bug_description": "There seems to be a bug or at least an inconsistency in how tomcat handles the error page. In Tomcat 6.0.20, if I define my error page like this in web.xml: <error-page> <exception-type>java.lang.Exception</exception-type> <location>/unexpectedErrors.jsp</location> </error-page> Then, if the response has already been committed, Tomcat does this on the system console: Feb 1, 2010 5:59:04 PM org.apache.catalina.core.StandardWrapperValve invoke SEVERE: Servlet.service() for servlet jsp threw exception java.lang.NullPointerException at org.apache.jsp.cpe_jsp._jspService(cpe_jsp.java:693) at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:374) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:342) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:267) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at com.eaglecreektech.expedience.provisioning.web.servletFilters.AuthFilter.doFilter(AuthFilter.java:133) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at com.eaglecreektech.expedience.provisioning.web.servletFilters.RequestVolumeFilter.doFilter(RequestVolumeFilter.java:141) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at com.eaglecreektech.expedience.provisioning.web.servletFilters.StartupCheckFilter.doFilter(StartupCheckFilter.java:65) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583) at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454) at java.lang.Thread.run(Thread.java:619) Feb 1, 2010 5:59:04 PM org.apache.catalina.core.StandardHostValve custom SEVERE: Exception Processing ErrorPage[exceptionType=java.lang.Exception, location=/unexpectedErrors.jsp] java.lang.IllegalStateException: Cannot reset buffer after response has been committed at org.apache.catalina.connector.Response.resetBuffer(Response.java:691) at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:409) at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:271) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:142) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:849) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:583) at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:454) at java.lang.Thread.run(Thread.java:619) And it doesn't put any error text into the broken page - the page just shows how ever far it got before it encountered the error. This behavior doesn't seem correct - it seems like it should at least behave the same way as it does when the error page is defined in a jsp page: <%@ page errorPage=\"unexpectedErrors.jsp\" %> If the response has already been committed, then it just appends the error page onto the end of the response (not ideal, but nothing else can be done, as far as I know) If the response has not been committed, it clears the buffer and writes the error page (which looks nice and pretty , like it should) I'd suggest that the error handling code for the error page as defined in web.xml should check if the response has been committed, and not try to clear the buffer if it is already committed - just append to the end, the same way that the jsp error handler does."}, {"bug_id": "48678", "ground_truth": ["java/org/apache/catalina/startup/Catalina.java"], "repo": "tomcat70", "reformed_query": "requires ramifications intended consistently service catalina Embedded info getServer user", "bug_title": " org.apache.catalina.startup.Catalina incorrectly duplicates super class member", "bug_description": "Catalina declares its own protected member variable \"server\" and a corresponding \"setServer\" method, while Catalina's super class Embedded has a private member \"server\" and a \"getServer\" method, so that Catalina sets its \"service\" member, but when asking, will return super.server which is consistently null. This means that Catalina cannot be used as Tomcat embedding directly but at least requires an extension like so: public class MyCatalina extends Catalina { public Server getServer() { return this.server; } } It might have other ramifications though and was most likely not intended. See also: http://marc.info/?l=tomcat-user&m=126502245412565&w=2"}, {"bug_id": "48729", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java"], "repo": "tomcat70", "reformed_query": "doc attached patch apache roleName java mechanisms JNDIRealm Role excluded", "bug_title": " JNDIRealm.java not parsing roles correctly", "bug_description": "Created attachment 24972 [details] small patch for JNDIRealm.java According to the docs: http://tomcat.apache.org/tomcat-6.0-doc/realm-howto.html it says roles can be specified by both userRoleName, AND roleName mechanisms. But, if both are used then the result is that userRoleName roles are excluded.  I believe the correct approach is in the attached patch."}, {"bug_id": "48843", "ground_truth": ["java/org/apache/tomcat/util/net/AprEndpoint.java"], "repo": "tomcat70", "reformed_query": "bda processSocket requests code thread wake list Traces Object net", "bug_title": " Tomcat Acceptor Thread goes into wait() and it will never come back", "bug_description": "Hi, I believe I've found a race condition in Tomcat that causes the http port to be non-responsive. It exists in 6.0 and also in 5.5 (although the code has been refactored). I could not find any reference to it in the Bug database or the mailing list archives. Consider a tomcat instance with maxThreads set to 2, i.e. you have 2 tomcat threads to service incoming requests. The sequence of events is as follows: 1. Thread 1 and Thread 2 are both servicing a request each. 2. A third request comes in. 3. In class JIOEndpoint.java, the acceptor thread calls methods processSocket() which then calls getWorkerThread() which then calls createWorkerThread(). 4. createWorkerThread() returns null since both threads are busy processing the two requests. 5. Here is the race condition in method getWorkerThread() in the code shown below protected Worker getWorkerThread(){ ... Worker workerThread = createWorkerThread(); while (workerThread == null) { try { synchronized (workers) { workers.wait(); } } ... } The acceptor thread executes the \"while(workerThread == null)\" statement and is then switched out by the CPU. The two threads executing the two requests complete and go into Worker.await() waiting for the next job after executing method recycleWorkerThread(). The acceptor thread is switched back into CPU and executes the synchronized block and goes into the wait(). At this point, there aren't any Worker threads out there processing requests and therefore there isn't any thread to wake up the acceptor thread. The application is non-responsive after this. A simple solution would be to check if curThreadsBusy > 0 in the synchronized block before going into wait() in method getWorkerThread() OR increase the scope of the critical section to include the while loop. Thanks, Harshad Stack Traces below: \"bda19102143\" id=1578 in WAITING on lock=org.apache.tomcat.util.net.jioendpoint$wor...@13aa4ee3^m at java.lang.Object.wait(Native Method)^M at java.lang.Object.wait(Object.java:485)^M at org.apache.tomcat.util.net.JIoEndpoint$Worker.await(JIoEndpoint.java:416)^M at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:442)^M at java.lang.Thread.run(Thread.java:619)^M \"http-8091-Acceptor-0\" id=43 in WAITING on lock=org.apache.tomcat.util.net.jioendpoint$workerst...@13bd7b6a^m at java.lang.Object.wait(Native Method)^M at java.lang.Object.wait(Object.java:485)^M at org.apache.tomcat.util.net.JIoEndpoint.getWorkerThread(JIoEndpoint.java:700)^M at org.apache.tomcat.util.net.JIoEndpoint.processSocket(JIoEndpoint.java:731)^M at org.apache.tomcat.util.net.JIoEndpoint$Acceptor.run(JIoEndpoint.java:313)^M at java.lang.Thread.run(Thread.java:619)^M"}, {"bug_id": "48861", "ground_truth": ["java/org/apache/tomcat/util/bcel/classfile/package.html", "java/org/apache/tomcat/util/bcel/classfile/AnnotationElementValue.java", "test/org/apache/catalina/deploy/TestSecurityConstraint.java", "java/org/apache/tomcat/util/bcel/classfile/EnumElementValue.java", "java/org/apache/tomcat/util/bcel/package.html", "java/org/apache/tomcat/util/bcel/util/package.html", "java/org/apache/tomcat/util/bcel/classfile/ClassElementValue.java", "test/org/apache/catalina/loader/TestWebappClassLoaderMemoryLeak.java", "java/org/apache/tomcat/util/scan/package.html", "java/org/apache/tomcat/util/bcel/classfile/ArrayElementValue.java"], "repo": "tomcat70", "reformed_query": "don", "bug_title": " Files without AL headers", "bug_description": "Created attachment 25084 [details] list of files that don't have AL headers Attachment is a list of files that don't have AL headers. As far as I can make out, all of these files should have headers."}, {"bug_id": "48870", "ground_truth": ["build.xml", "java/org/apache/catalina/startup/Bootstrap.java", "java/org/apache/catalina/startup/ClassLoaderFactory.java", "java/org/apache/catalina/startup/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "avoid types Integers approach base details questionable", "bug_title": " avoid parallel arrays of base types", "bug_description": "Created attachment 25103 [details] patch_parallelArrays.txt having kind of 'synchronized' arrays, i.e. one of Strings and another one of Integers appears to be a questionable programming pattern to me. Pls find attached a hopefully more OO approach see also bug 48158"}, {"bug_id": "48973", "ground_truth": ["java/org/apache/catalina/session/StandardManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "useless SESSIONS details Don SESSIONS skiping unloaded application session skiping", "bug_title": " Don't create SESSIONS.ser when no session exists", "bug_description": "Created attachment 25171 [details] Patch skiping SESSIONS.ser file creation if no session exists When a webapp is unloaded, a SESSIONS.ser file is created even if no session exists for the application. This is useless."}, {"bug_id": "49000", "ground_truth": ["java/org/apache/tomcat/util/http/CookieSupport.java", "java/org/apache/tomcat/util/http/Cookies.java", "test/org/apache/tomcat/util/http/TestCookies.java", "test/org/apache/tomcat/util/http/TestCookiesAllowNameOnly.java", "webapps/docs/config/systemprops.xml", "java/org/apache/tomcat/util/http/Cookies.java", "test/org/apache/tomcat/util/http/TestCookies.java"], "repo": "tomcat70", "reformed_query": "don fred Code don don jim create Cookie don attachment", "bug_title": " Cookie parsing bug when an empty value has an equal sign on the end", "bug_description": "Created attachment 25190 [details] Code patch that stops the loop parsing the final character if it's an equal sign Cookie values such as the following don't get their last value parsed as an empty value. i.e. this does create a 'bob' cookie key: Cookie: fred=1; jim=2; bob and this doesn't create a 'bob' cookie key: Cookie: fred=1; jim=2; bob="}, {"bug_id": "49014", "ground_truth": ["test/org/apache/catalina/filters/TestRemoteIpFilter.java"], "repo": "tomcat70", "reformed_query": "embedded didn cases TestRemoteIpFilter java java RemoteIpFilter Add details RemoteIpFilter", "bug_title": " Add RemoteIpFilter test case", "bug_description": "Created attachment 25204 [details] TestRemoteIpFilter.java I didn't attach test cases to the RemoteIpFilter when I proposed it because I didn't know how to use  the embedded Tomcat. I learned how to use it so here are the test cases."}, {"bug_id": "49018", "ground_truth": ["java/org/apache/catalina/manager/ManagerServlet.java", "java/org/apache/catalina/manager/LocalStrings_fr.properties", "java/org/apache/catalina/manager/LocalStrings_es.properties", "java/org/apache/catalina/manager/LocalStrings_ja.properties", "java/org/apache/catalina/manager/LocalStrings_de.properties", "java/org/apache/catalina/manager/LocalStrings.properties"], "repo": "tomcat70", "reformed_query": "Writer context sessions idle Tomcat web Expected minutes idle String", "bug_title": " Timeout argument misprocessed when expiring sessions from Tomcat Manager", "bug_description": "Steps to reproduce: 1. Login to the Tomcat Manager Application 2. Select a web application that has several sessions that are inactive for more than 2 minutes 3. In the text field next to the \"Expire sessions\" button print \"2\" 4. Press \"Expire sessions\" 5. Sample observed result: OK - Session information for application at context path /myapp Default maximum session inactive interval 30 minutes <1 minutes:16 sessions 1 - <2 minutes:2 sessions 2 - <3 minutes:5 sessions 3 - <4 minutes:1 sessions 4 - <5 minutes:2 sessions 5 - <6 minutes:1 sessions 6 - <7 minutes:2 sessions 9 - <10 minutes:1 sessions 8 minutes:expired 0 sessions Actually some sessions were expired (even if the above message prints \"0\"). Expected result: All sessions with idle time > 2 minutes had to be expired. The bug is in the following lines of ManagerServlet#sessions(PrintWriter, String, int): Lines 1176-1179 if (idle >= 0 && time >= idle*60) { sessions[i].expire(); idle++; } The patch would be to replace \"idle++\" with \"expired++\", because \"idle\" is the time (in minutes) as submitted from the web form and \"expired\" is the counter."}, {"bug_id": "49030", "ground_truth": ["java/org/apache/catalina/core/StandardService.java", "java/org/apache/catalina/core/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "connectors connector fact confusing catched allocated initialized connector Processing Connector", "bug_title": " Processing of Tomcat Connector configuration can leave some connectors uninitialized", "bug_description": "If the Server part of the Tomcat 6 configuration is beeing processed and there are more connectory defined, it seems to be the fact the exceptions during the connector initialization are not catched properly, so if there comes some exception by the initialization of one connector (for example to try to initialize the new connector for the same port like had the already initialized connector), then no other connectors are processed and created (no one listening port is allocated) even if such other connectors are defined properly. It leads to the situation the connectory are then initialized differently if the order of the connectors changes. It can be very confusing if searching some error in the definitions. Together with the fact, the default server.xml contains at least in some cases the invalid connector definition it leads to serious confusion it searching the configuration problem..."}, {"bug_id": "49075", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java"], "repo": "tomcat70", "reformed_query": "roles argument User List attachment check unmodifiableList", "bug_title": " protected Class User doesn't check argument roles for null", "bug_description": "Created attachment 25246 [details] check for null to guard Collections.unmodifiableList If roles is null, Collections.unmodifiableList will throw a NPE."}, {"bug_id": "49082", "ground_truth": ["java/javax/el/ExpressionFactory.java", "java/javax/el/ExpressionFactory.java"], "repo": "tomcat70", "reformed_query": "privileged check trailing Factory Jre separator System AccessControlException System block", "bug_title": " ExpressionFactory.newInstance needs to be privileged", "bug_description": "The ExpressionFactory.newInstance method needs to be wrapped in a privileged block so as to not throw an exception for security reasons. I'm currently seeing a java.security.AccessControlException on el.properties when calling getClassNameJreDir(). Also, the System.getProperty(\"java.home\") does not need to have a trailing separator?  I would think you would want to modify the PROPERTY_FILE for el.properties to check for this final separator character."}, {"bug_id": "49089", "ground_truth": ["java/org/apache/catalina/tribes/io/ChannelData.java"], "repo": "tomcat70", "reformed_query": "field Channel Data mutable Channel constructor Data SECURE Data UUID", "bug_title": " ChannelData.USE_SECURE_RANDOM_FOR_UUID public static mutable field", "bug_description": "catalina.tribes.io.ChannelData.USE_SECURE_RANDOM_FOR_UUID is a mutable public static field. It's only used by an instance method, so there's no need for it to be static. Probably no need for it to be public either; it could be a private field with a setter - or better a final field set by the constructor."}, {"bug_id": "49091", "ground_truth": ["java/org/apache/jasper/tagplugins/jstl/Util.java"], "repo": "tomcat70", "reformed_query": "special Characters mutable array Util specialCharactersRepresentation Representation jasper tagplugins Representation", "bug_title": " Util.specialCharactersRepresentation should be private", "bug_description": "jasper.tagplugins.jstl.Util.specialCharactersRepresentation is a mutable public static array; it is not used outside the class as far as I can tell and so should be made private"}, {"bug_id": "49092", "ground_truth": ["test/org/apache/catalina/tribes/demos/IntrospectionUtils.java"], "repo": "tomcat70", "reformed_query": "Introspection util Introspection util apache IntrospectionUtils util apache field apache", "bug_title": " util.IntrospectionUtils.PATH_SEPARATOR should be final", "bug_description": "The field org.apache.tomcat.util.IntrospectionUtils.PATH_SEPARATOR should be final."}, {"bug_id": "49095", "ground_truth": ["java/org/apache/tomcat/util/net/AprEndpoint.java"], "repo": "tomcat70", "reformed_query": "filters Accept apache apache util util accepts data Endpoint Apr", "bug_title": " org.apache.tomcat.util.net.AprEndpoint.unlockAccept does not wakeup accepts with deferred accept or BSD filters", "bug_description": "Created attachment 25266 [details] Patch to fix issue org.apache.tomcat.util.net.AprEndpoint.unlockAccept does not wakeup accepts with deferred accept or BSD filters. This is because it only connects to its connector for causing the accept call to return. This is not enough in the case of a deferred accept / BSD filters as the accept call only returns from the kernel if data was sent / a HTTP request was sent. The attached patch fixes that by sending and OPTIONS * in this case."}, {"bug_id": "49104", "ground_truth": ["java/org/apache/coyote/ajp/AjpProtocol.java", "java/org/apache/coyote/http11/Http11Protocol.java", "java/org/apache/tomcat/util/net/JIoEndpoint.java"], "repo": "tomcat70", "reformed_query": "types", "bug_title": " Fix up some raw types", "bug_description": "Created attachment 25271 [details] Fix up some raw types"}, {"bug_id": "49110", "ground_truth": ["java/org/apache/jasper/runtime/JspFactoryImpl.java"], "repo": "tomcat70", "reformed_query": "EMBRACE instance deadly Pattern DEADLY EMBRACE jasper PageContextPool instance instance", "bug_title": " runtime.JspFactoryImpl$PageContextPool needs to be static", "bug_description": "Findbugs says: Bug: org.apache.jasper.runtime.JspFactoryImpl$PageContextPool needs to be _static_ to avoid a deadly embrace with org.apache.jasper.runtime.JspFactoryImpl.localPool Pattern id: SIC_THREADLOCAL_DEADLY_EMBRACE, type: SIC, category: CORRECTNESS This class is an inner class, but should probably be a static inner class. As it is, there is a serious danger of a deadly embrace between the inner class and the thread local in the outer class. Because the inner class isn't static, it retains a reference to the outer class. If the thread local contains a reference to an instance of the inner class, the inner and outer instance will both be reachable and not eligible for garbage collection."}, {"bug_id": "49116", "ground_truth": ["java/org/apache/catalina/session/StandardManager.java"], "repo": "tomcat70", "reformed_query": "Valid Load invalidate doLoad isValid instance doLoad doLoad Manager executed", "bug_title": " Memory leak by HttpSession.", "bug_description": "When session is stored in StandardManager#doUnload method, an invalid session is stored. For instance, If HttpSession#invalidate is executed while executing StandardManager#doUnload, session of \"isValid=false\" is stored. The session of isValid=false is restored in StandardManager#doLoad, and it registers in session map (sessions). However, no one can invalidate this session. If isValid is false, StandardSession#invalidate() and StandardSession#isValid() can not expire session. They are throws IllegalStateException or return immediately. Consequently, the session of isValid=false is never deleted from the session map(sessions). I made a patch. If session is already invalid, expire session to prevent memory leak. Best Regards. Keiichi."}, {"bug_id": "49118", "ground_truth": ["java/javax/servlet/http/HttpServlet.java"], "repo": "tomcat70", "reformed_query": "inefficient concatenates concatenates HttpServlet Strings Trace Patch method Servlet String", "bug_title": " Inefficient use of String concatenation in loop", "bug_description": "Created attachment 25293 [details] Patch to use StringBuilder instead of +=String HttpServlet toTrace method concatenates Strings in a loop; this is very inefficient."}, {"bug_id": "49129", "ground_truth": ["java/org/apache/catalina/authenticator/DigestAuthenticator.java"], "repo": "tomcat70", "reformed_query": "Helper guaranteed Authenticator object initialized processor Digest lazy compiler DigestAuthenticator", "bug_title": " DigestAuthenticator.md5Helper - possible incorrect lazy initialisation", "bug_description": "Findbugs says: \"This method contains an unsynchronized lazy initialization of a non-volatile static field. Because the compiler or processor may reorder instructions, threads are not guaranteed to see a completely initialized object, if the method can be called by multiple threads. You can make the field volatile to correct the problem.\""}, {"bug_id": "49132", "ground_truth": ["java/org/apache/catalina/core/NamingContextListener.java"], "repo": "tomcat70", "reformed_query": "NameNotFound docs naming JNDI Exception comp tomcat code java web", "bug_title": " JNDI not working", "bug_description": "Simple web-app test to lookup the environment context is throwing an exception - below code is taken from tomcat 6/7 docs - 2nd line throws a NameNotFound Exception 'comp' not found. // Obtain our environment naming context Context initCtx = new InitialContext(); Context envCtx = (Context) initCtx.lookup(\"java:comp/env\");"}, {"bug_id": "49141", "ground_truth": ["java/javax/mail/internet/MimeMessage.java"], "repo": "tomcat70", "reformed_query": "Mail Mime MimePart Send mail Object Findbugs Mime javax MimeMessage", "bug_title": " Impossible cast in naming.factory.SendMailFactory.getObjectInstance", "bug_description": "naming.factory.SendMailFactory.getObjectInstance contains an impossible cast from javax.mail.internet.MimeMessage to javax.mail.internet.MimePart [Findbugs]"}, {"bug_id": "49144", "ground_truth": ["java/org/apache/catalina/startup/Bootstrap.java"], "repo": "tomcat70", "reformed_query": "accessing unsynchronized daemon startup Incorrect lazy Bootstrap apache multiple fully", "bug_title": " Incorrect lazy initialization and update of static fields?", "bug_description": "Incorrect lazy initialization and update of static fields: org.apache.catalina.startup.Bootstrap.daemon org.apache.catalina.startup.ContextConfig.contextDigester Findbugs says: This method contains an unsynchronized lazy initialization of a static field. After the field is set, the object stored into that location is further updated or accessed. The setting of the field is visible to other threads as soon as it is set. If the futher accesses in the method that set the field serve to initialize the object, then you have a very serious multithreading bug, unless something else prevents any other thread from accessing the stored object until it is fully initialized. Even if you feel confident that the method is never called by multiple threads, it might be better to not set the static field until the value you are setting it to is fully populated/initialized."}, {"bug_id": "49150", "ground_truth": ["java/org/apache/catalina/ha/session/BackupManager.java"], "repo": "tomcat70", "reformed_query": "called unnecessary sessionA LazyReplicatedMap patch cluster trunk session StandardManager map", "bug_title": " All primary sessions are deleted at BackupManager#stopInternal.", "bug_description": "BackupManager#stopInternal is as follows. ===== protected synchronized void stopInternal() throws LifecycleException { super.stopInternal(); LazyReplicatedMap map = (LazyReplicatedMap)sessions; if ( map!=null ) { map.breakdown(); } cluster.removeManager(this); } ===== In Tomcat 7.0.0 RC1, super#stopInternal() is called first. In StandardManager#stopInternal() of the super class, The session is stored, and expire all active sessions. Storing session is unnecessary in BackupManager. and When the session expired, the session is deleted from all cluster nodes. As a Result, All primary sessions (of own node has) are deleted  from all cluster nodes. For instance, Node1 : sessionA(primary), sessionB(proxy), sessionC(backup) Node2 : sessionA(backup), sessionB(primary), sessionC(proxy) Node3 : sessionA(proxy), sessionB(backup), sessionC(primary) If Node1 is stopped, it becomes the following. Node1 : stopped Node2 : sessionB(primary), sessionC(backup) Node3 : sessionB(backup), sessionC(primary) sessionA is expired. It should be the following. Node1 : stopped Node2 : sessionA(primary), sessionB(primary), sessionC(backup) Node3 : sessionA(backup), sessionB(backup), sessionC(primary) There is no problem in Tomcat6.0.x, because it executes super.stop() after LazyReplicatedMap#breakdown() . I made a patch against trunk. Best Regards."}, {"bug_id": "49151", "ground_truth": ["java/org/apache/catalina/ha/session/BackupManager.java"], "repo": "tomcat70", "reformed_query": "Runtime type constructor Internal BackupManager Replicated throwing Exception avoid problem", "bug_title": " ClassCastException in BackupManager#stopInternal.", "bug_description": "In BackupManager#startInternal, When constructor of LazyReplicatedMap throws exception, sessions is not LazyReplicatedMap. Actually, AbstractReplicatedMap#init has the possibility of throwing RuntimeException. In BackupManager#stopInternal ClassCastException is thrown because AbstractReplicatedMap#breakdown is executed regardless of the type of sessions. should be changed as follows to avoid ClassCastException. === skip. if (sessions instanceof LazyReplicatedMap) { LazyReplicatedMap map = (LazyReplicatedMap)sessions; if ( map!=null ) { map.breakdown(); } } skip. === This problem exists in Tomcat7.0 and 6.0. Best Regards."}, {"bug_id": "49170", "ground_truth": ["java/org/apache/catalina/ha/session/DeltaManager.java"], "repo": "tomcat70", "reformed_query": "System transmitted Send Sessions isSendAllSessions transmitted times len org len", "bug_title": " Transmission of duplicated session in DeltaManager#handleGET_ALL_SESSIONS.", "bug_description": "Created attachment 25333 [details] patch against trunk. Config <Manager className=\"org.apache.catalina.ha.session.DeltaManager\" sendAllSessions=\"false\" sendAllSessionsSize=\"XXXX\" /> DeltaManager#handleGET_ALL_SESSIONS is as follows. ===== ...skip... if (isSendAllSessions()) { sendSessions(sender, currentSessions, findSessionTimestamp); } else { // send session at blocks int len = currentSessions.length < getSendAllSessionsSize() ? currentSessions.length : getSendAllSessionsSize();        Session[] sendSessions = new Session[len]; for (int i = 0; i < currentSessions.length; i += getSendAllSessionsSize()) { len = i + getSendAllSessionsSize() > currentSessions.length ? currentSessions.length - i : getSendAllSessionsSize(); System.arraycopy(currentSessions, i, sendSessions, 0, len); sendSessions(sender, sendSessions,findSessionTimestamp); ...skip... } ...skip... } ===== sendSessions maintains previous Session. For instance, currentSessions=[ssA, ssB, ssC, ssD, ssE] sendAllSessionsSize=3 loop1 : sendSessions=[ssA, ssB, ssC] loop2 : sendSessions=[ssD, ssE, ssC] ssC is transmitted two times. It should be the following. loop1 :  sendSessions=[ssA, ssB, ssC] loop2 : sendSessions=[ssD, ssE] This problem exists in TC5.5, TC6.0, and TC7.0. I made a patch against trunk. Best Regards."}, {"bug_id": "49184", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java"], "repo": "tomcat70", "reformed_query": "org Map Array Method filter Context StandardContext Standard addMappingForServletNames Map", "bug_title": " Index out of bounds exception thrown when dynamically adding Filter", "bug_description": "When dynamically adding a filter to a context an exception is thrown. java.lang.ArrayIndexOutOfBoundsException at java.lang.System.arraycopy(Native Method) at org.apache.catalina.core.StandardContext.addFilterMapBefore(StandardContext.java:2629) at org.apache.catalina.core.ApplicationFilterRegistration.addMappingForServletNames(ApplicationFilterRegistration.java:75)"}, {"bug_id": "49207", "ground_truth": ["java/org/apache/catalina/core/ApplicationFilterRegistration.java"], "repo": "tomcat70", "reformed_query": "dynamically lang specifies Patterns Url dyn validateFilterMap addMappingForUrlPatterns core ApplicationFilterRegistration", "bug_title": " Filter name not set when dynamically added", "bug_description": "When dynamically adding a Filter the name is not set when calling the method \"addMappingForUrlPatterns\" in ApplicationFilterRegistration.java. java.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name null at org.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:2650) at org.apache.catalina.core.StandardContext.addFilterMapBefore(StandardContext.java:2622) at org.apache.catalina.core.ApplicationFilterRegistration.addMappingForUrlPatterns(ApplicationFilterRegistration.java:102) at org.pidster.tomcat.test7.dyn.TestDynamicsListener.contextInitialized(TestDynamicsListener.java:105)"}, {"bug_id": "49209", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java"], "repo": "tomcat70", "reformed_query": "lang loader Loader catalina", "bug_title": " AccessControlException when undeploying application", "bug_description": "When running Tomcat with a SecurityManager, an AccessControlException is thrown during undeployment. Stack trace: Caused by: java.security.AccessControlException: access denied (java.lang.RuntimePermission getClassLoader) at java.security.AccessControlContext.checkPermission(AccessControlContext.java:323) at java.security.AccessController.checkPermission(AccessController.java:546) at java.lang.SecurityManager.checkPermission(SecurityManager.java:532) at java.lang.Class.getClassLoader(Class.java:594) at org.apache.catalina.loader.JdbcLeakPrevention.clearJdbcDriverRegistrations(JdbcLeakPrevention.java:49) I assume the default catalina.policy should be updated, to take this case into account."}, {"bug_id": "49221", "ground_truth": ["java/javax/servlet/http/Cookie.java"], "repo": "tomcat70", "reformed_query": "http String Domain String Cookie Domain Locale toLowerCase Domain Local", "bug_title": " javax.servlet.http.Cookie.setDomain uses default charset", "bug_description": "javax.servlet.http.Cookie.setDomain(String pattern) has the following code: domain = pattern.toLowerCase(); The result of this depends on the default Locale; it would be safer to use a fixed locale, e.g. Local.ENGLISH."}, {"bug_id": "49234", "ground_truth": ["java/org/apache/catalina/Server.java", "java/org/apache/catalina/Service.java", "java/org/apache/catalina/core/StandardEngine.java", "java/org/apache/catalina/core/StandardServer.java", "java/org/apache/catalina/core/StandardService.java", "java/org/apache/catalina/core/mbeans-descriptors.xml", "java/org/apache/catalina/mbeans/ContainerMBean.java", "java/org/apache/catalina/mbeans/ContextMBean.java", "java/org/apache/catalina/mbeans/ServiceMBean.java", "java/org/apache/catalina/startup/Catalina.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "mbean org apache   context", "bug_title": " JMX Descriptor Modifications", "bug_description": "Created attachment 25378 [details] Descriptor Modification Package: org.apache.catalina I have slightly modified mbeans-descriptor.xml in above package as below. 1. Removed username and password attributes from the User mbean object since it exposes username and the password of the users. 2. Modified some attributes as non writeable according to the context."}, {"bug_id": "49235", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java"], "repo": "tomcat70", "reformed_query": "Override Initializer Override Handles code ModuleInitializer code ServletContainerInitializer Handles println", "bug_title": " ServletContainerInitializer onStartup(Set<Class<?>> classSet is not expect class", "bug_description": "I builder tomcat 7.0.0 from svn r939221 below is my code: @MySomeAnn public class MySomeClass{...} @HandlesTypes(MySomeAnn.class) public class ModuleInitializer implements ServletContainerInitializer { @Override public void onStartup(Set> classSet, ServletContext ctx) throws ServletException { for (Class targetClass : classSet) { System.out.println(targetClass.getName()); ... Here output is \"MySomeAnn\". But I expect output \"MySomeClass\". It's not yet imp Servlet 3.0 spec. My code work fine on Glassfish 3.0. The output is \"MySomeClass\"."}, {"bug_id": "49240", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java"], "repo": "tomcat70", "reformed_query": "Method Types ClassLoader URLClassLoader calling referencing ContextConfig Connection Types define", "bug_title": " Error thrown during detection of ServletContainerInitializer's", "bug_description": "ContextConfig.checkHandlesTypes() throws a NoClassDefFoundError, which isn't caught, when the class being analysed is initialised if the class, or a class that it references(?), is not present in the classpath. E.g. When a mysql connector/j jar (v5.x) is scanned, an attempt to load the following class occurs: com.mchange.v2.c3p0.QueryConnectionTester java.lang.NoClassDefFoundError: com/mchange/v2/c3p0/QueryConnectionTester at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClass(ClassLoader.java:698) at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:124) at java.net.URLClassLoader.defineClass(URLClassLoader.java:260) at java.net.URLClassLoader.access$000(URLClassLoader.java:56) at java.net.URLClassLoader$1.run(URLClassLoader.java:195) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:188) at java.lang.ClassLoader.loadClass(ClassLoader.java:315) at java.lang.ClassLoader.loadClass(ClassLoader.java:250) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:398) at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:247) Also Class.forName is used here, referencing the WebappClassLoader, instead of calling WebappClassLoader.loadClass() directly."}, {"bug_id": "49340", "ground_truth": ["java/org/apache/catalina/connector/MapperListener.java"], "repo": "tomcat70", "reformed_query": "work manager webapp start", "bug_title": " Webapp unavailable after deploy then stop then start", "bug_description": "Occurs with tomcat 7.0 RC3 but not with 6.0.26 Using the manager/html : - deploy a war - test one of its page, it should be deployed properly - stop the webapp - start the webapp - test one of its page : FAILURE : tomcat returns a 404. Notes : - if using \"reload\" instead of stop/start it's OK, but it does not fix the unavailability - if the webapp is present when tomcat is started, then the stop/start works normally - The work around is to undeploy the webapp and redeploy it."}, {"bug_id": "49428", "ground_truth": ["java/org/apache/catalina/servlets/WebdavServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "common tomcat webdav client net Servlet Servlet local patch resources", "bug_title": " Fix WebDAV mounts from Windows Mini-Redirector clients", "bug_description": "Created attachment 25584 [details] The patch for WebdavServlet The WebdavServlet does not work with native Windows clients besides the deprecated Web Folders. The more modern, common and supported by Microsoft client, Windows Mini-Redirector that allows mapping of WebDAV shares to local drives cannot mount a WebDAV share served by tomcat's WebdavServlet. You can observe this by using the following command from a windows machine: > net use * http://hostname:8080/webdav It should fail without the attached patch. The reason is that: DAV: namespaced elements in a PROPFIND responses can not use a default namespace; each element must be explicitly prefixed with a namespace prefix defined in itself or a parent. If a default namespace is used the client will give no errors, but will not display any resources. This is mentioned here, albeit for a single Windows version, Windows Server 2003: http://www.greenbytes.de/tech/webdav/webdav-redirector-list.html I have verified that the patch fixes WebDAV mounts for Windows XP, Vista & 7."}, {"bug_id": "49503", "ground_truth": ["java/org/apache/catalina/connector/Connector.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Internal Tomcat Catalina port flag conf IIRC properties expect Bootstart", "bug_title": " Connectors do not bind to their ports in Catalina.load(), but only later in start()", "bug_description": "Testing with trunk at revision 957942, thus this supposedly affects 7.0.0 as well. In TC6 there is a separate pre-startup phase when starting Tomcat, to allow Connectors to bind to their ports before other parts of Tomcat are started. IIRC, it is implemented by having separate Bootstrap#load(String[]) and Bootstart#start() methods [1]. [1] http://commons.apache.org/daemon/jsvc.html#Downgrading_user When running with jsvc it will mean that Tomcat would not be able to bind to privileged ports (80). I do not use jsvc, but I observe this issue when testing the fix for bug 49030 + bug 48625 that I applied in r957960. Essentially, it breaks the fix for BZ 48625. To reproduce: 1. Add the following line to conf/catalina.properties org.apache.catalina.startup.EXIT_ON_INIT_FAILURE=true 2. Start two Tomcat instances with the same configuration at the same time. The first instance starts successfully. The second instance fails, as expected, but not in the expected way. 3. Expected behaviour: I would expect that in StandardService#initInternal() the connector.init() call fails, because it cannot bind to the port. The exception from connector.init() is caught there and, if EXIT_ON_INIT_FAILURE flag is set, it is rethrown, then caught in Catalina#load() and then rethrown as an Error, which aborts Tomcat startup. 4. Actual behaviour: The exception does not happen, because the connector does not try to bind to the port. It will bind when start() is called. The startup sequence continues and then fails in Server.await()."}, {"bug_id": "49522", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Manager root Resources servlet manager start encountered NamingResources report org", "bug_title": " Complete Server status (status/all) causes stack trace", "bug_description": "type Exception report message description The server encountered an internal error () that prevented it from fulfilling this request. exception javax.servlet.ServletException: javax.management.AttributeNotFoundException:  Cannot find attribute startTime for org.apache.catalina.deploy.NamingResources@d1c778 org.apache.catalina.manager.StatusManagerServlet.doGet(StatusManagerServlet.java:292) javax.servlet.http.HttpServlet.service(HttpServlet.java:621) javax.servlet.http.HttpServlet.service(HttpServlet.java:722) root cause javax.management.AttributeNotFoundException:  Cannot find attribute startTime for org.apache.catalina.deploy.NamingResources@d1c778 org.apache.tomcat.util.modeler.ManagedBean.getGetter(ManagedBean.java:493) org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:180) com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666) com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638) org.apache.catalina.manager.StatusTransformer.writeContext(StatusTransformer.java:656) org.apache.catalina.manager.StatusTransformer.writeDetailedState(StatusTransformer.java:590) org.apache.catalina.manager.StatusManagerServlet.doGet(StatusManagerServlet.java:287) javax.servlet.http.HttpServlet.service(HttpServlet.java:621) javax.servlet.http.HttpServlet.service(HttpServlet.java:722)"}, {"bug_id": "49525", "ground_truth": ["java/org/apache/catalina/core/ApplicationSessionCookieConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "context Session BTW session   Unabled", "bug_title": " IE8: Unabled to store data in HttpSession (root context)", "bug_description": "Environment: Tomcat 7.0.0 Beta IE8 A simplest webapp only have a test.jsp below: <%=request.getSession().getId()%> this app installed as root context the test.jsp works fine in firefox but when using IE8 there is always a different session id where refresh the test page. BTW: the test.jsp works find in Tomcat 6.x"}, {"bug_id": "49530", "ground_truth": ["java/org/apache/catalina/core/ContainerBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "UTC writes Steps Runtime StartTestServlet details attached init log", "bug_title": " Context is not correctly stopped at shutdown", "bug_description": "Created attachment 25669 [details] Application that show the behavior Apparently a web application context is not correctly stopped when shutting down Tomcat 7.0.0. I noticed that the destroy() method of a Servlet that's loaded on startup was not called, and put together a test case (see attached files). The test servlet writes to System.out on init() and destroy(), the output on init appears in logs/catalina.out, but no output on destroy. From what I  understand of the attached log, the context isn't stopped at all. Steps to reproduce: 1. copy attached startupServlet.war to webapps 2. start Tomcat, then \"StartTestServlet.init\" appears in catalina.out 3. stop Tomcat Actual Result: no output appears in logs/catalina.out Expected Result: \"StartTestServlet.destroy\" appears in catalina.out catalina.log shows evidence of context /startupServlet being stopped FWIW: java -version: java version \"1.6.0_20\" Java(TM) SE Runtime Environment (build 1.6.0_20-b02) Java HotSpot(TM) 64-Bit Server VM (build 16.3-b01, mixed mode) uname -a Linux <hostname> 2.6.32-22-generic #36-Ubuntu SMP Thu Jun 3 19:31:57 UTC 2010 x86_64 GNU/Linux"}, {"bug_id": "49536", "ground_truth": ["java/org/apache/catalina/connector/CoyoteAdapter.java", "java/org/apache/catalina/connector/MapperListener.java", "java/org/apache/catalina/connector/Request.java", "java/org/apache/tomcat/util/http/mapper/Mapper.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "start veriportal URL code access", "bug_title": " If no webapps deployed, accessing a URL returns 200 OK with no content instead of 404", "bug_description": "Hello I've just downloaded http://mirror.veriportal.com/apache/tomcat/tomcat-7/v7.0.0-beta/bin/apache-tomcat-7.0.0.zip If I start a Tomcat 7 instance with no webapps on it and access a URL, it returns HTTP code 200 OK with no content, instead of an HTTP error 404. Cheers S. Ali Tokmen http://ali.tokmen.com/"}, {"bug_id": "49550", "ground_truth": ["java/org/apache/catalina/connector/Response.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Response deprecated", "bug_title": " [PATCH] Response class fix isSpace (deprecated) => isWhiteSpace", "bug_description": "Created attachment 25703 [details] fix isSpace (deprecated) => isWhiteSpace As the subject says"}, {"bug_id": "49567", "ground_truth": ["java/org/apache/catalina/connector/CoyoteAdapter.java", "java/org/apache/catalina/connector/Request.java", "java/org/apache/catalina/core/AsyncContextImpl.java", "java/org/apache/coyote/http11/Http11Processor.java", "test/org/apache/catalina/core/TestAsyncContextImpl.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "generated async bug Runnable testcase demonstrating amount Created startAsync times", "bug_title": " when starting a new thread from a startAsync Runnable, an infinite amount of doPosts is generated", "bug_description": "Created attachment 25728 [details] testcase demonstrating the bug when starting a new thread from a startAsync Runnable, an infinite amount of doPosts is generated. Also, the GET status is: 500 Internal Server Error, however, there is no exception thrown by tomcat. The attached code demonstrates this, by printing \"Start async()\" an infinite amount of times."}, {"bug_id": "49613", "ground_truth": ["java/org/apache/catalina/connector/Request.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Request Request Names applications Request slows Attribute Attribute Attribute applications", "bug_title": " Request.getAttributeNames() slows down some applications", "bug_description": ""}, {"bug_id": "49625", "ground_truth": ["java/org/apache/coyote/http11/AbstractHttp11Processor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "maxKeepAliveRequests Alive disableUploadTimeout apache request Base xmlNamespaceAware caches Protocol URI", "bug_title": " Tomcat doesn't send Vary consistently when gzip enabled", "bug_description": "HTTP requires that the Vary response header be sent consistently for all responses if they change based upon different aspects of the request. My pages has both compressed and uncompressed variants available, negotiated by the Accept-Encoding request header, but it sends different Vary headers for each; \"accept-encoding\" when the response is compressed, and \"\" when it is not. This can cause problems for downstream caches, because they cannot consistently determine what the cache key for a given URI is. My server.xml content: <Service name=\"Catalina\"> <Connector port=\"8080\" proxyPort=\"80\" maxHttpHeaderSize=\"8192\" protocol=\"org.apache.coyote.http11.Http11Protocol\" maxThreads=\"200\" minSpareThreads=\"25\" maxPostSize=\"8\" maxSpareThreads=\"75\" enableLookups=\"false\" keepAliveTimeout=\"3000\" maxKeepAliveRequests=\"100\" redirectPort=\"8443\" acceptCount=\"100\" connectionTimeout=\"8000\" disableUploadTimeout=\"true\" compression=\"on\" compressionMinSize=\"2048\" compressableMimeType=\"text/html,text/xml,text/javascript,text/css\" /> <Engine name=\"Catalina\" defaultHost=\"localhost\"> <Host name=\"localhost\" appBase=\"webapps\" unpackWARs=\"false\" autoDeploy=\"false\" debug=\"0\" xmlValidation=\"false\" xmlNamespaceAware=\"false\"> </Host> </Engine> </Service>"}, {"bug_id": "49655", "ground_truth": ["test/org/apache/el/TestMethodExpressionImpl.java"], "repo": "tomcat70", "reformed_query": "JUEL types pass JUEL method selection sayHello Spec Specification array", "bug_title": " ExpressionFactoryImpl.createMethodExpression() is not EL 2.2 Spec conform", "bug_description": "org.apache.el.ExpressionFactoryImpl.createMethodExpression(ELContext context, String expression, Class expectedReturnType, Class[] expectedParamTypes) does not correctly impl EL Specification 2.2 (Maintenance Release 2 - December 10, 2009) The spezfication say at site 72 (last paragraph): expectedParamTypes - The expected parameter types for the method to be found. Must be an array with no elements if there are no parameters expected. It is illegal to pass null, unless the method is specified with arugments in the EL expression, in which case these arguments are used for method selection, and this parameter is ignored. The part \", unless the method is specified....\" was added in 2.2 and is not implemented. If i call the method with expectedParamTypes == null i get NullPointerException, although expression #{bean.sayHello('World')} has arguments. The Sun 2.2.1-b04 el (com.sun.el.ExpressionFactoryImpl) has the same defect. The code looks identical. JUEL 2.2.1 (http://juel.sourceforge.net/) works fine."}, {"bug_id": "49669", "ground_truth": ["java/org/apache/catalina/core/JreMemoryLeakPreventionListener.java", "java/org/apache/catalina/core/LocalStrings.properties", "webapps/docs/config/listeners.xml", "java/org/apache/catalina/core/JreMemoryLeakPreventionListener.java", "webapps/docs/config/listeners.xml"], "repo": "tomcat70", "reformed_query": "Build security Policy tomcat Policy undeployed refer Expected refer download", "bug_title": " Static reference from javax.security.auth.Policy.contextClassLoader prevents an undeployed Web application from being garbage collected", "bug_description": "Overview The class javax.security.auth.Policy has a static member contextClassLoader that can refer to the WebappClassLoader of an application. If that happens, the web application cannot be garbage collected after undeploy. Steps to reproduce Create a web application that uses Axis 1 as SOAP server. Deploy the web application in Tomcat. Make a SOAP call to the webapplication. Undeploy the web application. Wait an hour. Make a memory dump using jmap, and inspect the memory using jhat. Actual results The WebappClassLoader for the web application is still present. Its \"reference chains from rootset\" shows a reference like this: System Class Reference : --> class javax.security.auth.Policy (84 bytes) (static field contextClassLoader:) --> org.apache.catalina.loader.WebappClassLoader@0xeb52ba60 (165 bytes) Expected results There is no WebappClassLoader for this web application anymore. Build date & platform Downloaded Core tar.gz from http://tomcat.apache.org/download-70.cgi"}, {"bug_id": "49670", "ground_truth": ["java/org/apache/catalina/authenticator/AuthenticatorBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "valves SSO valve processes web Documentation config apache roleClassNames", "bug_title": " org.apache.catalina.authenticator.SingleSignOn valve does not function", "bug_description": "I have two web applications; neither declare a realm in the context.xml and both are configured for authentication in the web.xml using standard tomcat authentication methods.  I have enabled the tomcat valve in the host and have added a realm to the host as well. <Host name=\"localhost\"  appBase=\"webapps\" unpackWARs=\"true\" autoDeploy=\"true\"> <Realm className=\"org.apache.catalina.realm.JAASRealm\" appName=\"SSO\" userClassNames=\"a.b.c\" roleClassNames=\"a.b.c\" useContextClassLoader=\"false\"/> <!-- SingleSignOn valve, share authentication between web applications Documentation at: /docs/config/valve.html --> <Valve className=\"org.apache.catalina.authenticator.SingleSignOn\"/> <!-- Access log processes all example. Documentation at: /docs/config/valve.html --> <!-- <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" prefix=\"localhost_access_log.\" suffix=\".txt\" pattern=\"common\" resolveHosts=\"false\"/> --> I have added a jaas configuration for the SSO app in the jaas.conf file for the server.  I am certain that the realm, jaas.conf are all configured properly as the web applications do require a user to authenticate before accessing the application, but if I have authenticated to one application I still am required to authenticate before accessing the other application. I have this exact same configuration working on a tomcat 6 environment, but an identical configuration will not operate on a tomcat 7 server."}, {"bug_id": "49714", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "ContextConfig web annotations setDistributable merged url Complete add processAnnotationsUrl Distributable", "bug_title": " The annotation process of Jar should not impact distributable of web.xml.", "bug_description": "Even if < distributable/> is set to web.xml(servlet3.0), distributable is changed from true to false by the annotation process of JAR. ContextConfig#processAnnotations is as follows. ===ContextConfig#processAnnotations protected void processAnnotations(Set<WebXml> fragments) { for(WebXml fragment : fragments) { if (!fragment.isMetadataComplete()) { WebXml annotations = new WebXml(); URL url = fragment.getURL(); processAnnotationsUrl(url, annotations); Set<WebXml> set = new HashSet<WebXml>(); set.add(annotations); // Merge annotations into fragment - fragment takes priority fragment.merge(set); } } } === distributable of \"annotations\" created by new WebXml() is false (default). If \"annotations\" is merged with \"fragment\", distributable of \"fragment\" becomes false. Because \"fragment\" is merged with web.xml of the web application, even if < distributable/> is set to web.xml, distributable is changed from true to false. The following are necessary. annotations.setDistributable(true); Best regards."}, {"bug_id": "49721", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java"], "repo": "tomcat70", "reformed_query": "supported servlet jar jsp Fail tomcat file", "bug_title": " Fail to access the resources such as jsp files from a jar file which is supported by servlet 3.0", "bug_description": "I put a jsp file in a jar file and test whether tomcat 7 supports it by viewing it from the browser and failed."}, {"bug_id": "49749", "ground_truth": ["java/org/apache/catalina/authenticator/AuthenticatorBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "HttpOnly register register Http response addCookieInternal Internal Internal HttpOnly add", "bug_title": " SSO cookie should be added as HttpOnly", "bug_description": "SSO cookies should be made HttpOnly by default. In org.apache.catalina.authenticator.AuthenticatorBase#register(), 798- response.addCookie(cookie); 798+ response.addCookieInternal(cookie, true);"}, {"bug_id": "49750", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "java Loader SRV Webapp java documentation WebappClassLoader restrict java WebappClassLoader", "bug_title": " WebappClassLoader.validate(name) does not validate javax.servlet.", "bug_description": "The method does not validate the class name as described in the method documentation. \"Validate a classname. As per SRV.9.7.2, we must restrict loading of classes from J2SE (java.*) and classes of the servlet API (javax.servlet.*) \""}, {"bug_id": "49757", "ground_truth": ["java/org/apache/catalina/manager/JMXProxyServlet.java", "java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "warnings correcting", "bug_title": " correcting some generics related warnings", "bug_description": "Patch attached. Thanks"}, {"bug_id": "49758", "ground_truth": ["java/javax/annotation/Resource.java", "java/javax/ejb/EJB.java", "java/javax/el/BeanELResolver.java", "java/javax/el/ELContext.java", "java/javax/el/ResourceBundleELResolver.java", "java/javax/servlet/ServletRequestWrapper.java", "java/javax/servlet/ServletResponseWrapper.java", "java/javax/servlet/annotation/HandlesTypes.java", "java/javax/servlet/jsp/el/ExpressionEvaluator.java", "java/javax/servlet/jsp/el/ImplicitObjectELResolver.java", "java/javax/servlet/jsp/tagext/TagSupport.java", "java/javax/xml/ws/WebServiceRef.java", "java/org/apache/el/lang/EvaluationContext.java", "java/org/apache/el/parser/AstValue.java", "java/org/apache/jasper/el/ELContextWrapper.java", "java/org/apache/jasper/el/ExpressionEvaluatorImpl.java", "java/org/apache/naming/resources/DirContextURLConnection.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "type type type type type Patch rawtypes rawtypes warnings Created", "bug_title": " [Patch] Generics warnings - rawtypes", "bug_description": "Created attachment 25894 [details] Fix up some raw type warnings"}, {"bug_id": "49865", "ground_truth": ["java/org/apache/catalina/startup/CatalinaProperties.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "load loadProperties loader clinit Properties Remove creation util catalina load", "bug_title": " ExceptionUtils throw NoClassDefFoundError during startup", "bug_description": "Remove conf/catalina.properties and get: SEVERE: Class loader creation threw exception java.lang.NoClassDefFoundError: org/apache/tomcat/util/ExceptionUtils at org.apache.catalina.startup.CatalinaProperties.loadProperties(CatalinaProperties.java:112) at org.apache.catalina.startup.CatalinaProperties.<clinit>(CatalinaProperties.java:52) at org.apache.catalina.startup.Bootstrap.createClassLoader(Bootstrap.java:110) at org.apache.catalina.startup.Bootstrap.initClassLoaders(Bootstrap.java:93) at org.apache.catalina.startup.Bootstrap.init(Bootstrap.java:207) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:392) Caused by: java.lang.ClassNotFoundException: org.apache.tomcat.util.ExceptionUtils at java.net.URLClassLoader$1.run(URLClassLoader.java:200) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:188) at java.lang.ClassLoader.loadClass(ClassLoader.java:303) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:301) at java.lang.ClassLoader.loadClass(ClassLoader.java:248) at java.lang.ClassLoader.loadClassInternal(ClassLoader.java:316) org.apache.tomcat.util.ExceptionUtils is not available for the class loader during this early stage. Observed in r991965, added TODO marks in CatalinaProperties.java."}, {"bug_id": "49883", "ground_truth": ["java/org/apache/catalina/realm/CombinedRealm.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "server UnsupportedOperationException catalina occurred Engine util Format Combined method log", "bug_title": " java.lang.UnsupportedOperationException: The getName() method should never be called", "bug_description": "Hi, I am running Tomcat trunk (revision 992708, 2010-09-03). I added this line to conf/logging.properties: org.apache.catalina.level=FINEST The server fails to start with: Throwable occurred: java.lang.UnsupportedOperationException: The getName() method should never be called at org.apache.catalina.realm.CombinedRealm.getName(CombinedRealm.java:268) at org.apache.catalina.realm.RealmBase.toString(RealmBase.java:1015) at java.text.MessageFormat.subformat(MessageFormat.java:1258) at java.text.MessageFormat.format(MessageFormat.java:807) at org.apache.tomcat.util.res.StringManager.getString(StringManager.java:152) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:320) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:305) at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:98) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:131) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1020) at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:276) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:429) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:649) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.startup.Catalina.start(Catalina.java:584) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:600) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:416) java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:48) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:600) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:416) Caused by: java.lang.UnsupportedOperationException: The getName() method should never be called at org.apache.catalina.realm.CombinedRealm.getName(CombinedRealm.java:268) at org.apache.catalina.realm.RealmBase.toString(RealmBase.java:1015) at java.text.MessageFormat.subformat(MessageFormat.java:1258) at java.text.MessageFormat.format(MessageFormat.java:807) at org.apache.tomcat.util.res.StringManager.getString(StringManager.java:152) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:320) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:305) at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:98) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:131) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1020) at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:276) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:429) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:649) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.startup.Catalina.start(Catalina.java:584) ... 6 more If I comment out that line in logging.properties, the server starts fine. Looking at the code in LifecycleBase line 320, it is a log.debug call: if (log.isDebugEnabled()) { log.debug(sm.getString(\"lifecycleBase.setState\", this, state)); }"}, {"bug_id": "49890", "ground_truth": ["java/org/apache/tomcat/util/net/NioEndpoint.java", "java/org/apache/tomcat/util/net/res/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "selector platform org server Endpoint issuetabpanels tabpanel timeout codehaus focused", "bug_title": " Nio Selector issue on linux platform", "bug_description": "Created attachment 25997 [details] NioEndpoint.java and simple web application sometimes ,server's cpu reaches 100%,and keep 100% all the time,until restart the server. Reproduced with java versions: 1.6.0_07,  1.6.0_18, 1.6.0_21. It is duplicate of issue: Bug 46373. It seams that Jetty guys fixed that problem: http://jira.codehaus.org/browse/JETTY-937?focusedCommentId=168060&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel. I added some logging to NioEndpoint.java. With this logging we can see that selector.select(timeout) sometimes return zero keys on linux plutform. And it is never reproduced on windows platform. In the attach: NioEndpoint.7z - patched NioEndpoint.java (with logging) web.7z - simple web application. To reproduce jvm bug we should do several requests(we can just press F5 in browser and hold button) to web application."}, {"bug_id": "49892", "ground_truth": ["java/org/apache/catalina/core/DefaultInstanceManager.java"], "repo": "tomcat70", "reformed_query": "attached injections solves env Annotations env Annotations correctly injections problem", "bug_title": " Wrong JNDI Name for Method Resource Injections", "bug_description": "Method based JNDI env. injections not worked correctly. Patch is attached. See Java EE 6 specification section, EE. 5.2.5 Annotations and Injections. Patch is provided that solves problem."}, {"bug_id": "49909", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "webapp jstal exception", "bug_title": " jstl 1.2 not support", "bug_description": "Created attachment 26011 [details] run log I get the R995577 from svn, and complied. Report err when run my webapp that lib include jstl.jar v1.2. But run the examples with jstl.jar v1.1.2 and standard.jar v1.1.2 was work fined. Is the tc7 not support jstal 1.2? The exception stack in the attachment."}, {"bug_id": "49937", "ground_truth": ["java/org/apache/catalina/core/AsyncContextImpl.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "ServletContext getInstanceManager Listeners annotations Impl AyncContextImpl listener tomcat simple Servlet", "bug_title": " Problems with AsyncListener and resource injection", "bug_description": "Created attachment 26031 [details] propose fix for a couple possible async listener problems I asked about these on the dev list and am proposing some simple fixes in case there's agreement that they are bugs. 1. AsyncListeners are subject to resource injection from annotations, so they should be created using the instance manager. To get the instance manager to the AyncContextImpl I added a getInstanceManager() method to the Context interface.  Maybe there's a better way, this interface is currently not very small or simple. 2. various application code can use one of the ServletContext.addListener methods to tell the container to scan for annotations.  Just because tomcat doesn't yet actually scan doesn't mean it should throw an exception if you try this. cf servlet 3.0 spec section 15.5 page 179."}, {"bug_id": "49956", "ground_truth": ["java/org/apache/catalina/core/DefaultInstanceManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "resource DefaultInstanceManager methods binds issue Manager inject Normalization env resource", "bug_title": " @Resource(name=) Normalization of JNDI Name", "bug_description": "Created attachment 26048 [details] Resolves issue name attribute of @Resource defines JNDI name of the resource that binds the resource to web component java:comp/env/. java:comp/env/bla..bla.. could be given as a JNDI name. Therefore before using name in DefaultInstanceManager to inject fields & methods, it must be normalized. For example, @Resource(name=\"java:comp/env/myDataSource\") DataSource ds; Before looking up \"context.lookup(name)\" in DefaultInstanceManager, we have to normalize name to \"myDataSource\". Patch is attached"}, {"bug_id": "49957", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java", "java/org/apache/catalina/startup/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "deployed Work Catalina work event problem Observing INFO full Expected", "bug_title": " Work directories of deployed webapps are deleted at shutdown", "bug_description": "Created attachment 26050 [details] stacktrace Observing this with the current trunk (at rev. 998656). It does not happen with 7.0.2, so it is some recent regression. The problem is that when I stop Tomcat all subdirectories in ${catalina.base}/work/Catalina/localhost are deleted. Steps to reproduce: 1. Build Tomcat 7.0 2. Set JRE_HOME variable. Go to output/build/bin/ and run catalina.bat start 3. Access http://localhost:8080/examples/jsp/jsp2/el/basic-arithmetic.jsp 4. Note, that there is compiled class file in output/build/work/Catalina/localhost/examples/org/apache/jsp/jsp/jsp2/el/ 5. Run catalina.bat stop 6. Actual behaviour: output/build/work/Catalina/localhost/ is now empty. Expected behaviour: see step 4. The catalina.log file has \"INFO: Deploying web application directory\" lines it it, but there are no logs about any webapps being undeployed. I have run TC7 in debug mode with breakpoints in ExpandWar.delete(..) and the deletion happens in ContextConfig.destroy(). // Changed to getWorkPath per Bugzilla 35819. String workDir = ((StandardContext) context).getWorkPath(); if (workDir != null) ExpandWar.delete(new File(workDir)); I am attaching the full stacktrace. The code itself looks old. I suspect that the destroy event was not passed to ContextConfig until recently."}, {"bug_id": "49978", "ground_truth": ["java/org/apache/catalina/loader/WebappLoader.java", "webapps/docs/changelog.xml", "java/org/apache/catalina/loader/WebappLoader.java"], "repo": "tomcat70", "reformed_query": "unpack created created mkdirs setRepositories mkdirs unpack classRepository WebappLoader directories", "bug_title": " WebappLoader throws exception if workDir already exists (when unpackWARs=false)", "bug_description": "In WebappLoader.setRepositories(), if the war is not unpacked, it tries to create a directory /WEB-INF/classes inside the workDir.  If that directory already exists, an error is thrown and the webapp does not start. This is a change from 5.5, which didn't check the return value of classRepository.mkdirs().  mkdirs() returns false if the directories already exist.  I doubt it was the intention here.  Probably the intention was to throw an exception if the directory could not be created, rather than if it already existed."}, {"bug_id": "49991", "ground_truth": ["java/org/apache/catalina/authenticator/FormAuthenticator.java", "webapps/docs/changelog.xml", "java/org/apache/catalina/Context.java", "java/org/apache/catalina/core/StandardContext.java", "java/org/apache/catalina/core/StandardContextValve.java"], "repo": "tomcat70", "reformed_query": "contexts contexts dev bug problem Weld java container redirects container", "bug_title": " Tomcat 7 JAAS problem with CDI", "bug_description": "Tomcat is suffering from the same bug fixed in Glassfish: https://glassfish.dev.java.net/issues/show_bug.cgi?id=12642 When the container redirects to a login page, CDI (Weld) tell that there is no active contexts for requestscope."}, {"bug_id": "49998", "ground_truth": ["java/org/apache/jasper/compiler/ParserController.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "jasper Parser java problem file xml syntax version character fine", "bug_title": " ParserController.hasJspRoot() does not detect JSP as using XML syntax if <jsp:root> namespace declaration uses ' delimiters instead of \"", "bug_description": "I have a simple JSP in XML syntax that looks like this: <jsp:root xmlns:jsp=\"http://java.sun.com/JSP/Page\" version=\"2.0\"> content goes here </jsp:root> This works fine. However, if I use ' instead of \" for the namespace declaration, it fails to detect that XML syntax is being used, giving a \"no such action\" error instead: <jsp:root xmlns:jsp='http://java.sun.com/JSP/Page' version='2.0'> content goes here </jsp:root> Note that the check is skipped and the bug isn't exposed if external information on the JSP syntax is available (for example, from the web.xml, or because the file ends in .jspx). The problem seems to be on line 615 of org.apache.jasper.compiler.ParserController (in hasJspRoot). When trying to find the namespace declaration, the code only looks for a \" character, and does not consider ' characters."}, {"bug_id": "50021", "ground_truth": ["java/org/apache/catalina/startup/Bootstrap.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "bootstrap identical updating wasn startup missing wrong Utils including updating", "bug_title": " ExceptionUtils class missing from bootstrap.jar", "bug_description": "o.a.c.startup.Bootstrap uses o.a.jasper.util.ExceptionUtils, but this class is not placed in bootstrap.jar, causing rather nasty failures if anything goes wrong during initial bootstrapping. This should be a fairly simple matter of updating build.xml to include it, but I wasn't sure whether including Jasper classes in the bootstrap was the done thing. There's an o.a.tomcat.util.ExceptionUtils that is identical, but that too looks like the wrong thing to grab."}, {"bug_id": "50027", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "getObjectKeyPropertiesNameOnly Exception naming error util Watched property configured Host connectionName", "bug_title": " NullPointerException if context.xml is present with <Resource>", "bug_description": "If you deploy a WAR with contex.xml in META-INF and the context.xml has <Resource> tag, Tomcat don\u00c2\u00b4t boot and gives this error: java.lang.NullPointerException at org.apache.catalina.core.StandardContext.getObjectKeyPropertiesNameOnly(StandardContext.java:5570) at org.apache.catalina.core.StandardContext.setNamingResources(StandardContext.java:1757) at org.apache.catalina.core.StandardContext.getNamingResources(StandardContext.java:1735) at org.apache.catalina.startup.SetNextNamingRule.end(SetNextNamingRule.java:99) at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601) at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:180) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1544) at org.apache.catalina.startup.Catalina.load(Catalina.java:524) at org.apache.catalina.startup.Catalina.load(Catalina.java:560) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:260) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) 29/09/2010 13:50:37 org.apache.catalina.startup.Catalina load AVISO: Catalina.start using conf/server.xml: java.lang.NullPointerException at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2688) at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2714) at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1061) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601) at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:180) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1544) at org.apache.catalina.startup.Catalina.load(Catalina.java:524) at org.apache.catalina.startup.Catalina.load(Catalina.java:560) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:260) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) Caused by: java.lang.NullPointerException at org.apache.catalina.core.StandardContext.getObjectKeyPropertiesNameOnly(StandardContext.java:5570) at org.apache.catalina.core.StandardContext.setNamingResources(StandardContext.java:1757) at org.apache.catalina.core.StandardContext.getNamingResources(StandardContext.java:1735) at org.apache.catalina.startup.SetNextNamingRule.end(SetNextNamingRule.java:99) at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058) ... 20 more 29/09/2010 13:50:37 org.apache.tomcat.util.digester.SetPropertiesRule begin AVISO: [SetPropertiesRule]{Server/Service/Engine/Host/Context} Setting property 'source' to 'org.eclipse.jst.jee.server:bestforkprime' did not find a matching property. 29/09/2010 13:50:37 org.apache.tomcat.util.digester.Digester endElement GRAVE: End event threw exception java.lang.NullPointerException at org.apache.catalina.core.StandardContext.getObjectKeyPropertiesNameOnly(StandardContext.java:5570) at org.apache.catalina.core.StandardContext.setNamingResources(StandardContext.java:1757) at org.apache.catalina.core.StandardContext.getNamingResources(StandardContext.java:1735) at org.apache.catalina.startup.SetNextNamingRule.end(SetNextNamingRule.java:99) at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601) at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:180) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1544) at org.apache.catalina.startup.Catalina.load(Catalina.java:524) at org.apache.catalina.startup.Catalina.start(Catalina.java:573) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:415) 29/09/2010 13:50:37 org.apache.catalina.startup.Catalina load AVISO: Catalina.start using conf/server.xml: java.lang.NullPointerException at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2688) at org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2714) at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1061) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.endElement(AbstractSAXParser.java:601) at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:180) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1544) at org.apache.catalina.startup.Catalina.load(Catalina.java:524) at org.apache.catalina.startup.Catalina.start(Catalina.java:573) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:288) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:415) Caused by: java.lang.NullPointerException at org.apache.catalina.core.StandardContext.getObjectKeyPropertiesNameOnly(StandardContext.java:5570) at org.apache.catalina.core.StandardContext.setNamingResources(StandardContext.java:1757) at org.apache.catalina.core.StandardContext.getNamingResources(StandardContext.java:1735) at org.apache.catalina.startup.SetNextNamingRule.end(SetNextNamingRule.java:99) at org.apache.tomcat.util.digester.Digester.endElement(Digester.java:1058) ... 20 more 29/09/2010 13:50:37 org.apache.catalina.startup.Catalina start GRAVE: Cannot start server. Server instance is not configured. Here is my contex.xml OBS: some values were replaced with XXXX <?xml version=\"1.0\" encoding=\"UTF-8\"?> <Context privileged=\"true\" reloadable=\"true\"> <WatchedResource>WEB-INF/web.xml</WatchedResource> <WatchedResource>META-INF/context.xml</WatchedResource> <Resource name=\"jdbc/bestfork\" auth=\"Container\" type=\"com.mchange.v2.c3p0.ComboPooledDataSource\" factory=\"org.apache.naming.factory.BeanFactory\" user=\"xxx\" password=\"xxxx\" driverClass=\"org.postgresql.Driver\" jdbcUrl=\"jdbc:postgresql://localhost:5432/xxxxx\" minPoolSize=\"5\" maxPoolSize=\"30\" acquireIncrement=\"5\" idleConnectionTestPeriod=\"100\" maxIdleTime=\"30\"/> <Resource name=\"mail/Session\" auth=\"Container\" type=\"javax.mail.Session\" mail.smtp.host=\"xxxx\" mail.smtp.auth=\"true\" username=\"xxx\" password=\"xxx\" mail.user=\"xxxx\" mail.password=\"xxxx\" mail.smtp.port=\"587\" mail.transport.protocol=\"smtp\" mail.debug=\"true\" /> <Realm className=\"org.apache.catalina.realm.JDBCRealm\" driverName=\"org.postgresql.Driver\" connectionURL=\"jdbc:postgresql://localhost:5432/xxxx\" connectionName=\"xxxx\" connectionPassword=\"xxxx\" userTable=\"usuario\" userNameCol=\"usuario_cpf\" userCredCol=\"usuario_senha\" userRoleTable=\"usuario_papel\" roleNameCol=\"papel_nome\" digest=\"MD5\" /> </Context>"}, {"bug_id": "50059", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "processing Resources web fragment served WEB quick response regulates expected", "bug_title": " Resources are not served from /WEB-INF/lib/{*.jar}/META-INF/resources if metadata-complete=\"true\" is set in web.xml", "bug_description": "To reproduce: 1. Make a Servlet 3.0 webapp (lets name it foo) with metadata-complete=\"true\" attribute set on the web-app element in the /WEB-IBNF/web.xml. 2. Make a jar holding a single /META-INF/resources/index.html file. The jar should be placed in /WEB-INF/lib (lets name it bar.jar). 3. Start the web app in Tomcat 7.0.2 and in browser go to http://localhost:8080/foo/index.html. Expected result: 200 response and index.html served. Actual result: 404 If you modify the web.xml to metadata-complete=\"false\" and restart the app now /foo/index.html will respond as expected. I tried the same webapp with Glassfish v3.0.1 and it works as expected regardless what I set in metadata-complete attribute. I made a quick look in the servlet 3.0 spec and as far as I can see metadata-complete only regulates annotation and web fragment processing. In the example bar.jar has nothing to do with annotations and it is not a web fragment either but it is still handled differently depending on the metadata-complete attribute."}, {"bug_id": "50063", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "metadata catalina Workspace webXml web ContextConfig configureContext revision working catalina", "bug_title": " Latest trunck can't configure context when metadata-complete is true and version is 3.0", "bug_description": "patch: ### Eclipse Workspace Patch 1.0 #P tomcat-7.0.x Index: java/org/apache/catalina/startup/ContextConfig.java =================================================================== --- java/org/apache/catalina/startup/ContextConfig.java\t(revision 1006105) +++ java/org/apache/catalina/startup/ContextConfig.java\t(working copy) @@ -1281,6 +1281,7 @@ } } } else { +            \twebXml.configureContext(context); ok = true; }"}, {"bug_id": "50087", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Handles metadata Webapp Config Target reflect Accessor web Context defineClassCond", "bug_title": " When metadata-complete=\"false\" throw illegal JVM_CONSTANT_Class name", "bug_description": "When metadata-complete=\"false\" and add groovy-all-1.7.2.jar to app lib throw java.lang.reflect.InvocationTargetException at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:290) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:418) Caused by: java.lang.ClassFormatError: groovy/jmx/builder/package-info : illegal JVM_CONSTANT_Class name: groovy/jmx/builder/package-info at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClassCond(ClassLoader.java:632) at java.lang.ClassLoader.defineClass(ClassLoader.java:616) at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141) at org.apache.catalina.loader.WebappClassLoader.findClassInternal(WebappClassLoader.java:2804) at org.apache.catalina.loader.WebappClassLoader.findClass(WebappClassLoader.java:1144) at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1639) at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1517) at org.apache.catalina.startup.ContextConfig.checkHandlesTypes(ContextConfig.java:1952) at org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:1915) at org.apache.catalina.startup.ContextConfig.processAnnotationsJar(ContextConfig.java:1802) at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1761) at org.apache.catalina.startup.ContextConfig.processAnnotations(ContextConfig.java:1747) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1252) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:881) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:315) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4700) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1028) at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:773) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1028) at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:278) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:429) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:662) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:140) at org.apache.catalina.startup.Catalina.start(Catalina.java:592) ... 6 more"}, {"bug_id": "50107", "ground_truth": ["java/org/apache/catalina/mbeans/MBeanFactory.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Standard host operation Internal contained Engine StandardEngine removeHost Base StandardHost", "bug_title": " StandardPipeline is destroyed two times.", "bug_description": "Created attachment 26181 [details] patch for MBeanFactory.java When I call MBeanFactory#removeHost operation via JMX(jconsle), I get the following message. INFO: The destroy() method was called on component [Pipeline[StandardHost[localhost]]] after destroy() had already been called. The second call will be ignored. StandardPipeline is destroyed two times. At first, pipeline is destroyed at ContainerBase.java L.1096: <<ContainerBase.java destroyInternal() L.1094-1097>> 1094         // Stop the Valves in our pipeline (including the basic), if any 1095         if (pipeline instanceof Lifecycle) { 1096             ((Lifecycle) pipeline).destroy(); 1097         } <<ContainerBase.java destroyInternal() L.1104-1107>> 1104         // Required if the child is destroyed directly. 1105         if (parent != null) { 1106             parent.removeChild(this); 1107         } When above-mentioned \"parent\" is StandardEngine, the parent.removeChild() calls the  LifecycleBase#child.destroy(), and child.destroy() calls ContainerBase#destroyInternal(). At this time ContainerBase is StandardHost. <<ContainerBase.java removeChild() L.960-964>> 960         // Set child's parent to null to prevent a loop 961         child.setParent(null); 962         try { 963             child.destroy(); 964         } catch (LifecycleException e) { As a result, pipeline is destroyed again(, and get the above-mentioned info message). In Tomcat 6.0, child.destroy() is not called from ContainerBase#removeChild(). But, as seen above, the removeChild() that is contained in Tomcat7.0 calls the child.destroy(). IMHO, it might not be better to call the child.destroy() from removeHost(). I made the patch that removed host.destroy() from removeHost(). Best regards."}, {"bug_id": "50127", "ground_truth": ["java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java"], "repo": "tomcat70", "reformed_query": "object SimpleTCPCluster block   code", "bug_title": " Possible NPEs in SimpleTCPCluster", "bug_description": "Created attachment 26190 [details] Patch to eliminate potential NPE The code does this in several places: if (object != null) { ... } object.method() If the object can be null, then the method call should be in the conditional block. If not, eliminate the check."}, {"bug_id": "50129", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java"], "repo": "tomcat70", "reformed_query": "Pattern Array checks check details call evp checks Pattern NPE", "bug_title": " ContextConfig - unnecessary null checks", "bug_description": "Created attachment 26192 [details] Patch to remove null checks Sample code: urlPatterns = processAnnotationsStringArray(evp.getValue()); urlPatternsSet = urlPatterns != null && urlPatterns.length > 0; for (String urlPattern : urlPatterns) { The check \"urlPatterns != null\" is unnecessary as the method call never returns null. If it could return null, then the for loop would cause an NPE."}, {"bug_id": "50138", "ground_truth": ["java/org/apache/catalina/security/SecurityUtil.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Privileged Privilege lang Key org Hash structurally Note object madly", "bug_title": " Lack of synchronization in org.apache.catalina.security.SecurityUtil", "bug_description": "Symptom: all processor threads spin madly in: ============== \"tomcat-processor-20\" daemon prio=10 tid=0x09210800 nid=0x51fb runnable [0x61b76000] java.lang.Thread.State: RUNNABLE at java.util.HashMap.getEntry(HashMap.java:347) at java.util.HashMap.containsKey(HashMap.java:335) at org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:227) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:230) at org.apache.catalina.core.ApplicationFilterChain.access$000(ApplicationFilterChain.java:56) at org.apache.catalina.core.ApplicationFilterChain$1.run(ApplicationFilterChain.java:189) at java.security.AccessController.doPrivileged(Native Method) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:185) ... ============== Cause: org.apache.catalina.security.SecurityUtil.objectCache is a HashMap, but access to it is not synchronized. The javadoc for HashMap says: ============= Note that this implementation is not synchronized. If multiple threads access a hash map concurrently, and at least one of the threads modifies the map structurally, it must be synchronized externally. ============= Proposed solution: change objectCache to ConcurrentHashMap;"}, {"bug_id": "50184", "ground_truth": ["java/org/apache/catalina/tribes/group/RpcChannel.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "java situations situations html flush OPTIONS avoid RpcChannel experiencing order", "bug_title": " RpcChannel sends the answer without requesting an ACK", "bug_description": "Created attachment 26229 [details] proposed patch Hi, I'm using apache tribes outside of Tomcat. Although my version is not the latest one, this also applies to trunk. I have a customer that was using Bio senders (a version before to the excecutors refactor see bug 50183), and there were experiencing some weird behavior. (I couldn't reproduce it, but I guess it is related with the platform since they are using solaris) My application uses tribes to create an RPC channel. They also had some network issues. So, in certain occasions, the application invoked a remote method, the remote node processed the invocation and send the answer back (but it is not received in the first node). So, the timeout occurs and eventually a new RPC invocation occurs. But this time, the second node realized that there is a socket issue when trying to send the answer back (it gets a broken pipe exception). Them the connection is re-established and the message is received without any issues. My customer is complaining about the timeout that occurred the first time. To send the message we do the following: BioSender.pushMessage(.....) { ... soOut.write(data); soOut.flush(); ... } But the flush operation does not warranty that the message was successfully sent to the network. It just warranty that the information was passed to the S.O. http://download.oracle.com/javase/6/docs/api/java/io/OutputStream.html#flush() So, in order to avoid this issue I thought that we can modify the RpcChannel to send the reply message using SEND_OPTIONS_USE_ACK option. Setting this, the remote node will be able to detect situations like the one I commented, and recreate the connection. I'm attaching a patch with my proposal. Thanks for your time. Regards, Ariel"}, {"bug_id": "50189", "ground_truth": ["java/org/apache/catalina/connector/OutputBuffer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "connector CHUNK sends sends based responds writer CHUNK attempts worker", "bug_title": " AJP connector sends GET BODY CHUNK when reading after response closed", "bug_description": "If a servlet (probably incorrectly) closes the writer/outputstream of a response, and then attempts to read from the request, the AJP connector sends GET BODY CHUNK to the mod_jk worker. This then starts a series of very confusing communication between the worker and tomcat.  The worker doesn't read it until it makes its next request.  After making its next request, it reads it, and then sends a response with 0 length.  At the same time, Tomcat responds to the request made by the worker with another GET BODY CHUNK, which the worker also responds with a message of 0 length.  Then the really weird thing happens, Tomcat replays the first request made by that worker.  At this point, based on what I'm looking at with tcpdump, I get too confused to work out exactly what is happening."}, {"bug_id": "50201", "ground_truth": ["java/org/apache/catalina/core/StandardEngine.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Remove touching performs Start AccessLog restarted detected request Configure defaultAccessLog", "bug_title": " StandardEngine.defaultAccessLog may become stale when ROOT webapp is redeployed", "bug_description": "In tc6.0.x-dev after r1030188 (will be 6.0.30) and in TC 7.0.4: The method StandardEngine.logAccess(..) performs lookup of a default AccessLog implementation and caches it as StandardEngine.defaultAccessLog.  This value is not updated if the default host or its ROOT webapp are changed.  The most important use case here is when the ROOT webapp is redeployed or restarted. To reproduce: 1. Configure an access log valve in the ROOT webapp. Remove access log valves from Engine and Host if there are any. 2. Start Tomcat and do some malformed request 3. Undeploy and redeploy the ROOT webapp. E.g. rename ROOT -> ROOT1, wait until undeployment happens and rename it back. 4. Do some malformed request. Expected behaviour: the request has to be logged. Actual behaviour: the request is not logged. Notes: 1. This does not happen if an access log valve is also configured on the Host or Engine. The default server.xml of Tomcat 7 does have such a valve in the default Host. 2. Restarting the ROOT webapp (e.g. touching its web.xml) is not enough to trigger this. (Apparently it does not cause closing of the valve). 3. It is not detected as a memory leak. (Apparently the Valve is not loaded with webapp's classloader). So, the requests not being logged is the only effect of this issue that I am observing."}, {"bug_id": "50232", "ground_truth": ["java/org/apache/catalina/session/StoreBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "StoreBase StoreBase Base Manager removes Loaded method dependency path Created", "bug_title": " org.apache.catalina.session.StoreBase has a hidden dependency on PersistentManager", "bug_description": "Created attachment 26270 [details] Removes hidden dependency on PersistentStore StoreBase.java depends explicitly on the Manager interface, however, it later casts the manager object to the PersistentManager class with out any check. This removes that dependency, therefore allowing the usage of this store with any manager that does not extend PersistentManager. I will later attach a path that removes the offending isLoaded() method as that may induce the same problem further along..."}, {"bug_id": "50252", "ground_truth": ["java/org/apache/naming/NamingContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "apache Executor Handler load lookup NamingContext Log naming invoke", "bug_title": " ClassCastException occurs if context.xml contains <ResourceLink>.", "bug_description": "Created attachment 26281 [details] patch for NamingContext.java If context.xml contains <ResourceLink>, ClassCastException occurs as follows. java.lang.ClassCastException: org.apache.naming.ResourceLinkRef cannot be cast to org.apache.naming.ResourceRef at org.apache.naming.NamingContext.lookup(NamingContext.java:828) at org.apache.naming.NamingContext.lookup(NamingContext.java:145) at org.apache.naming.NamingContext.lookup(NamingContext.java:814) at org.apache.naming.NamingContext.lookup(NamingContext.java:159) at org.apache.catalina.core.DefaultInstanceManager.lookupFieldResource(DefaultInstanceManager.java:460) at org.apache.catalina.core.DefaultInstanceManager.processAnnotations(DefaultInstanceManager.java:299) at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:137) at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:119) at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1046) at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:797) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:135) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:108) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:558) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:379) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:242) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:259) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:237) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:281) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619) This issue is relating to the following issue. https://issues.apache.org/bugzilla/show_bug.cgi?id=50159 I attached the patch for this issue. Regards."}, {"bug_id": "50293", "ground_truth": ["java/javax/el/CompositeELResolver.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "resolvers size method Exception thread sense issue", "bug_title": " javax.el.CompositeELResolver synchronization issue", "bug_description": "Created attachment 26310 [details] Synchronize change in CompositeELResolver.add The javax.el.CompositeELResolver.add method needs to synchronize around the update to the resolvers.  If two threads call add, then it is possible for both threads get past the size check, then one thread updates the size, and when the next thread tries to update the size, it fails with an ArrayIndexOutOfBoundsException. Also, it makes sense to increase the default size of the ELResolver array since even the jasper EL adds 5 ELResolvers.  I propose a default of 8."}, {"bug_id": "50306", "ground_truth": ["java/org/apache/catalina/valves/LocalStrings.properties", "java/org/apache/catalina/valves/LocalStrings_es.properties", "java/org/apache/catalina/valves/StuckThreadDetectionValve.java", "java/org/apache/catalina/valves/mbeans-descriptors.xml", "webapps/docs/changelog.xml", "webapps/docs/config/valve.xml", "java/org/apache/catalina/valves/LocalStrings.properties", "java/org/apache/catalina/valves/StuckThreadDetectionValve.java", "java/org/apache/catalina/valves/mbeans-descriptors.xml", "webapps/docs/config/valve.xml"], "repo": "tomcat70", "reformed_query": "deadlock Detect warning running processing scan regularly trace thread network", "bug_title": " Detect stuck threads", "bug_description": "Feature request : regularly scan worker threads and if one has been processing the same request for longer than a configurable delay, log a warning with the stack trace of that thread. This would allow to detect very long running threads, usually the ones that are stuck in a network call or in a deadlock."}, {"bug_id": "50310", "ground_truth": ["java/org/apache/catalina/core/StandardWrapper.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "iterate changed code names JMX current servlets classes   summary", "bug_title": " Manager detailed status page does not display servlets", "bug_description": "To reproduce: 1. Login to the Manager webapp 2. Click \"Server Status\" and then \"Complete Server Status\" links. In TC6 the \"Complete Server Status\" page lists servlets for each deployed application. In the current TC7 it does not list them. Only summary information on each webapp is displayed. Looking at the StatusManagerServlet and StatusTransformer classes, the code to iterate over servlets is still there, but probably the JMX names have changed and are not working any more."}, {"bug_id": "50358", "ground_truth": ["java/org/apache/catalina/startup/Embedded.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "attempted Embedded LifecycleBase tearDown shut Base changed google Embedded invokes", "bug_title": " Embedded.stopInternal sets state to STARTING, should be STOPPING", "bug_description": "Embedded.stopInternal invokes setState(LifecycleState.STARTING), this should be changed to setState(LifecycleState.STOPPING). Setting LifecycleState.STARTING during stopInternal leads to a LifecycleException when the Embedded is shut down: LifecycleException:  An invalid Lifecycle transition was attempted ([after_stop]) for component [StandardService[null]] in state [STARTING] at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:321) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226) at de.javakaffee.web.msm.MemcachedSessionManagerIntegrationTest.tearDown(MemcachedSessionManagerIntegrationTest.java:112) This failure leads to failing tests in my case. I'm using the (deprecated) Embedded for integration testing the memcached-session-manager (http://code.google.com/p/memcached-session-manager/). I'm just working on a tomcat7 branch, which shall diverge as little as possible from the master/trunk, therefore I'm still using Embedded instead of the newly introduced Tomcat."}, {"bug_id": "50394", "ground_truth": ["java/org/apache/coyote/http11/InternalAprInputBuffer.java"], "repo": "tomcat70", "reformed_query": "catalina implementation SocketInputBuffer Internal implementation socket bug BufferedInputStream debugger Apr", "bug_title": " InternalAprInputBuffer.fill() doesn't deal correctly with EOF", "bug_description": "I'm using tomcat-native-1.1.20 and tomcat-6.0.29 on CentOS 5.5, and I've written a servlet that is sent large (gigabyte) streams of bytes over HTTP. From time to time it fails with the following stacktrace: Caused by: java.io.IOException at org.apache.coyote.http11.InternalAprInputBuffer.fill(InternalAprInputBuffer.java:798) at org.apache.coyote.http11.InternalAprInputBuffer$SocketInputBuffer.doRead(InternalAprInputBuffer.java:827) at org.apache.coyote.http11.filters.IdentityInputFilter.doRead(IdentityInputFilter.java:116) at org.apache.coyote.http11.InternalAprInputBuffer.doRead(InternalAprInputBuffer.java:738) at org.apache.coyote.Request.doRead(Request.java:428) at org.apache.catalina.connector.InputBuffer.realReadBytes(InputBuffer.java:304) at org.apache.tomcat.util.buf.ByteChunk.substract(ByteChunk.java:403) at org.apache.catalina.connector.InputBuffer.read(InputBuffer.java:327) at org.apache.catalina.connector.CoyoteInputStream.read(CoyoteInputStream.java:193) at java.io.BufferedInputStream.read1(BufferedInputStream.java:273) at java.io.BufferedInputStream.read(BufferedInputStream.java:334) at java.io.FilterInputStream.read(FilterInputStream.java:107) [...] Unfortunately, InternalAprInputBuffer throws away the error code on line 798, but I've run it under a debugger and nRead was -70014. If you look in the source of apr-1.3.8 at include/apr_errno.h, you'll see this is -APR_EOF. The bug is in the implementation of recvbb at line 892 onwards in tomcat-native-1.1.20-src/jni/native/src/network.c. Specifically, at the end of the function we check for APR_SUCCESS, and assume all other codes are an error, returning -ss. It should also check for EOF (APR_STATUS_IS_EOF), and return zero. (Or at least, InternalAprInputBuffer assumes that a return code of 0 <=> EOF). Incidentally, apr-1.3.8/include/apr_network_io.h says in its comment on apr_socket_recv() that \"It is possible for both bytes to be received and an APR_EOF or other error to be returned.\". This is a lie. All provided implementations of apr_socket_recv return with *len == 0 in case of APR_EOF."}, {"bug_id": "50411", "ground_truth": ["java/org/apache/catalina/session/PersistentManagerBase.java", "java/org/apache/catalina/session/PersistentManagerBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Manager Standard PersistentManger Standard Manger Base Base longer invalid StandardSession", "bug_title": " invalid sessions not removed from PersistenManager store", "bug_description": "ChangeSet r1036595 in StandardSession no longer remove sessions from PersistentManger store. I think PersistentMangerBase must now override method remove(Session session, boolean update) and no longer method remove(Session session)."}, {"bug_id": "50459", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java"], "repo": "tomcat70", "reformed_query": "Context Context Thread StandardContext side limited unbindThread CCL StandardContext bind", "bug_title": " StandardContext.bindThread() and unbindThread() are not symmetrical and not limited to current thread", "bug_description": "As a side effect of my commit, I think I found a bug in StandardContext.bindThread() and unbindThread() methods in both tomcat 6 and 7 : - the methods should be symmetrical : unbindThread should restore the Thread CCL after calling DirContextURLStreamHandler.unbind() and ContextBindings.unbindThread() - StandardContext.bindThread() should call DirContextURLStreamHandler.bindThread() instead of DirContextURLStreamHandler.bind() - StandardContext.unbindThread() should call DirContextURLStreamHandler.unbindThread() instead of DirContextURLStreamHandler.unbind()"}, {"bug_id": "50503", "ground_truth": ["java/org/apache/catalina/ha/tcp/SimpleTcpCluster.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Context manager contextName clusterName web getManagerName indexOf Context level doesn", "bug_title": " Engine level Clustering does not work correctly if the web application has a version.", "bug_description": "In Engine level clustering, the name of the cluster manager is  \"HostName#contextName\". SimpleTcpCluster#getManagerName(String, Manager) is as follows. ==== public String getManagerName(String name, Manager manager) { String clusterName = name ; if ( clusterName == null ) clusterName = manager.getContainer().getName(); if(getContainer() instanceof Engine) { Container context = manager.getContainer() ; if(context != null && context instanceof Context) { Container host = ((Context)context).getParent(); if(host != null && host instanceof Host && clusterName!=null && !(clusterName.indexOf(\"#\")>=0)) clusterName = host.getName() +\"#\" + clusterName ; } } return clusterName; } ==== In this method, clusterName.indexOf(\"#\") >= 0 is checked. Because the context name becomes contextName##version if the web application has a version, the name of the cluster manager doesn't become a format of \"HostName#contextName\". As a result, Engine level Clustering doesn't work correctly. Best regards."}, {"bug_id": "50541", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java", "webapps/docs/changelog.xml", "webapps/docs/config/realm.xml"], "repo": "tomcat70", "reformed_query": "sizeLimit catalina adding LDAP successful Pattern limit Context connection source", "bug_title": " JNDIRealm: support configuring LDAP sizeLimit (countLimit in SearchControls)", "bug_description": "Today, when enabling an application's LDAP authentication through Active Directory, I've discovered that with apparently a completely correct LDAP Realm configuration on the Tomcat side, AD returns the following error all the time: LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0906DD, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v1771 After some hours of Googling and experimenting with referrals, subtree search modes et cetera, I've found out (through network packet analysis) that the problem is caused by LDAP sizeLimit being set to zero in the searches sent by Tomcat. After closer inspection of Tomcat source code, I've dug out this class: http://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/catalina/realm/JNDIRealm.java And this code fragment in the method getUserBySearch(DirContext context, String username, String[] attrIds): // Set up the search controls SearchControls constraints = new SearchControls(); if (userSubtree) { constraints.setSearchScope(SearchControls.SUBTREE_SCOPE); } else { constraints.setSearchScope(SearchControls.ONELEVEL_SCOPE); } // Specify the attributes to be retrieved if (attrIds == null) attrIds = new String[0]; constraints.setReturningAttributes(attrIds); NamingEnumeration<SearchResult> results = context.search(userBase, filter, constraints); As you can see (http://tomcat.apache.org/tomcat-7.0-doc/realm-howto.html#JNDIRealm), currently there's no way to customize other search controls than search scope and returning attributes by means of XML configuration. In javax.naming.directory.SearchControls, the LDAP sizeLimit is determined by the countLimit property: http://download.oracle.com/javase/6/docs/api/javax/naming/directory/SearchControls.html#setCountLimit(long) I propose to create a new configuration attribute for the Realm XML element that would enable setting this limit, and naming it \"sizeLimit\" (not \"countLimit\" like the Java property, because in LDAP world people are used to the former term). While we're at it, adding \"timeLimit\" (measured in milliseconds) attribute would be also nice. So for example one would be able to set 1000 entries sizeLimit and 5 seconds timeLimit this way: <Realm className=\"org.apache.catalina.realm.JNDIRealm\" debug=\"99\" connectionURL=\"ldap://localhost:389\" userPattern=\"uid={0},ou=people,dc=mycompany,dc=com\" sizeLimit=\"1000\" timeLimit=\"5000\" />"}, {"bug_id": "50547", "ground_truth": ["java/org/apache/catalina/ha/session/DeltaManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "patch session DeltaManager EXPIRED message CHANGE message message patch timestamp", "bug_title": " The CHANGE_SESSION_ID message that received during cluster session synchronization is dropped.", "bug_description": "Neither CHANGE_SESSION_ID message nor SESSION_EXPIRED message set timestamp. If these messages are received during cluster sessions synchronization in DeltaManager startup, because the timestamp is not set, they are dropped. I made a patch that add timestamp for CHANGE_SESSION_ID and SESSION_EXPIRED message. Best Regards."}, {"bug_id": "50550", "ground_truth": ["java/org/apache/naming/resources/ProxyDirContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "resource prop String Jan UUID Col DirContext call PropFindMethod", "bug_title": " PropFind 404 error after MkCol succes", "bug_description": "A propfind call on a resource returns a 404 error when executed after a mkcol for the same resource. The mkcol should be preceeded with a propfind to trigger the issue. Steps to reproduce - See the following access log; 127.0.0.1 - - [06/Jan/2011:14:09:19 +0100] \"PROPFIND /webdav/output/f469e3d6-e536-4072-82da-d989acaf57a2/ HTTP/1.1\" 404 1084 127.0.0.1 - - [06/Jan/2011:14:09:19 +0100] \"MKCOL /webdav/output/f469e3d6-e536-4072-82da-d989acaf57a2/ HTTP/1.1\" 201 - 127.0.0.1 - - [06/Jan/2011:14:09:19 +0100] \"PROPFIND /webdav/output/f469e3d6-e536-4072-82da-d989acaf57a2/ HTTP/1.1\" 404 1084 When the first request would be omitted, the third request would have been succesful, as the following access log shows; 127.0.0.1 - - [06/Jan/2011:14:10:39 +0100] \"MKCOL /webdav/output/81a97360-ea49-44d3-b764-d8c7e60e885e/ HTTP/1.1\" 201 - 127.0.0.1 - - [06/Jan/2011:14:10:39 +0100] \"PROPFIND /webdav/output/81a97360-ea49-44d3-b764-d8c7e60e885e/ HTTP/1.1\" 207 628 Note: After a few seconds, the response to propfind for that resource is OK again. This suggests this has to do with caching. Note2: This situation sounds similar to call 21288 (FIXED - 'DirContext caching problem with Dreamweaver 6 when recursively creating directories'). Reproducable using a jackrabbit client; ____ HttpClient client = new HttpClient(); String newDir = \"http://localhost:8080/webdav/output/\" + UUID.randomUUID() + \"/\"; // Comment out this request to make second propfind succesful HttpMethod propFindMethod1 = new PropFindMethod(newDir); client.executeMethod(propFindMethod1); propFindMethod1.releaseConnection(); HttpMethod mkcolMethod = new MkColMethod(newDir); client.executeMethod(mkcolMethod); mkcolMethod.releaseConnection(); HttpMethod propFindMethod = new PropFindMethod(newDir); client.executeMethod(propFindMethod); propFindMethod.releaseConnection(); ____"}, {"bug_id": "50554", "ground_truth": ["java/org/apache/naming/java/javaURLContextFactory.java", "res/findbugs/filter-false-positives.xml", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "bugs Bad getClass Factory instance subclasses block programs Factory URLContext", "bug_title": " Bad use of getClass() could potentially lead to concurrency bugs in future", "bug_description": "The method org.apache.naming.java.javaURLContextFactory.getInitialContext(Hashtable<?,?>) has a synchronized block on getClass(). Using getClass() as lock is a bug pattern because if some class subclasses javaURLContextFactory and getInitialContext gets called on an instance of such a subclass, getClass() will return a different Class object for that instance. Locking different objects for different classes is usually not the expected behavior. Therefore, I suggest to remove this bug pattern by simply replacing getClass() by javaURLContextFactory.class. See https://www.securecoding.cert.org/confluence/display/java/LCK02-J.+Do+not+synchronize+on+the+class+object+returned+by+getClass%28%29 for more information about this bug pattern. Keshmesh (https://github.com/reprogrammer/keshmesh/) is an Eclipse plugin that analyzes the source code of Java programs to detect concurrency bug patterns such the one I reported."}, {"bug_id": "50591", "ground_truth": ["java/org/apache/catalina/ha/tcp/ReplicationValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Valve catalina ReplicationValve perform Exception Valve perform http markmail rnbj", "bug_title": " NPE in ReplicationValve in 7.0.6", "bug_description": "It was reported on the users@ list: http://tomcat.markmail.org/thread/44rnbj7gbkevzb32 SEVERE: Unable to perform replication request. java.lang.NullPointerException at org.apache.catalina.ha.tcp.ReplicationValve.isRequestWithoutSessionChange(ReplicationValve.java:554) It will occur when ReplicationValve#filter attribute has an empty value."}, {"bug_id": "50597", "ground_truth": ["java/org/apache/catalina/core/ApplicationFilterConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Instantiation init leads ApplicationFilterConfig stance Context starting supply add call", "bug_title": " Class.newInstance is used for Dynamic instance filters causing InstantiationException", "bug_description": "Class.newInstance is called even when the following method ServletContext.addFilter method is called: javax.servlet.FilterRegistration.Dynamic addFilter(java.lang.String s, javax.servlet.Filter filter); This leads to an InstantiationException at runtime if there is no no-args constructor for the filter (pasted below). I'll supply a simple patch that fixes the issue for me. SEVERE: Exception starting filter testFilter java.lang.InstantiationException: test.TestFilter at java.lang.Class.newInstance0(Class.java:340) at java.lang.Class.newInstance(Class.java:308) at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultIn stanceManager.java:119) at org.apache.catalina.core.ApplicationFilterConfig.getFilter(Applicatio nFilterConfig.java:252) at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(Applica tionFilterConfig.java:372) at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFi lterConfig.java:98) at org.apache.catalina.core.StandardContext.filterStart(StandardContext. java:4382) at org.apache.catalina.core.StandardContext$2.call(StandardContext.java: 5040) at org.apache.catalina.core.StandardContext$2.call(StandardContext.java:5035) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662)"}, {"bug_id": "50598", "ground_truth": ["java/org/apache/catalina/ant/AbstractCatalinaTask.java", "java/org/apache/catalina/ant/package.html", "res/deployer/build.xml", "webapps/docs/appdev/build.xml.txt", "webapps/docs/changelog.xml", "webapps/docs/deployer-howto.xml"], "repo": "tomcat70", "reformed_query": "build org tomcat url appdev doc referenced tomcat manager http", "bug_title": " Sample build.xml uses wrong manager.url", "bug_description": "In http://tomcat.apache.org/tomcat-7.0-doc/appdev/build.xml.txt , referenced from http://tomcat.apache.org/tomcat-7.0-doc/appdev/processes.html sample manager.url is given as \"http://localhost:8080/manager\" but should be \"http://localhost:8080/manager/text\""}, {"bug_id": "50600", "ground_truth": ["java/org/apache/catalina/ha/deploy/WarWatcher.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Concurrent Watcher java lang ContainerBase WarWatcher exception shortly Simple Container", "bug_title": " ConcurrentModificationException removing WAR via FarmWarDeployer", "bug_description": "The following exception was reported via $work WARNING: Exception processing cluster org.apache.catalina.ha.tcp.SimpleTcpCluster@68e4e358 background process java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextEntry(HashMap.java:810) at java.util.HashMap$EntryIterator.next(HashMap.java:851) at java.util.HashMap$EntryIterator.next(HashMap.java:849) at org.apache.catalina.ha.deploy.WarWatcher.check(WarWatcher.java:87) at org.apache.catalina.ha.deploy.FarmWarDeployer.backgroundProcess(FarmWarDeployer.java:609) at org.apache.catalina.ha.tcp.SimpleTcpCluster.backgroundProcess(SimpleTcpCluster.java:596) at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1302) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1601) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1610) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1590) at java.lang.Thread.run(Thread.java:636) The root cause is removing the entry directly from the Map rather than from the iterator. I have a patch that I'll apply shortly."}, {"bug_id": "50606", "ground_truth": ["java/org/apache/catalina/servlets/CGIServlet.java", "webapps/docs/cgi-howto.xml", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "debug CGI WEB web Created details INF passShellEnvironment settings catalina", "bug_title": " Error running CGI executable in Tomcat 6.0.30", "bug_description": "Created attachment 26502 [details] localhost.2011-01-18.log I have web application hosting CGI executable with the following settings for CGI <servlet> <servlet-name>cgi</servlet-name> <servlet-class>org.apache.catalina.servlets.CGIServlet</servlet-class> <init-param> <param-name>debug</param-name> <param-value>2</param-value> </init-param> <init-param> <param-name>cgiPathPrefix</param-name> <param-value>WEB-INF/cgi</param-value> </init-param> <init-param> <param-name>executable</param-name> <param-value></param-value> </init-param> <init-param> <param-name>passShellEnvironment</param-name> <param-value>true</param-value> </init-param> </servlet> This was Ok in Tomcat 6.0.29 but not in 6.0.30, see attachment."}, {"bug_id": "50631", "ground_truth": ["java/org/apache/coyote/http11/InternalNioInputBuffer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "reading automatically Buffer Input effectively Input Size Nio expands expands", "bug_title": " InternalNioInputBuffer should honor maxHttpHeadSize", "bug_description": "InternalNioInputBuffer automatically expands its buffer while reading in request line, effectively ignoring the maxHttpHeaderSize setting."}, {"bug_id": "50646", "ground_truth": ["java/org/apache/catalina/tribes/ByteMessage.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "loss readFully Fully corruption corrupted Object read ByteMessage readFully corrupted", "bug_title": " Tribes ByteMessage will get corrupted if message size exceeds the underlying buffer size", "bug_description": "The Tribes ByteMessage class is used to transfer byte payloads in the context of the tribes communication framework. Due to how the message is deserialized, there will be data loss (and hence corruption) if the message size exceeds the underlying buffer size. The solution is to replace an ObjectInput#read(byte[]) call by ObjectInput#readFully(byte[]). Fix is attached."}, {"bug_id": "50680", "ground_truth": ["java/org/apache/jasper/compiler/TagFileProcessor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "file files Tag Tag add jar expanded Tomcat Virtual jarResource", "bug_title": " NPE in TagFileProcessor when tag file is in an expanded directory \"jar\"", "bug_description": "Created attachment 26570 [details] Patch against current trunk to add a null check to TagFileProcessor When using VirtualDirContext, or the equivalent in the Web Tools Tomcat support, an expanded directory can be used in place of a jar file.  In this case, tag files in the directory's META-INF folder will result in an NPE because the jarResource obtained from the TldLocation is null."}, {"bug_id": "50683", "ground_truth": ["java/org/apache/naming/resources/WARDirContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "fase message description report war minimal Actual resource", "bug_title": " Servlet 3.0 annotations not scanned if unpackWars=\"false\"", "bug_description": "Created attachment 26572 [details] minimal test case war with source Overview: Given a very simple HelloServlet using @WebServlet annotation, and packed in a war file without a web.xml, the container does not scan for annotations if unpackWars=\"false\" in the <Host> element of server.xml and the servlet is never added to the context. Steps to Reproduce: 1) Set unpackWars=\"fase\" 2) copy attached war file to webapps 3) launch Tomcat 4) navigate to:  http://<servername>/Hello/SayHello Actual Results: HTTP Status 404 - /Hello/SayHello type Status report message /Hello/SayHello description The requested resource (/Hello/SayHello) is not available. Apache Tomcat/7.0.6 Expected Results: Hello"}, {"bug_id": "50700", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "cookies attribute Context path cookies descriptor attribute Base Base param", "bug_title": " Context parameters are being overridden with parameters from the web application deployment descriptor", "bug_description": "Context parameters are being overridden with parameters from the web application deployment descriptor even through \"override\" attribute is set to \"false\" For example: lines from context file <Context path=\"/path\" docBase=\"/path/to/docbase\" cookies=\"true\"> <Parameter name=\"parameter_name\" value=\"test1\" override=\"false\"/> .... </Context> lines from web.xml <context-param> <description>default value for parameter_name</description> <param-name>parameter_name</param-name> <param-value>test2</param-value> </context-param> Now servletContext.getInitParameter(\"parameter_name\") returns \"test2\""}, {"bug_id": "50709", "ground_truth": ["java/org/apache/catalina/core/ApplicationContextFacade.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "org subclassed Context Mobicents Application ApplicationContextFacade Servlet", "bug_title": " Make class org.apache.catalina.core.ApplicationContextFacade non-final", "bug_description": "Please make class org.apache.catalina.core.ApplicationContextFacade non-final so it can be subclassed. Need to extend ApplicationContextFacade so Mobicents Sip Servlet, working on top of Tomcat 7, to integrate with Weld. Thanks George"}, {"bug_id": "50720", "ground_truth": ["java/org/apache/jasper/compiler/WebXml.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "UTF Java Source Servlet Standard Exception web Malformed tomcat xml", "bug_title": " When using jsp mapped as servlet in web.xml, cyrillic characters are not allowed in web.xml", "bug_description": "Created attachment 26605 [details] Simple test web application I am using web.xml in it simplest, incomlete form (note that making it 100% Servlet API 3.0 compliant does not help) <?xml version=\"1.0\" encoding=\"Windows-1251\"?> <web-app> <!-- below are word testing Testoviy in cyrillic, try to use another symbols --> <display-name>\u00d0\u00a2\u00d0\u00b5\u00d1?\u00d1\u201a\u00d0\u00be\u00d0\u00b2\u00d1\u2039\u00d0\u00b9 web.xml</display-name> <servlet> <servlet-name>TestJSPMount</servlet-name> <jsp-file>/test.jsp</jsp-file> </servlet> <servlet-mapping> <servlet-name>TestJSPMount</servlet-name> <url-pattern>/test.html</url-pattern> </servlet-mapping> </web-app> During startup, tomcat throws exception: 04/02/2011 16:07:39 S - - StandardContext.loadOnStartup: Servlet /testcyrwebxml threw load() exception com.sun.org.apache.xerces.internal.impl.io.MalformedByteSequenceException: Invalid byte 2 of 2-byte UTF-8 sequence. at com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.invalidByte(Unknown Source) at com.sun.org.apache.xerces.internal.impl.io.UTF8Reader.read(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.load(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLEntityScanner.peekChar(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source) at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(Unknown Source) at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(Unknown Source) at org.apache.jasper.xmlparser.ParserUtils.parseXMLDocument(ParserUtils.java:96) at org.apache.jasper.compiler.JspConfig.processWebDotXml(JspConfig.java:83) at org.apache.jasper.compiler.JspConfig.init(JspConfig.java:231) at org.apache.jasper.compiler.JspConfig.findJspProperty(JspConfig.java:290) at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:113) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:365) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:345) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:332) at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:594) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:342) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:391) at org.apache.jasper.servlet.JspServlet.init(JspServlet.java:128) at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1133) at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1087) at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:996) at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4741) at org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5062) at org.apache.catalina.core.StandardContext$3.call(StandardContext.java:5057) at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source) at java.util.concurrent.FutureTask.run(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source) Platform in use: Tomcat 7.0.6 binary windows release JDK 1.6.0_18 x86 Windows 7 x64 If I change encoding of web.xml to UTF-8 it does not help also. The only fix for this problem is to use only ISO-8859-1 characters. I believe it is somehow related to some early initialization sequence, when jsp is mapped as servlet."}, {"bug_id": "50726", "ground_truth": ["java/org/apache/jasper/compiler/Generator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "jsp Compiling Terms lines generate gen time generated Jasper src", "bug_title": " Jasper can generate uncompilable source code if genStringAsCharArray is turned on", "bug_description": "Our jsp pages are compiled at build time. If I turn on genStringAsCharArray optimization switch, in some cases there will be longer lines in the generated java code than the javac compiler can process. It provides the following error message: [javac] Compiling 1609 source files to d:\\...\\jspc\\classes [javac] d:\\...\\jspc\\src\\org\\apache\\jsp\\WEB_002dINF\\..._005fAPP\\pages\\termsconditions\\TermsAndConditions_005fms_005fMY_jsp.java:96: constant string too long"}, {"bug_id": "50737", "ground_truth": ["java/org/apache/catalina/startup/LocalStrings.properties", "webapps/docs/changelog.xml", "java/org/apache/catalina/startup/ExpandWar.java"], "repo": "tomcat70", "reformed_query": "Impl Child iSeries manager archive entry java entry interceptor path", "bug_title": " Error on .war deploy - archive malformed (on recent Tomcat releases) on IBM iSeries System i", "bug_description": "On Tomcat 6.0.20 a .war file can be deployed just fine on an IBM iSeries (System i) at V6R1 of the OS. After installing Tomcat 6.0.29 (and 6.0.30 and 6.0.32), .war files no longer deploy.  See the stack trace at the bottom of this post. On a Windows/7 machine this error does not occur with these Tomcat releases.  On OS400 (i5/OS) this does not happen at 6.0.20.  This error only occurs on the iSeries at Tomcat version 6.0.29+ (it may have started to occur between 6.0.20 and 6.0.29).  Note that it is the same .war file that is being deployed to each of these environments. ---- Tomcat ---- 6.0.20    6.0.32 +--------+---------+ IBM iSeries |  OK    |  ERROR  | +--------+---------| Windows/7   |  OK    |   OK    | +------------------+ In troubleshooting, to make sure this is not an installation/configuration error the Tomcat 6.0.20 zip file was downloaded from the Apache site and re-installed on the iSeries.  The deploy works as before.  At 6.0.29, 6.0.30, and 6.0.32, the deploy produces the following error: Feb 8, 2011 2:52:07 PM org.apache.juli.logging.DirectJDKLog error SEVERE: ContainerBase.addChild: start: LifecycleException:  Error initializaing :  java.lang.IllegalArgumentException: The archive [jar:file:/apache/apache-tomcat-6.0.32/webapps/shopatron.war!/] is malformed and will be ignored: an entry contains an illegal path [META-INF/] at java.lang.Throwable.<init>(Throwable.java:181) at java.lang.Exception.<init>(Exception.java:29) at org.apache.catalina.LifecycleException.<init>(LifecycleException.java:80) at org.apache.catalina.core.StandardContext.start(StandardContext.java:4450) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:799) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601) at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943) at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:563) at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1397) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:575) at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:297) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836) at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761) at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1500) at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:252) at javax.servlet.http.HttpServlet.service(HttpServlet.java:637) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:186) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588) at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489) at java.lang.Thread.run(Thread.java:619) Feb 8, 2011 2:52:07 PM org.apache.juli.logging.DirectJDKLog error SEVERE: Error deploying web application archive shopatron.war java.lang.IllegalStateException: ContainerBase.addChild: start: LifecycleException:  Error initializaing :  java.lang.IllegalArgumentException: The archive [jar:file:/apache/apache-tomcat-6.0.32/webapps/shopatron.war!/] is malformed and will be ignored: an entry contains an illegal path [META-INF/] at java.lang.Throwable.<init>(Throwable.java:196) at java.lang.Exception.<init>(Exception.java:41) at java.lang.RuntimeException.<init>(RuntimeException.java:43) at java.lang.IllegalStateException.<init>(IllegalStateException.java:38) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:803) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:779) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:601) at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:943) at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:563) at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1397) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:575) at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:297) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836) at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761) at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1500) at org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:252) at javax.servlet.http.HttpServlet.service(HttpServlet.java:637) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:186) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:563) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298) at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:859) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588) at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:489) at java.lang.Thread.run(Thread.java:619) ===== Let me know if I can do anything to help support this fix. - Jon"}, {"bug_id": "50747", "ground_truth": ["java/org/apache/catalina/connector/Response.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "changed ends Coyote findPendingRequest occurs Content Host checks thread Basic", "bug_title": " CometProcessor does not flush and close HTTP/1.0 requests", "bug_description": "I have built a simple Publish/Subscribe servlet using the CometProcessor. When a client connects then the servlet checks in the BEGIN phase whether there are pending events for the client and if not stores the request in a list of pending requests. Later another thread notifies the CometProcessor that data for the user has arrived and the data is pushed through the pending connection. The pseudo-code looks like this: public class EventService implements CometProcessor { public void event(CometEvent event) { if (event.getType() == CometEvent.BEGIN) { String data = getDataForUser(event); if (data != null) { sendAndClose(data, event); } else { pendingRequests.add(event); } } else { event.close(); } } public void push(String user, String data) { CometEvent event = findPendingRequest(user); sendAndClose(data, event); pendingRequests.remove(event); } public void sendAndClose(String data, CometEvent event) { Writer w = event.request.getWriter(); w.write(data); w.flush(); event.close(); } } This works as expected as long as I connect with an HTTP/1.1 client. However, when an HTTP/1.0 client connects (e.g. nginx) the connection is not closed immediately. In my case the data is a JSON string which is pushed to the client if the client ends with '\\r\\n' but the connection lingers open. This is also reproducible with curl HTTP/1.1 request ---------------- # curl -v -XGET -u 'frank:frank' 'http://127.0.0.1:8081/fcc/event?timestamp=1297277309368'; echo > GET /fcc/event?timestamp=1297277309368 HTTP/1.1 > Authorization: Basic xxx > User-Agent: curl/7.21.2 ... > Host: 127.0.0.1:8081 > Accept: */* >  < HTTP/1.1 200 OK < Server: Apache-Coyote/1.1 < Content-Type: application/json;charset=ISO-8859-1 < Transfer-Encoding: chunked < Date: Wed, 09 Feb 2011 18:49:45 GMT < {\"type\":\"settings-changed\",\"timestamp\":1297277385366,\"data\":{\"version\":157}} * Connection #0 to host 127.0.0.1 left intact * Closing connection #0 ^^^^^^^^^^^^^^^^^^^^^^^ Connection is closed immediately HTTP/1.0 request ---------------- # curl -v -XGET -0  -u 'frank:xxx' 'http://127.0.0.1:8081/fcc/event?timestamp=1297277309368'; echo > GET /fcc/event?timestamp=1297277309368 HTTP/1.0 > Authorization: Basic xxx > User-Agent: curl/7.21.2 ... > Host: 127.0.0.1:8081 > Accept: */* >  < HTTP/1.1 200 OK < Server: Apache-Coyote/1.1 < Content-Type: application/json;charset=ISO-8859-1 < Date: Wed, 09 Feb 2011 18:49:45 GMT < Connection: close < {\"type\":\"settings-changed\",\"timestamp\":1297277385366,\"data\":{\"version\":157}} ^^^^^^^^^^^^^^^^^^^^^^^ Connection stays open until timeout occurs"}, {"bug_id": "50780", "ground_truth": ["java/org/apache/coyote/ajp/AjpAprProtocol.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "apache leak noticed dump Ajp causing Handler Map english AjpAprProtocol", "bug_title": " AjpConnectionHandler keeps many connections causing memory leak", "bug_description": "Hi, Sorry for my english. I use Tomcat 7.0.6 with APR 1.1.20. I noticed (from heap dump) many org.apache.tomcat.util.net.SocketWrapper objects, which are kept by \"connections\" atribute in org.apache.coyote.ajp.AjpAprProtocol$AjpConnectionHandler object. I don't understand, why there are so many objects representing old connections which are not active. In my example it was 300000 objects created, after 7 days of Tomcat work. Has someone forgotten to clean this HashMap from time to time? best regards Sergiusz Brzezinski"}, {"bug_id": "50929", "ground_truth": ["java/javax/servlet/http/HttpUtils.java", "java/org/apache/catalina/connector/CoyoteInputStream.java", "java/org/apache/catalina/realm/JDBCRealm.java", "java/org/apache/catalina/valves/JDBCAccessLogValve.java", "java/org/apache/naming/resources/WARDirContext.java", "java/org/apache/tomcat/util/digester/NodeCreateRule.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "details Ensure", "bug_title": " [patch] Ensure rethrown exceptions retain the original cause", "bug_description": "Created attachment 26770 [details] Patch to fix problem in some files Where an exception is caught an rethrown, it helps to provide the original exception as the cause."}, {"bug_id": "50984", "ground_truth": ["java/org/apache/catalina/manager/LocalStrings.properties", "java/org/apache/catalina/manager/ManagerServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "deployed created stranded intended text isn share enginename NOTE tomcat", "bug_title": " Manager application fails to report stranded artifacts when undeploying", "bug_description": "[NOTE: this is tomcat 7.0.11, not 7.0.10, but the version is not given as a choice, I therefore file it as 7.0.10, which I suspect has the same bug] Scenario: * tomcat starts, as user u1, with only the manager application in place; * it is configured as to not deploy automatically; * user u1 copies a webapp tree into $CATALINA_HOME/webapps, which it can since it has write/execute access to this directory; * the manager webapp is called to deploy that new web application; * [in between, credentials on the deployed webapp directory are changed so that user u1 cannot remove the webapp at all] * the manager webapp is called to undeploy that application, BUG: it answers OK, but it is not. The manager webapp documentation explicitly states that undeploying an application means that the webapp tree is removed - but of course, in this case it isn't. Use case below, where $CATALINA_HOME/webapps is a symlink to /var/lib/o3/tomcat/installs: ---- # Only manager webapp running initially [o3@tomcat-r8 cockpit]$ wget -O - -q --http-user=tomcat --http-password=tomcat  http://localhost:8080/manager/text/list|sed 1d /manager:running:6:/usr/share/tomcat7/webapps/manager # webapp tree is created by other means. Now deploying the application: [o3@tomcat-r8 cockpit]$ wget -O - -q --http-user=tomcat --http-password=tomcat http://localhost:8080/manager/text/deploy'?path=/cockpit&war=file:/var/lib/o3/tomcat/installs/cockpit' OK - Deployed application at context path /cockpit [...] # In another terminal: [root@tomcat-r8 installs]# pwd /var/lib/o3/tomcat/installs # All files are created with umask 022. Just change the owner: [root@tomcat-r8 installs]# chown -R root.root cockpit/ [...] # Back to the first terminal: [o3@tomcat-r8 cockpit]$ wget -O - -q --http-user=tomcat --http-password=tomcat http://localhost:8080/manager/text/undeploy?path=/cockpit OK - Undeployed application at context path /cockpit # Here is the bug: even though the command returns OK, the tree still exists. # The webapp is stopped, but it is not undeployed. [o3@tomcat-r8 cockpit]$ wget -O - -q --http-user=tomcat --http-password=tomcat  http://localhost:8080/manager/text/list|sed 1d /manager:running:9:/usr/share/tomcat7/webapps/manager /cockpit:stopped:0:cockpit # Listing the contents of $CATALINA_HOME/webapps, we see that the tree is still # there: [o3@tomcat-r8 cockpit]$ ls /var/lib/o3/tomcat/installs cockpit ---- The documentation states: ---- WARNING - This command will delete any web application artifacts that exist within appBase directory (typically \"webapps\") for this virtual host. This will delete the the application .WAR, if present, the application directory resulting either from a deploy in unpacked form or from .WAR expansion as well as the XML Context definition from $CATALINA_BASE/conf/[enginename]/[hostname]/ directory. ---- This turns out to be false in this case. While the application is stopped, the web application artifacts are NOT removed. The undeploy command should have failed with, say \"FAIL - context was stopped but some articats remain, check access rights\". What's more, the logs don't mention that the webapp tree has failed to be removed at all. If I chown back the webapp tree to its rightful owner, then the webapp is indeed undeployed as intended: all artifacts are destroyed. The culprit code seems to be at org/apache/catalina/manager/ManagerServlet.java, methods undeploy() and undeployDir(). Both use the .delete() method of File objects, but fail to check their return code."}, {"bug_id": "51095", "ground_truth": ["java/org/apache/tomcat/util/net/AprEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "running apr Connection attached Error SEVERE Http site improperly tomcat", "bug_title": " NPE in AprEndpoint.java", "bug_description": "Created attachment 26917 [details] Patch to AprEndpoint.java OVERVIEW: In all of the most recent versions of Tomcat 7, including Trunk. When running with APR SSL and the site is accessed using an improper SSL handshake, then a SEVERE NullPointerException will is logged into catalina.out. STEPS TO REPRODUCE: It's pretty easy to test this, just type the following: curl http://localhost:8444/ Where 8444 is the port that SSL is running on for Tomcat 7. ACTUAL RESULTS: If you look in the catalina.out when you do this, you'll see the following stack trace and error message: Apr 20, 2011 1:55:32 AM org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler process SEVERE: Error reading request, ignored java.lang.NullPointerException at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:208) at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:322) at org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsProcessor.run(AprEndpoint.java:1670) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662) Exception in thread \"\"http-apr-8444\"-exec-2727\" java.lang.NullPointerException at org.apache.tomcat.util.net.AprEndpoint$SocketWithOptionsProcessor.run(AprEndpoint.java:1673) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) EXPECTED RESULTS: The expected behavior is for Tomcat to not generate a NullPointerException when someone improperly accesses the SSL port. BUILD INFO: Taken from the latest subversion trunk, 1095243. I've attached a patch that fixes this."}, {"bug_id": "51099", "ground_truth": ["java/org/apache/catalina/authenticator/LocalStrings.properties", "java/org/apache/catalina/authenticator/SpnegoAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Credential security GSSManager accept Filip Config manager create security accept", "bug_title": " SPNEGO loginConfigName does not work", "bug_description": "As reported by fhanik on the dev list: 2. com.sun.security.jgss.krb5.accept is not configurable While the authenticator has the attribute loginConfigName, there seems to be a place in the code where it omits this entry. renaming this entry in jaas.conf and setting the loginConfigName will fail to validate a ticket The problem code is here: gssContext = manager.createContext(manager.createCredential(null, GSSCredential.DEFAULT_LIFETIME, new Oid(\"1.3.6.1.5.5.2\"), GSSCredential.ACCEPT_ONLY)); should look like final GSSManager manager = GSSManager.getInstance(); final PrivilegedExceptionAction<GSSCredential> action = new PrivilegedExceptionAction<GSSCredential>() { public GSSCredential run() throws GSSException { return manager.createCredential(null, GSSCredential.DEFAULT_LIFETIME, new Oid(\"1.3.6.1.5.5.2\"), GSSCredential.ACCEPT_ONLY); } }; gssContext = manager.createContext(Subject.doAs(lc.getSubject(), action));|| best Filip"}, {"bug_id": "51124", "ground_truth": ["java/org/apache/jasper/runtime/BodyContentImpl.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Caused members provide occurs BodyContentImpl classes runnign Impl reproduce ArrayIndexOutOfBoundsException", "bug_title": " ArrayIndexOutOfBoundsException after setting org.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true", "bug_description": "First of all, I know that there has been a bug regarding a similar problem before and that it was fixed. But currently this bugs occurs even with tomcat version 6.0.32. We have a problem with the tomcat runnign with the parameter org.apache.jasper.runtime.BodyContentImpl.LIMIT_BUFFER=true. After the tomcat has just started, everything is fine but after one or two days a lot of ArrayIndexOutOfBoundsException occur on random pages of the application. Tomcats started without this parameter don't seem to have that problem. Unfortunately we weren't able reproduce the bug locally, It appears only on our production system. Could there be a concurrency problem, that only shows if a lot it going on on the platform? I can provide two small stackstraces that can show the classes where the problem occurs: 1. Caused by: java.lang.ArrayIndexOutOfBoundsException at org.apache.jasper.runtime.BodyContentImpl.write(Unknown Source) at java.io.PrintWriter.write(PrintWriter.java:382) at org.apache.jasper.runtime.JspWriterImpl.flushBuffer(Unknown Source) at org.apache.jasper.runtime.PageContextImpl.release(Unknown Source) at org.apache.jasper.runtime.JspFactoryImpl.internalReleasePageContext(Unknown Source) at org.apache.jasper.runtime.JspFactoryImpl.releasePageContext(Unknown Source) at org.apache.jsp.members.lists.short_.incomingShortList_jsp._jspService(incomingShortList_jsp.java:796) at org.apache.jasper.runtime.HttpJspBase.service(Unknown Source) at javax.servlet.http.HttpServlet.service(Unknown Source) 2. Caused by: java.lang.ArrayIndexOutOfBoundsException at java.lang.String.getChars(String.java:854) at org.apache.jasper.runtime.BodyContentImpl.write(Unknown Source) at org.apache.jasper.runtime.BodyContentImpl.write(Unknown Source) at org.apache.jasper.runtime.BodyContentImpl.print(Unknown Source) at org.apache.taglibs.standard.tag.common.fmt.MessageSupport.doEndTag(MessageSupport.java:203) at org.apache.jsp.members.profiles.profile_jsp._jspx_meth_fmt_005fmessage_005f2(profile_jsp.java:4897) at org.apache.jsp.members.profiles.profile_jsp._jspService(profile_jsp.java:481) at org.apache.jasper.runtime.HttpJspBase.service(Unknown Source) at javax.servlet.http.HttpServlet.service(Unknown Source)"}, {"bug_id": "51154", "ground_truth": ["java/javax/servlet/ServletContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "ServletContext details Remove Spurious", "bug_title": " Spurious @deprecated tags in ServletContext", "bug_description": "Created attachment 26960 [details] Remove spurious tags There are some spurious @deprecated tags in ServletContext."}, {"bug_id": "51212", "ground_truth": ["modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/interceptor/SlowQueryReport.java"], "repo": "tomcat70", "reformed_query": "issues failure Created failure reasons executions Query ingenierie don Patch", "bug_title": " QueryStats has synchornisation issues", "bug_description": "Created attachment 27017 [details] Patch with Atomic approach Hello, I don't know if it is volontary but I think QueryStats fields should be Atomic because they are accessed by multiple threads at same time. I made a Load test with heavy load and collected results of SlowQueryReport and I get Sql queries with 0 as number of executions which is wrong as they have been executed at least once. By the way I don't know which approach will perform better: - synchronize add/failure - Use Atomic Maybe you did this for performance reasons. Regards Philippe Mouawad http://www.ubik-ingenierie.com"}, {"bug_id": "51229", "ground_truth": ["webapps/docs/changelog.xml", "webapps/examples/WEB-INF/classes/async/Async0.java", "webapps/examples/jsp/async/index.jsp"], "repo": "tomcat70", "reformed_query": "complete Async async   work Created", "bug_title": " Some async examples are not work correctly", "bug_description": "Created attachment 27031 [details] patch for async examples Async0: The code that is befind complete() is  not executed. StockTicker: The link for StockTicker is wrong. Regards."}, {"bug_id": "51276", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "java/org/apache/catalina/startup/TldConfig.java", "java/org/apache/jasper/compiler/TldLocationsCache.java", "java/org/apache/tomcat/util/scan/FileUrlJar.java", "java/org/apache/tomcat/util/scan/Jar.java", "java/org/apache/tomcat/util/scan/JarFactory.java", "java/org/apache/tomcat/util/scan/UrlJar.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "jars add reproduce directories JARs shared simply simple issue lib", "bug_title": " Startup time is too high if there are few JARs in \"lib/\" and a few webapps.", "bug_description": "Startup time in tomcat 7.0.14 is 10x higher than 7.0.12, if there are a few shared JARs in tomcat/lib and a few webapps. The issue is very simple to reproduce, simply add 10 empty directories in tomcat/webapps and (for example) the Metro webservices jars in tomcat/lib. On my machine the startup time increase from 0.5 secs (default installation) to 35.2 secs. When using tomcat 7.0.12 the startup time is about 3 secs on my machine in this test case."}, {"bug_id": "51277", "ground_truth": ["java/org/apache/catalina/authenticator/FormAuthenticator.java", "java/org/apache/catalina/authenticator/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "http SocketProcessor Http coyote Handler Http forwardToLoginPage Login Protocol HTTP", "bug_title": " NPE during the form authentication when form-login-config is missed", "bug_description": "Created attachment 27075 [details] Log from a browser Hi! There is NPE during the form authentication when form-login-config is missed I missed form-login-config by mistake (converted it from the BASIC): <login-config> <auth-method>FORM</auth-method> <realm-name>Tomcat Manager Application</realm-name> </login-config> Unfortunately I get NPE (see below and attached). I do understand that Form authentication can not work, but I think NPE is bad output. I think better is HTTP 500. Best regards, Michael java.lang.NullPointerException org.apache.catalina.authenticator.FormAuthenticator.forwardToLoginPage(FormAuthenticator.java:373) org.apache.catalina.authenticator.FormAuthenticator.authenticate(FormAuthenticator.java:267) org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:539) org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100) org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:562) org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:395) org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:250) org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:188) org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302) java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) java.lang.Thread.run(Thread.java:662)"}, {"bug_id": "51294", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "test/org/apache/catalina/startup/TestHostConfigAutomaticDeployment.java", "webapps/docs/changelog.xml", "webapps/docs/config/context.xml"], "repo": "tomcat70", "reformed_query": "forced older deployment configure option files worse unpackExternalWARs WARs early", "bug_title": " Since 7.0.12 do not work option unpackWARs=true for WARs outside appBase", "bug_description": "In 7.0.12 was added in Changelog this line: -- Don't unpack WAR files if they are not located in the Host's appBase. (markt) -- It's change method of deployment from older versions of Tomcat (5.5, 6.0, 7.0.11) and forced to change logics on early configured servers. May be need to add new parameter like 'unpackExternalWARs=true' to be able to configure this? (Why outside WARs is worse than inside?)"}, {"bug_id": "51310", "ground_truth": ["java/org/apache/catalina/startup/Catalina.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Connector NIOBlocking shutdown called close server shutdown shutdown Selector Tomcat", "bug_title": " Connector destroyInternal Execution", "bug_description": "In Tomcat 7.0.12 Connector#destroyInternal method has never been called while server is under shutdown. Therefore NIOBlockingSelector#close is never called. Is it bug or else?"}, {"bug_id": "51324", "ground_truth": ["java/org/apache/catalina/connector/OutputBuffer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "eventually stuck rethrows Bytes bug real obvious Output exception exception", "bug_title": " When OutputBuffer.doFlush gets Exception, doFlush gets stuck to true", "bug_description": "Created attachment 27114 [details] The line that causes doFlush to be stuck at true if it gets an exception First time opening a bug, please forgive me if this report isn't perfect! I recently ran into an issue where OutputBuffer's doFlush gets stuck to true. In OutputBuffer.doFlush(boolean) it sets doFlush = true, then calls bb.flushBuffer, then sets doFlush = false. I issue I ran into was bb.flushBuffer eventually calls OutputBuffer.realWriteBytes.  The realWriteBytes eventually calls coyoteResponse.doWrite.  If coyoteResponse.doWrite throws an IOException, then it rethrows a ClientAbortException. What I am seeing is my client disconnecting early, and causing the doWrite to throw a SocketException of \"Broken pipe\".  That broken pipe causes a ClientAbortException to be thrown. When that is thrown, the error is bubbled up and doFlush is stuck as \"true\".  The next time the processor is used, it calls the recycle() method in OutputBuffer. However, the recycle doesn't reset doFlush so its still set to true. I imagine there are quite a few ways to fix this, but the two obvious ones that come to mind are: - Have recycle() set doFlush back to false or - Have throw a finally in try/catch/finally in OutputBuffer.doFlush so doFlush is set back to false when an Exception is catch"}, {"bug_id": "51340", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "stack file jar Monitor raising WebRuleSet Config scan snapshot mod", "bug_title": " Intermittent java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence", "bug_description": "An Eclipse Virgo CI build recently failed with the stack trace below. I haven't seen the problem before, but it seems that at least one user of vanilla Tomcat has hit the same problem, on Tomcat 6 in 2009 ([1]). I am raising this bug to get this on the record and perhaps to help identify a pattern of usage that may ultimately lead to a solution. It is possible that the bug is in the JRE XML processing, of course. Environment: Java 6 R21 64 bit (Sun) Sles 11 x86-64 Tomcat 7.0.12 embedded in development version of Eclipse Virgo 3.0 [1] http://mail-archives.apache.org/mod_mbox/tomcat-users/200902.mbox/%3C36E4692623C5974BA6661C0B18EE8EDFE4138B@MAILSERV.hcrest.com%3E [2011-06-07 11:07:17.741] ERROR start-signalling-4           System.err                                                        Jun 7, 2011 11:07:17 AM org.apache.tomcat.util.digester.Digester startElement [2011-06-07 11:07:17.741] ERROR start-signalling-4           System.err                                                        SEVERE: Begin event threw exception [2011-06-07 11:07:17.741] ERROR start-signalling-4           System.err                                                        java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.SetSessionConfig.begin(WebRuleSet.java:722) [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1282) [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1363) [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) [2011-06-07 11:07:17.742] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1543) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.parseWebXml(ContextConfig.java:1694) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1197) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:882) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:317) [2011-06-07 11:07:17.743] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) [2011-06-07 11:07:17.744] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) [2011-06-07 11:07:17.744] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5081) [2011-06-07 11:07:17.744] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) [2011-06-07 11:07:17.744] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812) [2011-06-07 11:07:17.744] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787) [2011-06-07 11:07:17.744] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607) [2011-06-07 11:07:17.744] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.gemini.web.tomcat.internal.TomcatServletContainer.startWebApplication(TomcatServletContainer.java:122) [2011-06-07 11:07:17.744] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.gemini.web.internal.StandardWebApplication.start(StandardWebApplication.java:91) [2011-06-07 11:07:17.745] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.web.core.internal.WebBundleLifecycleListener.onStarted(WebBundleLifecycleListener.java:122) [2011-06-07 11:07:17.745] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.StandardArtifactStateMonitor.onStarted(StandardArtifactStateMonitor.java:247) [2011-06-07 11:07:17.745] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact.asyncStartSucceeded(AbstractInstallArtifact.java:294) [2011-06-07 11:07:17.745] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact.access$0(AbstractInstallArtifact.java:291) [2011-06-07 11:07:17.745] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact$StateMonitorSignal.signalSuccessfulCompletion(AbstractInstallArtifact.java:229) [2011-06-07 11:07:17.745] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.core.internal.BundleStartTracker$1.run(BundleStartTracker.java:143) [2011-06-07 11:07:17.745] ERROR start-signalling-4           System.err                                                        \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [2011-06-07 11:07:17.745] ERROR start-signalling-4           System.err                                                        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [2011-06-07 11:07:17.746] ERROR start-signalling-4           System.err                                                        \tat java.lang.Thread.run(Thread.java:619) [2011-06-07 11:07:17.747] ERROR start-signalling-4           System.err                                                        Jun 7, 2011 11:07:17 AM org.apache.catalina.startup.ContextConfig parseWebXml [2011-06-07 11:07:17.748] ERROR start-signalling-4           System.err                                                        SEVERE: Parse error in application web.xml file at file:/opt/users/hudsonbuild/workspace/virgo.web-server.snapshot/org.eclipse.virgo.server.smoketest/target/test-expanded/virgo-tomcat-server-3.0.0.CI-2011-06-07_11-01-11/work/org.eclipse.virgo.kernel.deployer_3.0.0.D-20110603101321/staging/global/bundle/org.eclipse.gemini.web.tomcat/2.0.0.BUILD-20110603145554/org.eclipse.gemini.web.tomcat-2.0.0.BUILD-20110603145554.jar/conf/web.xml [2011-06-07 11:07:17.748] ERROR start-signalling-4           System.err                                                        java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence [2011-06-07 11:07:17.748] ERROR start-signalling-4           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2687) [2011-06-07 11:07:17.748] ERROR start-signalling-4           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2713) [2011-06-07 11:07:17.748] ERROR start-signalling-4           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1285) [2011-06-07 11:07:17.748] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) [2011-06-07 11:07:17.749] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1363) [2011-06-07 11:07:17.749] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) [2011-06-07 11:07:17.749] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) [2011-06-07 11:07:17.749] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) [2011-06-07 11:07:17.749] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) [2011-06-07 11:07:17.749] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) [2011-06-07 11:07:17.749] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) [2011-06-07 11:07:17.749] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1543) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.parseWebXml(ContextConfig.java:1694) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1197) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:882) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:317) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) [2011-06-07 11:07:17.750] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5081) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.gemini.web.tomcat.internal.TomcatServletContainer.startWebApplication(TomcatServletContainer.java:122) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.gemini.web.internal.StandardWebApplication.start(StandardWebApplication.java:91) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.web.core.internal.WebBundleLifecycleListener.onStarted(WebBundleLifecycleListener.java:122) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.StandardArtifactStateMonitor.onStarted(StandardArtifactStateMonitor.java:247) [2011-06-07 11:07:17.751] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact.asyncStartSucceeded(AbstractInstallArtifact.java:294) [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact.access$0(AbstractInstallArtifact.java:291) [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact$StateMonitorSignal.signalSuccessfulCompletion(AbstractInstallArtifact.java:229) [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        \tat org.eclipse.virgo.kernel.core.internal.BundleStartTracker$1.run(BundleStartTracker.java:143) [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        \tat java.lang.Thread.run(Thread.java:619) [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        Caused by: java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        \tat org.apache.catalina.startup.SetSessionConfig.begin(WebRuleSet.java:722) [2011-06-07 11:07:17.752] ERROR start-signalling-4           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1282) [2011-06-07 11:07:17.753] ERROR start-signalling-4           System.err                                                        \t... 33 more [2011-06-07 11:07:17.753] ERROR start-signalling-4           System.err                                                        Jun 7, 2011 11:07:17 AM org.apache.catalina.startup.ContextConfig parseWebXml [2011-06-07 11:07:17.753] ERROR start-signalling-4           System.err                                                        SEVERE: Occurred at line 468 column 21 [2011-06-07 11:07:17.759] ERROR start-signalling-1           System.err                                                        Jun 7, 2011 11:07:17 AM org.apache.tomcat.util.digester.Digester startElement [2011-06-07 11:07:17.759] ERROR start-signalling-1           System.err                                                        SEVERE: Begin event threw exception [2011-06-07 11:07:17.760] ERROR start-signalling-1           System.err                                                        java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence [2011-06-07 11:07:17.760] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.SetSessionConfig.begin(WebRuleSet.java:722) [2011-06-07 11:07:17.760] ERROR start-signalling-1           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1282) [2011-06-07 11:07:17.760] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) [2011-06-07 11:07:17.761] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1363) [2011-06-07 11:07:17.761] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) [2011-06-07 11:07:17.762] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) [2011-06-07 11:07:17.762] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) [2011-06-07 11:07:17.763] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) [2011-06-07 11:07:17.763] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) [2011-06-07 11:07:17.763] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) [2011-06-07 11:07:17.764] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) [2011-06-07 11:07:17.764] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) [2011-06-07 11:07:17.765] ERROR start-signalling-1           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1543) [2011-06-07 11:07:17.765] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.parseWebXml(ContextConfig.java:1694) [2011-06-07 11:07:17.765] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1197) [2011-06-07 11:07:17.766] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:882) [2011-06-07 11:07:17.766] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:317) [2011-06-07 11:07:17.766] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) [2011-06-07 11:07:17.767] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) [2011-06-07 11:07:17.767] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5081) [2011-06-07 11:07:17.767] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) [2011-06-07 11:07:17.768] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812) [2011-06-07 11:07:17.768] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787) [2011-06-07 11:07:17.769] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607) [2011-06-07 11:07:17.769] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.gemini.web.tomcat.internal.TomcatServletContainer.startWebApplication(TomcatServletContainer.java:122) [2011-06-07 11:07:17.769] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.gemini.web.internal.StandardWebApplication.start(StandardWebApplication.java:91) [2011-06-07 11:07:17.770] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.web.core.internal.WebBundleLifecycleListener.onStarted(WebBundleLifecycleListener.java:122) [2011-06-07 11:07:17.770] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.StandardArtifactStateMonitor.onStarted(StandardArtifactStateMonitor.java:247) [2011-06-07 11:07:17.771] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact.asyncStartSucceeded(AbstractInstallArtifact.java:294) [2011-06-07 11:07:17.771] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact.access$0(AbstractInstallArtifact.java:291) [2011-06-07 11:07:17.772] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact$StateMonitorSignal.signalSuccessfulCompletion(AbstractInstallArtifact.java:229) [2011-06-07 11:07:17.772] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.core.internal.BundleStartTracker$1.run(BundleStartTracker.java:143) [2011-06-07 11:07:17.773] ERROR start-signalling-1           System.err                                                        \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [2011-06-07 11:07:17.773] ERROR start-signalling-1           System.err                                                        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [2011-06-07 11:07:17.773] ERROR start-signalling-1           System.err                                                        \tat java.lang.Thread.run(Thread.java:619) [2011-06-07 11:07:17.775] ERROR start-signalling-1           System.err                                                        Jun 7, 2011 11:07:17 AM org.apache.catalina.startup.ContextConfig parseWebXml [2011-06-07 11:07:17.776] ERROR start-signalling-1           System.err                                                        SEVERE: Parse error in application web.xml file at file:/opt/users/hudsonbuild/workspace/virgo.web-server.snapshot/org.eclipse.virgo.server.smoketest/target/test-expanded/virgo-tomcat-server-3.0.0.CI-2011-06-07_11-01-11/work/org.eclipse.virgo.kernel.deployer_3.0.0.D-20110603101321/staging/global/bundle/org.eclipse.gemini.web.tomcat/2.0.0.BUILD-20110603145554/org.eclipse.gemini.web.tomcat-2.0.0.BUILD-20110603145554.jar/conf/web.xml [2011-06-07 11:07:17.777] ERROR start-signalling-1           System.err                                                        java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence [2011-06-07 11:07:17.777] ERROR start-signalling-1           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2687) [2011-06-07 11:07:17.777] ERROR start-signalling-1           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.createSAXException(Digester.java:2713) [2011-06-07 11:07:17.778] ERROR start-signalling-1           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1285) [2011-06-07 11:07:17.778] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) [2011-06-07 11:07:17.779] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1363) [2011-06-07 11:07:17.779] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) [2011-06-07 11:07:17.780] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) [2011-06-07 11:07:17.780] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) [2011-06-07 11:07:17.781] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) [2011-06-07 11:07:17.781] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) [2011-06-07 11:07:17.781] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) [2011-06-07 11:07:17.782] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) [2011-06-07 11:07:17.782] ERROR start-signalling-1           System.err                                                        \tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) [2011-06-07 11:07:17.782] ERROR start-signalling-1           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.parse(Digester.java:1543) [2011-06-07 11:07:17.783] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.parseWebXml(ContextConfig.java:1694) [2011-06-07 11:07:17.783] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1197) [2011-06-07 11:07:17.783] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:882) [2011-06-07 11:07:17.784] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:317) [2011-06-07 11:07:17.784] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) [2011-06-07 11:07:17.785] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) [2011-06-07 11:07:17.785] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5081) [2011-06-07 11:07:17.785] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) [2011-06-07 11:07:17.786] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812) [2011-06-07 11:07:17.786] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787) [2011-06-07 11:07:17.786] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607) [2011-06-07 11:07:17.787] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.gemini.web.tomcat.internal.TomcatServletContainer.startWebApplication(TomcatServletContainer.java:122) [2011-06-07 11:07:17.787] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.gemini.web.internal.StandardWebApplication.start(StandardWebApplication.java:91) [2011-06-07 11:07:17.788] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.web.core.internal.WebBundleLifecycleListener.onStarted(WebBundleLifecycleListener.java:122) [2011-06-07 11:07:17.788] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.StandardArtifactStateMonitor.onStarted(StandardArtifactStateMonitor.java:247) [2011-06-07 11:07:17.789] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact.asyncStartSucceeded(AbstractInstallArtifact.java:294) [2011-06-07 11:07:17.789] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact.access$0(AbstractInstallArtifact.java:291) [2011-06-07 11:07:17.790] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.install.artifact.internal.AbstractInstallArtifact$StateMonitorSignal.signalSuccessfulCompletion(AbstractInstallArtifact.java:229) [2011-06-07 11:07:17.790] ERROR start-signalling-1           System.err                                                        \tat org.eclipse.virgo.kernel.core.internal.BundleStartTracker$1.run(BundleStartTracker.java:143) [2011-06-07 11:07:17.790] ERROR start-signalling-1           System.err                                                        \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [2011-06-07 11:07:17.791] ERROR start-signalling-1           System.err                                                        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [2011-06-07 11:07:17.791] ERROR start-signalling-1           System.err                                                        \tat java.lang.Thread.run(Thread.java:619) [2011-06-07 11:07:17.791] ERROR start-signalling-1           System.err                                                        Caused by: java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence [2011-06-07 11:07:17.792] ERROR start-signalling-1           System.err                                                        \tat org.apache.catalina.startup.SetSessionConfig.begin(WebRuleSet.java:722) [2011-06-07 11:07:17.792] ERROR start-signalling-1           System.err                                                        \tat org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1282) [2011-06-07 11:07:17.792] ERROR start-signalling-1           System.err                                                        \t... 33 more [2011-06-07 11:07:17.793] ERROR start-signalling-1           System.err                                                        Jun 7, 2011 11:07:17 AM org.apache.catalina.startup.ContextConfig parseWebXml [2011-06-07 11:07:17.793] ERROR start-signalling-1           System.err                                                        SEVERE: Occurred at line 468 column 21 [2011-06-07 11:07:17.806] ERROR start-signalling-4           System.err                                                        Jun 7, 2011 11:07:17 AM org.apache.catalina.startup.ContextConfig configureStart [2011-06-07 11:07:17.806] ERROR start-signalling-4           System.err                                                        SEVERE: Marking this application unavailable due to previous error(s) [2011-06-07 11:07:17.808] ERROR start-signalling-1           System.err                                                        Jun 7, 2011 11:07:17 AM org.apache.catalina.startup.ContextConfig configureStart [2011-06-07 11:07:17.808] ERROR start-signalling-1           System.err                                                        SEVERE: Marking this application unavailable due to previous error(s) [2011-06-07 11:07:18.034] ERROR start-signalling-1           System.err                                                        Jun 7, 2011 11:07:18 AM org.apache.catalina.core.StandardContext startInternal [2011-06-07 11:07:18.035] ERROR start-signalling-1           System.err                                                        SEVERE: Error getConfigured [2011-06-07 11:07:18.036] ERROR start-signalling-1           System.err                                                        Jun 7, 2011 11:07:18 AM org.apache.catalina.core.StandardContext startInternal [2011-06-07 11:07:18.037] ERROR start-signalling-1           System.err                                                        SEVERE: Context [/org.eclipse.virgo.apps.repository] startup failed due to previous errors"}, {"bug_id": "51344", "ground_truth": ["java/org/apache/catalina/startup/Embedded.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "investigation fire DeltaSessionManager Embedded Session methods methods investigation special equivalent", "bug_title": " org.apache.catalina.startup.Embedded overrides Lifecycle incorrectly?", "bug_description": "Not sure if this is a bug or just my mis-coding... I've been using the Embedded component in Tomcat 6.0.29 for integration testing. Something like this: server = new EmbeddedTomcat(\"/test\", 7890, \"JVM-1\"); PeerToPeerCacheLifecycleListener p2pListener = new PeerToPeerCacheLifecycleListener(); p2pListener.setProperty(\"mcast-port\", \"19991\"); server.getEmbedded().addLifecycleListener(p2pListener); sessionManager = new DeltaSessionManager(); server.getRootContext().setManager(sessionManager); Here the EmbeddedTomcat class is simply a wrapper for Embedded - I'm passing in the context, port and 'JVM route' - nothing special. Then I add a listener which should be the programmatic equivalent of having the following server.xml snippet: <Server> <Listener className=\"PeerToPeerCacheLifecycleListener\"/> </Server> DeltaSessionManager performs custom session management and thus extends ManagerBase and implements Lifecycle and SessionManager. During the start of DeltaSessionManager I initialize the listener by doing this.lifecycle.fireLifecycleEvent(START_EVENT, null); The listener picks up this event and starts. All works nicely under Tomcat 6, but breaks under Tomcat 7.0.12. My initial investigation shows that the LifecycleEvent, being fired, is not reaching the Embedded component which is where the listener is registered. Removing the overridden Lifecycle methods from Embedded (so that the Lifecyle processing happens in LifecycleBase) seems to work as the triggered event then reaches my listener."}, {"bug_id": "51348", "ground_truth": ["java/org/apache/catalina/servlets/WebdavServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "java Pointer Exception Renew markt request apache java toRenew Web", "bug_title": " Potential NullPointerException in org.apache.catalina.servlets.WebdavServlet at line 1336", "bug_description": "A WebDAV LOCK_REFRESH request may cause a NullPointerException because of an (IMHO) wrong check at line 1332 in  WebdavServlet.java 1056763 2011-01-08 18:56:57Z markt. I suggest line 1332 should be: ... if (toRenew != null) { ..."}, {"bug_id": "51401", "ground_truth": ["java/org/apache/catalina/startup/WebRuleSet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Impl config WebRuleSet deployWAR digester web java Exception SAXParserImpl Content", "bug_title": " java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence", "bug_description": "Created attachment 27188 [details] logfile I got following Exception when I started Tomcat. I hadn't changed any configuration. ----- java.lang.IllegalArgumentException: <session-config> element is limited to 1 occurrence at org.apache.catalina.startup.SetSessionConfig.begin(WebRuleSet.java:722) at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1282) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1363) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1543) at org.apache.catalina.startup.ContextConfig.parseWebXml(ContextConfig.java:1744) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1241) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:885) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:344) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5103) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607) at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:932) at org.apache.catalina.startup.HostConfig.deployWARs(HostConfig.java:723) at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:470) at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1322) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:379) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:324) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1041) at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:774) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1033) at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:291) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:727) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.startup.Catalina.start(Catalina.java:620) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:321) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:449) --- This exception occurs at the applications that contain <session-config> or <login-config> in the web.xml. When I reverted the code back to the revision 1137764, I got no exception. Regards."}, {"bug_id": "51403", "ground_truth": ["java/org/apache/juli/FileHandler.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "bogus NPE misconfigured starts shortly juli util ErrorManager Manager NPE", "bug_title": " Avoid NullPointerException in JULI FileHandler if formatter is misconfigured", "bug_description": "If formatter assigned to org.apache.juli.FileHandler in logging.properties is misconfigured and fails to load, the FileHandler starts without formatter and fails with an NPE later. To reproduce: assign some bogus value to 1catalina.org.apache.juli.FileHandler.formatter When Tomcat starts, the following will be printed at the console: java.util.logging.ErrorManager: 4 java.lang.NullPointerException at org.apache.juli.FileHandler.openWriter(FileHandler.java:377) at org.apache.juli.FileHandler.<init>(FileHandler.java:99) at org.apache.juli.FileHandler.<init>(FileHandler.java:90) I think we can be more tolerant to this configuration error and fall back to the default formatter. I will commit a fix shortly."}, {"bug_id": "51447", "ground_truth": ["java/org/apache/catalina/manager/HTMLManagerServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "type details LazyReplicatedMap Session getSessionForNameAndId solutions Created find Write note", "bug_title": " Session type changes from Backup to Primary", "bug_description": "Created attachment 27223 [details] patch Steps to reproduce: (1) Start 3 Tomcat instances that are using BackupManager. (2) Run 3 HTMLManagers corresponding to each node. (3) Run web application that has distributable in its web.xml. (4) Click the link of the number of sessions for this application. (5) If the displayed session type is Backup, click the link of session id. And return to sessions list page soon. Then, the session type change to Primary. When the session detail page is displayed, getSessionForNameAndId() calls ctxt.getManager().findSession(), and findSession() calls session.get(id). If the cluster is using BackupManager, \"session\" is instance of LazyReplicatedMap. And LazyReplicatedMap.get() set session type to \"primary\". I thought the solutions of this issue. (A) Not use findSession(). Retrieve session information from local map. -> see attached patch Or (B) Write the note as follows to the sessions list page. \"If you click the backup type's sessionid, then the type change to primary.\" Regards."}, {"bug_id": "51453", "ground_truth": ["java/org/apache/catalina/authenticator/AuthenticatorBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "takes allowing authRequired request web authRequired org variable web Authenticator", "bug_title": " Requests to open URL that include an Authorization header do not reach servlet", "bug_description": "In Tomcat 7, I've noticed that a request to a URL that does not require authentication will get forwarded to the login page if the request contains an \"Authorization\" header. Our application expects these requests to be processed by the servlet.  The servlet parses the Authorization header and takes appropriate action (possibly redirecting to the login page or allowing the request if the headers contain an acceptible token).  This has worked in older versions of Tomcat. The relevant part of our web.xml looks like: <security-constraint> <web-resource-collection> <web-resource-name>open</web-resource-name> <url-pattern>/*</url-pattern> <!-- several other url patterns --> </web-resource-collection> <user-data-constraint> <transport-guarantee>CONFIDENTIAL</transport-guarantee> </user-data-constraint> <!-- Notice no auth-constraint element --> </security-constraint> I observed the behavior of org.apache.catalina.authenticator.AuthenticatorBase.invoke(), here's what I saw: The constraints variable contains a single constraint that matches the security constraint from our web.xml above. On line 520, authRequired is set to true because of the presence of the Authorization header. The authenticate() call on line 535 fails and redirects to the login page."}, {"bug_id": "51466", "ground_truth": ["java/org/apache/catalina/manager/host/HostManagerServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "HostManagerServlet instances details written Comment comments attachment HostManagerServlet Host Host", "bug_title": " typos in comments of HostManagerServlet", "bug_description": "Created attachment 27244 [details] correct typos Comment of method stop says \"start\" and two instances of \"if\" are written as \"of\"."}, {"bug_id": "51467", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Thread StandardContext remove Thread usage start called Context remove Context", "bug_title": " usage of method run instead of start to start a thread", "bug_description": "In StandardContext method Thread#run is used. This is most probably a mistake, since a few lines below Thread#join is called to wait for the completion of the thread. So we could either remove the join and get rid of the thread by using just a runnable, or start the thread."}, {"bug_id": "51494", "ground_truth": ["java/org/apache/catalina/core/StandardContextValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Servlet String windows war StandardContextValve HttpServletRequest Standard markmail Deploy requests", "bug_title": " NPE in StandardContextValve.invoke() when a webapp is redeployed while a request is still being processed", "bug_description": "Hi, The following applies to Tomcat 7.0.18, but I couldn't select that version. When a request to a Servlet takes a long time to process, and the webapp is redeployed in that time (e.g. by replacing the .war file), the following NPE is thrown in org.apache.catalina.core.StandardContextValve.invoke(): 10.07.2011 03:27:05 org.apache.catalina.connector.CoyoteAdapter service SCHWERWIEGEND: An exception or error occurred in the container during the request processing java.lang.NullPointerException at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:183) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:754) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:404) at org.apache.coyote.http11.Http11AprProcessor.process(Http11AprProcessor.java:274) at org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler.process(Http11AprProtocol.java:237) at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1731) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662) This is because \"context\" attribute in StandardContextValve is null at that time. I could reproduce this behaviour on Windows 7 (32 bit) with Sun/Oracle Java 1.6.0_26, using the Windows x86 binaries of Tomcat 7.0.18 (from http://people.apache.org/~markt/dev/tomcat-7/v7.0.18/) with the included Tomcat Native 1.1.20. To reproduce: 0) Download and install Tomcat 7.0.18 (I used the windows x86 zip binaries). 1) Create a simple webapp with a servlet, that takes a long time to process requests, e.g. by calling Thread.sleep(). For example, I used: @WebServlet(\"/LongRequest\") public class LongRequest extends HttpServlet { protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { PrintWriter out = response.getWriter(); out.println(\"Start...\"); out.flush(); try { Thread.sleep(20000); } catch (InterruptedException ex) { out.println(ex.toString()); } out.println(\"Finished.\"); out.close(); } } 2) Package the webapp as \".war\" file, and make two versions of that file. 3) Deploy the first version to Tomcat by copying the .war file into the \"webapps\" directory. 4) Open a browser and make a GET request to the above servlet. 5) Now immediately replace the .war file in the webapp directory with the second version, so that Tomcat will undeploy the old version and deploy the new one. 5) After the request finishes, the NPE is thrown. I originally observed a NPE in StandardWrapperValve.invoke() with Tomcat 7.0.16 that I reported on the users list [1], which occured when the webapp was redeployed while a servlet was still processing a request. However, I couldn't reproduce the NPE in StandardWrapperValve.invoke(), but in StandardContextValve.invoke(). [1] http://markmail.org/message/2tumlfipaotkshst"}, {"bug_id": "51503", "ground_truth": ["java/org/apache/catalina/connector/Connector.java", "java/org/apache/catalina/connector/LocalStrings.properties", "res/tomcat.nsi", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "stderr Internal required ProtocolHandler killed tomcat shutdown packaged Endpoint org", "bug_title": " Additional error checking required for connector port attribute (e.g. for port=\"\")", "bug_description": "With 7.0.18 packaged as a candidate for release and finally unreleased, when I stop the Tomcat service (only 1 war deployed), the service takes a lot of time to stop and finally was killed by system. Having a look into the stderr log, I see it paused right after the folowing line : INFO: Stopping ProtocolHandler [http-apr-0] Then went into a slow loop and fill the log with these lines : 13 juil. 2011 14:30:30 org.apache.tomcat.util.net.AprEndpoint stopInternal ATTENTION: Acceptor thread [http-apr-0-Acceptor-0] failed to unlock. Forcing hard socket shutdown. 13 juil. 2011 14:30:31 org.apache.tomcat.util.net.AprEndpoint stopInternal ATTENTION: Acceptor thread [http-apr-0-Acceptor-0] failed to unlock. Forcing hard socket shutdown. 13 juil. 2011 14:30:32 org.apache.tomcat.util.net.AprEndpoint stopInternal ATTENTION: Acceptor thread [http-apr-0-Acceptor-0] failed to unlock. Forcing hard socket shutdown. etc. (about 30 times before it was killed) I think there was no such issue with 7.0.16."}, {"bug_id": "51518", "ground_truth": ["java/org/apache/catalina/startup/WebRuleSet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "xsd web element Digester fullPrefix Call method max annotation Occurs", "bug_title": " \"/absolute-ordering/name/others\" should not include \"name\" element", "bug_description": "method: org.apache.catalina.startup.WebRuleSet.addRuleInstances(Digester digester) code: ==================================================== digester.addCallMethod(fullPrefix + \"/absolute-ordering/name/others\", \"addAbsoluteOrderingOthers\"); ==================================================== web-common_3_0.xsd ==================================================== <xsd:complexType name=\"absoluteOrderingType\"> <xsd:annotation> <xsd:documentation> Please see section 8.2.2 of the specification for details. </xsd:documentation> </xsd:annotation> <xsd:choice minOccurs=\"0\" maxOccurs=\"unbounded\"> <xsd:element name=\"name\" type=\"javaee:java-identifierType\" minOccurs=\"0\" maxOccurs=\"unbounded\"/> <xsd:element name=\"others\" type=\"javaee:ordering-othersType\" minOccurs=\"0\" maxOccurs=\"1\"/> </xsd:choice> </xsd:complexType> ===================================================="}, {"bug_id": "51532", "ground_truth": ["java/org/apache/jasper/compiler/Compiler.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "lots Hotspots connect files ParserController jndi custom jasper ParserController URLConnection", "bug_title": " Performance Issue when retriving JAR files during TLD file parsing.", "bug_description": "Migrating from Tomcat 6.0.29 to 7.0.19 a large performance hit was noticed on pages containing lots of custom tags. Page rendering time jumped by an order of magnitude. Profiling the webapp through Netbeans, we narrowed down the problem to the getJarFile() method inside org.apache.jasper.compiler.ParseController. Screenshots of the Profiler Hotspots and Call Tree from both versions of Tomcat are available here: http://imgur.com/a/ZmeWM The URL path used to load the JAR file has changed from Tomcat 6. Below are the values as output by the debugger: Tomcat 6: \"file:/C:/svn/[PATH_TO_PROJECT]/server/target/snapshot/WEB-INF/lib/[OUR_JAR].jar!/\" Tomcat 7: \"jndi:/localhost/snapshot/WEB-INF/lib/[OUR_JAR].jar!/\" A comparison of the getJarFile() methods shows few differences aside from the URL path that could contribute to the problem: Tomcat 7: org.apache.jasper.compiler.JarURLResource public JarFile getJarFile() throws IOException { URL jarFileUrl = new URL(\"jar:\" + jarUrl + \"!/\"); JarURLConnection conn = (JarURLConnection) jarFileUrl.openConnection(); conn.setUseCaches(false); conn.connect(); return conn.getJarFile(); } Tomcat 6: org.apache.japser.compiler.ParserController private JarFile getJarFile(URL jarFileUrl) throws IOException { JarFile jarFile = null; if (jarFileUrl != null) { JarURLConnection conn = (JarURLConnection) jarFileUrl.openConnection(); conn.setUseCaches(false); conn.connect(); jarFile = conn.getJarFile(); } return jarFile; }"}, {"bug_id": "51584", "ground_truth": ["java/org/apache/naming/resources/DirContextURLConnection.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "ProxyDirContext directory lang before\u00e2\u20ac\u00a6 path ContextConfig ProxyDirContext tomcat starts memory", "bug_title": " Crash (infinite loop) when files starting with '#' are in the library tree", "bug_description": "Situation: stray text file in my /WEB-INF/classes/...../ directory named \"#SurveyMain.java#\"     ( It was a backup/autosaved source file, and eclipse 'helpfully' deployed it. ) causes crash on startup in tomcat 7.0.6, 7.0.19 and 7.0.20-dev (1151601M). - out of memory. Added this test to .20-dev: Index: org/apache/catalina/startup/ContextConfig.java =================================================================== --- org/apache/catalina/startup/ContextConfig.java\t(revision 1151601) +++ org/apache/catalina/startup/ContextConfig.java\t(working copy) @@ -1902,6 +1902,7 @@ while (dirs.hasMoreElements()) { String dir = dirs.nextElement(); URL dirUrl = new URL(url.toString() + '/' + dir); +                    System.err.println(\"Processing: \" + url.toString() + '/' + dir); processAnnotationsJndi(dirUrl, fragment); } Printed tons of lines\u00e2\u20ac\u00a6 at startup\u00e2\u20ac\u00a6 Then crashed as before\u00e2\u20ac\u00a6 java.lang.OutOfMemoryError: Java heap space at java.util.Arrays.copyOfRange(Arrays.java:3209) at java.lang.String.<init>(String.java:215) at java.lang.StringBuilder.toString(StringBuilder.java:430) at java.io.UnixFileSystem.resolve(UnixFileSystem.java:93) at java.io.File.<init>(File.java:312) at org.apache.naming.resources.FileDirContext.list(FileDirContext.java:871) at org.apache.naming.resources.FileDirContext.list(FileDirContext.java:304) at org.apache.naming.resources.ProxyDirContext.list(ProxyDirContext.java:506) at org.apache.naming.resources.DirContextURLConnection.list(DirContextURLConnection.java:444) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1901) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1906) I think the problem is that the URL generated contains a '#' and so file:// interprets it as a fragment and not as a path. Quick patch: Index: java/org/apache/catalina/startup/ContextConfig.java =================================================================== --- java/org/apache/catalina/startup/ContextConfig.java\t(revision 1151601) +++ java/org/apache/catalina/startup/ContextConfig.java\t(working copy) @@ -1901,7 +1901,11 @@ Enumeration<String> dirs = dcUrlConn.list(); while (dirs.hasMoreElements()) { String dir = dirs.nextElement(); +                    if(dir.startsWith(\"#\")) { +                        continue; +                    } URL dirUrl = new URL(url.toString() + '/' + dir); +                    //System.err.println(\"Processing: \" + dirUrl.toString()); processAnnotationsJndi(dirUrl, fragment); }"}, {"bug_id": "51586", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "doesn Internal Descriptor SecureClassLoader ContextConfig Catalina ContextConfig doPrivileged Container URLClassLoader", "bug_title": " ContextConfig.checkHandlesTypes() doesn't check for VerifyError when loading class", "bug_description": "I've recently upgraded to Tomcat 7 and used to run with metadata-complete=\"true\" in my web.xml.  With Servlet 3 I decided I'd try some of the annotation features.  When I turned off metadata-complete I got a VerifyError trying to load one of my classes.  This class is meant to only work on Tomcat 6 so the fact Tomcat 7 cannot load this class is expected.  What is not expected is that Tomcat 7 doesn't just ignore the error and continue scanning for annotations.  Looking in ContextConfig.checkHandlesTypes() I checks for virtually every type of loading failure except VerifyError.  Perhaps VerifyError should be added to this list? java.lang.VerifyError: class org.lds.stack.tomcat.decrypt.DecryptingStandardContext overrides final method start.()V at java.lang.ClassLoader.defineClass1(Native Method) at java.lang.ClassLoader.defineClassCond(ClassLoader.java:631) at java.lang.ClassLoader.defineClass(ClassLoader.java:615) at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:141) at java.net.URLClassLoader.defineClass(URLClassLoader.java:283) at java.net.URLClassLoader.access$000(URLClassLoader.java:58) at java.net.URLClassLoader$1.run(URLClassLoader.java:197) at java.security.AccessController.doPrivileged(Native Method) at java.net.URLClassLoader.findClass(URLClassLoader.java:190) at java.lang.ClassLoader.loadClass(ClassLoader.java:306) at java.lang.ClassLoader.loadClass(ClassLoader.java:247) at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:247) at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1665) at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523) at org.apache.catalina.startup.ContextConfig.checkHandlesTypes(ContextConfig.java:2006) at org.apache.catalina.startup.ContextConfig.processAnnotationsStream(ContextConfig.java:1969) at org.apache.catalina.startup.ContextConfig.processAnnotationsJar(ContextConfig.java:1858) at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1826) at org.apache.catalina.startup.ContextConfig.processAnnotations(ContextConfig.java:1812) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1306) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:896) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:322) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5103) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607) at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:633) at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:558) at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:468) at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1322) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:379) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:324) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1041) at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:774) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1033) at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:291) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:727) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.startup.Catalina.start(Catalina.java:621) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:450)"}, {"bug_id": "51610", "ground_truth": ["java/org/apache/catalina/util/LifecycleBase.java", "java/org/apache/catalina/util/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "lang lifecycleEvent unknown startInternal ACTUAL Support invalidTransition invalid xml Transition", "bug_title": " Context fails to reload after an error in web.xml was corrected", "bug_description": "With current trunk. Steps to reproduce: 1. Start Tomcat 7 2. Go to webapps/examples/WEB-INF/web.xml and uncomment <filter-mapping> for \"Timing Filter\" (line 75). 3. Wait several seconds. The examples webapp is reloaded, but fails to start. This happens because there is a typo. The <filter-name> value should be s/Timing Filter/Timing filter/. There is stack trace in the logs: [[[ 04.08.2011 8:09:39 org.apache.catalina.startup.HostConfig checkResources WARNING: Error during context [/examples] restart java.lang.IllegalArgumentException: Filter mapping specifies an unknown filter name Timing Filter at org.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:2950) at org.apache.catalina.core.StandardContext.addFilterMap(StandardContext.java:2915) at org.apache.catalina.deploy.WebXml.configureContext(WebXml.java:1206) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1343) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:896) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:322) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5103) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.startup.HostConfig.checkResources(HostConfig.java:1279) at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1360) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:294) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1240) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1398) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1408) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1387) at java.lang.Thread.run(Thread.java:662) ]]] 4. Go to web.xml and edit it once again. E.g. re-comment the mapping, or correct the typo. 5. Wait several seconds. Here is an issue: EXPECTED: The examples webapp should reload successfully. ACTUAL: Reload fails. The following is printed in the logs: 04.08.2011 8:09:59 org.apache.catalina.startup.HostConfig checkResources INFO: Reloading context [/examples] 04.08.2011 8:09:59 org.apache.catalina.util.LifecycleBase start INFO: The start() method was called on component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/examples]] after start() had already been called. The second call will be ignored. 6. Stop Tomcat. Here is the second issue: EXPECTED: Successful shutdown ACTUAL: [[[ 04.08.2011 8:14:10 org.apache.catalina.startup.Catalina stop SEVERE: Catalina.stop org.apache.catalina.LifecycleException: An invalid Lifecycle transition was attempted ([before_stop]) for component [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/examples]] in state [STARTING_PREP] at org.apache.catalina.util.LifecycleBase.invalidTransition(LifecycleBase.java:387) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:212) at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1072) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:225) at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:1072) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:225) at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:502) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:225) at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:748) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:225) at org.apache.catalina.startup.Catalina.stop(Catalina.java:694) at org.apache.catalina.startup.Catalina$CatalinaShutdownHook.run(Catalina.java:847) ]]] This exception at shutdown happens only if examples webapp was correct when Tomcat started, but was broken afterwards. If it was already broken at startup time, nothing happens. 7. Here is the third issue: when the above happens the shutdown sequence is apparently aborted abnormally. EXPECTED: \"INFO: Stopping ProtocolHandler [\"http-bio-8080\"]\" etc. messages ACTUAL: There are no messages after the \"SEVERE: Catalina.stop\" one that I cited above."}, {"bug_id": "51614", "ground_truth": ["java/org/apache/catalina/session/StoreBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "processExpires loads check Session session PersistentManagerBase process expire avoid errorlog", "bug_title": " PersistentManager loads session from Store and calls session.expire() twice.", "bug_description": "To check whether session is loaded into  memory, StoreBase#processExpires calls findSession(id). ===== ... if (manager.findSession(keys[i]) != null) { isLoaded = true; } ... ===== However, PersistentManager#findSession(id) loads session from Store when there is no session in memory. Because session loaded from Store is an invalid session PersistentManager logs errorlog, calls session.expire(), and deletes session from Store. As a result, findSession(id) returns null, and isLoaded becomes false. And, session.expire() is called again, and the session is deleted from Store. If manager is PersistentManager, it is necessary to call PersistentManagerBase#isLoaded(id). However, to avoid regression of r1033024, other managers call findSession(id). Best regards."}, {"bug_id": "51615", "ground_truth": ["modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PooledConnection.java"], "repo": "tomcat70", "reformed_query": "typo typo compiler driverURL jdbc lights connection Connection PooledConnection bad", "bug_title": " Line 267 of \"org.apache.tomcat.jdbc.pool.PooledConnection\": double assignment typo", "bug_description": "Nothing bad here, but my compiler lights up: connection = connection = driver.connect(driverURL, properties); Clearly, to be fixed."}, {"bug_id": "51630", "ground_truth": ["webapps/docs/changelog.xml", "webapps/examples/WEB-INF/classes/async/Async0.java"], "repo": "tomcat70", "reformed_query": "Servlet Thread servlet Worker Include net HttpServlet StandardWrapperValve Exception Authenticator", "bug_title": " java.lang.IllegalStateException: Calling [asyncComplete()]", "bug_description": "example: webapps\\examples\\WEB-INF\\classes\\async\\Async0.java log file: logs\\localhost.2011-08-07.log ============================================= java.lang.IllegalStateException: Calling [asyncComplete()] is not valid for a request with Async state [DISPATCHED] at org.apache.coyote.AsyncStateMachine.asyncComplete(AsyncStateMachine.java:221) at org.apache.coyote.http11.Http11Processor.actionInternal(Http11Processor.java:525) at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:773) at org.apache.coyote.Request.action(Request.java:344) at org.apache.catalina.core.AsyncContextImpl.complete(AsyncContextImpl.java:89) at async.Async0.service(Async0.java:42) at javax.servlet.http.HttpServlet.service(HttpServlet.java:722) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:684) at org.apache.catalina.core.ApplicationDispatcher.doInclude(ApplicationDispatcher.java:593) at org.apache.catalina.core.ApplicationDispatcher.include(ApplicationDispatcher.java:530) at org.apache.catalina.core.AsyncContextImpl$1.run(AsyncContextImpl.java:173) at org.apache.catalina.core.AsyncContextImpl.doInternalDispatch(AsyncContextImpl.java:314) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:851) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.asyncDispatch(CoyoteAdapter.java:296) at org.apache.coyote.http11.AbstractHttp11Processor.asyncDispatch(AbstractHttp11Processor.java:1220) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:511) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:302) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:619)"}, {"bug_id": "51640", "ground_truth": ["java/org/apache/catalina/core/JreMemoryLeakPreventionListener.java", "webapps/docs/changelog.xml", "webapps/docs/config/listeners.xml"], "repo": "tomcat70", "reformed_query": "Exception isn Net forcibly details AnyDataFactory leak allowing classloader attachment", "bug_title": " clearReferencesJdbc seems to be causing leaks with com.oracle.ojdbc5 driver", "bug_description": "Created attachment 27365 [details] Example Maven project to reproduce the problem clearReferencesJdbc seems to be causing reference leaks when used with com.oracle.ojdbc5 version 11.1.0.7.0, even if that class isn't loaded by the application.  As best as I can tell, that function is loading one or more classes from the jar.  Those classes are then adding a jmx MBean which then causes a reference leak. Error message: Aug 9, 2011 4:53:11 PM org.apache.catalina.loader.WebappClassLoader clearReferencesJdbc SEVERE: The web application [/mavenproject1-1.0-SNAPSHOT] registered the JDBC driver [oracle.jdbc.OracleDriver] but failed to unregister it when the web application was stopped. To prevent a memory leak, the JDBC Driver has been forcibly unregistered. List of classes in the class-loader: 0 : class org.apache.catalina.loader.JdbcLeakPrevention (84 bytes) 1 : class oracle.jdbc.driver.OracleDriver (84 bytes) 2 : class oracle.jdbc.OracleDriver (84 bytes) 3 : class oracle.jdbc.driver.OracleDriverExtension (84 bytes) 4 : class oracle.jdbc.driver.OracleDriver$1 (84 bytes) 5 : class oracle.jdbc.driver.DiagnosabilityMXBean (84 bytes) 6 : class oracle.jdbc.driver.OracleDiagnosabilityMBean (84 bytes) 7 : class oracle.jdbc.driver.DatabaseError (84 bytes) 8 : class oracle.jdbc.driver.OracleSQLException (84 bytes) 9 : class oracle.net.ns.NetException (84 bytes) 10 : class oracle.jdbc.driver.SQLStateMapping (84 bytes) 11 : class oracle.jdbc.driver.SQLStateMapping$Tokenizer (84 bytes) 12 : class oracle.jdbc.driver.Message (84 bytes) 13 : class oracle.jdbc.driver.Message11 (84 bytes) 14 : class oracle.jdbc.internal.ObjectDataFactory (84 bytes) 15 : class oracle.sql.ORADataFactory (84 bytes) 16 : class oracle.sql.AnyDataFactory (84 bytes) 17 : class oracle.jdbc.internal.ObjectData (84 bytes) 18 : class oracle.sql.ORAData (84 bytes) 19 : class oracle.sql.TypeDescriptorFactory (84 bytes) I believe this means that JdbcLeakPrevention is the first class to actually be loaded. Steps to reproduce: 1) Compile the project, using the driver from http://www.oracle.com/technetwork/database/enterprise-edition/jdbc-111060-084321.html 2) Deploy the project to tomcat. 3) Undeploy the project from tomcat.  You should get the error about clearReferencesJdbc Expected: While I would expect Tomcat to not leak the class, I would be happy if there was an option to make Tomcat not run clearReferencesJdbc, allowing me to undeploy the app without leaking.  This would not be as much of a problem if it wasn't causing the entire classloader and everything that implies to be leaked too."}, {"bug_id": "51641", "ground_truth": ["java/org/apache/coyote/http11/Http11NioProtocol.java"], "repo": "tomcat70", "reformed_query": "Nio Connection processor Hash Channel Processors Nio SocketWrapper Processors ConnectionHandler", "bug_title": " Http11NioProcessor not correct release", "bug_description": "org.apache.coyote.http11.Http11NioProtocol.Http11ConnectionHandler code segment: ================================== @Override public void release(SocketWrapper<NioChannel> socket) { Http11NioProcessor processor = connections.remove(socket); if (processor != null) { processor.recycle(); recycledProcessors.offer(processor); } } ================================== should be: ================================== @Override public void release(SocketWrapper<NioChannel> socket) { Http11NioProcessor processor = connections.remove(socket.getSocket()); if (processor != null) { processor.recycle(); recycledProcessors.offer(processor); } } ================================== type of connections is ConcurrentHashMap<NioChannel, Http11NioProcessor> , not ConcurrentHashMap<SocketWrapper<NioChannel>, Http11NioProcessor>."}, {"bug_id": "51644", "ground_truth": ["java/org/apache/naming/resources/DirContextURLConnection.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "empty Proxy deployDescriptor NameClassPair processAnnotationsUrl NamingException Url lifecycle processAnnotationsJndi Standard", "bug_title": " Unable to deploy applications with the name a#b.xml", "bug_description": "When I try to deploy a context with the name \"a#b.xml\" I get the following exception. SEVERE: Unable to process JNDI URL [jndi:/localhost/sample/one/WEB-INF/classes] for annotations java.io.FileNotFoundException: jndi:/localhost/sample/one/WEB-INF/classes at org.apache.naming.resources.DirContextURLConnection.list(DirContextURLConnection.java:452) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1901) at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1828) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1295) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:896) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:322) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5103) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:787) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607) at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:633) at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:558) at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:468) at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1363) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:294) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1233) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1391) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1401) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1380) at java.lang.Thread.run(Thread.java:619) I would have expected the application to be available in the URI a/b. The bug seems to be in the \"list()\" method \"of DirContextURLConnection.java. The method assumes that context name does not have any \"/\" characters in it. See the developer note just before the \"if\" block. I have added the \"else if\" condition that seems to have solved the problem for me. try { String file = getURL().getFile(); // This will be of the form /<hostname>/<contextpath>/file name // if <contextpath> is not empty otherwise this will be of the // form /<hostname>/file name // Strip off the hostname and the contextpath int start; if(context instanceof ProxyDirContext && \"\".equals(((ProxyDirContext)context).getContextPath())){ start = file.indexOf('/',1); } else if(context instanceof ProxyDirContext){ start=\"/\".length() +((ProxyDirContext)context).getHostName().length() +((ProxyDirContext)context).getContextPath().length(); /* * Seems like a bug in Tomcat. below was the code in Tomcat. * How can it handle contextpath like \"/sample/one\". It cannot */ //start = file.indexOf('/', file.indexOf('/', 1) + 1); } else start = file.indexOf('/', file.indexOf('/', 1) + 1); NamingEnumeration<NameClassPair> enumeration = context.list(file.substring(start)); while (enumeration.hasMoreElements()) { NameClassPair ncp = enumeration.nextElement(); result.addElement(ncp.getName()); } } catch (NamingException e) {"}, {"bug_id": "51650", "ground_truth": ["java/org/apache/catalina/util/RequestUtil.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Util Request CConverter parse exception Parameters parse getCharset exception details", "bug_title": " possible nullpointer exception in RequestUtil.parseParameters", "bug_description": "Created attachment 27376 [details] set default encoding, if none is given When encoding is null, RequestUtil.parseParameters will throw a NPE at B2CConverter.getCharset."}, {"bug_id": "51654", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java", "java/org/apache/catalina/startup/LocalStrings.properties", "java/org/apache/catalina/startup/LocalStrings_es.properties", "java/org/apache/catalina/startup/LocalStrings_ja.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Illegal folders problems Exception apache HostConfig Argument App String Starting", "bug_title": " NullPointerException in startup (org.apache.catalina.startup.HostConfig.filterAppPaths) due to missing app base", "bug_description": "A hard-to-diagnose NullPointerException at startup which can be bettered with an appropriate error message: INFO: Starting Servlet Engine: Apache Tomcat/7.0.19 java.lang.NullPointerException at org.apache.catalina.startup.HostConfig.filterAppPaths(HostConfig.java:493) at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:466) at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1322) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) Ok, what's this about? In \"protected String[] filterAppPaths(String[] unfilteredAppPaths)\" the exception is raised at for (String appPath : unfilteredAppPaths) Which means the \"unfilteredAppPaths\" passed in is null. filterAppPaths does not check for that (shouldn't there be an assertion at least) The problems comes from \"deployApps()\": protected void deployApps() { File appBase = appBase(); File configBase = configBase(); String[] filteredAppPaths = filterAppPaths(appBase.list()); <---- // Deploy XML descriptors from configBase deployDescriptors(configBase, configBase.list()); // Deploy WARs, and loop if additional descriptors are found deployWARs(appBase, filteredAppPaths); // Deploy expanded folders deployDirectories(appBase, filteredAppPaths); } Where \"appBase.list()\" returns null. This must be because \"appBase\" does not actually denote a directory (A-HA!) Indeed, the server.xml points to a nonexisting appBase. Suggesting to add a check to \"deployApps\": protected void deployApps() { File appBase = appBase(); File configBase = configBase(); if (!appBase.exists() || appBase.list()==null) { throw new IllegalArgumentException(\"The appBase \" + appBase + \" does not exist or cannot be listed\"); } String[] filteredAppPaths = filterAppPaths(appBase.list()); <---- // Deploy XML descriptors from configBase deployDescriptors(configBase, configBase.list()); // Deploy WARs, and loop if additional descriptors are found deployWARs(appBase, filteredAppPaths); // Deploy expanded folders deployDirectories(appBase, filteredAppPaths); } This probably violates some I18N requirement though."}, {"bug_id": "51658", "ground_truth": ["java/org/apache/catalina/connector/CoyoteAdapter.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Access logAccess context Potential log request Created Coyote Created NPE", "bug_title": " Potential NPE in CoyoteAdapter.log", "bug_description": "Created attachment 27384 [details] logAccess on host instead of context In CoyoteAdapter.log:501 request.mapping.context is known to be null and request.mapping.host is checked to be not null, but inside that if branch in line 503 request.mapping.context will be used. I think it should be \"((Host) request.mappingData.host).logAccess(...\" instead."}, {"bug_id": "51712", "ground_truth": ["java/org/apache/catalina/authenticator/AuthenticatorBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "markmail details bug caching change CLN security sets hqihc attachment", "bug_title": " Regression in cache-control headers for requests with security-constraints", "bug_description": "Created attachment 27428 [details] Patch to revert isSecure() check Copied from http://markmail.org/thread/rlkpd3hqihc3zbji CLN 1126273 http://svn.apache.org/viewvc?view=revision&revision=1126273 sets the default value for securePagesWithPragma to false, but also (re)added a request.isSecure() check to the block for adding the cache-control headers. This results in the headers not being added for secure requests with security-constraints.  This is a change in behavior from Tomcat-7.0.14 that causes IE8 to improperly cache some secure pages. The secure check was initially added in CLN 287690 http://svn.apache.org/viewvc?view=revision&revision=287690 to fix a bug in IE caching https://issues.apache.org/bugzilla/show_bug.cgi?id=6641 but was commented out in CLN 302373 http://svn.apache.org/viewvc?view=revision&revision=302373 patch to remove isSecure() check added."}, {"bug_id": "51713", "ground_truth": ["java/org/apache/catalina/connector/Connector.java", "java/org/apache/catalina/connector/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "scanStartElement exec tomcat FragmentContentDriver WARNING Exception URIEncoding Method conf Start", "bug_title": " Bad Connector protocol causes NullPointerException when using Executor", "bug_description": "Under the following configuration, an NPE is thrown because _setExecutor() calls con.getProtocolHandler().getClass() when the protocol handler is null. It would be nice to report a bad configuration instead of suffering an NPE. server.xml: <Executor name=\"tomcatThreadPool\" namePrefix=\"catalina-exec-\" maxThreads=\"150\" minSpareThreads=\"4\"/> <Connector port=\"12345\" redirectPort=\"443\" protocol=\"HTTP\" secure=\"true\" scheme=\"https\" proxyPort=\"80\" URIEncoding=\"UTF-8\" executor=\"tomcatThreadPool\" /> catalina.out: Aug 23, 2011 5:18:30 PM org.apache.catalina.connector.Connector <init> SEVERE: Protocol handler instantiation failed Aug 23, 2011 5:18:30 PM org.apache.tomcat.util.digester.Digester startElement SEVERE: Begin event threw exception java.lang.NullPointerException at org.apache.catalina.startup.ConnectorCreateRule._setExecutor(ConnectorCreateRule.java:69) at org.apache.catalina.startup.ConnectorCreateRule.begin(ConnectorCreateRule.java:63) at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537) at org.apache.catalina.startup.Catalina.load(Catalina.java:555) at org.apache.catalina.startup.Catalina.load(Catalina.java:596) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:281) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:449) Aug 23, 2011 5:18:30 PM org.apache.catalina.startup.Catalina load WARNING: Catalina.start using conf/server.xml: Error at (104, 66) : null Aug 23, 2011 5:18:30 PM org.apache.catalina.connector.Connector <init> SEVERE: Protocol handler instantiation failed Aug 23, 2011 5:18:30 PM org.apache.tomcat.util.digester.Digester startElement SEVERE: Begin event threw exception java.lang.NullPointerException at org.apache.catalina.startup.ConnectorCreateRule._setExecutor(ConnectorCreateRule.java:69) at org.apache.catalina.startup.ConnectorCreateRule.begin(ConnectorCreateRule.java:63) at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:501) at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(AbstractXMLDocumentParser.java:179) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1343) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:2755) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:648) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1205) at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:522) at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537) at org.apache.catalina.startup.Catalina.load(Catalina.java:555) at org.apache.catalina.startup.Catalina.start(Catalina.java:609) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:450) Aug 23, 2011 5:18:31 PM org.apache.catalina.startup.Catalina load WARNING: Catalina.start using conf/server.xml: Error at (104, 66) : null Aug 23, 2011 5:18:31 PM org.apache.catalina.startup.Catalina start SEVERE: Cannot start server. Server instance is not configured."}, {"bug_id": "51739", "ground_truth": ["java/org/apache/catalina/authenticator/FormAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "nullpointer CDI XHTML XHTML XHTML nullpointer landingpage nullpointer landingpage XHTML", "bug_title": " If landingpage is a XHTML (JSF/CDI), nullpointer exception.", "bug_description": ""}, {"bug_id": "51758", "ground_truth": ["java/org/apache/tomcat/util/digester/Digester.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "configuration Logger log Tomcat turn override Start org properties digester", "bug_title": " Setting logger-specific overrides in logging.properties not working", "bug_description": "Logger-specific configuration is being ignored in the $CATALINA_HOME/conf/logging.properties file. Problem was asked (and unanswered) here, and googling did not turn up a solution either: http://old.nabble.com/Having-difficulty-suppressing-the-org.apache.tomcat.util.digester.Digester-logger-to32367312.html Steps to reproduce: 1.) Set the global logging level to FINE: .level = FINE 2.) Add a logger-specific logging level override: org.apache.tomcat.util.digester.Digester.level = INFO (or SEVERE) 3.) Start up Tomcat and view the catalina-(date).log file or catalina.out.  You'll see the above logger outputting countless FINE messages -- its output is not being suppressed despite the statement in #2 above."}, {"bug_id": "51774", "ground_truth": ["java/org/apache/catalina/core/ApplicationContextFacade.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "deployDescriptor Session deployDescriptors setState ApplicationContextFacade Descriptor Privileged fire RuntimeException util", "bug_title": " java.lang.NoSuchMethodException thrown when starting tomcat with security enabled and \"tracking-mode\" used in web.xml", "bug_description": "When starting my application with security enabled I get the exception below if I have the following in my web.xml. <session-config> <tracking-mode>COOKIE</tracking-mode> </session-config> If I remove the \"tracking-mode\" element then I don't get the exception. Mike [11/09/06 19:01:19:758] 00000001 Sv HostConfig: Error deploying configuration descriptor stack-pet-store-ui.xml java.lang.RuntimeException: org.apache.catalina.core.ApplicationContext.setSessionTrackingModes(java.util.EnumSet) at org.apache.catalina.core.ApplicationContextFacade.doPrivileged(ApplicationContextFacade.java:769) at org.apache.catalina.core.ApplicationContextFacade.setSessionTrackingModes(ApplicationContextFacade.java:608) at org.apache.catalina.deploy.WebXml.configureContext(WebXml.java:1324) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1343) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:896) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:322) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5103) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:812) at org.apache.catalina.core.ContainerBase.access$000(ContainerBase.java:121) at org.apache.catalina.core.ContainerBase$PrivilegedAddChild.run(ContainerBase.java:144) at org.apache.catalina.core.ContainerBase$PrivilegedAddChild.run(ContainerBase.java:133) at java.security.AccessController.doPrivileged(Native Method) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:785) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:607) at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:633) at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:558) at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:468) at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1322) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:311) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:89) at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:379) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:324) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1041) at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:774) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1033) at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:291) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:727) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145) at org.apache.catalina.startup.Catalina.start(Catalina.java:621) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:450) Caused by: java.lang.NoSuchMethodException: org.apache.catalina.core.ApplicationContext.setSessionTrackingModes(java.util.EnumSet) at java.lang.Class.getMethod(Class.java:1622) at org.apache.catalina.core.ApplicationContextFacade.invokeMethod(ApplicationContextFacade.java:790) at org.apache.catalina.core.ApplicationContextFacade.doPrivileged(ApplicationContextFacade.java:767) ... 42 more"}, {"bug_id": "51860", "ground_truth": ["java/org/apache/tomcat/util/net/jsse/JSSEKeyManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "org authorities delegate SSLEnabled choose constructor source verification getKeyManagers calypso", "bug_title": " HTTP/SSL with NIO won't work", "bug_description": "Error reproduction conditions: Tomcat 7.0.20 and 21. Connector=\"...Http11NioProtocol\" SSLEnabled=\"true\" secure=\"true\" scheme=\"https\" clientAuth=true or false JDK 1.6.0_27 X64. All operation systems. When user connects to https://, the SSL handshake fails with error: javax.net.ssl.SSLHandshakeException: no cipher suites in common If we have same connector settings,  but if we change it to BIO: Connector=\"...Http11Protocol\", everything works fine. The problem cause is a differences in SSL behavior between BIO and NIO handshake. I've found the workaround here: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6448723 See the org.apache.tomcat.util.net.jsse.JSSESocketFactory. JSSEKeyManager wraps the KeyManager. In NIO mode, the KeyManager should have two extra methods: public java.lang.String chooseEngineClientAlias(java.lang.String[] keyType, java.security.Principal[] issuers, javax.net.ssl.SSLEngine engine); public java.lang.String chooseEngineServerAlias(java.lang.String keyType, java.security.Principal[] issuers, javax.net.ssl.SSLEngine engine); We use a custom hand-made SSLInmplemention with extra features: * Keypair storage on hardware device or database * ExtendedKeyUsage verification in TrustManager * CRL validation on CRL distribution point online synchronization * ActiveDirectory account lookup by certificate The complete source code of workaround: package ru.yamoney.calypso.server.security.jsse; import org.apache.tomcat.util.net.AbstractEndpoint; import org.apache.tomcat.util.net.jsse.JSSESocketFactory; import ru.yamoney.calypso.server.CommonKernel; import javax.net.ssl.*; import java.net.Socket; import java.security.KeyStore; import java.security.Principal; import java.security.PrivateKey; import java.security.cert.X509Certificate; /** * SSLImplementation for Tomcat-7-NIO * * @author Roman Tsirulnikov */ final class CalypsoSSLSocketFactory extends JSSESocketFactory { private final CalypsoKeyManager keyManager; private final X509TrustManager trustManager; public CalypsoSSLSocketFactory(AbstractEndpoint endpoint) { super(endpoint); keyManager = CommonKernel.getInstance().getBean(\"server_calypsoKeyManager\"); trustManager = CommonKernel.getInstance().getBean(\"server_calypsoTrustManager\"); } @Override public KeyManager[] getKeyManagers() { try { KeyStore ks = keyManager.getKeyStore(); if (!ks.isKeyEntry(keyManager.getKeyAlias())) { throw new IllegalArgumentException(\"Keystore entry is not a private keypair: \" + keyManager.getKeyAlias()); } KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm()); kmf.init(ks, keyManager.getKeystorePass().toCharArray()); KeyManager[] kms = kmf.getKeyManagers(); for (int i = 0; i < kms.length; i++) { kms[i] = new NIOKeyManagerWrapper((X509KeyManager) kms[i], keyManager.getKeyAlias()); } return kms; } catch (Exception e) { throw new IllegalArgumentException(\"SSLSocketFactory init: \" + e.getMessage(), e); } } @Override public TrustManager[] getTrustManagers() { return new TrustManager[]{trustManager}; } /** * X509KeyManager wrapper * Workaround for the SSL-NIO engine bug http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6448723 */ private final class NIOKeyManagerWrapper extends X509ExtendedKeyManager { private X509KeyManager delegate; private String serverKeyAlias; /** * Constructor. * * @param mgr            The X509KeyManager used as a delegate * @param serverKeyAlias The alias name of the server's keypair and *                       supporting certificate chain */ NIOKeyManagerWrapper(X509KeyManager mgr, String serverKeyAlias) { super(); this.delegate = mgr; this.serverKeyAlias = serverKeyAlias; } /** * Choose an alias to authenticate the client side of a secure socket, * given the public key type and the list of certificate issuer authorities * recognized by the peer (if any). * * @param keyType The key algorithm type name(s), ordered with the *                most-preferred key type first * @param issuers The list of acceptable CA issuer subject names, or null *                if it does not matter which issuers are used * @param socket  The socket to be used for this connection. This parameter *                can be null, in which case this method will return the most generic *                alias to use * @return The alias name for the desired key, or null if there are no *         matches */ @Override public String chooseClientAlias(String[] keyType, Principal[] issuers, Socket socket) { return delegate.chooseClientAlias(keyType, issuers, socket); } /** * Returns this key manager's server key alias that was provided in the * constructor. * * @param keyType The key algorithm type name (ignored) * @param issuers The list of acceptable CA issuer subject names, or null *                if it does not matter which issuers are used (ignored) * @param socket  The socket to be used for this connection. This parameter *                can be null, in which case this method will return the most generic *                alias to use (ignored) * @return Alias name for the desired key */ @Override public String chooseServerAlias(String keyType, Principal[] issuers, Socket socket) { return serverKeyAlias; } /** * Returns the certificate chain associated with the given alias. * * @param alias The alias name * @return Certificate chain (ordered with the user's certificate first *         and the root certificate authority last), or null if the alias can't be *         found */ @Override public X509Certificate[] getCertificateChain(String alias) { return delegate.getCertificateChain(alias); } /** * Get the matching aliases for authenticating the client side of a secure * socket, given the public key type and the list of certificate issuer * authorities recognized by the peer (if any). * * @param keyType The key algorithm type name * @param issuers The list of acceptable CA issuer subject names, or null *                if it does not matter which issuers are used * @return Array of the matching alias names, or null if there were no *         matches */ @Override public String[] getClientAliases(String keyType, Principal[] issuers) { return delegate.getClientAliases(keyType, issuers); } /** * Get the matching aliases for authenticating the server side of a secure * socket, given the public key type and the list of certificate issuer * authorities recognized by the peer (if any). * * @param keyType The key algorithm type name * @param issuers The list of acceptable CA issuer subject names, or null *                if it does not matter which issuers are used * @return Array of the matching alias names, or null if there were no *         matches */ @Override public String[] getServerAliases(String keyType, Principal[] issuers) { return delegate.getServerAliases(keyType, issuers); } /** * Returns the key associated with the given alias. * * @param alias The alias name * @return The requested key, or null if the alias can't be found */ @Override public PrivateKey getPrivateKey(String alias) { return delegate.getPrivateKey(alias); } public java.lang.String chooseEngineClientAlias(java.lang.String[] keyType, java.security.Principal[] issuers, javax.net.ssl.SSLEngine engine) { return delegate.chooseClientAlias(keyType, issuers, null); } public java.lang.String chooseEngineServerAlias(java.lang.String keyType, java.security.Principal[] issuers, javax.net.ssl.SSLEngine engine) { return serverKeyAlias; } } }"}, {"bug_id": "51905", "ground_truth": ["java/org/apache/tomcat/util/net/AprEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "org firewall Forcing caused users jolyr socket Accept socket unlockAcceptorFailed", "bug_title": " Infinite loop when shutting down AprEndpoint", "bug_description": "If unlocking the acceptor during AprEndpoint shutdown fails, it enters an infinite loop, printing endpoint.warn.unlockAcceptorFailed message (Acceptor thread [{0}] failed to unlock. Forcing hard socket shutdown.) It was reported on users@ mailing lists, http://tomcat.markmail.org/thread/xo2jolyr44ijuu34 It might be caused by a firewall preventing Tomcat from connecting to its own HTTP port. I can reproduce it if I turn the unlockAccept() method in endpoint into an noop (e.g. by adding \"if(true){ return; }\"), both in 6.0 and in trunk. In 6.0 this bug was introduced in r1065945 and affects 6.0.32 and 6.0.33."}, {"bug_id": "51910", "ground_truth": ["java/org/apache/catalina/core/StandardWrapperValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "log Wrapper start testing Http Thread Type Context StandardWrapperValve", "bug_title": " NPE in comet processing when shutting down Tomcat", "bug_description": "I've hit it when testing 7.0.22 RC. 1. Configure Tomcat with NIO connector 2. Start Tomcat and open Comet chat example http://localhost:8080/examples/jsp/chat/index.jsp 3. Type some Nickname and press button to start chat The chat log will be in the second frame at the lower half of the page. 4. While chat log is active (Browser shows page as being loaded), shut down Tomcat. 5. Observe NPE in the logs: 28.09.2011 15:55:32 org.apache.coyote.AbstractProtocol stop INFO: Stopping ProtocolHandler [\"http-nio-8080\"] 28.09.2011 15:55:33 org.apache.catalina.connector.CoyoteAdapter event SEVERE: null java.lang.NullPointerException at org.apache.catalina.core.StandardWrapperValve.event(StandardWrapperValve.java:354) at org.apache.catalina.core.StandardContextValve.event(StandardContextValve.java:192) at org.apache.catalina.valves.ValveBase.event(ValveBase.java:226) at org.apache.catalina.core.StandardHostValve.event(StandardHostValve.java:245) at org.apache.catalina.valves.ValveBase.event(ValveBase.java:226) at org.apache.catalina.valves.ValveBase.event(ValveBase.java:226) at org.apache.catalina.core.StandardEngineValve.event(StandardEngineValve.java:138) at org.apache.catalina.connector.CoyoteAdapter.event(CoyoteAdapter.java:211) at org.apache.coyote.http11.Http11NioProcessor.event(Http11NioProcessor.java:131) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.> at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1554) at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:717) at org.apache.tomcat.util.net.NioEndpoint$Poller.cancelledKey(NioEndpoint.java:1026) at org.apache.tomcat.util.net.NioEndpoint$Poller.processKey(NioEndpoint.java:1169) at org.apache.tomcat.util.net.NioEndpoint$Poller.timeout(NioEndpoint.java:1352) at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:1085) at java.lang.Thread.run(Thread.java:662) 28.09.2011 15:55:33 org.apache.coyote.AbstractProtocol stop INFO: Stopping ProtocolHandler [\"ajp-bio-8009\"]"}, {"bug_id": "51972", "ground_truth": ["java/org/apache/catalina/connector/Response.java"], "repo": "tomcat70", "reformed_query": "String expects send catalina URLs protocol relative Redirect Absolute connector", "bug_title": " sendRedirect does not support protocol relative URLs", "bug_description": "The following URL is a protocol relative URL: \"//server.com:8080/foo/bar/kala.html\" where as this is server relative: \"/foo/bar/kala.html\" org/apache/catalina/connector/Response.java breaks on protocol relative URLs in that toAbsolute(String) expects everything that begins with a '/' to be server relative. toAbsolute adds the protocol, server and port to the URL, resulting in URLs like http://foo.com:80//server.com:8080/foo/bar/kala.html (instead of the correct http://server.com:8080/foo/bar/kala.html)"}, {"bug_id": "52042", "ground_truth": ["java/org/apache/catalina/core/DefaultInstanceManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Instance WeakHashMap Pointer annotationCache annotationCache annotation annotationCache returns Exception thrown", "bug_title": " Possible NullPointerException in DefaultInstanceManager#processAnnotations", "bug_description": "NullPointerException exception is thrown randomly from \"DefaultInstanceManager#processAnnotations\" method on the following lines, List<AnnotationCacheEntry> annotations; synchronized (annotationCache) { annotations = annotationCache.get(clazz).get(); } //Null Pointer Exception is thrown, because annotations is NULL for (AnnotationCacheEntry entry : annotations) { For example, I have a JSF Managed Bean public class X extends Y{ } Open JSF page that contains managed bean X. Randomly opening the same page throws NullPointerException because for superclass Y \"annotations = annotationCache.get(clazz).get();\" returns null. Using WeakHashMap on \"annotationCache\" field may be the reason of exception."}, {"bug_id": "52113", "ground_truth": ["java/org/apache/catalina/mbeans/MBeanFactory.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "FileNotFoundException stacktraces Configured xml startInternal createStandardContext parent Module deploy console", "bug_title": " Tomcat reports missing context xml at wrong location on JMX deployment", "bug_description": "Hello, I'm using Tomcat JMX interface to deploy apps as follows: 1) call MBeanFactory#createStandardContext, where MBeanFactory is \"Catalina:type=MBeanFactory\", with parameters: parent = \"Catalina:type=Host,host=localhost\", path = \"/w1\", docBase = <my path to the app> 2) call <my app>#start, where <my app> is \"Catalina:j2eeType=WebModule,name=//localhost/w1,J2EEApplication=none,J2EEServer=none\" As result, my app _is succesfully deployed (its context is available)_, but nevertheless I see the following exceptions in the server console (full stacktraces are skipped, to be attached next comment): 31 ???? 2011 14:05:53 org.apache.catalina.startup.ContextConfig processContextConfig SEVERE: Missing context.xml: file:/C:/<my Tomcat base folder>/conf/Catalina/localhost/w1.xml java.io.FileNotFoundException: C:\\<my Tomcat base folder>\\conf\\Catalina\\localhost\\w1.xml 31 ???? 2011 14:05:53 org.apache.catalina.startup.ContextConfig processContextConfig SEVERE: Parse error in context.xml for /w1 java.io.FileNotFoundException: C:\\<my Tomcat base folder>\\conf\\Catalina\\localhost\\w1.xml 31 ???? 2011 14:05:53 org.apache.catalina.startup.ContextConfig configureStart SEVERE: Marking this application unavailable due to previous error(s) 31 ???? 2011 14:05:53 org.apache.catalina.core.StandardContext startInternal SEVERE: Error getConfigured 31 ???? 2011 14:05:53 org.apache.catalina.core.StandardContext startInternal SEVERE: Context [/w1] startup failed due to previous errors The exceptions looks strange to me, since I don't understand why Tomcat searches for a context xml file during the jmx deploy. Do I do something wrong in the deployment workflow? Regards, Michael"}, {"bug_id": "52135", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java", "java/org/apache/catalina/core/StandardHostValve.java", "java/org/apache/catalina/deploy/ErrorPage.java", "test/org/apache/catalina/core/TestStandardHostValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "error location", "bug_title": " Global error page is not handled", "bug_description": "The new Servlet 3.0 global error page <error-page> <location>/error.jsp</location> </error-page> is not handled in Tomcat 7. On Glassfish 3 for example, it works fine."}, {"bug_id": "52156", "ground_truth": ["java/org/apache/catalina/core/ApplicationContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "based Tomcat getServletContext path Resource Servlet java myfile", "bug_title": " ServletContext.getResource(path) doesn't accept \"..\" anymore", "bug_description": "With WAR-packaged webapp, getServletContext().getResource(\"/mydata/../mydata/myfile.txt\") should return the same URL as getServletContext().getResource(\"/mydata/myfile.txt\") but returns NULL instead. It's ok for folder-based webapp. It was working in Tomcat 6.0.20. It looks like Bug 10629 (WARDirContext.java regression?)."}, {"bug_id": "52173", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "member patch WebappClassLoader clarification details Webapp top doc setting ambiguity", "bug_title": " Add a drop of additional clarification to doc on the delegate setting of the WebappClassLoader", "bug_description": "Created attachment 27931 [details] javadoc tweaks to WebappClassLoader There is a full description of the 'delegate' flag on the protected boolean member, but programmers using the class are likely to look to the setDelegate function for enlightenment. Further, the IMPLEMENTATION NOTE at the top does not mention the existence of the delegate flag. This patch tries to makes it harder to misunderstand, since the term 'delegate' has, to me at least, a bit of ambiguity to it."}, {"bug_id": "52208", "ground_truth": ["java/org/apache/catalina/tribes/transport/nio/NioReceiver.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "transport candidate java Created observed Test transport Timeouts details Thread", "bug_title": " NullPointerException in tribes.transport.nio.NioReceiver.listen() in test run", "bug_description": "Created attachment 27968 [details] TEST-org.apache.catalina.tribes.group.interceptors.TestOrderInterceptor.BIO.txt Running tests for 7.0.23 release candidate I noted that there was a NullPointerException in one of tribes tests: TEST-org.apache.catalina.tribes.group.interceptors.TestOrderInterceptor.BIO.txt 18.11.2011 9:27:56 org.apache.catalina.tribes.transport.nio.NioReceiver listen SEVERE: Unable to process request in NioReceiver java.lang.NullPointerException at org.apache.catalina.tribes.transport.nio.NioReceiver.listen(NioReceiver.java:274) at org.apache.catalina.tribes.transport.nio.NioReceiver.run(NioReceiver.java:414) at java.lang.Thread.run(Thread.java:662) ------------- ---------------- --------------- The test case did not fail, so it likely occurred during tearDown. The line in source code is 268        while (doListen() && selector != null) { (..) 272                events(); 273                socketTimeouts(); 274                int n = selector.select(getSelectorTimeout()); It is likely that selector field referenced on line 274 became null because of NioReceiver#stopListening() call. This issue was not observed on reruns. I am attaching complete log file from this test."}, {"bug_id": "52213", "ground_truth": ["java/org/apache/catalina/tribes/transport/bio/util/FastQueue.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "apache transport Fast apache org common util source concurrency Keshmesh", "bug_title": " Field \"org.apache.catalina.tribes.transport.bio.util.FastQueue.enabled\" should be volatile.", "bug_description": "The boolean flag \"org.apache.catalina.tribes.transport.bio.util.FastQueue.enabled\" may be read/written by multiple threads concurrently (See <http://svn.apache.org/repos/asf/!svn/bc/1203897/tomcat/trunk/java/org/apache/catalina/tribes/group/interceptors/MessageDispatchInterceptor.java>). Therefore, accesses to it should be properly synchronized. It is sufficient to make this boolean flag volatile to protect access to it. See <https://www.securecoding.cert.org/confluence/display/java/VNA00-J.+Ensure+visibility+when+accessing+shared+primitive+variables> for more information about this bug pattern. Keshmesh (https://keshmesh.cs.illinois.edu/) is an Eclipse plugin that analyzes the source code of Java programs for common concurrency bug patterns. We used Keshmesh to detect this concurrency bug pattern."}, {"bug_id": "52303", "ground_truth": ["java/org/apache/catalina/authenticator/NonLoginAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "ins ins tomcat SingleSignOn relies moment Login surrounding catalina session", "bug_title": " NonLoginAuthenticator does not honour session timeout with SingleSignOn Valve", "bug_description": "Created attachment 28052 [details] proposed diff to fix org.apache.catalina.authenticator.NonLoginAuthenticator This problem has been explored and discussed on the tomcat-users mailing list under the title \"SingleSignonValve and webapp session timeout\". Basically, a webapp that does not need to define a <login-config> is valid under the servlet 3.0 spec and therefore should be able to participate in a single signon realm. It should be able to inherit the security principal established by another webapp within the same realm. Its own <session-timeout> value should be honoured, even when all the other sessions in the same SingleSignOnEntry have expired. The problem is with NonLoginAuthenticator - at some time it had SSO helper logic that was too primitive. This logic was completely commented-out in tomcat 6.0.0. I have two fairly simple webapps (not quite drop-ins) that demonstrate the problem and my proposed fix. I have heavily commented my proposed fix to explain the surrounding dependent logic that it relies on. At the moment I have not found an SSO-based unit test for any of the AuthenticatorBase concrete classes, but I will try to create one (eventually)."}, {"bug_id": "52316", "ground_truth": ["java/org/apache/catalina/valves/AccessLogValve.java", "webapps/docs/changelog.xml", "webapps/docs/config/valve.xml"], "repo": "tomcat70", "reformed_query": "patterns printed http org port localhost useSendfile Note Dec suffix", "bug_title": " AccessLog does not log size for files sent with sendfile", "bug_description": "Confirming a problem reported on the users@ list. This affects both NIO and APR protocols when file is delivered with sendfile. Note, that the file have to be >48kb to trigger use of sendfile. Steps to reproduce: 1) Configure three connectors: <Connector port=\"8081\" protocol=\"org.apache.coyote.http11.Http11Protocol\" connectionTimeout=\"20000\" redirectPort=\"8443\" /> <Connector port=\"8082\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\" connectionTimeout=\"20000\" redirectPort=\"8443\" /> <Connector port=\"8083\" protocol=\"org.apache.coyote.http11.Http11AprProtocol\" connectionTimeout=\"20000\" redirectPort=\"8443\" /> and configure AccessLogValve in a <Host>: <Valve className=\"org.apache.catalina.valves.AccessLogValve\" directory=\"logs\" prefix=\"localhost_access_log.\" suffix=\".txt\" pattern=\"%h %l %u %t &quot;%r&quot; %s %b (%D ms)\" /> The difference from common pattern is that I added \"(%D ms)\" at the end. 2) Put some big file (>48k) as webapps/ROOT/file 3) Download it 3 times: http://localhost:8081/file?8081 http://localhost:8082/file?8082 http://localhost:8083/file?8083 4) Access Log: 127.0.0.1 - - [10/Dec/2011:01:05:08 +0300] \"GET /file?8081 HTTP/1.1\" 200 15027784 (4766 ms) 127.0.0.1 - - [10/Dec/2011:01:05:23 +0300] \"GET /file?8082 HTTP/1.1\" 200 - (31 ms) 127.0.0.1 - - [10/Dec/2011:01:05:48 +0300] \"GET /file?8083 HTTP/1.1\" 200 - (16 ms) Note that '-' is printed instead of file size for Nio and Apr connectors. Workarounds: ------------ A). Disable sendfile with useSendfile=\"false\" on a connector B). Add the following pattern to AccessLogValve: \"%{org.apache.tomcat.sendfile.start}r %{org.apache.tomcat.sendfile.end}r\" That will log the range of bytes sent by sendfile. E.g.: 127.0.0.1 - - [10/Dec/2011:01:05:08 +0300] \"GET /file?8081 HTTP/1.1\" 200 15027784 (4766 ms) - - 127.0.0.1 - - [10/Dec/2011:01:05:23 +0300] \"GET /file?8082 HTTP/1.1\" 200 - (31 ms) 0 15027784 127.0.0.1 - - [10/Dec/2011:01:05:48 +0300] \"GET /file?8083 HTTP/1.1\" 200 - (16 ms) 0 15027784 -------------- Overall, looking at the timing value printed by %D I would say that logging occurs before data are sent. So the value of 0 bytes is correct. It could be possible to log file size from request attributes set by sendfile, but that cannot account for aborted downloads. Though I think that would be better than the current logging of '0'. At least this limitation can be mentioned in documentation for %b and %B patterns in AccessLogValve section in valve.html and in Javadoc."}, {"bug_id": "52326", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "error Def error Types browse Sci containers Handles failed ExceptionUtils", "bug_title": " Lower log level for failed class loading", "bug_description": "Reference: https://jira.springsource.org/browse/SPR-8894 Tomcat attempts to load classes when it searches for annotations. These class loading attempts when failed, should be silently ignored. If the application attempts to load the classes later, it will receive the actual error. However, when Tomcat prints out the stack trace of this class loading error, it gives the wrong signal. There is actually not anything wrong in the application itself, so a WARN as tomcat logs with a stack trace becomes misleading. The initial fix would be: ContextConfig.java to drop log level to debug in checkHandleTypes method Class<?> clazz = null; try { clazz = context.getLoader().getClassLoader().loadClass(className); } catch (NoClassDefFoundError e) { log.debug(sm.getString(\"contextConfig.invalidSciHandlesTypes\", className), e); return; } catch (ClassNotFoundException e) { log.warn(sm.getString(\"contextConfig.invalidSciHandlesTypes\", className), e); return; } catch (ClassFormatError e) { log.warn(sm.getString(\"contextConfig.invalidSciHandlesTypes\", className), e); return; } catch (Throwable t) { ExceptionUtils.handleThrowable(t); log.warn(sm.getString(\"contextConfig.invalidSciHandlesTypes\", className), t); return; } The better fix would be to achieve the same without classloading at all. Other containers do ignore any type of classloading errors during this sequence."}, {"bug_id": "52356", "ground_truth": ["java/org/apache/catalina/tribes/transport/bio/util/FastQueue.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Fast Fast accesses lead declared Interceptor Message properly accesses potential", "bug_title": " Prevent potential data races on \"org.apache.catalina.tribes.transport.bio.util.FastQueue.size\".", "bug_description": "Even though accesses to \"org.apache.catalina.tribes.transport.bio.util.FastQueue.size\" are synchronized inside \"org.apache.catalina.tribes.transport.bio.util.FastQueue.add(ChannelMessage, Member[], InterceptorPayload)\" and \"org.apache.catalina.tribes.transport.bio.util.FastQueue.remove()\", the read access in \"org.apache.catalina.tribes.transport.bio.util.FastQueue.getSize()\" is not properly synchronized and thus can lead to a race condition. However, \"org.apache.catalina.tribes.transport.bio.util.FastQueue.getSize()\" is not used, so this bug never manifests. Nevertheless, we suggest that Tomcat developers either remove \"org.apache.catalina.tribes.transport.bio.util.FastQueue.getSize()\" or make it access the shared field safely. Field \"org.apache.catalina.tribes.transport.bio.util.FastQueue.size\" is declared at <http://svn.apache.org/repos/asf/!svn/bc/1220560/tomcat/trunk/java/org/apache/catalina/tribes/transport/bio/util/FastQueue.java>."}, {"bug_id": "52384", "ground_truth": ["java/org/apache/tomcat/util/http/LocalStrings.properties", "java/org/apache/tomcat/util/http/Parameters.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Request ImageServlet getParameterMap String result Facade valueEnd util parse URL", "bug_title": " URL parameter without value should be parsed successfully when logging level = DEBUG", "bug_description": "Create a simple servlet with protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException { request.getParameterMap(); } Start Tomcat under Eclipse, or force logging level for class org.apache.tomcat.util.http.Parameters to be \"DEBUG\" Call the servlet with parameter which has no value set, e.g. http://localhost:8080/mywebapp/myservlet?parameterWithotValue (so only the \"parameterWithotValue\" should be in the result of request.getParameterMap()) enjoy exception: java.lang.ArrayIndexOutOfBoundsException at java.lang.System.arraycopy(Native Method) at org.apache.tomcat.util.buf.ByteChunk.append(ByteChunk.java:334) at org.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:347) at org.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:425) at org.apache.tomcat.util.http.Parameters.handleQueryParameters(Parameters.java:189) at org.apache.catalina.connector.Request.parseParameters(Request.java:2993) at org.apache.catalina.connector.Request.getParameterNames(Request.java:1185) at org.apache.catalina.connector.Request.getParameterMap(Request.java:1164) at org.apache.catalina.connector.RequestFacade.getParameterMap(RequestFacade.java:444) at ru.agapemoda.servlet.ImageServlet.doGet(ImageServlet.java:47) ...................................................... at java.lang.Thread.run(Thread.java:662) Note: when logging level is \"SEVERE\", the troublesome code in org.apache.tomcat.util.http.Parameters.processParameters(Parameters.java:347) if (log.isDebugEnabled()) { try { origName.append(bytes, nameStart, nameEnd - nameStart); origValue.append(bytes, valueStart, valueEnd - valueStart); } catch (IOException ioe) { // Should never happen... log.error(sm.getString(\"parameters.copyFail\"), ioe); } } is not executed and parameter is being parsed successfully. Should be parsed successfully with log level = \"DEBUG\" as well."}, {"bug_id": "52387", "ground_truth": ["java/org/apache/catalina/startup/Tomcat.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "details solves solves add attachment startup call host call silence", "bug_title": " org.catalina.tomcat.startup.Tomcat#silence method doesn't use the host where we add the applications", "bug_description": "Created attachment 28100 [details] This patch solves the issue This method calls \"getHost\" but it should get the host from the methods that call it because the host can be different."}, {"bug_id": "52461", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Jar Modified proposal jar configure hostWebXml core copy separate method", "bug_title": " java.lang.IllegalArgumentException: URI scheme is not \"file\" is thrown in ContextConfig.getDefaultWebXmlFragment", "bug_description": "Hello, I have a project that embeds Apache Tomcat in OSGi. I provide the default web.xml from my bundles (jar files) directly; I do not provide it in a separate folder on the file system. I am using Apache Tomcat 7.0.21, but now I want to migrate to Apache Tomcat 7.0.23. Unfortunately there is a change between these two versions and with Apache Tomcat 7.0.23 the following exception is thrown: Caused by: java.lang.IllegalArgumentException: URI scheme is not \"file\" at java.io.File.<init>(File.java:366) at org.apache.catalina.startup.ContextConfig.getDefaultWebXmlFragment(ContextConfig.java:1317) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1168) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:828) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:302) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5148) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ... 71 more| In OSGi environment URI scheme is not \"file\", but \"bundleresource\". The call \"globalWebXml.getSystemId()\" in OSGi environment returns \"bundleresource://94.fwk2102834054/conf/web.xml\" I would like to propose a change (below) in ContextConfig.getDefaultWebXmlFragment() method because there is no guarantee that the URI scheme will always be \"file\". The patch is made against 7.0.x trunc. I\u00e2\u20ac\u2122m looking forward to your comments. Best Regards Violeta Georgieva Patch proposal: Index: ContextConfig.java =================================================================== --- ContextConfig.java\t(revision 1230565) +++ ContextConfig.java\t(working copy) @@ -29,7 +29,6 @@ import java.io.UnsupportedEncodingException; import java.net.JarURLConnection; import java.net.MalformedURLException; -import java.net.URI; import java.net.URISyntaxException; import java.net.URL; import java.net.URLConnection; @@ -1324,20 +1323,24 @@ if (globalWebXml != null) { try { -                File f = new File(new URI(globalWebXml.getSystemId())); -                globalTimeStamp = f.lastModified(); -            } catch (URISyntaxException e) { +                URL f = new URL(globalWebXml.getSystemId()); +                globalTimeStamp = f.openConnection().getLastModified(); +            } catch (MalformedURLException e) { globalTimeStamp = -1; -            } +            } catch (IOException e) { +            \tglobalTimeStamp = -1; +\t\t\t} } if (hostWebXml != null) { try { -                File f = new File(new URI(hostWebXml.getSystemId())); -                hostTimeStamp = f.lastModified(); -            } catch (URISyntaxException e) { +                URL f = new URL(hostWebXml.getSystemId()); +                hostTimeStamp = f.openConnection().getLastModified(); +            } catch (MalformedURLException e) { hostTimeStamp = -1; -            } +            } catch (IOException e) { +            \tglobalTimeStamp = -1; +\t\t\t} } if (entry != null && entry.getGlobalTimeStamp() == globalTimeStamp &&"}, {"bug_id": "52474", "ground_truth": ["java/org/apache/catalina/startup/TldRuleSet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "tld Removing tomcat file", "bug_title": " Do not load listeners declared with blank spaces on tld file.", "bug_description": "Created attachment 28163 [details] debugging tomcat source Do not load listeners declared with blank spaces on tld file. Removing blank spaces the application run."}, {"bug_id": "52480", "ground_truth": ["java/org/apache/catalina/loader/WebappLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "log Copy absolute lib starting compatible fine Bug Mode Extract", "bug_title": " TC7 + AntCompiler problems with whitespace in pathname", "bug_description": "### Overview Bug opened for Linux but it also happens on Windows - see below for detailed environments. TC fails to compile JSP when: 1) the compiler is AntCompiler and 2) there is a whitespace somewhere in the absolute pathname to TC home dir. It may also fail when the absolute pathname to TC home dir contains non URI-compatible characters but I have tested only with whitespace. Configuring logging.properties to have AntCompiler set to level FINEST, logs show that: - whitespace is translated to \"%20\"; - javac task fails with many errors, the first being \"package javax.servlet does not exist\". Our tests show that: - When AntCompiler is used AND tomcat is installed in a directory whose absolute pathname does NOT contain any whitespace, compilation is ok. - When AntCompiler is used AND tomcat is installed in a directory whose absolute pathname DOES contain at least one whitespace, compilation fails. - When JDTCompiler is used, compilation is ok (whitespace or not). This has been tested with the two environments described below (+ steps to reproduce). ### History  Following \"aw at ice-sa.com\"'s advice on the mailing list, I googled with \"deployment\" and found this: - TC6: In CGI Mode, \"executable\" full path with spaces does not work https://issues.apache.org/bugzilla/show_bug.cgi?id=49657 - TC5: Tomcat fails to start on linux if CATALINA_HOME contains a space https://issues.apache.org/bugzilla/show_bug.cgi?id=43578 - TC5: java.endorsed.dirs is not used when JSP compilation is forked (see comment #2) https://issues.apache.org/bugzilla/show_bug.cgi?id=31257#c2 It looks like having spaces ought to be ok. Note: on Windows, the installation wizard deploys TC into \"C:\\Program Files\\Apache Software Foundation\" which contains many spaces. ### Background Q: Why not use JDTCompiler? A: We have at least one \"huge\" JSP that fails to compile with JDTCompiler (\"unresolved compilation error\"). When we delete code from this JSP, it compiles. We could resolve the problem for this specific JSP but we have not found what makes the boundary between \"it compiles\" and \"it does not compile\" (tried suppressSmap=false, development=false). We can not afford to deploy our application on a production server with a compiler that might \"randomly\" fail on some other JSP. Previous version of our application has always been compiled with Sun / Oracle JDK: we prefer not to change the compiler brand. ### Build & Platform Test environment #1: - OS is Linux 32 bits (Ubuntu 10.04 LTS) - TC is tomcat-7.0.23 - Files ant.jar + ant-launcher.jar from ant-1.8.2 copied to tomcat lib dir - File tools.jar copied from JDK to tomcat lib dir - \"javac -version\" returns javac 1.6.0_26 - \"java -version\" returns java version \"1.6.0_26\" Java(TM) SE Runtime Environment (build 1.6.0_26-b03) Java HotSpot(TM) Client VM (build 20.1-b02, mixed mode, sharing) Test environment #2: - OS is Windows 7 64 bits - TC is tomcat-7.0.23 - Files ant.jar + ant-launcher.jar from ant-1.8.2 copied to tomcat lib dir - File tools.jar copied from JDK to tomcat lib dir - \"javac.exe -version\" returns javac 1.7.0 - \"java.exe -version\" returns java version \"1.7.0\" Java(TM) SE Runtime Environment (build 1.7.0-b147) Java HotSpot(TM) 64-Bit Server VM (build 21.0-b17, mixed mode) Note: same results with Windows 2008 R2 ### Steps to reproduce Each test begins this way: - Extract apache-tomcat-7.0.23.tar.gz to <SOME_DIR> - Depending on test <SOME_DIR> absolute pathname contains a space or not - Download apache-ant-1.8.2-bin.tar.gz - Extract to any temp directory - Copy apache-ant-1.8.2/lib/ant.jar + apache-ant-1.8.2/lib/ant-launcher.jar to <SOME_DIR>/lib - Forget ant (extracted directory can be deleted) - Copy JDK lib/tools.jar to <SOME_DIR>/lib (mandatory when fork=false, see below) - Update original web.xml this way (starting at line 230): <servlet> <servlet-name>jsp</servlet-name> <servlet-class>org.apache.jasper.servlet.JspServlet</servlet-class> <init-param> <param-name>fork</param-name> <param-value>false</param-value> <!-- true: same failure --> </init-param> <init-param> <param-name>xpoweredBy</param-name> <param-value>false</param-value> </init-param> <init-param> <param-name>compiler</param-name> <param-value>javac1.6</param-value> <!-- 1.7 if JDK 1.7 is used --> </init-param> <init-param> <param-name>suppressSmap</param-name> <param-value>true</param-value> </init-param> <load-on-startup>3</load-on-startup> </servlet> - Delete <SOME_DIR>/work to be sure not to run with any previous compilation results - Run tomcat with startup.sh (or startup.bat if running on Windows) - Go to http://localhost:8080 - When <SOME_DIR> absolute pathname contains a space, it fails, else it works. ### Actual Results Our tests: - Env#1, SOME_DIR=\"/mnt/DSK2/tmp/tc/tc 7.0.23\" => FAILS - Env#1, SOME_DIR=\"/mnt/DSK2/tmp/tc/apache-tomcat-7.0.23\" => WORKS - Env#2, SOME_DIR=\"C:\\Users\\ekp\\Desktop\\Work tc7\\apache-tomcat-7.0.23\" => FAILS - Env#2, SOME_DIR=\"C:\\tc7\\apache-tomcat-7.0.23\" => WORKS ### Expected Results TC should compile JSP even if the absolute pathname to TC home dir contains a space (or, I suppose, any other non URI-compatible character). This is especially disturbing on Windows because the TC installer deploys into \"C:\\Program Files\\Apache Software Foundation\" which contains many spaces. ### Excerpts from log file, FAIL case on environment #1 [ translation : \"FIN\" = fine ; \"PLUS FIN\" = finer / finest ; \"GRAVE\" = failure ] 16 janv. 2012 23:19:12 org.apache.jasper.compiler.JspRuntimeContext initClassPath  [...] 16 janv. 2012 23:19:18 org.apache.jasper.compiler.AntCompiler generateClass  16 janv. 2012 23:19:18 org.apache.jasper.compiler.AntCompiler generateClass GRAVE: Javac exception Compile failed; see the compiler error output for details. at org.apache.tools.ant.taskdefs.Javac.compile(Javac.java:1150) at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:912) at org.apache.jasper.compiler.AntCompiler.generateClass(AntCompiler.java:234) [...] 16 janv. 2012 23:19:18 org.apache.jasper.compiler.AntCompiler generateClass GRAVE: Environment: Compile: javaFileName=/mnt/DSK2/tmp/tc/tc 7.0.23/work/Catalina/localhost/_/org/apache/jsp/index_jsp.java  cp=/mnt/DSK2/tmp/tc/tc 7.0.23/bin/bootstrap.jar:/mnt/DSK2/tmp/tc/tc 7.0.23/bin/tomcat-juli.jar cp=/mnt/DSK2/tmp/tc/tc 7.0.23/work/Catalina/localhost/_ cp=/mnt/DSK2/tmp/tc/tc%207.0.23/lib cp=/mnt/DSK2/tmp/tc/tc%207.0.23/lib/tools.jar cp=/mnt/DSK2/tmp/tc/tc%207.0.23/lib/tomcat-dbcp.jar cp=/mnt/DSK2/tmp/tc/tc%207.0.23/lib/tomcat-jdbc.jar cp=/mnt/DSK2/tmp/tc/tc%207.0.23/lib/jasper-el.jar [...] ### Excerpts from log file, WORK case on environment #1 17 janv. 2012 00:05:49 org.apache.jasper.compiler.JspRuntimeContext initClassPath  [...] 17 janv. 2012 00:05:59 org.apache.jasper.compiler.AntCompiler generateClass  17 janv. 2012 00:06:00 org.apache.jasper.compiler.AntCompiler generateClass FIN: Compiled /mnt/DSK2/tmp/tc/apache-tomcat-7.0.23/work/Catalina/localhost/_/org/apache/jsp/index_jsp.java 1580ms =*= THE END =*="}, {"bug_id": "52488", "ground_truth": ["java/org/apache/catalina/ha/session/DeltaManager.java", "java/org/apache/catalina/ha/session/mbeans-descriptors.xml", "java/org/apache/catalina/tribes/membership/McastServiceImpl.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "expire word typos removes places number log created debug expire", "bug_title": " there is a common typo exipre", "bug_description": "Created attachment 28176 [details] tomcat-6.0.35-typo.patch fixes the typos the word expire is typed exipre in a number of places of debug log and mbean info patch created also removes a double space"}, {"bug_id": "52511", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Created Tomcat Tomcat classes annotation app classes INF annotation Tomcat", "bug_title": " Exception logged in annotation scanning for web apps without /WEB-INF/classes", "bug_description": "Created attachment 28196 [details] error and exception trace Any web app not containing a /WEB-INF/classes directory appears to cause an error and exception trace to be logged during web app startup.  This is new Tomcat 7.0.25 (or 7.0.24) and did not occur in 7.0.23."}, {"bug_id": "52543", "ground_truth": ["java/org/apache/coyote/http11/AbstractOutputBuffer.java", "java/org/apache/coyote/http11/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "AbstractHttp application http response send Endpoint AbstractOutputBuffer Output send cookie", "bug_title": " Exception", "bug_description": "SEVERE: Error finishing response java.lang.ArrayIndexOutOfBoundsException at java.lang.System.arraycopy(Native Method) at org.apache.coyote.http11.AbstractOutputBuffer.write(AbstractOutputBuffer.java:495) at org.apache.coyote.http11.AbstractOutputBuffer.sendStatus(AbstractOutputBuffer.java:337) at org.apache.coyote.http11.AbstractHttp11Processor.prepareResponse(AbstractHttp11Processor.java:1418) at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:756) at org.apache.coyote.Response.action(Response.java:168) at org.apache.coyote.http11.AbstractOutputBuffer.endRequest(AbstractOutputBuffer.java:310) at org.apache.coyote.http11.InternalOutputBuffer.endRequest(InternalOutputBuffer.java:158) at org.apache.coyote.http11.AbstractHttp11Processor.endRequest(AbstractHttp11Processor.java:1586) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1022) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:307) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) at java.lang.Thread.run(Thread.java:722) big application i dont know why its happens may be due to the fact that twice as add some cookie"}, {"bug_id": "52586", "ground_truth": ["java/org/apache/catalina/core/StandardHostValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "request impossible produce current attribute invalid creating critical", "bug_title": " When requests are forwarded, the request attribute javax.servlet.forward.path_info is assigned an incorrect value.", "bug_description": "As per the servlet spec, the values for: javax.servlet.forward.request_uri javax.servlet.forward.context javax.servlet.forward.servlet_path javax.servlet.forward.path_info javax.servlet.forward.query_string MUST be set to the values from the very first servlet that serviced the current request.  However, it seems that Tomcat is populating path_info with the value of the LAST path_info serviced in the request (i.e. the final servlet that serviced the request).  It's possible the other value assignments are afflicted by similar defects, I've not explicitly tested for this. Because of this issue, it's impossible to correctly reconstruct the original request's URI piecemeal by concatenating context+servlet_path+path_info+?+query_string, since path_info will contain the path to another servlet and thus this concatenation will produce a probably invalid URI target. Therefore, creating \"click here to retry\" links is impossible without workaround code. The critical issue here is the deviation from the servlet spec, which spells out the behavior of those attributes."}, {"bug_id": "52587", "ground_truth": ["java/org/apache/catalina/core/StandardEngine.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "stock realm pathological service log server Basic Pointer", "bug_title": " NPE in authenticator when no realm/resource is defined", "bug_description": "When no Realm is available to authenticate against, an NPE is thrown. STR: 1. Start with a stock 7.0.25 and modify server.xml: 2. Comment-out <Resource> in <GlobalNamingResources> 3. Comment-out <Realm> in <Engine> 4. Deploy manager app and try to log in java.lang.NullPointerException org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:340) org.apache.catalina.authenticator.BasicAuthenticator.authenticate(BasicAuthenticator.java:158) org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544) org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:987) org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579) org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1600) java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) java.lang.Thread.run(Thread.java:680) Clearly, this is a pathological setup, but it might be nice to get a decent error message instead of an NPE."}, {"bug_id": "52591", "ground_truth": ["java/org/apache/catalina/mbeans/MBeanDumper.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "invoking Attribute dbcp dumpBeans jdbc localhost modeler lang Servlet emitted", "bug_title": " UnsupportedOperationException logged when fetching BasicDataSource 'loginTimeout'", "bug_description": "With a BasicDataSource configured (using a <Resource>), simply list the available MBeans and this exception will be emitted to stdout: SEVERE: Error getting attribute Catalina:type=DataSource,context=/context,host=localhost,class=javax.sql.DataSource,name=\"jdbc/myDataSource\" loginTimeout javax.management.RuntimeOperationsException: Exception invoking method loginTimeout at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:197) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:666) at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:638) at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:81) at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:166) at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121) at javax.servlet.http.HttpServlet.service(HttpServlet.java:621) [...] Caused by: java.lang.UnsupportedOperationException: Not supported by BasicDataSource at org.apache.tomcat.dbcp.dbcp.BasicDataSource.getLoginTimeout(BasicDataSource.java:1083) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) This exception does not cause the request to fail, but definitely puts an ugly stack trace in catalina.out. It might be better to catch UnsupportedOperationException and emit a one-line error message -- one that isn't SEVERE."}, {"bug_id": "52669", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "java/org/apache/catalina/startup/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "listBindings Georgieva skipped MalformedURLException hasMoreElements running Violeta OSGI Violeta processed", "bug_title": " Annotation processing, in WEB-INF/classes, for Servlets/Listeners/Filters is skipped when the web app is not extracted, classes do not have packages and for some embedded scenarios", "bug_description": "Hi, Annotation processing for Servlets/Listeners/Filters is skipped when: - the web app is not extracted (screenshot1), - classes do not have packages (screenshot2), - for some embedded scenarios (running Tomcat in OSGI environment - screenshot3) A test web application is attached - test-web-app.war. I followed the history and the change that introduces that behaviour is made with revision 1210012. org.apache.catalina.startup.ContextConfig The annotations are processed correctly in all use cases when we have: 1199    URL webinfClasses; 1200    try { 1201        webinfClasses = context.getServletContext().getResource( 1202                                \"/WEB-INF/classes\"); 1203        processAnnotationsUrl(webinfClasses, webXml); 1204    } catch (MalformedURLException e) { 1205        log.error(sm.getString( 1206                                \"contextConfig.webinfClassesUrl\"), e); 1207    } The way how they are processed now is assuming that we will have FirDirContext always. 1196    try { 1197        NamingEnumeration<Binding> listBindings = 1198                    context.getResources().listBindings(\"/WEB-INF/classes\"); 1199        while (listBindings.hasMoreElements()) { 1200            Binding binding = listBindings.nextElement(); 1201            if (binding.getObject() instanceof FileDirContext) { 1202               File webInfCLassDir = 1203                     new File( 1204                       ((FileDirContext) binding.getObject()).getDocBase()); 1205               processAnnotationsFile(webInfCLassDir, webXml); 1206            } 1207        } 1208    } catch (NamingException e) { 1209        log.error(sm.getString( 1210                            \"contextConfig.webinfClassesUrl\"), e); 1211    } Regards Violeta Georgieva"}, {"bug_id": "52671", "ground_truth": ["java/org/apache/catalina/mbeans/MBeanDumper.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "MBean tomcat Delegating NullPointerException UTF tomcat Beans Timeout getWriteBufSize getRxBufSize", "bug_title": " NIO Connector: Exception invoking method readBufSize / writeBufSize in the JMX Proxy Servlet", "bug_description": "JDK versions tested with: 1.7.0_02 (x64) and 1.7.0_03 (x64) I am using the new NIO connector, configured like this: <Connector protocol=\"org.apache.coyote.ajp.AjpNioProtocol\" port=\"8009\" redirectPort=\"8443\" URIEncoding=\"UTF-8\" maxThreads=\"50\" minSpareThreads=\"10\" connectionTimeout=\"600000\" acceptorThreadCount=\"2\" /> I query the JMX proxy for the thread pool status like this: http://www.mydomain.com/manager/jmxproxy/?qry=Catalina:type=ThreadPool,name=%22ajp-nio-8009%22 The JMX proxy servlet returns a valid response, and the server's general operation is not affected in any way. But at the same time, Tomcat logs the following two exceptions to catalina.out: Feb 15, 2012 12:26:49 PM org.apache.catalina.mbeans.MBeanDumper dumpBeans Schwerwiegend: Error getting attribute Catalina:type=ThreadPool,name=\"ajp-nio-8009\" readBufSize javax.management.RuntimeOperationsException: Exception invoking method readBufSize at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:197) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:647) at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:668) at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:81) at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:166) at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121) at javax.servlet.http.HttpServlet.service(HttpServlet.java:621) at javax.servlet.http.HttpServlet.service(HttpServlet.java:722) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) at org.apache.coyote.ajp.AjpNioProcessor.process(AjpNioProcessor.java:184) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1600) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) at java.lang.Thread.run(Thread.java:722) Caused by: java.lang.NullPointerException at org.apache.tomcat.util.net.SocketProperties.getRxBufSize(SocketProperties.java:251) at org.apache.tomcat.util.net.NioEndpoint.getReadBufSize(NioEndpoint.java:613) at sun.reflect.GeneratedMethodAccessor1196.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:190) ... 25 more Feb 15, 2012 12:26:49 PM org.apache.catalina.mbeans.MBeanDumper dumpBeans Schwerwiegend: Error getting attribute Catalina:type=ThreadPool,name=\"ajp-nio-8009\" writeBufSize javax.management.RuntimeOperationsException: Exception invoking method writeBufSize at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:197) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:647) at com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:668) at org.apache.catalina.mbeans.MBeanDumper.dumpBeans(MBeanDumper.java:81) at org.apache.catalina.manager.JMXProxyServlet.listBeans(JMXProxyServlet.java:166) at org.apache.catalina.manager.JMXProxyServlet.doGet(JMXProxyServlet.java:121) at javax.servlet.http.HttpServlet.service(HttpServlet.java:621) at javax.servlet.http.HttpServlet.service(HttpServlet.java:722) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:169) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:168) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407) at org.apache.coyote.ajp.AjpNioProcessor.process(AjpNioProcessor.java:184) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:579) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1600) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) at java.lang.Thread.run(Thread.java:722) Caused by: java.lang.NullPointerException at org.apache.tomcat.util.net.SocketProperties.getTxBufSize(SocketProperties.java:283) at org.apache.tomcat.util.net.NioEndpoint.getWriteBufSize(NioEndpoint.java:609) at sun.reflect.GeneratedMethodAccessor1151.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:601) at org.apache.tomcat.util.modeler.BaseModelMBean.getAttribute(BaseModelMBean.java:190) ... 25 more"}, {"bug_id": "52719", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "org WebappClassLoader length trunk structure Offending parent apache", "bug_title": " An incomplete fix for the resource leak bug in WebappClassLoader.java", "bug_description": "The fix revision 423920 was aimed to remove an resource leak bug on the  JarFile \"jarFile \"  in the method \"validateJarFile\" of the file \"/tomcat/tc6.0.x/trunk/java/org/apache/catalina/loader/WebappClassLoader.java\" , but it is incomplete. When the statements at lines 3226-3245 throw any eception, the object \"jarFile \" can not be closed as expected. The best way to close such resource object is putting such close operations in the finaly block of a try-catch-finally structure. The buggy code is copies as bellows: 3220 protected boolean validateJarFile(File jarfile) throws IOException { if (triggers == null) return (true); 3225        JarFile jarFile = new JarFile(jarfile); 3226        for (int i = 0; i < triggers.length; i++) { Class clazz = null; try { if (parent != null) { clazz = parent.loadClass(triggers[i]); } else { clazz = Class.forName(triggers[i]); } } catch (Throwable t) { clazz = null; } if (clazz == null) continue; String name = triggers[i].replace('.', '/') + \".class\"; if (log.isDebugEnabled()) log.debug(\" Checking for \" + name); JarEntry jarEntry = jarFile.getJarEntry(name); if (jarEntry != null) { log.info(\"validateJarFile(\" + jarfile + \") - jar not loaded. See Servlet Spec 2.3, \" + \"section 9.7.2. Offending class: \" + name); 3246                jarFile.close(); return (false); } } jarFile.close(); return (true); }"}, {"bug_id": "52725", "ground_truth": ["java/org/apache/jasper/compiler/JspUtil.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "compiler Error field ErrorDispatcher string getTagHandlerClassName ErrorDispatcher urn err constants", "bug_title": " org.apache.jasper.compiler.JspUtil#getTagHandlerClassName() does not use org.apache.jasper.Constants.TAG_FILE_PACKAGE_NAME", "bug_description": "In the class org.apache.jasper.compiler.JspUtil, its method public static String getTagHandlerClassName(String path, String urn, ErrorDispatcher err) throws JasperException { ... } uses the string constants directly like \"org.apache.jsp.tag.web.\", \"org.apache.jsp.tag.meta.\". But you know there is TAG_FILE_PACKAGE_NAME field in the class org.apache.jasper.Constants. The code should be adjusted like below : Constants.TAG_FILE_PACKAGE_NAME + \".web\" Constants.TAG_FILE_PACKAGE_NAME + \".meta\""}, {"bug_id": "52758", "ground_truth": ["java/org/apache/jasper/compiler/JDTCompiler.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "org problems updating https compilation eclipse eclipse clients env cgi", "bug_title": " Jasper illegally implements org.eclipse.jdt.internal.compiler.env.ICompilationUnit from Eclipse", "bug_description": "The illegal implementation described in the Eclipse bug (https://bugs.eclipse.org/bugs/show_bug.cgi?id=372351) is causing severe problems for the Eclipse SDK which uses Jasper for our help system. The interface in question is org.eclipse.jdt.internal.compiler.env.ICompilationUnit which resides in an internal package and should not be implemented by clients. The ideal resolution to this problem would be for Jasper to discontinue implementing it, but we would also be fine with Jasper just updating their code to resolve the compilation problems."}, {"bug_id": "52770", "ground_truth": ["java/org/apache/tomcat/util/net/NioBlockingSelector.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Ken Count Time Selection startReadLatch WRITE trunk interrupted checker interrupted", "bug_title": " Potential Bug or Inconsistency in NioBlockingSelector.java", "bug_description": "This is Ken Cheung, a Computer Science M.Phil. student. I observed some code clones in Tomcat and found inconsistent code: /tomcat/trunk/java/org/apache/tomcat/util/net/NioBlockingSelector.java 103\t                try { 104\t                    if ( att.getWriteLatch()==null || att.getWriteLatch().getCount()==0) att.startWriteLatch(1); 105\t                    poller.add(att,SelectionKey.OP_WRITE,reference); 106\t                    att.awaitWriteLatch(writeTimeout,TimeUnit.MILLISECONDS); 107\t                }catch (InterruptedException ignore) { 108\t                    Thread.interrupted(); 109\t                } 110\t                if ( att.getWriteLatch()!=null && att.getWriteLatch().getCount()> 0) { 111\t                    //we got interrupted, but we haven't received notification from the poller. 112\t                    keycount = 0; 113\t                }else { 114\t                    //latch countdown has happened 115\t                    keycount = 1; 116\t                    att.resetWriteLatch(); 117\t                } 118 119\t                if (writeTimeout > 0 && (keycount == 0)) 120\t                    timedout = (System.currentTimeMillis() - time) >= writeTimeout; /tomcat/trunk/java/org/apache/tomcat/util/net/NioBlockingSelector.java 164\t                try { 165\t                    if ( att.getReadLatch()==null || att.getReadLatch().getCount()==0) att.startReadLatch(1); 166\t                    poller.add(att,SelectionKey.OP_READ, reference); 167\t                    if (readTimeout < 0) { 168\t                        att.awaitReadLatch(Long.MAX_VALUE, TimeUnit.MILLISECONDS); 169\t                    } else { 170\t                        att.awaitReadLatch(readTimeout, TimeUnit.MILLISECONDS); 171\t                    } 172\t                }catch (InterruptedException ignore) { 173\t                    Thread.interrupted(); 174\t                } 175\t                if ( att.getReadLatch()!=null && att.getReadLatch().getCount()> 0) { 176\t                    //we got interrupted, but we haven't received notification from the poller. 177\t                    keycount = 0; 178\t                }else { 179\t                    //latch countdown has happened 180\t                    keycount = 1; 181\t                    att.resetReadLatch(); 182\t                } 183\t                if (readTimeout >= 0 && (keycount == 0)) 184\t                    timedout = (System.currentTimeMillis() - time) >= readTimeout; Quick description of the inconsistency Two code snippets are very similar code, but as you see, the first code does not check \"if (readTimeout < 0)\" while the second code has the checker. We thought it could be a potential bug or inconsistency. Hope this helps."}, {"bug_id": "52772", "ground_truth": ["java/org/apache/jasper/JspC.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "scans getMessage files jspc option method Jasper scans error suggestion", "bug_title": " JspC : checking uriRoot option validness", "bug_description": "In org.apache.jasper.JspC#execute() method, if uriRoot is not null, it scans all jsp files under uriRoot, and then checks if uriRoot is a directory. It should be more desirable to check if uriRoot is a directory or not first and then scanning it. Here are my suggestion. if (uriRoot == null) { throw new JasperException( Localizer.getMessage(\"jsp.error.jspc.no_uriroot\")); } File uriRootF = new File(uriRoot); if (!uriRootF.exists() || !uriRootF.isDirectory()) { throw new JasperException( Localizer.getMessage(\"jsp.error.jspc.uriroot_not_dir\")); } if( context==null ) { initServletContext(); } // No explicit pages, we'll process all .jsp in the webapp if (pages.size() == 0) { scanFiles(uriRootF); }"}, {"bug_id": "52776", "ground_truth": ["java/org/apache/jasper/compiler/Generator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Generator context InvokeAction code ELContext printil shouldn searching getJspContext implementation", "bug_title": " Generator's JspFragment.invoke implementation does not reset ELContext[JspContext.class]", "bug_description": "If a developer captures a JspFragment themselves and calls invoke on it, the JspContext.class attribute in the enclosing pageContext's ELContext is set by the generated JspFragment subclass, but not reset to its original value afterwards. Therefore after invoking a JspContext any EL expressions will be searching the wrong jspContext for attribute values. org.apache.jasper.compiler.Generator is responsible for creating the JspFragment subclass to represent the compiled fragment. The generatePostamble() method emits generated code to set the JspContext attribute in the ELContext: out.printil(\"this.jspContext.getELContext().putContext(javax.servlet.jsp.JspContext.class,this.jspContext);\"); However it doesn't later put back the original value. If you are using the <jsp:invoke> tag to invoke the fragment (which is undoubtedly what most people are doing) then the code generated by visit(Node.InvokeAction n) in Generator explicitly restores the EL context: out.printil(\"jspContext.getELContext().putContext(javax.servlet.jsp.JspContext.class,getJspContext());\"); However if you call invoke(Writer) on the JspFragment yourself you don't get that tidy up code. I suggest the resolution is to have the JspFragment.invoke method tidy up after itself. It \"puts\" the change to the JspContext.class attribute so it should also re\"put\" it. Then there shouldn't be any need to restore the EL context in the generated <jsp:invoke> code. I have tested this solution successfully."}, {"bug_id": "52792", "ground_truth": ["java/org/apache/naming/LocalStrings.properties", "java/org/apache/naming/NamingContext.java"], "repo": "tomcat70", "reformed_query": "error lookup naming composite bound patch full advance application field", "bug_title": " Incomplete error message when lookup a resource that is not bound in the naming", "bug_description": "Created attachment 28401 [details] Patch proposal Hi, I have a servlet that specifies @Resource on a field level. (see attached sample application) When a request comes for this servlet, Tomcat tries to inject this resource and to instantiate the servlet. If the resource is not found, 500 ISE is returned as a response code. In the error message returned in the error page, it is not specified the full composite name that Tomcat tries to lookup, but only the first part (the context) (see incorrect.png). Thus the end user cannot understand which is the resource that causes the problem, but only the context that cannot be found. I would like to propose a patch (attached). A screenshot (correct.png) with corrected error message is also attached. Thanks in advance. Regards, Violeta Georgieva"}, {"bug_id": "52833", "ground_truth": ["java/org/apache/catalina/core/StandardServer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "doMain startContainer mainWithExitCode reflect main startup internal lifecycle java buildProject", "bug_title": " NPE with 7.0.26", "bug_description": "Upgrading the maven plugin 7.0.26, the goal which runs tomcat with a conf dir (not the embed version) generate the following NPE Log: at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:141) at org.apache.catalina.startup.Catalina.start(Catalina.java:645) at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.startContainer(AbstractRunMojo.java:679) at org.apache.tomcat.maven.plugin.tomcat7.run.AbstractRunMojo.execute(AbstractRunMojo.java:365) at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153) at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84) at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59) at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183) at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161) at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320) at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156) at org.apache.maven.cli.MavenCli.execute(MavenCli.java:544) at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:197) at org.apache.maven.cli.MavenCli.main(MavenCli.java:141) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290) at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230) at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409) at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)"}, {"bug_id": "52846", "ground_truth": ["java/org/apache/catalina/authenticator/NonLoginAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Principal Authenticator Programmatic login Principal registered Authenticator GenericPrincipal AuthenticatorBase RealmBase", "bug_title": " Programmatic login using UserDatabaseRealm returns 403 error.", "bug_description": "IMHO,HttpServletRequest#login does not need to define a <login-config>. NonLoginAuthenticator is used when <login-config> is not specified in HttpServletRequest#login. When UserDatabaseRealm is used, not GenericPrincipal but Memory User is set to a session. In AuthenticatorBase#invoke, principal registered into a session is set to a request. Because MemoryUser is set to a request as principal, RealmBase#hasRole always returns false. As a result, 403 error is returned."}, {"bug_id": "52858", "ground_truth": ["java/org/apache/tomcat/util/net/NioEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Resource Comet AppleWebKit Client Mobile select Port write alive isReadable", "bug_title": " High CPU load in the NIO connector, when a client breaks connection unexpectedly", "bug_description": "How to reproduce: Tomcat with the NIO connector, using HTTPS scheme, when a client requests for some quite a big (~100K-200K) static file, and breaks the connection unexpectedly. Here is the python script to reproduce the problem: # The way to reproduce the bug in the Tomcat NIO connector. # Install python-iptables from https://github.com/ldx/python-iptables/downloads # Author: Dmitry Kukushkin (dmitry.kukushkin at external.telekom.de) from threading import Thread from threading import Lock from socket import * from select import * from time import * from traceback import * import ssl import sys import iptc blockedPorts = dict() getCssRequest = \"\"\"GET /<some big file> HTTP/1.1\\r Host: <host>:<port>\\r User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 5_0_1 like Mac OS X) AppleWebKit/534.46 (KHTML, like Gecko) Mobile/9A406\\r Accept: text/css,*/*;q=0.1\\r Accept-Language: de-de\\r Accept-Encoding: gzip, deflate\\r Connection: keep-alive\\r\\n \\r\\n \"\"\" class Client(Thread): def __init__(self, tid, lock): Thread.__init__(self) self.lock = lock self.tid = tid def run(self): print \"Starting thread %d\" % self.tid try: clientSocket = socket(AF_INET, SOCK_STREAM) sslSocket = ssl.wrap_socket(clientSocket) remoteAddr = (<host>, <port>) sslSocket.connect(remoteAddr) localAddr, localPort =  sslSocket.getsockname() print \"New socket created tid=%d, sfd=%d, sport=%d\" % ( self.tid, clientSocket.fileno(), localPort ) self.deleteFirewallRule(localPort, self.lock) sslSocket.send(getCssRequest) data = sslSocket.recv(1024) ''' Put the socket into half - closed state ''' clientSocket.shutdown(SHUT_WR) clientSocket.close() self.createFirewallRule(localPort, self.lock) except Exception, e: print \"Error: \", e print_exc() @staticmethod def createFirewallRule(port, lock): lock.acquire() print \"Creating the iptables rule for port %d\" % port rule = iptc.Rule() rule.protocol = \"tcp\" rule.target = iptc.Target(rule, \"REJECT\") match = iptc.Match(rule, \"tcp\") match.sport = \"%s\" % port rule.add_match(match) chain = iptc.Chain(iptc.TABLE_FILTER, \"OUTPUT\") chain.insert_rule(rule) rule.target.reset() blockedPorts[port] = rule lock.release() @staticmethod def deleteFirewallRule(port, lock): lock.acquire() if port in blockedPorts: print \"Deleteng the iptables rule for port %d\" % port rule = blockedPorts[port] chain = iptc.Chain(iptc.TABLE_FILTER, \"OUTPUT\") chain.delete_rule(rule) chain.flush() del blockedPorts[port] lock.release() if __name__ == \"__main__\": if len(sys.argv) == 1 : print \"Problem.py <number of threads>\" exit(0) clients = [] lock = Lock() for i in range( int(sys.argv[1]) ): c = Client(i, lock) clients.append(c) c.start() print \"Joining\" for i in clients: i.join() The client shutdowns the socket, thus making connection half-closed, and disappears (is blocked by firewall in case of this script). This results in a high CPU load: Servers polls the socket descriptor for both reading and writing, and gets EPOLLIN event on this half-closed connection, then it is trying to write, failing with EAGAIN, polling sd for writing and reading events again, getting EPOLLIN, trying to write... and so on, as you can see from the attached strace snippet: ... [pid 26206] epoll_ctl(50, EPOLL_CTL_DEL, 51, {0, {u32=51, u64=34359738419}}) = 0 [pid 26206] gettimeofday({1331211762, 650946}, NULL) = 0 [pid 26206] epoll_wait(50,  <unfinished ...> [pid 26199] <... epoll_wait resumed> {{EPOLLIN, {u32=40, u64=7266968735074746408}}}, 4096, 1000) = 1 [pid 26199] read(40, \"\\1\", 128)         = 1 [pid 26199] gettimeofday({1331211762, 652745}, NULL) = 0 [pid 26199] epoll_wait(43,  <unfinished ...> [pid 26206] <... epoll_wait resumed> {{EPOLLIN, {u32=48, u64=6182845940760624}}}, 4096, 1000) = 1 [pid 26206] read(48, \"\\1\", 128)         = 1 [pid 26206] gettimeofday({1331211762, 675214}, NULL) = 0 [pid 26206] gettimeofday({1331211762, 675294}, NULL) = 0 [pid 26206] gettimeofday({1331211762, 675378}, NULL) = 0 [pid 26206] epoll_ctl(50, EPOLL_CTL_ADD, 51, {EPOLLOUT, {u32=51, u64=51}}) = 0 [pid 26206] epoll_ctl(50, EPOLL_CTL_MOD, 51, {EPOLLIN|EPOLLOUT, {u32=51, u64=7255244058472218675}}) = 0 [pid 26206] gettimeofday({1331211762, 675570}, NULL) = 0 [pid 26206] epoll_wait(50, {{EPOLLIN, {u32=51, u64=7255244058472218675}}}, 4096, 1000) = 1 [pid 26206] gettimeofday({1331211762, 675699}, NULL) = 0 [pid 26206] gettimeofday({1331211762, 675761}, NULL) = 0 [pid 26206] write(51, \"\\272\\270\\301c\\226\\341\\272o-<\\233\\370|\\223\\313\\241\\177\\215*\\236\\201\\327YI5u\\210J*A\\371z\"..., 116) = -1 EAGAIN (Resource temporarily unavailable) [pid 26206] gettimeofday({1331211762, 675925}, NULL) = 0 [pid 26206] gettimeofday({1331211762, 675979}, NULL) = 0 [pid 26206] epoll_wait(50, {{EPOLLIN, {u32=51, u64=7255244058472218675}}}, 4096, 1000) = 1 [pid 26206] gettimeofday({1331211762, 676082}, NULL) = 0 [pid 26206] gettimeofday({1331211762, 676144}, NULL) = 0 [pid 26206] write(51, \"\\272\\270\\301c\\226\\341\\272o-<\\233\\370|\\223\\313\\241\\177\\215*\\236\\201\\327YI5u\\210J*A\\371z\"..., 116) = -1 EAGAIN (Resource temporarily unavailable) [pid 26206] gettimeofday({1331211762, 676273}, NULL) = 0 [pid 26206] gettimeofday({1331211762, 676327}, NULL) = 0 [pid 26206] epoll_wait(50, {{EPOLLIN, {u32=51, u64=7255244058472218675}}}, 4096, 1000) = 1 [pid 26206] gettimeofday({1331211762, 676429}, NULL) = 0 [pid 26206] gettimeofday({1331211762, 676476}, NULL) = 0 [pid 26206] write(51, \"\\272\\270\\301c\\226\\341\\272o-<\\233\\370|\\223\\313\\241\\177\\215*\\236\\201\\327YI5u\\210J*A\\371z\"..., 116) = -1 EAGAIN (Resource temporarily unavailable) [pid 26206] gettimeofday({1331211762, 676609}, NULL) = 0 [pid 26206] gettimeofday({1331211762, 676671}, NULL) = 0 ... Possible solution: Check if EPOLLOUT event has arrived before attempting to send the file: --- apache-tomcat-7.0.26-src/java/org/apache/tomcat/util/net/NioEndpoint.java +++ apache-tomcat-7.0.26-src/java/org/apache/tomcat/util/net/NioEndpoint.java @@ -1205,7 +1205,7 @@ sk.attach(attachment);//cant remember why this is here NioChannel channel = attachment.getChannel(); if (sk.isReadable() || sk.isWritable() ) { -                        if ( attachment.getSendfileData() != null ) { +                        if ( sk.isWritable() && attachment.getSendfileData() != null ) { processSendfile(sk,attachment,true, false); } else if ( attachment.getComet() ) { //check if thread is available"}, {"bug_id": "52926", "ground_truth": ["java/org/apache/tomcat/util/net/NioEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "connector util net cancelledKey connections Poller socket attachment method Pointer", "bug_title": " NPE in processSocket", "bug_description": "We have sporadic issues triggering 502 proxy errors using the NIO connector behind Nginx, caused by dropped connections/end of streams in Tomcat. The Tomcat log shows: SEVERE: Error allocating socket processor java.lang.NullPointerException at org.apache.tomcat.util.net.NioEndpoint.processSocket(NioEndpoint.java:721) at org.apache.tomcat.util.net.NioEndpoint$Poller.cancelledKey(NioEndpoint.java:1048) at org.apache.tomcat.util.net.NioEndpoint$Poller.timeout(NioEndpoint.java:1392) at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:1174) at java.lang.Thread.run(Thread.java:662) Looking at the code in processSocket I see the line in NioEndpoint(721): attachment.setCometNotify(false); //will get reset upon next reg Attachment is fetched in line 720: KeyAttachment attachment = (KeyAttachment)socket.getAttachment(false); Looking at socket.getAttachement() method I see that this method is indeed capable of returning null, but no null-check for this is done (although it is in multiple other locations, so it seems inconsistent)."}, {"bug_id": "52953", "ground_truth": ["java/org/apache/catalina/realm/RealmBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "confusing serverDigestValue problem Created attempt Created nonce serverDigest BASIC Realm", "bug_title": " Unlike BASIC Authentication, DIGEST mode does not work if the hash is stored in uppercase.", "bug_description": "Created attachment 28487 [details] patch against the current 8.0.0-dev trunk adding toLowerCase on hash retrieval Unlike BASIC Authentication, DIGEST mode does not work if the hash is stored in uppercase. This is not a problem if the hashes are generated by CATALINA/bin/digest.sh, but if they are prepared with other software which generate uppercase hex strings for hashes, it can be very confusing trying to figure out why digest authentication is not working. The other hash comparisons use equalsIgnoreCase() to compare the hashes, but the digest version of RealmBase.authenticate() prepares the serverDigestValue by taking the Principal's hash (as is) and prepending it to the nonce and other digest fields, and then rehashing. As a result, the final hash serverDigest is not the same as the clientDigest value that comes from the browser. To test, change an MD5 DIGEST hash to upper case and attempt to authenticate. The provided one-line patch against the current 8.0.0-dev trunk simply uses toLowerCase on the retrieved server-side hash. Best Regards, Neale Rudd"}, {"bug_id": "52957", "ground_truth": ["java/org/apache/catalina/core/StandardPipeline.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Violeta attachment util Exception attachment LifecycleBase proposal removeValve Lifecycle Georgieva", "bug_title": " ClassCastException while removing Valve", "bug_description": "Created attachment 28490 [details] Patch proposal Hello, The exception below is thrown when StandardPipeline.removeValve() is invoked: Caused by: java.lang.ClassCastException: test.MyValve cannot be cast to org.apache.catalina.Lifecycle at org.apache.catalina.core.StandardPipeline.removeValve(StandardPipeline.java:461) at org.apache.catalina.core.StandardPipeline.destroyInternal(StandardPipeline.java:222) at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:304) test.MyValve implements only Valve I'm attaching a patch made against 7.0.x. Please review it and comment it. Thanks in advance. Regards Violeta Georgieva"}, {"bug_id": "52974", "ground_truth": ["java/org/apache/catalina/startup/WebAnnotationSet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "test Annotation WebAnnotationSet Resource Apply core issue Deploy Annotated Object", "bug_title": " NameNotFoundException is thrown when field/method is annotated with @Resource annotation", "bug_description": "Created attachment 28500 [details] Patch proposal Hi, I have a web application (attached) that has a Servlet with an annotated (@Resource) field and an annotated (@Resource) method. When I request the Servlet I'm receiving: javax.naming.NameNotFoundException: Name test.TestServlet is not bound in this Context org.apache.naming.NamingContext.lookup(NamingContext.java:820) org.apache.naming.NamingContext.lookup(NamingContext.java:168) org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472) org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) I searched the sources and found that org.apache.catalina.startup.WebAnnotationSet processes and prepares for binding only @Resource annotation on a class level. However org.apache.catalina.core.DefaultInstanceManager tries to process @Resource annotation on field/method level and to inject the necessary Object. Unfortunately as the information is not processed and bound in the naming previously, NameNotFoundException is thrown. I would like to propose a patch (attached). I'm looking forward to your comments. Thanks in advance. Regards Violeta Georgieva Steps to reproduce the issue: 1. Deploy the attached web application 2. Request http://localhost:8080/test/TestServlet 3. NameNotFoundException is thrown 4. Apply the patch and restart Tomcat 5. Request http://localhost:8080/test/TestServlet 6. You should see in the browser \"Annotated field: test Annotated method: test1\""}, {"bug_id": "53067", "ground_truth": ["java/org/apache/catalina/websocket/WebSocketServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Servlet find Web Atmosphere Socket RequestFacade Originally Web wrapped Servlet", "bug_title": " WebSocket implementation issue with wrapped requests", "bug_description": "Originally reported in Atmosphere https://github.com/Atmosphere/atmosphere/issues/280 Mainly the WebSocketServlet must make sure the request hasn't been wrapped when looking at the RequestFacade and if wrapped, cycle until it find the original request."}, {"bug_id": "53081", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "OutOfMemoryError apache catalina grepcode types questions WebappClassLoader conclusion questions properties", "bug_title": " WebappClassLoader causes java.lang.OutOfMemoryError in findResourceInternal()", "bug_description": "When examining the code of WebappClassLoader#findResourceInternal() (http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-catalina/7.0.26/org/apache/catalina/loader/WebappClassLoader.java#3098) I came to the conclusion that findResourceInternal() always loads the binary content of the resource, however binary content is only used in e.g. findClassInternal() and obviously not needed in findResource(). In certain cases this can cause OutOfMemoryError, for example when a big media file is packaged with application. The example of stack trace is given here: http://stackoverflow.com/questions/10100480 Solution: the binary content should be loaded for certain types of resources (.classpath or .properties [only if fileNeedConvert is true])."}, {"bug_id": "53090", "ground_truth": ["java/org/apache/catalina/core/DefaultInstanceManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "folks Servlet defined explicitly container scenario Bobby Servlet superclass injection", "bug_title": " Servlet superclass injection targets are ignored", "bug_description": "Created attachment 28623 [details] patch that shows the processing of the servlet's superclass injections Hi folks, I've been running Tomcat 7.0.26 in a JEE container against the EE6 Web Profile CTS. In many of the tests there is the following scenario: A servlet 'X' extends a regular class 'Y'. An env-entry element for a field in 'Y' with injection-target-class equal to 'Y' is defined in the app's web.xml. The injection-target-name points to a field that is not annotated. When the app boots and Tomcat handles the injections for the servlet it processes only those that are defined explicitly for the 'X' servlet's class name, ignoring its superclasses. I'm attaching a patch I made on top of 7.0.x/trunk that fixed the issue. It's quite small. I believe Tomcat should respect the injections for the servlet's superclasses. What do you think is the right behavior? Thank you, Bobby"}, {"bug_id": "53138", "ground_truth": ["java/org/apache/tomcat/util/net/NioEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "\u00e2\u20ac\u0153Content Count NIO client Port Thread created Nio Tomcat broken", "bug_title": " Not able to download a file size of 740KB using NIO connector in tomcat version 7.0.27. But with the same configuration I was able to download that in tomcat 7.0.26.", "bug_description": "We have an application that uses a java script file of size around 700Kb that will be downloaded as part of the client. The connector used was NIO . All these days we did not see any issue till Tomcat 7.0.26. When we upgraded it to the latest Tomcat version 7.0.27 we started getting this problem. The file is never getting downloaded the connection will be broken in middle. And we used fiddler to see what is happening and it gives us a message as below \u00e2\u20ac\u0153Content-Length mismatch: Response Header indicated 757,692 bytes, but server sent 262,142 bytes.\u00e2\u20ac? If I use the default connector there is no issues. it works fine. To reproduce this we have created a sample application. Please follow the steps below. Clean up all the browser cash: 1.\tDeploy  TestNIOConnector app in tomcat. 2.\tIn server.xml change to connect to NIO as shown below. <Connector port=\"9880\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\" maxThreads=\"150\" connectionTimeout=\"70000\" acceptCount=\"100\" compression=\"on\" acceptorThreadCount=\"2\" redirectPort=\"8443\" /> 3.\tStart the service and try to access this file using the following URL in IE. http://localhost:9880/TestNIOConnector/apidocs.js"}, {"bug_id": "53180", "ground_truth": ["java/org/apache/catalina/core/DefaultInstanceManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "cases apache core Manager check injection validation validation populate setter", "bug_title": " DefaultInstanceManager#populateAnnotationsCache - incomplete check is used when validating for a setter method", "bug_description": "Created attachment 28711 [details] Patch proposal Hi, In org.apache.catalina.core.DefaultInstanceManager#populateAnnotationsCache, when iterating over methods in a given class, in one of the cases (when injection-target is specified) you validate whether the method is a valid setter method. In my opinion the check that is used for that validation is not complete. I would like to propose a patch (attached) that introduces additional checks in order to guarantee that the corresponding method is really suitable to be an injection target. I'm looking forward to your commends. Best Regards Violeta Georgieva"}, {"bug_id": "53225", "ground_truth": ["java/org/apache/tomcat/util/scan/FileUrlJar.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "closed Mapper mapper Leak Content Prevention jar JarFile exec zip", "bug_title": " IllegalStateException \"zip file closed\" with resource from webfragment jar if JreMemoryLeakPreventionListener is removed", "bug_description": "Created attachment 28764 [details] icontest.war The issue was reported in the following thread on users@: http://markmail.org/thread/m6fimchl2jk2vyl4 http://marc.info/?t=133665328700005&r=1&w=2 I am able to reproduce the issue on current trunk with the following steps: 1. Remove JreMemoryLeakPreventionListener from server.xml 2. Deploy the attached war file, icontest.war It contains WEB-INF/lib/icon.jar with several copies of Tomcat icon 3. Start Tomcat and access the following URL: http://localhost:8080/icontest/favicon.ico Expected behaviour: The icon is displayed Actual behaviour: [[[ 13-May-2012 00:23:05.906 SEVERE [http-bio-8080-exec-1] org.apache.coyote.http11.AbstractHttp11Processor.process Error processing request java.lang.IllegalStateException: zip file closed at java.util.jar.JarFile.getMetaInfEntryNames(Native Method) at java.util.jar.JarFile.maybeInstantiateVerifier(JarFile.java:279) at java.util.jar.JarFile.getInputStream(JarFile.java:383) at org.apache.naming.resources.WARDirContext$WARResource.streamContent(WARDirContext.java:990) at org.apache.naming.resources.ProxyDirContext.cacheLoad(ProxyDirContext.java:1621) at org.apache.naming.resources.ProxyDirContext.cacheLookup(ProxyDirContext.java:1501) at org.apache.naming.resources.ProxyDirContext.lookup(ProxyDirContext.java:262) at org.apache.tomcat.util.http.mapper.Mapper.internalMapWrapper(Mapper.java:996) at org.apache.tomcat.util.http.mapper.Mapper.internalMap(Mapper.java:808) at org.apache.tomcat.util.http.mapper.Mapper.map(Mapper.java:671) at org.apache.catalina.connector.CoyoteAdapter.postParseRequest(CoyoteAdapter.java:646) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:402) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:995) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:573) at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:145) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:311) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662) ]]]"}, {"bug_id": "53266", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "java/org/apache/catalina/startup/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Handles ArrayStoreException Standard Config Container parseAnnotations Handles initAnnotationsIfNecessary Lifecycle webConfig", "bug_title": " ServletContainerInitializer will crash catalina if dependcy is not present.", "bug_description": "When using a ServletContainerInitializer with a HandlesTypes annotation if any of the classes specified in the HandlesTypes annotation are not available due to a missing jar file catalina will crash with a \"java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\". Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:653) at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:460) at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:286) at sun.reflect.annotation.AnnotationParser.parseAnnotation(AnnotationParser.java:222) at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:69) at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:52) at java.lang.Class.initAnnotationsIfNecessary(Class.java:3070) at java.lang.Class.getAnnotation(Class.java:3029) at org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1546) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1222) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:855) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ... 7 more Line where exception is thrown: \"HandlesTypes ht = sci.getClass().getAnnotation(HandlesTypes.class);\""}, {"bug_id": "53322", "ground_truth": ["java/org/apache/catalina/core/DefaultInstanceManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Instance DefaultInstanceManager html technetwork inferring Beans DefaultInstanceManager String decapitalization setter", "bug_title": " Odd decapitalization when inferring JavaBean property from setter name for an injection target", "bug_description": "There is code in DefaultInstanceManager class that converts a setter method name into JavaBean property name. The code is wrong: it removes \"set\" prefix and then converts the first character into lowercase. That is a wrong way to get JavaBeans property name. The correct way would be to follow JavaBeans specification 1.01 ch.8.8 [1] and use java.beans.Introspector#decapitalize(String) method. E.g. for method setURL(..) the correct property name would be \"URL\", not \"uRL\". [1] http://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html"}, {"bug_id": "53342", "ground_truth": ["java/org/apache/catalina/core/ContainerBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "main getStartStopThreadsInternal Context remain demon Executor start Start startStopQueue Thread", "bug_title": " If starting immediately after Tomcat stop fail, BindException will throw.", "bug_description": "e.g. When Context#stop throw LifecycleException, the main thread stops, but startStopThreads of Host/Engine will remain for a while. Because, startStopThreads is not a demon thread. As a result, even if a main thread stops, Acceptor Threads of 8080/8009 is not stopped. keepAliveTime for 10 seconds is set up now. === startStopExecutor = new ThreadPoolExecutor( getStartStopThreadsInternal(), getStartStopThreadsInternal(), 10, TimeUnit.SECONDS, startStopQueue); === Therefore, in order to avoid BindException, the waiting for 10 seconds is required. I think that I need to make startStopThreads into a demon thread. Best Regards."}, {"bug_id": "53354", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "find start Caused ContextConfig Tomcat LifecycleBase web WebFilter addFilterMap forced", "bug_title": " <filter-mapping> doesn't find the @WebFilter(filterName)", "bug_description": "As it's not possible to specify the invocation order in a @WebFilter, users are forced to explicitly specify <filter-mapping> in web.xml. This works in combination with a @WebFilter(filterName) in Glassfish and JBoss AS as follows: @WebFilter(filterName=\"filter1\") public class Filter1 implements Filter {} @WebFilter(filterName=\"filter2\") public class Filter2 implements Filter {} with <filter-mapping> <filter-name>filter1</filter-name> <url-pattern>/url1/*</url-pattern> </filter-mapping> <filter-mapping> <filter-name>filter2</filter-name> <url-pattern>/url2/*</url-pattern> </filter-mapping> However it fails in Tomcat 7.0.27 with the following confusing exception (the <url-pattern> *is* been set) Caused by: java.lang.IllegalArgumentException: Filter mapping must specify either a <url-pattern> or a <servlet-name> at org.apache.catalina.core.StandardContext.validateFilterMap(StandardContext.java:3009) at org.apache.catalina.core.StandardContext.addFilterMap(StandardContext.java:2968) at org.apache.catalina.deploy.WebXml.configureContext(WebXml.java:1207) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1294) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:855) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:345) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5161) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) ... 7 more"}, {"bug_id": "53366", "ground_truth": ["java/org/apache/catalina/security/SecurityClassLoad.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "work start response Manager stay refreshing persists Running SecurityManager", "bug_title": " Running with SecurityManager: protected/index.jsp returns blank page when it is the first page accessed", "bug_description": "eproducible in 7.0.27 and in current 7.0.x. To reproduce: 1. Start \"catalina.bat start -security\" 2. Go to [1] http://localhost:8080/examples/jsp/security/protected/index.jsp 3. Expected result: Display login form. Actual result: Blank page. Access log shows: 127.0.0.1 - - [06/Jun/2012:04:35:23 +0400] \"GET /examples/jsp/security/protected/index.jsp HTTP/1.1\" 200 - That is, response code is 200, count of bytes is '-'. If I stay on [1] and keep refreshing it, the problem persists. But if I visit [2], then [1] starts to work. I suspect that some class needs to be preloaded. [2] http://localhost:8080/examples/"}, {"bug_id": "53398", "ground_truth": ["java/org/apache/catalina/manager/StatusTransformer.java", "webapps/docs/changelog.xml", "webapps/docs/manager-howto.xml", "webapps/manager/status.xsd"], "repo": "tomcat70", "reformed_query": "requestBytesReceived privileges XML CURL attribute server attribute basic generating Error", "bug_title": " Incorrect tag on XML response when calling 'manager/status?XML=true'", "bug_description": "Created attachment 28909 [details] Manager Status XML Response When calling 'manager/status?XML=true' on Tomcat Server the XML response includes incorrect 'requestBytesRecieved' attributes on some '<worker>' nodes. Attribute should read 'requestBytesReceived'.  Seems like a typo when generating the 'requestBytesReceived' attribute for some nodes (Recieved != Received). Error can be generated using the CURL command to get the Tomcat status response: curl \"http://<tomcat-server-address>/manager/status?XML=true\" --basic -u <user> (This assumes a user has already been defined with the proper privileges to access the status API command)."}, {"bug_id": "53450", "ground_truth": ["java/org/apache/catalina/core/ContainerBase.java", "res/maven/mvn-pub.xml", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Nonfair Child acquire Adapter apache Read acquireQueued locks misc Nonfair", "bug_title": " Deployment of an application with 'ROOT' context hangs forever", "bug_description": "Hi, The scenario is the following: - I have running Tomcat 7.0.28 - I deploy an application with 'ROOT' context - The deployment hangs forever. When taking a tread dump, the following is suspicious: \"localhost-startStop-2\" daemon prio=6 tid=0x0000000006607800 nid=0x2560 waiting on condition [0x0000000009ebf000] java.lang.Thread.State: WAITING (parking) at sun.misc.Unsafe.park(Native Method) - parking to wait for  <0x00000007d80f0108> (a java.util.concurrent.locks.ReentrantReadWriteLock$NonfairSync) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:158) at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:811) at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:842) at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1178) at java.util.concurrent.locks.ReentrantReadWriteLock$WriteLock.lock(ReentrantReadWriteLock.java:807) at org.apache.catalina.core.ContainerBase.removeContainerListener(ContainerBase.java:1071) at org.apache.catalina.core.StandardEngine$AccessLogListener.uninstall(StandardEngine.java:463) at org.apache.catalina.core.StandardEngine$AccessLogListener.containerEvent(StandardEngine.java:505) at org.apache.catalina.core.ContainerBase.fireContainerEvent(ContainerBase.java:1431) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:907) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:875) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:618) at org.apache.catalina.startup.HostConfig.deployDirectory(HostConfig.java:1100) at org.apache.catalina.startup.HostConfig$DeployDirectory.run(HostConfig.java:1618) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662) As you can see - A read lock is acquired at org.apache.catalina.core.ContainerBase.fireContainerEvent(ContainerBase.java:1425) - Then every listener is invoked to process the container event - Then AccessLogListener is invoked org.apache.catalina.core.StandardEngine$AccessLogListener.uninstall(StandardEngine.java:463) - The latter causes a call for a write lock org.apache.catalina.core.ContainerBase.removeContainerListener(ContainerBase.java:1071) - Unfortunately in the ReentrantReadWriteLock it is stated that upgrade from read to write lock is not possible \"Reentrancy also allows downgrading from the write lock to a read lock, by acquiring the write lock, then the read lock and then releasing the write lock. However, upgrading from a read lock to the write lock is not possible.\" Regards Violeta Georgieva"}, {"bug_id": "53535", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "errors Created errors ContextConfig Suggested ContextConfig needed details Context container", "bug_title": " Out of memory while performing ContextConfig.webConfig", "bug_description": "Created attachment 29047 [details] Suggested solution to improve ContextConfig JavaClassCacheEntry objects are using too much memory causing eventually (all kinds of) out of memory errors during container startup. There is no need to save whole JavaClass in cache since only superclass name and interface names are needed in later processing. Suggested solution is attached."}, {"bug_id": "53624", "ground_truth": ["java/org/apache/catalina/core/ApplicationDispatcher.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "setup doesn RedirectC dispatch forwards forwards project Web involves Async", "bug_title": " sendRedirect doesn't work after a dispatch through the AsyncContext", "bug_description": "A call to sendRedirect after AsyncContext.dispatch doesn't redirect and returns with a 200 status code instead. A project demonstrating the issue: https://github.com/rstoyanchev/dispatch-test Build and deploy the source in the 'tomcat-issue-repro'. From the home page of the deployed application, select the \"Redirect\" scenario. The scenario involves Servlet \"RedirectA\" that creates a thread and dispatches to Servlet \"RedirectB\", which in turn redirects to Servlet \"RedirectC\" and that forwards to a simple JSP page. Instead of the JSP page rendering, you should see a blank page and the log output will show that processing ended at ServletC. For details on the setup see WebAppInitializer.setupRedirectScenario(ServletContext). --- FWIW if a forward is used instead of a dispatch from the async thread, the scenario works. To do that, modify the line that creates servlet \"RedirectA\" to be ForwardingAsyncServlet instead of DispatchingAsyncServlet. --- This issue is very similar to 51197, which was marked resolved in 7.0.25. The current issue was tested against 7.0.29."}, {"bug_id": "53641", "ground_truth": ["java/org/apache/catalina/websocket/WebSocketServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Client Socket Web correct Servlet WebSocket implementation RFC WebSocket Servlet", "bug_title": " Wrong websocket's subprotocol implementation", "bug_description": "According to RFC6455 Section 4.3. the handling of subprotocol requests is not correct. It must be checked for \"Sec-WebSocket-Protocol\" instead of \"Sec-WebSocket-Protocol-Client\" in WebSocketServlet class."}, {"bug_id": "53654", "ground_truth": ["java/org/apache/jasper/compiler/Compiler.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Compiler provide isOutDated recompiled URL Dated jar handlering isOutDated files", "bug_title": " JSP file is always recompiled for using file based TLD URL", "bug_description": "Now, in Jasper codes, it only supports jar URL and relative URL, that may be enough for common web applications. While, it is possible that the third-party uses other protocol URL, like file: protocol based URL. So, the JSP files will be always recompiled for each access for the target page. The codes are located in Compiler.isOutDated() method. Is it possible to provide more generic handlering for the URL ?"}, {"bug_id": "53725", "ground_truth": ["java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java", "java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java", "java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java", "java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java", "java/org/apache/coyote/http11/filters/FlushableGZIPOutputStream.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "encounters rare IOException FlushableGZIPOutputStream Created FlushableGZIPOutputStream circumstances purpose turned Error", "bug_title": " Some GZipped responses result in java.io.IOException: Corrupt GZIP trailer during gunzip.", "bug_description": "Created attachment 29238 [details] Please see description for purpose of attachment. FlushableGZIPOutputStream gives corrupt output in rare circumstances.  Tomcat 7 encounters this bug when compression is turned on. Please see the attachment:  Compile and run ErrorCase.java which uses FlushableGZIPOutputStream to GZIP the contents of data.bin (included in the attachment) and then uses GZIPInputStream to gunzip the output of FlushableGZIPOutputStream, resulting in java.io.IOException: Corrupt GZIP trailer."}, {"bug_id": "53758", "ground_truth": ["java/org/apache/catalina/core/ApplicationFilterRegistration.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "rev ApplicationFilterRegistration apache Dynamic addFilterMapBefore core filterMap Map Url svn", "bug_title": " Dynamic Filter Registration mapping logic inverted", "bug_description": "In the class org.apache.catalina.core.ApplicationFilterRegistration, the methods addMappingForServletNames and addMappingForUrlPatterns have inverted logic on how to register the filter to the context. If the parameter isMatchAfter is passed as true, the filter is placed in the context using the addFilterMapBefore method. if (isMatchAfter) { context.addFilterMapBefore(filterMap); } else { context.addFilterMap(filterMap); } The logic should ultimate be (in both methods): if (!isMatchAfter) { context.addFilterMapBefore(filterMap); } else { context.addFilterMap(filterMap); } or if (isMatchAfter) { context.addFilterMap(filterMap); } else { context.addFilterMapBefore(filterMap); } svn rev on trunk is 1375614"}, {"bug_id": "53800", "ground_truth": ["java/org/apache/naming/resources/FileDirContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "unit FileDirContext attached code java add Binding NamingEnumeration Weld String", "bug_title": " Infinte loop cause by FileDirContext in a CDI/Weld project when using Eclipse's \"Server modules without publishing\"", "bug_description": "Created attachment 29302 [details] Patch for FileDirContext.java Weld's TomcatListener is using the recurse method recited below. In the case I am encountering the DirContext that Tomcat provides is a FileDirContext. The discovery code used by Weld encounters what appears to be a bug in FileDirContext where FileDirContexts for child directories are created with the current FileDirContext's path. This causes an infinite loop while it searches the root directory over and over. Assuming the class discovery code Weld is using is correct, I tracked down the problem to a specific line in FileDirContext.java.  Fixing this line to set the path of the new child FileDirContext to the matching child directory fixes the issue I am encountering. With this change the project appears to still pass all the unit tests ran with \"ant test\". I have attached the patch to this issue. Here is Weld's recurse function which I am assuming is correct... protected static void recurse(DirContext context, Set<String> classes, Set<URL> urls, String prefix) throws Exception { if (prefix.length() > 0) prefix += \".\"; NamingEnumeration ne = context.listBindings(\"\"); while (ne.hasMoreElements()) { Binding next = (Binding) ne.nextElement(); String name = prefix + next.getName(); if (name.endsWith(\".class\")) { classes.add(name.substring(0, name.length() - 6)); continue; } Object nextObject = next.getObject(); if (nextObject instanceof DirContext) { recurse((DirContext) nextObject, classes, urls, name); } } }"}, {"bug_id": "53828", "ground_truth": ["java/org/apache/catalina/websocket/StreamInbound.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "called close closeOutboundConnection close opcode Frame StreamInbound WsFrame WsFrame Inbound", "bug_title": " StreamInbound.closeOutboundConnection(WsFrame) closes with an opcode instead of status", "bug_description": "201\tprivate void closeOutboundConnection(WsFrame frame) throws IOException { 202\t  try { 203\t    getWsOutbound().close(frame); 204\t  } finally { 205\t    doOnClose(Constants.OPCODE_CLOSE); 206\t  } 207\t} Line 205 uses the close opcode instead of a valid status (Constants.STATUS_*). Not sure of the exact context of this called but it seems to only be called when the last frame from the client was a close frame, thus a Constants.STATUS_NORMAL may be in order. If not, the frame's opcode could be inspected and mapped to an appropriate status (normal, shutdown, etc...). Thanks, Michael"}, {"bug_id": "53863", "ground_truth": ["java/org/apache/catalina/startup/Tomcat.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "attached Unable xml mode add Exception SampleServletContainerInitializer addServlet addMapping Exception", "bug_title": " Unable to override default servlet when using Tomcat in embedded mode", "bug_description": "An implementation of ServletContainerInitializer can't add a mapping to \"/\" because the default servlet is loaded first, as first reported in 51278: public final class SampleServletContainerInitializer implements ServletContainerInitializer { public void onStartup(final Set<Class<?>> c, final ServletContext ctx) throws ServletException { final XmlWebApplicationContext appCtx = new XmlWebApplicationContext(); appCtx.setConfigLocation(\"/WEB-INF/DispatcherServlet-servlet.xml\"); final ServletRegistration.Dynamic dispatcher = ctx.addServlet(\"DispatcherServlet\", new DispatcherServlet(appCtx)); dispatcher.setLoadOnStartup(1); final Set<String> conflictSet = dispatcher.addMapping(\"/\"); for (final String conflict : conflictSet) out.println(conflict); // prints \"/\" } } A test case follows attached."}, {"bug_id": "53871", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "java/org/apache/catalina/startup/LocalStrings.properties", "webapps/docs/changelog.xml", "java/org/apache/catalina/startup/ContextConfig.java", "java/org/apache/catalina/startup/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "populateSCIsForCacheEntry Standard ContainerBase Child SCIs war Task fire util lifecycleEvent", "bug_title": " java.lang.StackOverflowError on deploying a web application", "bug_description": "When starting Tomcat 7.0.29 and 7.0.30, and automatically deploying a war file from webapps the following error is thrown: 14:01:06,380 ERROR [HostConfig:576] Error waiting for multi-thread deployment of context descriptors to complete java.util.concurrent.ExecutionException: java.lang.StackOverflowError at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252) at java.util.concurrent.FutureTask.get(FutureTask.java:111) at org.apache.catalina.startup.HostConfig.deployDescriptors(HostConfig.java:574) at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:470) at org.apache.catalina.startup.HostConfig.start(HostConfig.java:1413) at org.apache.catalina.startup.HostConfig.lifecycleEvent(HostConfig.java:313) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:401) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:346) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1140) at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:785) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559) at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) at java.util.concurrent.FutureTask.run(FutureTask.java:166) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) at java.lang.Thread.run(Thread.java:722) Caused by: java.lang.StackOverflowError at java.util.HashSet.(HashSet.java:103) at org.apache.catalina.startup.ContextConfig.populateSCIsForCacheEntry(ContextConfig.java:2243) at org.apache.catalina.startup.ContextConfig.populateSCIsForCacheEntry(ContextConfig.java:2260) at org.apache.catalina.startup.ContextConfig.populateSCIsForCacheEntry(ContextConfig.java:2260) ...(and many more identical lines)... However this works fine in 7.0.28."}, {"bug_id": "53993", "ground_truth": ["java/org/apache/catalina/valves/AccessLogValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "\u00e2\u20ac\u2039SessionIdElement Connection internalSession AccessLogElement AccessLogElement \u00e2\u20ac\u2039AbstractHttp NPE Handler multithreaded \u00e2\u20ac\u2039run", "bug_title": " NPE in AccessLogValve", "bug_description": "During a load test of tomcat 7.0.30, we occasionally see NPEs from the AccessLogValve.  Some of the requests that are being executed as part of the load test call HttpSession.invalidate.  I mention this because the code in question appears to be susceptible to multithreaded manipulation of the session.  I think the fix should be as simple as a check for null on the return value of request.getSessionInternal. Of course, our access log pattern includes logging the session id. java.lang.NullPointerException org.\u00e2\u20ac\u2039apache.\u00e2\u20ac\u2039catalina.\u00e2\u20ac\u2039valves.\u00e2\u20ac\u2039AccessLogValve$\u00e2\u20ac\u2039SessionIdElement.\u00e2\u20ac\u2039addElement(\u00e2\u20ac\u2039AccessLogValve.java:1733) org.apache.catalina.valves.AccessLogValve.log(AccessLogValve.java:955) org.apache.catalina.core.AccessLogAdapter.log(AccessLogAdapter.java:51) org.apache.catalina.core.StandardEngine.logAccess(StandardEngine.java:332) org.apache.catalina.core.ContainerBase.logAccess(ContainerBase.java:1270) org.apache.catalina.core.ContainerBase.logAccess(ContainerBase.java:1270) org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:441) org.\u00e2\u20ac\u2039apache.\u00e2\u20ac\u2039coyote.\u00e2\u20ac\u2039http11.\u00e2\u20ac\u2039AbstractHttp11Processor.\u00e2\u20ac\u2039process(\u00e2\u20ac\u2039AbstractHttp11Processor.java:1002) org.\u00e2\u20ac\u2039apache.\u00e2\u20ac\u2039coyote.\u00e2\u20ac\u2039AbstractProtocol$\u00e2\u20ac\u2039AbstractConnectionHandler.\u00e2\u20ac\u2039process(\u00e2\u20ac\u2039AbstractProtocol.java:585) org.\u00e2\u20ac\u2039apache.\u00e2\u20ac\u2039tomcat.\u00e2\u20ac\u2039util.\u00e2\u20ac\u2039net.\u00e2\u20ac\u2039JIoEndpoint$\u00e2\u20ac\u2039SocketProcessor.\u00e2\u20ac\u2039run(\u00e2\u20ac\u2039JIoEndpoint.\u00e2\u20ac\u2039java:\u00e2\u20ac\u2039312)\u00e2\u20ac\u2039 java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) java.lang.Thread.run(Thread.java:722) existing code for convenience: protected static class SessionIdElement implements AccessLogElement { @Override public void addElement(StringBuilder buf, Date date, Request request, Response response, long time) { if (request != null) { if (request.getSession(false) != null) { buf.append(request.getSessionInternal(false) // LINE 1733 .getIdInternal()); } else { buf.append('-'); } } else { buf.append('-'); } } } possible fix: ... if (request.getSession(false) != null) { Session internalSession = request.getSessionInternal(false); if (internalSession != null) { buf.append(internalSession.getIdInternal()); } else { buf.append('-'); } } else { buf.append('-'); }"}, {"bug_id": "54011", "ground_truth": ["java/org/apache/jasper/tagplugins/jstl/core/Out.java", "java/org/apache/jasper/tagplugins/jstl/core/Out.java", "webapps/docs/changelog.xml", "java/org/apache/jasper/tagplugins/jstl/core/Out.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "occurs change typo simplified escape setting escapeXml generateAttribute Xml error", "bug_title": " Code generation error in jstl tagPlugin \"Out\" when has \"escapeXml\" on the tagPlugin", "bug_description": "Created attachment 29482 [details] Patch for org.apache.jasper.tagplugins.jstl.core.Out.java When setting up org.apache.jasper.tagplugins.jstl.core.Out as a tagplugin and trying to make code generation for the following code, <c:out escapeXml=\"false\" value=\"test\"/> It will generate an error. It has a typo in it if(hasEscapeXml){ ctxt.generateJavaSource(strEscapeXmlName + \" = Boolean.parseBoolean((\"); ctxt.generateAttribute(\"default\"); ctxt.generateJavaSource(\").toString());\"); } The attribute name should be \"escapeXml\". Even change the right name,  it occurs an error because of \"(false).toString()\". Attached two patchs for this bug fix and code simplified."}, {"bug_id": "54017", "ground_truth": ["java/org/apache/jasper/compiler/Generator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "coerceToInt code Info Info Util jsp jasper runtime attr Generator", "bug_title": " new String instance is generated for constant string in Generator.convertString", "bug_description": "If the target class is \"Object.class\", the generator generates \"new String(\" + quoted + \")\"; as attribute value for Tag Handler. How about using quoted directly same as when the target class is \"Object.class\"? Creating a String instance will cause some overhead from memory allocation and hash code recaluation when it is used as a key on HashMap. Here is the detail code, /* * @param c The target class to which to coerce the given string @param * s The string value @param attrName The name of the attribute whose * value is being supplied @param propEditorClass The property editor * for the given attribute @param isNamedAttribute true if the given * attribute is a named attribute (that is, specified using the * jsp:attribute standard action), and false otherwise */ private String convertString(Class<?> c, String s, String attrName, Class<?> propEditorClass, boolean isNamedAttribute) { String quoted = s; if (!isNamedAttribute) { quoted = quote(s); } if (propEditorClass != null) { String className = c.getCanonicalName(); return \"(\" + className + \")org.apache.jasper.runtime.JspRuntimeLibrary.getValueFromBeanInfoPropertyEditor(\" + className + \".class, \\\"\" + attrName + \"\\\", \" + quoted + \", \" + propEditorClass.getCanonicalName() + \".class)\"; } else if (c == String.class) { return quoted; } else if (c == boolean.class) { return JspUtil.coerceToPrimitiveBoolean(s, isNamedAttribute); } else if (c == Boolean.class) { return JspUtil.coerceToBoolean(s, isNamedAttribute); } else if (c == byte.class) { return JspUtil.coerceToPrimitiveByte(s, isNamedAttribute); } else if (c == Byte.class) { return JspUtil.coerceToByte(s, isNamedAttribute); } else if (c == char.class) { return JspUtil.coerceToChar(s, isNamedAttribute); } else if (c == Character.class) { return JspUtil.coerceToCharacter(s, isNamedAttribute); } else if (c == double.class) { return JspUtil.coerceToPrimitiveDouble(s, isNamedAttribute); } else if (c == Double.class) { return JspUtil.coerceToDouble(s, isNamedAttribute); } else if (c == float.class) { return JspUtil.coerceToPrimitiveFloat(s, isNamedAttribute); } else if (c == Float.class) { return JspUtil.coerceToFloat(s, isNamedAttribute); } else if (c == int.class) { return JspUtil.coerceToInt(s, isNamedAttribute); } else if (c == Integer.class) { return JspUtil.coerceToInteger(s, isNamedAttribute); } else if (c == short.class) { return JspUtil.coerceToPrimitiveShort(s, isNamedAttribute); } else if (c == Short.class) { return JspUtil.coerceToShort(s, isNamedAttribute); } else if (c == long.class) { return JspUtil.coerceToPrimitiveLong(s, isNamedAttribute); } else if (c == Long.class) { return JspUtil.coerceToLong(s, isNamedAttribute); } else if (c == Object.class) { return \"new String(\" + quoted + \")\"; } else { String className = c.getCanonicalName(); return \"(\" + className + \")org.apache.jasper.runtime.JspRuntimeLibrary.getValueFromPropertyEditorManager(\" + className + \".class, \\\"\" + attrName + \"\\\", \" + quoted + \")\"; } }"}, {"bug_id": "54022", "ground_truth": ["java/org/apache/coyote/AbstractProtocol.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "clear HTTP Coyote recycled writes block Server upgrade steps Chaos", "bug_title": " CometEvent.END event is not sent on a suspended socket disconnect when running with Tomcat Native (tcnative-1.dll) on Windows Vista / Windows Server 2008 or newer.", "bug_description": "Created attachment 29492 [details] Tomcat 7.0.32 source file with the bugfix Our Web application uses an asynchronous 3.0 servlet (via Atmosphere 1.0, actually) to send notification messages to clients connected via long-running sockets (e.g., HTTP streaming, long polling, etc.) I found a bug where Tomcat was not sending the CometEvent.END event on x64 platforms that used Tomcat Native when a socket would disconnect (e.g., by pressing CTRL-C from an HTTP GET curl command). After narrowing it down and debugging the Tomcat 7.0.32 source, I tracked the problem down to org.apache.coyote.AbstractProtocol.java.  Due to the way that APR handles socket polling in Tomcat Native, the bug only occurs on Windows platforms that 1) use tcnative-1.dll, and 2) are Vista/Server 2008 or newer.  Here is what is happening: 1) On startup, APR in tcnative-1.dll looks for a method named \"WSAPoll\" method in Ws2_32.dll.  If it finds it, it assigns that function as the function to use to poll sockets.  Otherwise, it falls back to the legacy method of polling sockets.  WSAPoll is only present on Windows Vista/Server 2008 or newer. 2) In org.apache.tomcat.util.net.AprEndpoint, the doPoll(long pollset) method invokes Poll.poll(pollset, pollTime, desc, true), which delegates the call to tcnative-1.dll if present. 3) If doPoll returns > 0, it means that at least one socket requires processing, so it falls through to this block in the doPoll method AprEndpoint.java (comments added below marked with \"{DB}\"): for (int n = 0; n < rv; n++) { // Check for failed sockets and hand this socket off to a worker if (((desc[n*2] & Poll.APR_POLLHUP) == Poll.APR_POLLHUP)   // {DB} only the WSAPoll method sets the APR_POLLHUP flag when a socket disconnects; neither the legacy tcnative polling method nor the pure Java Coyote polling method sets this flag (which is fine) || ((desc[n*2] & Poll.APR_POLLERR) == Poll.APR_POLLERR) || (comet && (!processSocket(desc[n*2+1], SocketStatus.OPEN)))  // {DB} this line is executed for comet sockets if WSAPoll is not available on this platform (e.g., pre-Vista/Server 2008) or if tcnative-1.dll is not present.  (This is also fine.) || (!comet && (!processSocket(desc[n*2+1])))) { // Close socket and clear pool if (comet) { processSocket(desc[n*2+1], SocketStatus.DISCONNECT);  // {DB} this is only reached if tcnative-1.dll is present and we are running on Vista/Server 2008 or newer.  This is OK, but there is a bug with SocketStatus.DISCONNECT handling for comet sockets in processSocket (described in the next step) } else { destroySocket(desc[n*2+1]); } } } 4) The processSocket(long socket, SocketStatus status) method fires up a SocketEventProcessor and runs it, which excutes this: Handler.SocketState state = handler.process(socket, status);  // {DB} this does not send CometEvent.END for comet if status == SocketStatus.DISCONNECT (details in next steps) if (state == Handler.SocketState.CLOSED) { // Close socket and pool destroySocket(socket.getSocket().longValue());  // {DB} this closes the socket and frees it for reuse, but since the Comet application was not notified that the socket went away, the next time it tries to send data down the socket it either crashes the JVM or writes the data to the response which is now owned by somebody else.  Chaos ensues. socket = null; } 5) When running Tomcat Native, the handler.process(socket, status) method is implemented by org.apache.coyote.http11.Http11AprProtocol$Http11ConnectionHandler, which extends AbstractConnectionHandler defined as an inner class in org.apache.coyote.AbstractProtocol.  The method and the fix that I made on my test instance are shown below [the fix was to add '&& (!processor.isComet())' to the beginning condition of the 'if' block]: ====== public SocketState process(SocketWrapper<S> socket, SocketStatus status) { ...<snip>... do { // {DB} NOTE: status only == SocketStatus.DISCONNECT here if we are running tcnative on Windows Vista / Server 2008 or newer // {DB}       For all other cases status == SocketStatus.OPEN here even if a disconnect has occurred, so it falls through to the '} else if (processor.isComet()) {' line all is well. // {DB} Original line: if (status == SocketStatus.DISCONNECT) { if ( (status == SocketStatus.DISCONNECT) && (!processor.isComet()) ) {  // <<<<<< {DB} BUGFIX: if comet, must allow processor.event(SocketStatus.DISCONNECT) later in the 'if' block to send the Comet.END event and return SocketState.CLOSED //do nothing here, just wait for it to get recycled } else if (processor.isAsync() || state == SocketState.ASYNC_END) { state = processor.asyncDispatch(status); } else if (processor.isComet()) { state = processor.event(status);  // {DB} this sends CometEvent.END and returns SocketState.CLOSED if status == SocketStatus.DISCONNECT, which is what we want } else if (processor.isUpgrade()) { state = processor.upgradeDispatch(); } else { state = processor.process(socket); } ...<snip>... ====== After I made the fix above and deployed the updated tomcat-coyote.jar I am now getting the CometEvent.END events as expected when using Tomcat Native on Windows 7.  We are using Atmosphere (which uses Comet) for our next release, but we will need this Tomcat bugfix before we can deploy.  We could ship a custom patched tomcat-coyote.jar but obviously we would prefer to have an official fix in the next Tomcat patch release so we could just deploy that. The fix I made above works for me, but if you need to reproduce the problem, all you need to do is: 1) Install Tomcat 7.0.32 along with Tomcat Native on a Windows 7 or Windows Server 2008 PC (I was using a 64-bit Windows 7 PC). 2) Run a servlet that: a) implements org.apache.catalina.comet.CometProcessor, and b) logs the CometEvents received, and c) suspends the HttpRequest when it receives one. 3) Connect to that servlet by doing an HTTP GET via Curl. 4) Press CTRL-C to abort the socket connection.  The CometEvent.END event is never fired. I attached the source file containing the bugfix (AbstractProtocol.java).  The fix is marked with \"{DB}\" comments.  Thanks."}, {"bug_id": "54045", "ground_truth": ["java/org/apache/catalina/tribes/group/interceptors/TcpFailureDetector.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "channel thread perform fail acknoledge Impl stack Detector perform method", "bug_title": " ReplicatedMap don't like TcpFailureDetector in static configuration", "bug_description": "Tribes stack using: * TcpPingInterceptor * TcpFailureDetector * MessageDispatchInterceptor * StaticMembershipInterceptor Do not work well in static cluster. First side (ie one thread): * call to TcpFailureDetector.heartbeat() * call to checkMembers(false) * call to performBasicCheck() in synchronized(membership) * in performBasicCheck, for a missing static node: *   add \"missing\" member to membership with membership.memberAlive(m) *       HERE THE SECOND THREAD HAVE SOME TIME TO WORK *   check it with memberAlive(m) *   remove it since if it doesn't exist Second side (ie another thread): * some call to channel.getMembers() like what the done by AbstractReplicatedMap * this call will call the TcpFailureDetector.getMembers() * this one could return a wrong value since it can contains unavailable nodes Note: * synchronize on membership isn't use by TcpFailureDetector in getMember(), getMembers(), hasMembers(), neither in Membership equivalent method (maybe because it's too heavy to lock every thread while the TcpFailureDetector check if node are alive). It must not be an issue for AbstractReplicatedMap since with or without TcpFailureDetector a node could disapear while replicated map try to use it. But ReplicatedMap use always Channel.SEND_OPTIONS_DEFAULT where the value is Channel.SEND_OPTIONS_USE_ACK. So a message sent to a missing node will fail with an exception. Personnaly I override TcpFailureDetector.heartbeat() to avoid performBasicCheck() if I use a static configuration (TcpPingInterceptor call performForcedCheck()). But this doesn't fix ReplicatedMap issue. Better fix could avoid adding missing member to membership list: * Add a method like memberAlive(MemberImpl) to Membership without side effect (add the member) * in TcpFailureDetector.performBasicCheck(): check this new method before adding the node This doesn't fix the AbstractReplicatedMap issue which work always with acknoledge from other nodes. Same code for Tomcat 6. best regards F.Arnoud"}, {"bug_id": "54067", "ground_truth": ["java/org/apache/coyote/http11/AbstractHttp11Processor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Socket working Host localhost cgi Transfer Upgrade Transfer examples Ofkg", "bug_title": " Upgrade Response with Transfer-Encoding: chunked invalid", "bug_description": "WebSocket upgrade response from Tomcat 7.0.32 contains an invalid response header \"Transfer-Encoding: chunked\" Full Request/Response is as follows (against example URI ws://localhost:8080/examples/websocket/echoMessage from distribution) ... GET /examples/websocket/echoMessage HTTP/1.1 Host: localhost:8080 Upgrade: websocket Connection: Upgrade Sec-WebSocket-Key: ZDTIRU5vU9xOfkg8JAgN3A== Sec-WebSocket-Version: 13 HTTP/1.1 101 Switching Protocols Server: Apache-Coyote/1.1 Upgrade: websocket Connection: upgrade Sec-WebSocket-Accept: Kgo85/8KVE8YPONSeyhgL3GwqhI= Transfer-Encoding: chunked Date: Mon, 29 Oct 2012 16:32:53 GMT The Jetty project is working this issue from the Jetty WebSocket client point of view. https://bugs.eclipse.org/bugs/show_bug.cgi?id=393075"}, {"bug_id": "54087", "ground_truth": ["java/javax/servlet/http/HttpServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "superfeedr Unknown Header reflect mhsoftware bytes Modified ffffffffc", "bug_title": " HTTP Connector incorrectly throws Exception on Invalid If-Modified-Since Header", "bug_description": "Given this request: Frame 6: 988 bytes on wire (7904 bits), 988 bytes captured (7904 bits) Ethernet II, Src: Adtran_16:34:e9 (00:a0:c8:16:34:e9), Dst: Supermic_34:fe:a8 (00:30:48:34:fe:a8) Internet Protocol Version 4, Src: 198.58.103.28 (198.58.103.28), Dst: 216.17.130.68 (216.17.130.68) Transmission Control Protocol, Src Port: 37483 (37483), Dst Port: http (80), Seq: 1449, Ack: 1, Len: 922 [2 Reassembled TCP Segments (2370 bytes): #4(1448), #6(922)] Hypertext Transfer Protocol GET /rss/calendar_id/2.xml HTTP/1.1\\r\\n Accept: application/atom+xml,application/rdf+xml,application/rss+xml,application/xml,text/xml,*/*\\r\\n Connection: close\\r\\n Accept-Encoding: gzip,deflate\\r\\n User-Agent: Superfeedr bot/2.0 http://superfeedr.com - Please get in touch if we are polling too hard.\\r\\n X-Superfeedr-Url: http://startupia.mhsoftware.com/rss/calendar_id/2.xml\\r\\n If-None-Match: \"1351656000000\"\\r\\n If-Modified-Since: 2012-10-31 04:00:00 +0000\\r\\n host: startupia.mhsoftware.com\\r\\n ofu.dpn=ffffffffc3a03c0245525d5f4f58455e445a4a4236 \\r\\n [Full request URI: http://startupia.mhsoftware.com/rss/calendar_id/2.xml] ~ Tomcat Throws the Exception: 2012-10-31 15:47:15,381 [http-80-46] ERROR org.apache.catalina.core.ContainerBase.[Catalina].[startupia.mhsoftware.com].[/].[RSSProcessor]- Servlet.service() for servlet RSSProcessor threw exception java.lang.IllegalArgumentException: 2012-10-31 04:00:00 +0000 at org.apache.catalina.connector.Request.getDateHeader(Request.java:1924) at org.apache.catalina.connector.RequestFacade.getDateHeader(RequestFacade.java:632) at javax.servlet.http.HttpServlet.service(HttpServlet.java:619) at javax.servlet.http.HttpServlet.service(HttpServlet.java:717) at sun.reflect.GeneratedMethodAccessor72.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) This is because the date for the If-Modified-Since Header (2012-10-31 04:00:00 +0000) is not in the format specified by RFC-2616 Section 3.3.1. However, the RFC states in section 14.25a: if the passed If-Modified-Since date is invalid, the response is exactly the same as for a normal GET. A date which is later than the server's current time is invalid. Tomcat is not complying with this aspect of the specification because it throws a 500 rather than processing it as described by the specification."}, {"bug_id": "54124", "ground_truth": ["java/org/apache/catalina/core/AsyncContextImpl.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "check servlet logDebug logDebug String URI context isDebugEnabled INFO info", "bug_title": " wrong javax.servlet.async.request_uri information and javax.servlet.async.path_info is missing", "bug_description": "As it is clearly shown that org.apache.catalina.core.AsyncContextImpl.dispatch(ServletContext, String) @Override public void dispatch(ServletContext context, String path) { if (log.isDebugEnabled()) { logDebug(\"dispatch   \"); } check(); if (request.getAttribute(ASYNC_REQUEST_URI)==null) { request.setAttribute(ASYNC_REQUEST_URI, request.getRequestURI()+\"?\"+request.getQueryString()); request.setAttribute(ASYNC_CONTEXT_PATH, request.getContextPath()); request.setAttribute(ASYNC_SERVLET_PATH, request.getServletPath()); request.setAttribute(ASYNC_QUERY_STRING, request.getQueryString()); } .... } the value of ASYNC_REQUEST_URI is not the same as request.getRequestURI(). They must be equal to each other as defined by Servlet 3.0, 9.7.2 Dispatched Request Parameters. And ASYNC_PATH_INFO is missing."}, {"bug_id": "54141", "ground_truth": ["java/org/apache/catalina/startup/RealmRuleSet.java", "webapps/docs/changelog.xml", "webapps/docs/config/systemprops.xml"], "repo": "tomcat70", "reformed_query": "combinedrealm startup rules work nested DataSourceRealm combined Service stackoverflow stackoverflow", "bug_title": " Configuration does not allow Realms to be nested more than 2 levels deep", "bug_description": "The use case is to have one Realm that is configured for lock-out with another that is not: the two should be combined together. The obvious configuration attempt is this: <CombinedRealm> <LockoutRealm> <DataSourceRealm/> </LockoutRealm> <UserDatabaseRealm/> </CombinedRealm> Unfortunately, this configuration yields an error: No rules found matching 'Server/Service/Engine/Realm/Realm/Realm' org.apache.catalina.startup.RealmRuleSet.addRuleInstances only goes 2 levels deep when it comes to Realms (that is, only allows \"Realm\" and \"Realm/Realm\"). Adding a 3rd level would certainly work here and might be sufficient. Another option would be to configure the digester to allow arbitrary levels of Realm-nesting for even the most pathological cases. For reference, see this link to a question over on StackOverflow: http://stackoverflow.com/questions/13274696/tomcat-7-nesting-combinedrealm-lockoutrealm-and-datasourcerealm"}, {"bug_id": "54190", "ground_truth": ["test/org/apache/catalina/authenticator/TestNonLoginAndBasicAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "variable passes working credentials decided Helpful renamed logic explain extensive", "bug_title": " TestNonLoginAndBasicAuthenticator does not test session timeout properly", "bug_description": "Created attachment 29621 [details] Extensive update to the test class to demonstrate session timeout properly While working on a new test case for a different Authenticator, I decided to follow the timeout test case in this class. Although all the test cases currently run successfully, I discovered three fundamental flaws in the existing timeout test case: 1. The BasicAuthenticator does not create a session by default, so there was no session to actually timeout. 2. Context.setSessionTimeout() was called with a timeout in seconds, but this method expects a timeout argument in minutes. 3. The presence of 401 Unauthorized status was intended to confirm a session timeout, but it was erroneously succeeding because no credentials were supplied when attempting to re-access the protected resource. The attached patch is quite extensive, but cannot easily be broken into smaller units: 1. The AuthenticatorBase.setAlwaysUseSession variable can now be manipulated by test cases. 2. The doTestBasic method has been reimplemented so that it only makes a single HTTP GET request (instead of two). 3. doTestBasic can now be controlled to authenticate or not, and it will also harvest a session cookie and can also supply that cookie in subsequent requests. 4. The doTestNonLogin method can be controlled to send a saved session cookie. 5. The erroneous timeout test case has been reimplemented has been renamed and properly commented to explain that it is not testing a timeout. 6. A new session persistence test case has been added. 7. A new session persistence timeout test case has been added. 8. Raw boolean control flags have been replaced with self-documenting constants. 9. Helpful comments have been added in some places where the logic is not self-evident. The enclosed patch file is backward compatible and passes checkstyle."}, {"bug_id": "54207", "ground_truth": ["java/org/apache/naming/java/javaURLContextFactory.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "catalina correct variable including url including java correct PREFIXES pkgs", "bug_title": " javaURLContextFactory javadoc refers to defunct package names in initial context properties", "bug_description": "Javadoc for org.apache.naming.java.javaURLContextFactory: /** * Context factory for the \"java:\" namespace. * <p> * <b>Important note</b> : This factory MUST be associated with the \"java\" URL * prefix, which can be done by either : * <ul> * <li>Adding a * java.naming.factory.url.pkgs=org.apache.catalina.util.naming property * to the JNDI properties file</li> * <li>Setting an environment variable named Context.URL_PKG_PREFIXES with * its value including the org.apache.catalina.util.naming package name. * More detail about this can be found in the JNDI documentation : * {@link javax.naming.spi.NamingManager#getURLContext(java.lang.String, java.util.Hashtable)}.</li> * </ul> * * @author Remy Maucherat * @version $Id$ */ org.apache.catalina.util.naming is a very old package name.  The correct name for both TC6 and TC7 is org.apache.naming ."}, {"bug_id": "54249", "ground_truth": ["java/org/apache/naming/resources/DirContextURLConnection.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "javax apache exception DirContextURLConnection fixes response exception patch jsp startsWith", "bug_title": " Fix JSP compilation problem when application context root contains white spaces", "bug_description": "Created attachment 29698 [details] Test web application. Hello, I noticed that there is a jsp compilation problem when the application context root contains white spaces. Steps to reproduce: Deploy the attached application and request: http://<host>:<port>/Space%20AppTest/testClassInvoker.jsp Then the following exception is received in response: org.apache.jasper.JasperException: Unable to compile class for JSP org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:661) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334) javax.servlet.http.HttpServlet.service(HttpServlet.java:728) root cause java.lang.IllegalArgumentException: Negative time java.io.File.setLastModified(File.java:1258) org.apache.jasper.compiler.Compiler.compile(Compiler.java:376) org.apache.jasper.compiler.Compiler.compile(Compiler.java:353) org.apache.jasper.compiler.Compiler.compile(Compiler.java:340) org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:646) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334) javax.servlet.http.HttpServlet.service(HttpServlet.java:728) I would like to propose a small patch that fixes this. The fix simply moves the decoding in org.apache.naming.resources.DirContextURLConnection.connect() method a little bit earlier. Without the fix path.startsWith(contextPath + \"/\") check returns false in our case, as contexPath is in decoded form, while path is not decoded yet. Thanks and Best Regards, Polina"}, {"bug_id": "54256", "ground_truth": ["java/org/apache/catalina/util/ExtensionValidator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Host changing validateApplication original Naming Extension IOException list field java", "bug_title": " Enhance Exception reporting on JAR file error", "bug_description": "(I posted this to the mailing list on Oct 28, 2011, but didn't end up creating a report on it until now.  I have the same error with Tomcat 7.) PROBLEM DESCRIPTION: I have an exception (appended below), and I think it would be nice to have more information about what is going on. If I had more context, it would help me find the cause of my problem much more quickly.  For example, if the exception indicated what the file/resource that was having the problem was, it would speed up troubleshooting immensely. HOW TO REPRODUCE: In a JAR file contained in WAR file's WEB-INF/lib folder:  Change the MANIFEST.MF file in the JAR file.  Put in a line with ONLY \"Class-Path:\".  Note there is no space after the period, which is what causes the error.  During load of the application, the exception which I have appended at the end of this message will show up. SUGGESTED IMPROVEMENT: My suggestion would be to modify ExtensionValidator.validateApplication(...), around line 195.  This is the location that actually knows about what the resource is.  It would be nice if the IOException was caught, and information about the Resource was added to the exception, probably by wrapping the exception. Because I have not gone through the overhead of getting a version of Tomcat running from source, these changes have not been compiled and tested, but I think the suggestion is relatively straight-forward. Here are the suggested code changes: First code change - move the definition of \"resource\" outside of the try/catch: // Locate the Manifests for all bundled JARs Resource resource = null; // ADDED NamingEnumeration<Binding> ne = null; Second code change - make the existing declaration of \"resource\" just an assignment: resource = (Resource) obj; // MODIFIED inputStream = resource.streamContent(); Manifest jmanifest = getManifest(inputStream); Third code change: add a catch clause and re-throw: } catch (NamingException nex) { // Jump out of the check for this application because it // has no resources } catch (IOException ioex) { // ADDED throw new IOException(\"validation problem in \" + resource.toString(), ioex); // ADDED } finally { The problem is that the resource may not have a proper toString().  I would suggest changing FileDirContext:898 (inner class=FileResource) to have a toString method, something along the lines of: public String toString() { // ADDED return file == null ? \"null\" : file.toString(); // ADDED } // ADDED Note: about this, in the original email thread, Konstantin Kolinko said: \"Not sure about FileResource.toString(), but adding a catch for IOException looks like doable.\" Finally, here's the exception: 28-Oct-2011 11:03:03 AM org.apache.catalina.core.StandardContext startInternal SEVERE: Error in dependencyCheck java.io.IOException: invalid header field at java.util.jar.Attributes.read(Attributes.java:410) at java.util.jar.Manifest.read(Manifest.java:199) at java.util.jar.JarInputStream.<init>(JarInputStream.java:83) at java.util.jar.JarInputStream.<init>(JarInputStream.java:60) at org.apache.catalina.util.ExtensionValidator.getManifest(ExtensionValidator.java:394) at org.apache.catalina.util.ExtensionValidator.validateApplication(ExtensionValidator.java:195) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5037) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1033) at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:774) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148) at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1033) at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:291) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:443) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:727) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:148) at org.apache.catalina.startup.Catalina.start(Catalina.java:621) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:616) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:450) (And if only java.util.jar.Attributes.read reported WHICH attribute had the problem, we'd really be in business.)"}, {"bug_id": "54338", "ground_truth": ["java/org/apache/jasper/tagplugins/jstl/core/Set.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "ClassCastException Plugin test coerceToType Jsp object tag issue attachment Jsp", "bug_title": " Class cast exception in tagPlugin Set generated code", "bug_description": "Created attachment 29786 [details] Test case for \"Set\" It uses \"Class.cast\" to convert an object to a given class in the code generated by tagPlugin \"Set\". It causes an exception when the value is primitive type, Here is a sample, Caused by: java.lang.ClassCastException: Cannot cast class java.lang.Integer to int at java.lang.Class.cast(Class.java:1711) at org.apache.jsp.WEB_002dINF.views.error_jsp._jspService(error_jsp.java:108) at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) at javax.servlet.http.HttpServlet.service(HttpServlet.java:668) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432) ... 52 more The correct way is to use \"ELSupport.coerceToType\". Attached a patch and test case for this issue."}, {"bug_id": "54370", "ground_truth": ["java/org/apache/el/util/ReflectionUtil.java", "test/org/apache/el/util/TestReflectionUtil.java", "test/org/apache/el/util/Tester.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "reverted legitimate parameters org browse method   toString don", "bug_title": " NPE mapping method in EL", "bug_description": "Created attachment 29808 [details] Patch NPE when using null parameters in some cases: https://issues.jboss.org/browse/AS7-3177 I did put a workaround for it, but I don't know how legitimate it is. It looks a bit similar to the NPE with a null toString that got reverted, where a null object is used as an argument."}, {"bug_id": "54371", "ground_truth": ["java/org/apache/naming/resources/DirContextURLConnection.java", "webapps/docs/changelog.xml", "java/org/apache/naming/resources/DirContextURLConnection.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "xml DeployWar substring FileNotFoundException java Support innerRun DirContextURLConnection Context WEB", "bug_title": " java.io.FileNotFoundException while deploying web application with white space in the context root", "bug_description": "Created attachment 29809 [details] Test web application. Hello, The following exception is thrown during web application deploy on v. Tomcat 7.0.x including the latest Tomcat 7.0.35-dev (from trunk branch): SEVERE: Unable to process JNDI URL [jndi:/localhost/Fragment%20Example/WEB-INF/classes/com] for annotations java.io.FileNotFoundException: jndi:/localhost/Fragment%20Example/WEB-INF/classes/com at org.apache.naming.resources.DirContextURLConnection.list(DirContextURLConnection.java:465) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:2028) at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1948) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1306) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:369) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5173) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633) at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977) at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1655) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:441) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303) at java.util.concurrent.FutureTask.run(FutureTask.java:138) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662) To reproduce: 1.\tDeploy the attached application, which: 1.1.\tHas a white space in its name; 1.2.\tIncludes a web fragment; 2.\tThe web app extraction is disabled (through unpackWARs=\"false\" Host attribute in the server.xml) Note that the fix for Bug 54249 should be first applied (to avoid other exceptions prior the questioned one). I would like to propose a small fix for this: A substring start position is incorrectly calculated based on a string in decoded form (e.g. \u00e2\u20ac\u0153/Fragment Example\u00e2\u20ac?), while the substring itself is made on an encoded string (e.g. \u00e2\u20ac\u0153/localhost/Fragment%20Example/WEB-INF/classes/com\u00e2\u20ac?). The proposed fix is simply to encode the string used for the calculations. Thanks and best regards, Polina"}, {"bug_id": "54380", "ground_truth": ["webapps/docs/changelog.xml", "java/org/apache/catalina/connector/MapperListener.java"], "repo": "tomcat70", "reformed_query": "Session addHost TestStandardContext register register lifecycleEvent Host processed TestStandardContext TomcatWithFastSessionIDs", "bug_title": " In MapperListener.lifecycleEvent(..): check state of parent before calling registerWrapper()", "bug_description": "In r1429745 I added a test to trunk that test what happens if the first attempt to start a Context fails, the cause of the failure is removed, and then the context is started for the second time. The test is TestStandardContext.testBug46243(). It runs successfully, but the following message is logged: Jan 07, 2013 3:02:07 PM org.apache.catalina.mapper.Mapper addWrapper SEVERE: No context found: This happens when the context is started for the second time. If I put a breakpoint on the line that logs the message, the stack trace is (running Tomcat trunk): Mapper.addWrapper(String, String, String, String, Wrapper, boolean, boolean) line: 319 MapperListener.registerWrapper(Wrapper) line: 417 MapperListener.lifecycleEvent(LifecycleEvent) line: 433 LifecycleSupport.fireLifecycleEvent(String, Object) line: 119 Tomcat$ExistingStandardWrapper(LifecycleBase).fireLifecycleEvent(String, Object) line: 90 Tomcat$ExistingStandardWrapper(LifecycleBase).setStateInternal(LifecycleState, Object, boolean) line: 402 Tomcat$ExistingStandardWrapper(LifecycleBase).start() line: 168 StandardContext.startInternal() line: 5009 StandardContext(LifecycleBase).start() line: 150 TestStandardContext.testBug46243() line: 109 ================================================ My understanding is the following: 1. When Tomcat starts, registration into the mapper is performed by StandardService.startInternal(). Stack trace: Mapper.addHost(String, String[], Host) line: 89 MapperListener.registerHost(Host) line: 287 MapperListener.startInternal() line: 107 MapperListener(LifecycleBase).start() line: 150 StandardService.startInternal() line: 450 StandardService(LifecycleBase).start() line: 150 StandardServer.startInternal() line: 745 StandardServer(LifecycleBase).start() line: 150 TomcatBaseTest$TomcatWithFastSessionIDs(Tomcat).start() line: 326 TomcatBaseTest$TomcatWithFastSessionIDs.start() line: 421 TestStandardContext.testBug46243() line: 89 2. The Context that failed to start is skipped by MapperListener.registerHost(), thanks to getState().isAvailable() check there. 3. The Mapper.addWrapper() call (the one that prints that \"No context found\" message) happens when AFTER_START_EVENT is processed for the Wrapper. At this moment the StandardContext.startInternal() has not completed yet and thus the context has not been registered by the mapper. 4. Nothing serious happens, besides the message, because when StandardContext.startInternal() completes, the AFTER_START_EVENT for the Context is processed. This is when the Context and the Wrappers that it contains are registered. Thus I think there should be a check either in MapperListener.lifecycleEvent() or in MapperListener.registerWrapper() that tests whether getContainer().getState().isAvailable() is true."}, {"bug_id": "54381", "ground_truth": ["java/org/apache/catalina/websocket/StreamInbound.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "override onPong opCode extension websocket allowing Stream Constants Outbound utility", "bug_title": " Websocket StreamInbound never reports receipt of a Pong", "bug_description": "The tomcat websocket api now allows the send of a Ping frame by the server (as of 7.0.33), via WsOutbound, but never reports the receipt of a Pong. See StreamInbound in the onData() method... } else if (opCode == Constants.OPCODE_PONG) { // NO-OP } As the intended use of Pings is for heartbeat messages, allowing a Ping without informing the server extension of the returned Pong leaves out half the utility. I would suggest these changes to StreamInbound as a fix... 1) In the onData() method... } else if (opCode == Constants.OPCODE_PONG) { onPong(frame.getPayLoad()); } 2) Add a method onPong (ByteBuffer buffer)... protected void onPong(ByteBuffer buffer) { // NO-OP } ...which implementations may now override to handle Pong receipt and heartbeat logic. This is necessary as onData() is marked final, so there's no alternate workaround."}, {"bug_id": "54382", "ground_truth": ["java/org/apache/catalina/ssi/SSIProcessor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "file specific create SSI Activate Nullpointer", "bug_title": " Nullpointer Exception after activating SSI and loading of any html-file with a specific comment", "bug_description": "1. Activate SSI on Tomcat and restart Tomcat 2. create an any html-file with a comment like this \"<!--#-->\" 3. put this html-file to the webapp folder of tomcat 4. when you now go to the html file via tomcat, you will get an Nullpointer Exception. The SSIServlet.class and other necessary SSI-classes cannot be found"}, {"bug_id": "54438", "ground_truth": ["java/org/apache/catalina/realm/RealmBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "RealBase returns String Real tomcat repos getDigest username org user", "bug_title": " Bug fix 52953 introduces NullPointerException in RealmBase.java line 409 when user not found in JDBC", "bug_description": "The fix to bug 52953 introduces a NullPointerException at line 409 in RealBase.java For example compare: http://svn.apache.org/repos/asf/tomcat/tc7.0.x/tags/TOMCAT_7_0_26/java/org/apache/catalina/realm/RealmBase.java and http://svn.apache.org/repos/asf/tomcat/tc7.0.x/tags/TOMCAT_7_0_27/java/org/apache/catalina/realm/RealmBase.java String md5a1 = getDigest(username, realm); was changed to String md5a1 = getDigest(username, realm).toLowerCase(Locale.ENGLISH); If getDigest(username,realm) returns null if the user is not found and as a result you get a NPE when toLowerCase() is invoked on the null. I looked in the trunk, and the code hasn't changed. Seems like there should already be a bug posted on this as it makes digest authentication useless, but I can't find one!"}, {"bug_id": "54456", "ground_truth": ["java/org/apache/coyote/http11/filters/ChunkedInputFilter.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "trunk complete header EOFException Issue header fixed ChunkedInputFilter Filter patch", "bug_title": " ChunkedInputFilter returning EOF when client closes connection without sending end chunk", "bug_description": "Created attachment 29874 [details] Patch to fix the bug In my case client is processing user's InputStream and then sending data in chunks to server. At server end I read till EOF. Client can be simple Java program or a web application. I am facing issue when client gets error on user's InputStream and closes connection with server. In that case ChunkedInputFilter is returning -1. I have added logs and confirmed that endChunk is false. Issue was fixed after I added following just before \"return result;\" if (result == -1 && !endChunk) throw new EOFException(\"Unexpected end of stream while reading chunk body\"); I think ChunkedInputFilter should return -1 only when it gets endChunk. Also, from client end I am always sending complete chunk. So, in ChunkedInputFilter I should get EOF from socket stream while reading next chunk header (which is handled properly in ChunkedInputFilter) but that is not happening. I have attached patch. Patch was generated against tomcat/tc7.0.x/trunk"}, {"bug_id": "54458", "ground_truth": ["java/org/apache/catalina/realm/DataSourceRealm.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "DataSourceRealm exception log helpful exception wrong getString data intermittently exception", "bug_title": " DataSourceRealm should provide more info on SQLException", "bug_description": "The getPassword() method of the DataSourceRealm does not log enough information when it encounters an SQL error.  The catch block is: } catch(SQLException e) { containerLog.error( sm.getString(\"dataSourceRealm.getPassword.exception\", username)); } finally { it would be really helpful to have some details of what the SQLException is.  I am getting this intermittently, and have resorted to subclassing getPassword() in an attempt to figure out what is going wrong."}, {"bug_id": "54475", "ground_truth": ["java/org/apache/jasper/compiler/SmapUtil.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "installSmap SMAP copy web init Servlet JasperException File addSDE Smap", "bug_title": " SMAP broken in Java 8 for JSP compile", "bug_description": "In order to compile JSPs with Java 8, I made the following additions to the JSP servlet in conf\\web.xml: <init-param> <param-name>compiler</param-name> <param-value>modern</param-value> </init-param> <init-param> <param-name>compilerSourceVM</param-name> <param-value>1.8</param-value> </init-param> <init-param> <param-name>compilerTargetVM</param-name> <param-value>1.8</param-value> </init-param> However, I get the following error: org.apache.jasper.JasperException: org.apache.jasper.JasperException: Unable to compile class for JSP org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:549) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:378) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334) javax.servlet.http.HttpServlet.service(HttpServlet.java:728) ... Caused by java.io.IOException: unexpected tag: 18 at org.apache.jasper.compiler.SmapUtil$SDEInstaller.copyConstantPool(SmapUtil.java:434) at org.apache.jasper.compiler.SmapUtil$SDEInstaller.addSDE(SmapUtil.java:251) at org.apache.jasper.compiler.SmapUtil$SDEInstaller.install(SmapUtil.java:223) at org.apache.jasper.compiler.SmapUtil$SDEInstaller.install(SmapUtil.java:200) at org.apache.jasper.compiler.SmapUtil.installSmap(SmapUtil.java:163) at org.apache.jasper.compiler.AntCompiler.generateClass(AntCompiler.java:284) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:378) ... If I also add the suppressSmap parameter to the JSP servlet in conf\\web.xml, the error goes away, and the JSP compiles fine: <init-param> <param-name>suppressSmap</param-name> <param-value>true</param-value> </init-param> Something about the SMAP is not playing well with Java 8 language features like the lambda expression."}, {"bug_id": "54496", "ground_truth": ["java/org/apache/catalina/tribes/membership/MemberImpl.java", "java/org/apache/catalina/tribes/membership/MemberImpl.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "apache Impl StaticMember getName Impl getClass cover buf getName getName", "bug_title": " ..tribes.membership.MemberImpl.toString() might be better using .getClass().getName()", "bug_description": "public String toString()  { StringBuilder buf = new StringBuilder(\"org.apache.catalina.tribes.membership.MemberImpl[\"); Might be better to use .getClass().getName() to cover StaticMember and any other sub-classes that might arise."}, {"bug_id": "54497", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Server util checkThreadLocalMapForLeaks WebappClassLoader innerGet Tomcat Failed lang FutureTask", "bug_title": " RuntimeException in WebappClassLoader.checkThreadLocalMapForLeaks() causes LifecycleException", "bug_description": "Observed this when testing Tomcat trunk at r1438747, at WinXP 32-bit, JDK 7u11. (running TestWsWebSocketContainer with APR, Tomcat-Native 1.1.26 RC) There occurred an NPE in WebappClassLoader.checkThreadLocalMapForLeaks(). It was uncaught and caused LifecycleException and ultimately a failure to stop Tomcat. =============== In stderr: SEVERE: A child container failed during stop java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to stop component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]] at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252) at java.util.concurrent.FutureTask.get(FutureTask.java:111) at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:974) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232) at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1404) at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1393) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) at java.util.concurrent.FutureTask.run(FutureTask.java:166) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) at java.lang.Thread.run(Thread.java:722) Caused by: org.apache.catalina.LifecycleException: Failed to stop component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]] at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236) ... 7 more Caused by: org.apache.catalina.LifecycleException: Failed to stop component [WebappLoader[]] at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236) at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5365) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232) ... 7 more Caused by: java.lang.NullPointerException at sun.reflect.UnsafeFieldAccessorImpl.ensureObj(UnsafeFieldAccessorImpl.java:54) at sun.reflect.UnsafeObjectFieldAccessorImpl.get(UnsafeObjectFieldAccessorImpl.java:36) at java.lang.reflect.Field.get(Field.java:372) at org.apache.catalina.loader.WebappClassLoader.checkThreadLocalMapForLeaks(WebappClassLoader.java:2247) at org.apache.catalina.loader.WebappClassLoader.checkThreadLocalsForLeaks(WebappClassLoader.java:2188) at org.apache.catalina.loader.WebappClassLoader.clearReferences(WebappClassLoader.java:1731) at org.apache.catalina.loader.WebappClassLoader.stop(WebappClassLoader.java:1641) at org.apache.catalina.loader.WebappLoader.stopInternal(WebappLoader.java:491) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232) ... 9 more =============== In testcase: Testcase: testSmallTextBufferClientTextMessage took 2,328 sec Caused an ERROR Failed to stop component [StandardServer[-1]] org.apache.catalina.LifecycleException: Failed to stop component [StandardServer[-1]] at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236) at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:336) at org.apache.catalina.startup.TomcatBaseTest.tearDown(TomcatBaseTest.java:163) Caused by: org.apache.catalina.LifecycleException: Failed to stop component [StandardService[Tomcat]] at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236) at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:766) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232) Caused by: org.apache.catalina.LifecycleException: Failed to stop component [StandardEngine[Tomcat]] at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:236) at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:501) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232) Caused by: org.apache.catalina.LifecycleException: A child container failed during stop at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:981) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232) =============== Thoughts: 1. We should catch throwables in those checkFor**Leaks methods. It should not cause a \"failed to stop component\" failure. 2. In that method there are many calls to \"table[j]\". The array member should be evaluated only once, so that it does not become null unexpectedly."}, {"bug_id": "54507", "ground_truth": ["java/org/apache/catalina/core/StandardContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Notification remove java Session Store Http backgroundProcess Listener initialized Application", "bug_title": " Notification for expired session sent to still initializing servlet context", "bug_description": "The Tomcat backgroundprocess for expiring sessions does not wait for the servlet context (application loaded by a filter) to be fully initialized. The following stacktrace happens while Filter.init is still being executed (hence the application is only partly initialized and shouldn't receive any work): at org.apache.wicket.protocol.http.WebApplication.sessionUnbound(WebApplication.java:552) at org.apache.wicket.session.HttpSessionStore$SessionBindingListener.valueUnbound(HttpSessionStore.java:465) at org.apache.catalina.session.StandardSession.removeAttributeInternal(StandardSession.java:1800) at org.apache.catalina.session.StandardSession.expire(StandardSession.java:865) at org.apache.catalina.session.StandardSession.isValid(StandardSession.java:658) at org.apache.catalina.session.ManagerBase.processExpires(ManagerBase.java:534) at org.apache.catalina.session.ManagerBase.backgroundProcess(ManagerBase.java:519) at org.apache.catalina.core.ContainerBase.backgroundProcess(ContainerBase.java:1352) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1530) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1540) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1540) at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1519) at java.lang.Thread.run(Thread.java:722)"}, {"bug_id": "54585", "ground_truth": ["java/org/apache/catalina/loader/WebappLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "custom jsp urls attr Loader honor constructing classpath honor WebappLoader", "bug_title": " WebappLoader doesn't honor delegate attr while constructing jsp_classpath", "bug_description": "If custom WebappClassLoader is created with delegate=true then parent-first classloading model is used. Everything works here as expected. However jsp_classpath is always constructed in the following manner: customWebappClassLoader.urls;parent.urls;parent...parent.urls Whereas it is expected to me that if delegate=true then parent's urls should come first."}, {"bug_id": "54599", "ground_truth": ["modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Resource maxIdle head defaultTransactionIsolation Source fairQueue Millis commitOnReturn minEvictableIdleTimeMillis Validation", "bug_title": " DataSource password is exposed to applications via toString method", "bug_description": "On the server side, create a DataSource using \"org.apache.tomcat.jdbc.pool.DataSourceFactory\". Ex: <Resource auth=\"Container\" description=\"\" name=\"jdbc/testTomcatJdbc\" factory=\"org.apache.tomcat.jdbc.pool.DataSourceFactory\" type=\"javax.sql.DataSource\" username=\"sa\" password=\"super-secret\" driverClassName=\"org.h2.Driver\" url=\"jdbc:h2:mem:test\" minIdle=\"1\" initialSize=\"1\" /> In a web application, create a JSP file, add the following: <%@ page import=\"javax.naming.*\" session=\"false\" %> <!DOCTYPE HTML> <html> <head> <title>Display Password!</title> </head> <body> <h1>toString for Tomcat JDBC</h1> <% dataSource = (javax.sql.DataSource) ctx.lookup(\"java:/comp/env/jdbc/testTomcatJdbc\"); out.println(\"<p>\" + dataSource.toString() + \"</p>\"); %> </body> </html> Access the JSP in your browser.  The output from toString on the DataSource will display the password that was configured in the <Resource/> tag. Example Output: toString for Tomcat JDBC org.apache.tomcat.jdbc.pool.DataSource@75cae120{ConnectionPool[defaultAutoCommit=null; defaultReadOnly=null; defaultTransactionIsolation=-1; defaultCatalog=null; driverClassName=org.h2.Driver; maxActive=100; maxIdle=100; minIdle=1; initialSize=1; maxWait=30000; testOnBorrow=false; testOnReturn=false; timeBetweenEvictionRunsMillis=5000; numTestsPerEvictionRun=0; minEvictableIdleTimeMillis=60000; testWhileIdle=false; testOnConnect=false; password=super-secret; url=jdbc:h2:mem:test; username=sa; validationQuery=null; validatorClassName=null; validationInterval=30000; accessToUnderlyingConnectionAllowed=true; removeAbandoned=false; removeAbandonedTimeout=60; logAbandoned=false; connectionProperties=null; initSQL=null; jdbcInterceptors=null; jmxEnabled=true; fairQueue=true; useEquals=true; abandonWhenPercentageFull=0; maxAge=0; useLock=false; dataSource=null; dataSourceJNDI=null; suspectTimeout=0; alternateUsernameAllowed=false; commitOnReturn=false; rollbackOnReturn=false; useDisposableConnectionFacade=true; logValidationErrors=false; propagateInterruptState=false; }"}, {"bug_id": "54612", "ground_truth": ["java/org/apache/catalina/websocket/WsOutbound.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "conection Outbound websocket org Created Java works VIOLATION Expected apache", "bug_title": " Fatal Error when trying to send data to WebSocket with conection closed", "bug_description": "Created attachment 29997 [details] Crash report by Java VM Occures: When try to send data to WebSocet using  org.apache.catalina.websocket.WsOutbound but socket is closed and onClose method has not managed to work out and remove connection from the collection. Expected behavior: throw IOException; Actual behavior: Fatal Error EXCEPTION_ACCESS_VIOLATION Java: JDK-7.15 Tomcat: 7.0.37 Actual DLL version 1.1.27 (not 24) Note. This works well on Linux but crash Tomcat on Windows"}, {"bug_id": "54624", "ground_truth": ["java/org/apache/catalina/authenticator/FormAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "hangs form blocks proxy bytes Form restore proxy Tomcat login", "bug_title": " Form authenticator hangs on re-authentication of POST request behind mod_proxy_ajp", "bug_description": "Setup: Tomcat AJP connector behind mod_proxy_ajp, form-based authentication. When session expires and a POST request is submitted, Tomcat shows login form, user logs in, authenticator tries to restore the original POST request. Doing that, it tries to swallow the AJP message body before replacing the body of the request with the original POST request body. It tries to read the first 4 bytes of the AJP message (the message length) and blocks forever waiting for those 4 bytes."}, {"bug_id": "54628", "ground_truth": ["java/org/apache/catalina/websocket/WsOutbound.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Binary websocket array array WsOutbound wrong org apache upgradeOutbound data", "bug_title": " there is something wrong when send binary data by websocket.", "bug_description": "there is something wrong when send binary data by websocket. see org.apache.catalina.websocket.WsOutbound.doWriteBytes(ByteBuffer, boolean) I think // Write the content upgradeOutbound.write(buffer.array(), 0, buffer.limit()); upgradeOutbound.flush(); should change to : // Write the content upgradeOutbound.write(buffer.array(), buffer.arrayOffset(), buffer.limit()); upgradeOutbound.flush(); For example: byte[] bts = new byte[]{1,2,3,4,5} ByteBuffer bf = ByteBuffer.wrap(bts, 2, 2); out.writeBinaryMessage(bf); I mean write [3,4] to the client, but in fact [1,2,3,4] be sent;"}, {"bug_id": "54638", "ground_truth": ["java/org/apache/catalina/manager/StatusTransformer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "row values Survivor memory Eden memory Code status committed Survivor", "bug_title": " /manager/status?XML=true", "bug_description": "Hi all, in /manager/status?XML=true, informations about memory pools are incorrect. for every row all the values (initial,committed,maximum,used) are the same: Memory Pools Name:Eden Space\tType:Heap memory\tInitial:143130624\tCommitted:143130624\tMaximum:143130624\tUsed:143130624 Name:Survivor Space\tType:Heap memory\tInitial:17891328\tCommitted:17891328\tMaximum:17891328\tUsed:17891328 Name:Tenured Gen\tType:Heap memory\tInitial:357957632\tCommitted:357957632\tMaximum:357957632\tUsed:357957632 Name:Code Cache\tType:Non-heap memory\tInitial:163840\tCommitted:8421376\tMaximum:33554432\tUsed:163840 Name:Perm Gen\tType:Non-heap memory\tInitial:12582912\tCommitted:23330816\tMaximum:67108864\tUsed:12582912 Name:Perm Gen [shared-ro]\tType:Non-heap memory\tInitial:10485760\tCommitted:10485760\tMaximum:10485760\tUsed:10485760 Name:Perm Gen [shared-rw]\tType:Non-heap memory\tInitial:12582912\tCommitted:12582912\tMaximum:12582912\tUsed:12582912 Instead in the gui page values are correct."}, {"bug_id": "54660", "ground_truth": ["java/org/apache/catalina/valves/AccessLogValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Expected yyyy Add Log Host host rotate yyyy Expected tomcat", "bug_title": " AccessLogValve fileDateFormat can not be changed through JMX", "bug_description": "When an AccessLogValve is added to a catalina host with the JMX addVale() operation on the Host object name, the valve will start with the default fileDateFormat. Changing the attribute on the valve through it's JMX object name has no effect because the valve is already started. Executing a rotate() operation on the valve does also have no effect. Steps to Reproduce: - Start tomcat server - Add Host using JMX - Add valve to Host using JMX - Set valve attribute fileDateFormat to something else than yyyy-MM-dd, for example yy-MM Actual Results: The access log file format will include the default fileDateFormat of yyyy-MM-dd Expected Results: The access log file format with yy-MM, as from the example."}, {"bug_id": "54702", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "upload Global getDefaultWebXmlFragment jmx Fragment ContextConfig addChild ErrorReportValve stack Error", "bug_title": " File descriptor leak at web.xml loading", "bug_description": "Hello I think I've found a file descriptor leak in file /tomcat/trunk/java/org/apache/catalina/startup/ContextConfig.java (method getGlobalWebXmlSource). A stream is from file \"web.xml\" is not closed. private WebXml getDefaultWebXmlFragment() { ... 1284\t        InputSource globalWebXml = getGlobalWebXmlSource(); ... 1337\t            // Parse global web.xml if present 1338\t            if (globalWebXml == null) { 1339\t                // This is unusual enough to log 1340\t                log.info(sm.getString(\"contextConfig.defaultMissing\")); 1341\t            } else { 1342\t                parseWebXml(globalWebXml, webXmlDefaultFragment, false); 1343\t            } Here is the full stack trace [java.io.FileInputStream.<init>(FileInputStream.java:109)] [org.apache.catalina.startup.ContextConfig.getWebXmlSource(ContextConfig.java:1837)] [org.apache.catalina.startup.ContextConfig.getGlobalWebXmlSource(ContextConfig.java:1744)] [org.apache.catalina.startup.ContextConfig.getDefaultWebXmlFragment(ContextConfig.java:1417)] [org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1253)] [org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)] [org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:369)] [org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)] [org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)] [org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5173)] [org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)] [org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901)] [org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877)] [org.apache.catalina.core.StandardHost.addChild(StandardHost.java:633)] [org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:977)] [org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:542)] [org.apache.catalina.startup.HostConfig.check(HostConfig.java:1462)] [sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)] [sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)] [sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)] [java.lang.reflect.Method.invoke(Method.java:597)] [org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:301)] [com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:836)] [com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:761)] [org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1445)] [org.apache.catalina.manager.HTMLManagerServlet.upload(HTMLManagerServlet.java:301)] [org.apache.catalina.manager.HTMLManagerServlet.doPost(HTMLManagerServlet.java:208)] [javax.servlet.http.HttpServlet.service(HttpServlet.java:647)] [javax.servlet.http.HttpServlet.service(HttpServlet.java:728)] [org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)] [org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)] [org.apache.catalina.filters.CsrfPreventionFilter.doFilter(CsrfPreventionFilter.java:213)] [org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)] [org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)] [org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108)] [org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)] [org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)] [org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)] [org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)] [org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:581)] [org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)] [org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)] [org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:931)] [org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)] [org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:407)] [org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1004)] [org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)] [org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1822)] [java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)] [java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)] [java.lang.Thread.run(Thread.java:662)]"}, {"bug_id": "54851", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Webapp Loader app fragment add file app jarConn applied WebappClassLoader", "bug_title": " Folder without web-fragment.xml should not impact the status of distributable", "bug_description": "Created attachment 30200 [details] patch revision 889701 \"JARs without any web.xml fragments should not impact the status of distributable\" was applied to scan(JarURLConnection jarConn), but was not applied to scan(File file). I ran into this while trying to run cluster nodes from inside eclipse/wtp which supplies some folders to WebappClassLoader.addRepository(), e.g. <another workspace project>/classes. This causes the app to be marked as distributable=false, regardless of supplying the <distributable/> tag in the web.xml. The attached patch resolved the issue for me. Thanks."}, {"bug_id": "54888", "ground_truth": ["java/org/apache/jasper/tagplugins/jstl/core/ForEach.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "foreach String string tagPlugin Tag TagPlugin CSV Created details forEach", "bug_title": " TagPlugin \"ForEach\" doesn't support CSV items", "bug_description": "Created attachment 30225 [details] Patch for \"ForEach\" In JSTL, \"forEach\" supports items with String value. The string can be a CSV format. For example, <c:foreach items=\"1,2,3,4,5\" var=\"i\"></c:foreach> However, it doesn't support in tagPlugin \"ForEach\". Provided a patch for this issue."}, {"bug_id": "54939", "ground_truth": ["webapps/docs/config/systemprops.xml", "java/org/apache/coyote/http11/AbstractHttp11Processor.java", "java/org/apache/coyote/http11/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "logs coyote message error versions Increase response patch user level", "bug_title": " No useful logging when maxHeaderCount hit", "bug_description": "Recent versions of tomcat 6 & 7 added the maxHeaderCount parameter to the connector configuration with a default value of 100. When this limit is hit Tomcat returns a HTTP 400 response with a blank page and in the default configuration nothing is logged by the server. The org.apache.coyote.ajp.AjpProcessor class logs the error at DEBUG level but that doesn't get written anywhere using the default configuration. The use case for more than 100 headers is the use of SSO systems that provide user attributes via HTTP headers. The Internet2 Shibboleth project is one good example, it is quite common to have well over 100 headers getting passed to Tomcat when using these systems. I'd like to propose one of the following fixes: - Write a message to the response explaining why the 400 response was returned. This would make it much easier for application deployers to determine the cause of the non-functional application. - Have a default logger setup for the AJP connector and change the log level to INFO. Perhaps this gets treated as a one time warning and the first request that hits this limit is logged as WARN and the subsequent requests are logged at DEBUG to avoid log clutter. - Increase the default value of maxHeaderCount to 1000 which would more easily accommodate the use of HTTP headers to pass user attributes. I'd be happy to provide a patch for any of these solutions or other proposed ideas."}, {"bug_id": "54955", "ground_truth": ["java/org/apache/tomcat/util/http/mapper/Mapper.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "http mapping file sources Mapping result root", "bug_title": " Mapping to application context root returns 404 after reload", "bug_description": "Created attachment 30273 [details] A minimum war file to reproduce the bug with sources attached URL mapping specified as \"\"(empty string) maps a servlet to the context root according to servlet specification. This feature is working when an application is deployed, but broken when it's reloaded. A reload will result in 404 error. (Other url mappings are OK, only \"\") Steps to reproduce: 1) Create a servlet with URL mapping as empty string, you can either use @WebServlet(\"\") annotation or <url-pattern></url-pattern> in web.xml 2) If you deploy it in Tomcat 7.0.40, it will work. (e.g. http://localhost:8080/myapp/) 3) But if you reload the app (say using the manager app), http://localhost:8080/myapp/ will give 404 error. Servlet in step 1 is never called this time. Actual Results: 404 Not Found Expected Results: Show the context root page. Env: Tomcat 7.0.40, Java 7, Windows 8"}, {"bug_id": "54964", "ground_truth": ["java/org/apache/jasper/compiler/TagPluginManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "String java Exception plugin details Str issue Node load details", "bug_title": " Class loading issue of \"TagPlugin\" in TagPluginManager", "bug_description": "Created attachment 30281 [details] Patch for TagPluginManager.java TagPluginManager is using \"Class.forName\" to load extensions of TagPlugin. It can't work when these extensions are put under the WEB-INF/lib. Here is the code, String pluginClassStr = pluginClassNode.getBody(); TagPlugin tagPlugin = null; try { Class<?> pluginClass = Class.forName(pluginClassStr); tagPlugin = (TagPlugin) pluginClass.newInstance(); } catch (Exception e) { throw new JasperException(e); }"}, {"bug_id": "54968", "ground_truth": ["java/org/apache/jasper/runtime/JspFactoryImpl.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "getSpecificationVersion JspEngineInfo Engine   Jsp", "bug_title": " JspEngineInfo.getSpecificationVersion() returns 2.1 instead of 2.2", "bug_description": ""}, {"bug_id": "54999", "ground_truth": ["java/org/apache/catalina/authenticator/AuthenticatorBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "diff REQ SSO Override NOTE java created REQ Authenticator testing", "bug_title": " JSESSIONIDSSO not re-created upon re-authentication on the same request - logout() and login(username,password)", "bug_description": "In testing I found that the JSESSIONIDSSO was not re-created upon re-authentication via logout() and login(username,password) in the same request.  The problem stemmed from the REQ_SSOID_NOTE that was was not reset upon request.logout(), whereas the documentation indicates that a logout() from any web-app should logout() from all web-apps.  When the REQ_SSOID_NOTE is not removed upon logout(), a subsequent login(username,password) on the same request will re-create a JSESSIONID for the current web-app but fails to re-create a JSESSIONIDSSO since the REQ_SSO_ID_NOTE still lingers on the request. AuthenticatorBase.java adjustment for logout(request) that removes the REQ_SSOID_NOTE so that a subsequent login(username,password) will work on the same request: @Override public void logout(Request request) throws ServletException { register(request, request.getResponse(), null, null, null, null); request.removeNote(Constants.REQ_SSOID_NOTE); } I'll upload a diff-patch against the trunk and for 7.0.40."}, {"bug_id": "55035", "ground_truth": ["java/org/apache/catalina/ant/DeployTask.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "task version receive URLEncoder deploy password apps error URLEncoder Version", "bug_title": " Deploy ROOT webapp with version through text manager using Ant", "bug_description": "Currently Ant \"deploy\" task does not support separate parameter \"version\" and, thanks to URLEncoder, there is no workaround for that. But for apps with not empty context it's possible to define version using ##, like setting path to \"/someContext#someVersion\". For apps with empty context we receive error: Case #1: <deploy url=\"{tomcat.manager}/text\" username=\"${username}\", password=\"${password}\" path=\"/ROOT##12345\" war=\"${pathtowar}\" /> Result: Failed to deploy application at context path /ROOT##12345 Case #1: <deploy url=\"{tomcat.manager}/text\" username=\"${username}\", password=\"${password}\" path=\"/##12345\" war=\"${pathtowar}\" /> Result: Failed to deploy application at context path /##12345"}, {"bug_id": "55071", "ground_truth": ["java/org/apache/catalina/realm/JDBCRealm.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "occasionally masks executeQuery surrounded JDBCRealm SQL summary Password Connection occasionally", "bug_title": " try finally catch structure masks original exception in JDBCRealm.getPassword()", "bug_description": "I have run into a mysterious apparent SQL exception in JDBCRealm.getPassword(). Presumably, line 557 \"stmt.executeQuery()\" occasionally fails. I'm not sure why and would like to know why. However, the finally block contains dbConnection.commit() (line 579). This throws an exception (Connection Closed) which is then logged on line 585. In summary, line 579 should be surrounded by a try catch."}, {"bug_id": "55073", "ground_truth": ["java/org/apache/jasper/compiler/Validator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "work iterations Visitor elExpression revision Method find ValidateVisitor Document Created", "bug_title": " wasted work in ValidateVisitor.isExpression()", "bug_description": "Created attachment 30404 [details] patch The problem appears in version 7.0.40 and in revision 1490425.  I attached a two-line patch that fixes it. In method \"ValidateVisitor.isExpression\", the loop over \"nodes\" should break immediately after \"elExpression\" is set to \"true\".  All the iterations after \"elExpression\" is set to \"true\" do not perform any useful work, at best they just set \"elExpression\" again to \"true\". Method \"startInternal\" in class \"StandardHost\" has a similar loop (over \"valves\"), and this loop breaks immediately after \"found\" is set to \"true\", just like in the proposed patch.  Other methods (e.g., \"MapperListener.findDefaultHost\", \"CollectVisitor.checkSeen\", \"JspDocumentParser.processChars\", \"ParameterParser.isOneOf\") also have similar loops with similar breaks, just like in the proposed patch."}, {"bug_id": "55108", "ground_truth": ["java/org/apache/catalina/tribes/tipis/AbstractReplicatedMap.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Replicated mbrs attachment work Listener mbrs Parser exclude Parser methods", "bug_title": " Wasted work in \"AbstractReplicatedMap.excludeFromSet\"", "bug_description": "Created attachment 30448 [details] patch The problem appears in version 7.0.41 and in revision 1493861.  I attached a one-line patch that fixes it. In method \"AbstractReplicatedMap.excludeFromSet\", the loop over \"mbrs\" should break immediately after \"include\" is set to \"false\".  All the iterations after \"include\" is set to \"false\" do not perform any useful work, at best they just set \"include\" again to \"false\". Method \"inSet\" in the same class \"AbstractReplicatedMap\" (right above the definition of \"excludeFromSet\") has a similar loop (over \"set\"), and this loop breaks immediately after \"result\" is set to \"true\", just like in the proposed patch.  Other methods (e.g., \"MapperListener.findDefaultHost\", \"CollectVisitor.checkSeen\", \"JspDocumentParser.processChars\", \"ParameterParser.isOneOf\") also have similar loops with similar breaks, just like in the proposed patch."}, {"bug_id": "55110", "ground_truth": ["test/org/apache/catalina/authenticator/TestNonLoginAndBasicAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "loop Listener methodFound testSessionExpiryContainer problem perform Visitor authHeaders test Created", "bug_title": " Wasted work in \"TestNonLoginAndBasicAuthenticator.doTestBasic\"", "bug_description": "Created attachment 30450 [details] patch The problem appears in version 7.0.41 and in revision 1493861.  I attached a one-line patch (patch.diff) that fixes it. In method \"TestNonLoginAndBasicAuthenticator.doTestBasic\", the loop over \"authHeaders\" should break immediately after \"methodFound\" is set to \"true\".  All the iterations after \"methodFound\" is set to \"true\" do not perform any useful work, at best they just set \"methodFound\" again to \"true\". Method \"TestWsWebSocketContainer.testSessionExpiryContainer\" has a similar problem (the loop over \"setA\" should break immediately after \"isOpen\" is set to true).  I attached another one-line patch (patch2.diff) for this problem. Method \"startInternal\" in class \"StandardHost\" has a similar loop (over \"valves\"), and this loop breaks immediately after \"found\" is set to \"true\", just like in the proposed patches.  Other methods (e.g., \"MapperListener.findDefaultHost\", \"CollectVisitor.checkSeen\", \"JspDocumentParser.processChars\", \"ParameterParser.isOneOf\") also have similar loops with similar breaks, just like in the proposed patches."}, {"bug_id": "55125", "ground_truth": ["java/org/apache/catalina/startup/Catalina.java", "java/org/apache/catalina/startup/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "cloudfoundry Lifecycle shut start needed believes Logs exception", "bug_title": " Tomcat does not shut down if LifecycleListener throws an exception", "bug_description": "Created attachment 30467 [details] Logs I needed to shut down Tomcat if an application fails to start. I was advised that a LifecycleListener could shut down Tomcat by throwing an IllegalStateException from its lifecycleEvent method. However, this produces severe errors in the logs, but Tomcat does not shut down. I saw this behaviour on Tomcat 7.0.41 and 7.0.40 using the test web application from here: https://github.com/cloudfoundry/java-test-applications and v1.0.0 of the listener from here: https://github.com/cloudfoundry/java-buildpack-support (v1.1.0 of the listener was re-coded to halt the JVM). I attach catalina.out. Mark Thomas suggested I raise this bug, so he believes that Tomcat should shut down."}, {"bug_id": "55158", "ground_truth": ["java/org/apache/catalina/core/ApplicationHttpRequest.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "overriding AttributeNamesEnumerator specials work iterates patch work Attribute constructor Created", "bug_title": " Wasted work in AttributeNamesEnumerator constructor", "bug_description": "Created attachment 30498 [details] patch The problem appears in version 7.0.41 and in revision 1497999.  I attached a two-line patch  that fixes it. In the \"AttributeNamesEnumerator\" constructor, the loop over \"specials\" keeps overriding \"last\" with \"i\".  Therefore, only the last written value is visible out of the loop and all the other writes and iterations are not necessary.  The patch iterates from the end of \"specials\" and breaks the first time when \"last\" is set."}, {"bug_id": "55159", "ground_truth": ["java/org/apache/catalina/valves/ErrorReportValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "reversion getPartialServletStackTrace correct catalina Stack Stack Valve elements reversion matter", "bug_title": " Wasted work in ErrorReportValve.getPartialServletStackTrace", "bug_description": "Created attachment 30499 [details] patch The problem appears in version 7.0.41 and in revision 1497999.  I attached a two-line patch  (patch.diff) that fixes it. In method \"ErrorReportValve.getPartialServletStackTrace\", the loop over \"elements\" keeps overriding \"pos\" with \"i\".  Therefore, only the last written value is visible out of the loop and all the other writes and iterations are not necessary.  The patch iterates from the end of \"elements\" and breaks the first time when \"pos\" is set. The above fix (in patch.diff) is certainly correct (it's easy to see through code inspection), but I think we can have an even shorter patch (one line, in patchShort.diff): just break as soon as \"pos\" is set, without reversion the loop order.  patchShort.diff is correct only if there can be only one \"elements[i]\" with class name \"org.apache.catalina.core.ApplicationFilterChain\" and method name \"internalDoFilter\" or if it doesn't matter which such \"elements[i]\" is detected (the last, like in the original code, or the first, like in patchShort.diff)."}, {"bug_id": "55160", "ground_truth": ["java/org/apache/coyote/http11/InternalNioInputBuffer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "doesn IOException selector internalNioInputBuffer eof nRead Upload Buf disable getReadBuffer", "bug_title": " NIO connectionUploadTimeout can't work", "bug_description": "when i configure disableUploadTimeout=\"false\" and connectionTimeout=\"20000\" ,connectionUploadTimeout=\"30000\" . I found the connectionUploadTimeout doesn't work, because the code in internalNioInputBuffer.readSocket(): ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ try { NioEndpoint.KeyAttachment att = (NioEndpoint.KeyAttachment)socket.getAttachment(false); if ( att == null ) throw new IOException(\"Key must be cancelled.\"); nRead = pool.read(socket.getBufHandler().getReadBuffer(),socket,selector,att.getTimeout()); } catch ( EOFException eof ) { nRead = -1; } finally { if ( selector != null ) pool.put(selector); } ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ att.getTimeout() is the connectionTimeout ,not the connectionUploadTimeout. so , in NioBlockingSelector.read(), the readTimeout is connectionTimeout"}, {"bug_id": "55177", "ground_truth": ["java/org/apache/coyote/http11/Http11Processor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Timeout Processor port Port patch   file", "bug_title": " connectionTimeout=-1 causes high CPU", "bug_description": "Created attachment 30514 [details] fix Setting connectionTimeout to -1 in server.xml causes each request to have high CPU java full version \"1.6.0_51-b11-457\" Example: <Connector port=\"8080\" protocol=\"HTTP/1.1\" connectionTimeout=\"-1\" redirectPort=\"8443\" /> Everywhere I looked there seemed to be a if statement looking to see if it was below zero except in Http11Processor class. Attached is patch file. Which has resolved the issue on my server."}, {"bug_id": "55179", "ground_truth": ["java/org/apache/catalina/valves/RemoteIpValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "tomcat api configurations Header valves proxiesHeader Parameter remote Header valves", "bug_title": " Incorrect Parameter Name in RemoteIpValve Examples", "bug_description": "The RemoteIpValve sample configurations incorrectly refer to a \"remoteIpProxiesHeader\" property, rather than the \"proxiesHeader\" property. http://tomcat.apache.org/tomcat-7.0-doc/api/org/apache/catalina/valves/RemoteIpValve.html"}, {"bug_id": "55180", "ground_truth": ["java/org/apache/coyote/http11/AbstractHttp11Processor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "IllegalArgumentException configured lang Upload setSocketTimeout negative lang setSocketTimeout server Nio", "bug_title": " connectionTimeout=\"-1\" causes timeout can't be negative", "bug_description": "I configured server.xml like this: connectionTimeout=\"-1\" disableUploadTimeout=\"false\" connectionUploadTimeout=\"200\" (maybe it is stupid to configure like this,if connectionTimeout=-1,can i make disableUploadTimeout=false?). It will cause : java.lang.IllegalArgumentException: timeout can't be negative at sun.nio.ch.SocketAdaptor.setSoTimeout(SocketAdaptor.java:361) at org.apache.coyote.http11.Http11NioProcessor.setSocketTimeout(Http11NioProcessor.java:251) ...... because of : if (!disableUploadTimeout) { //endpoint.getSoTimeout()=-1. setSocketTimeout(endpoint.getSoTimeout()); } ~~~~~~~~~~~~~~~~~~~~~~~~~ another thing: if i configure connectionTimeout=\"0\". in NioBlockingSelector.read(ByteBuffer buf, NioChannel socket, long readTimeout),readTimeout = 0, in case socket.read(buf) == 0, it make timeout=true. if (readTimeout >= 0 && (keycount == 0)) timedout = (System.currentTimeMillis() - time) >= readTimeout; then throw the SocketTimeoutException(). thank you."}, {"bug_id": "55210", "ground_truth": ["java/org/apache/catalina/startup/ContextConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "RMIConnectionImpl concrete DefaultMBeanServerInterceptor surrounding Log ContextConfig Interceptor manage RMIConnectionImpl Lifecycle", "bug_title": " SEVERE: The ServletContentInitializer [# Licensed to the Apache Software Foundation (ASF) under one or more] could not be created", "bug_description": "According to the Javadoc for java.util.ServiceLoader (http://docs.oracle.com/javase/6/docs/api/java/util/ServiceLoader.html): [quote]A service provider is identified by placing a provider-configuration file in the resource directory META-INF/services. The file's name is the fully-qualified binary name of the service's type. The file contains a list of fully-qualified binary names of concrete provider classes, one per line. Space and tab characters surrounding each name, as well as blank lines, are ignored. The comment character is '#' ('\\u0023', NUMBER SIGN); on each line all characters following the first comment character are ignored. The file must be encoded in UTF-8.[/quote] However, based on the error below it appears that Tomcat does not abide by this requirement. The Log4j Core JAR for 2.0-beta8 will have a ServletContainerInitializer in it, and the provider-configuration file for this SCI contains a copyright statement. Tomcat barfs and fails to deploy the application due to this copyright statement. This problem exists in both Tomcat 7 and Tomcat 8. SEVERE: The ServletContentInitializer [# Licensed to the Apache Software Foundation (ASF) under one or more] could not be created java.lang.ClassNotFoundException: # Licensed to the Apache Software Foundation (ASF) under one or more at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1465) at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1310) at java.lang.Class.forName0(Native Method) at java.lang.Class.forName(Class.java:339) at org.apache.catalina.startup.ContextConfig.getServletContainerInitializer(ContextConfig.java:1526) at org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1436) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1174) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:814) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:321) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5100) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:702) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:698) at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1491) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:491) at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:792) at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:468) at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:415) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:491) at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300) at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:792) at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1465) at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:75) at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1306) at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1398) at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:827) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:491) at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:322) at sun.rmi.transport.Transport$1.run(Transport.java:177) at sun.rmi.transport.Transport$1.run(Transport.java:174) at java.security.AccessController.doPrivileged(Native Method) at sun.rmi.transport.Transport.serviceCall(Transport.java:173) at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:556) at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:811) at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:670) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:724)"}, {"bug_id": "55230", "ground_truth": ["java/org/apache/naming/resources/DirContextURLConnection.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "great Proxy bug stripped Input lookup manifesting manifesting exceptions connect", "bug_title": " DirContextURLConnection.getInputStream() fails to reopen resources for ProxyDirContext", "bug_description": "There appears to be a bug in the DirContextURLConnection where it fails to reopen the resource in the getInputStream method when its context is a ProxyDirContext. The DirContextURLConnection's connect method has some special case code for the ProxyDirContext where it's stripping the hostName and the contextPath off of the path given by the URL, and then using that stripped path in its context.lookup call. This part works great. However, in the getInputStream method the DirContextURLConnection attempts to reopen the resource without doing this special case logic on the path used in the context lookup. It tries to look up the resource with the raw path from the URL object, which fails. A NamingException is thrown, which is swallowed, and the potentially stale resource from the initial call to connect is returned instead. In my application this isn't causing a logic issue because the resources I'm looking up aren't changing between the initial connection and the first call to getInputStream, but this bug is manifesting as a notable performance problem. Every time a bad path is passed into the ProxyDirContext it's actually causing quite a lot of NamingExceptions to be thrown as it tries alternative paths (see BaseDirContext.lookup). All of these exceptions are swallowed but what I'm seeing is that this is happening many times over the course of a request as my application is looking up different resources, and the time it takes to build all of these swallowed NamingExceptions has become significant."}, {"bug_id": "55267", "ground_truth": ["java/org/apache/coyote/ajp/AjpNioProcessor.java", "java/org/apache/coyote/http11/InternalNioOutputBuffer.java", "java/org/apache/tomcat/util/net/NioEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "disconnect NIO thread users load", "bug_title": " NIO thread locked", "bug_description": "Did some load test and thread got stuck, see dump. Basically I just simulate 100 users that connect and disconnect."}, {"bug_id": "55309", "ground_truth": ["java/org/apache/jasper/compiler/TagPluginManager.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "PageInfo TagPluginManager Tag Concurrent Concurrent Manager Patch shared Plugin server", "bug_title": " Concurrent issue of TagPluginManager", "bug_description": "Created attachment 30629 [details] Patch on TagPluginManager TagPluginManager is shared within ServletContext. But it contains a variable \"PageInfo pageInfo\". PageInfo should be aligned with specified page. PageInfo is used for holding page information, such as \"Import\". So when there are two pages are compiled in parallel. It encounters concurrent issue.  One of the page can't be compiled unless the server is restarted."}, {"bug_id": "55333", "ground_truth": ["java/org/apache/catalina/realm/JDBCRealm.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "SocketProcessor Jul KnDigestAuthenticator Engine Credentials resultset process Log connection Connection", "bug_title": " JDBCRealm Digest authentication Flow is not working throws Function sequence error", "bug_description": "Issue: Digest authentication flow is not working Error Thrown : Function sequence error PackageName: org.apache.catalina.realm ClassName : JDBCRealm MethodName: String getPassword(String username) Snapshot from above mentioned method =================================== stmt = credentials(dbConnection, username); rs = stmt.executeQuery(); // Due to this connection commit,  resultset is nullified dbConnection.commit(); // While executing this statement it throws Function sequence error if (rs.next()) { dbCredentials = rs.getString(1); } =================================== Above explanation has been validate by placing 7.0.41 catalina.jar where the above changes are not there due to fix of 55071 bug Below snapshot is the error observed while trying for Digest authentication ========================================================================== Jul 31, 2013 3:43:40 PM org.apache.catalina.realm.JDBCRealm getPassword SEVERE: Exception performing authentication java.sql.SQLException: [TimesTen][TimesTen 11.2.2.5.0 ODBC Driver]Function sequence error at com.timesten.jdbc.JdbcOdbc.createSQLException(JdbcOdbc.java:3238) at com.timesten.jdbc.JdbcOdbc.standardError(JdbcOdbc.java:3387) at com.timesten.jdbc.JdbcOdbc.SQLFetch(JdbcOdbc.java:921) at com.timesten.jdbc.JdbcOdbcResultSet.next(JdbcOdbcResultSet.java:409) at org.apache.catalina.realm.JDBCRealm.getPassword(JDBCRealm.java:558) at org.apache.catalina.realm.RealmBase.getDigest(RealmBase.java:1189) at org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:409) at com.kodiak.digest.authentication.KnDigestAuthenticator$KnDigestInfo.authenticate(KnDigestAuthenticator.java:733) at com.kodiak.digest.authentication.KnDigestAuthenticator.authenticate(KnDigestAuthenticator.java:275) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:574) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:724) Jul 31, 2013 3:43:40 PM org.apache.catalina.realm.JDBCRealm getPassword SEVERE: Exception performing authentication java.sql.SQLException: [TimesTen][TimesTen 11.2.2.5.0 ODBC Driver]Function sequence error at com.timesten.jdbc.JdbcOdbc.createSQLException(JdbcOdbc.java:3238) at com.timesten.jdbc.JdbcOdbc.standardError(JdbcOdbc.java:3387) at com.timesten.jdbc.JdbcOdbc.SQLFetch(JdbcOdbc.java:921) at com.timesten.jdbc.JdbcOdbcResultSet.next(JdbcOdbcResultSet.java:409) at org.apache.catalina.realm.JDBCRealm.getPassword(JDBCRealm.java:558) at org.apache.catalina.realm.RealmBase.getDigest(RealmBase.java:1189) at org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:409) \"localhost.2013-07-31.log\" 50L, 3800C Cheers, Mahaaboob"}, {"bug_id": "55342", "ground_truth": ["modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "code currentThread Properties call thrown Lost getPoolProperties interrupted Exception code", "bug_title": " Lost interruption", "bug_description": "org.apache.tomcat.jdbc.pool.ConnectionPool#close should not call Thread.interrupted() because interrupt was already reset by code that thrown InterruptedException. } catch (InterruptedException ex) { if (getPoolProperties().getPropagateInterruptState()) { Thread.currentThread().interrupt(); -     } else { -         Thread.interrupted(); } }"}, {"bug_id": "55354", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "forcibly comment fail environment existing definition definition gssCredential number connectionName", "bug_title": " JNDIRealm.getPrincipal(context,username,gssCredential) corrupts realm context", "bug_description": "The getPrincipal(context,username,gssCredential) method in JNDIRealm is designed to allow delegated credentials to be applied to the directory server connection as part of SPNEGO authentication. This is done by manipulation of a number of the directory context's environment parameters. However, as currently implemented, these environment parameters are forcibly cleared after the getUser() call regardless of whether the values were even changed (i.e. if isUseDelegatedCredential() returned false). If the container realm is defined to use GSSAPI authentication, only the first SPNEGO authentication request will succeed.  All subsequent requests will fail with this exception: javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0906DC, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v1db0 The exception is due to the Context.SECURITY_AUTHENTICATION being cleared by getPrincipal() - resulting in a attempted \"simple\" bind with no username/password (i.e. anonymous). A workaround is to ensure that the connectionName and connectionPassword parameters are specified in the realm definition - however, if one is using GSSAPI - this shouldn't be necessary and certainly defeats the purpose of using GSSAPI in the first place. The code should preserve pre-existing environment parameters in the context before changing them, then restore those values afterwards - rather than just clearing the settings completely."}, {"bug_id": "55469", "ground_truth": ["java/org/apache/catalina/manager/HTMLManagerServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "WAR closing Missing deploy details application WAR details details tags", "bug_title": " Missing HTML closing tags in Manager application", "bug_description": "Created attachment 30751 [details] Patch to fix it on trunk for Tomcat 7 trunk. In the \"WAR file to deploy\" that allows you to upload a war file, after the closing form tag, it is missing closing off the td and tr tag opened before form tag."}, {"bug_id": "55494", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java", "java/org/apache/catalina/realm/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Search Adapter SocketInputStream remaining user StandardEngineValve application authenticate core Protocol", "bug_title": " JNDIRealm throws exception after timeout / Connection reset", "bug_description": "Our tomcat is configured to use Windows 2012 AD with JNDI-Realm When the application is running for some hours, the Tomcat logs exceptions because of timeouts. Here is a stacktrace: WARNING: Exception performing authentication javax.naming.CommunicationException: Connection reset [Root exception is java.net.SocketException: Connection reset]; remaining name 'xxx' at com.sun.jndi.ldap.LdapCtx.doSearch(Unknown Source) at com.sun.jndi.ldap.LdapCtx.searchAux(Unknown Source) at com.sun.jndi.ldap.LdapCtx.c_search(Unknown Source) at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_search(Unknown Source) at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(Unknown Source) at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.search(Unknown Source) at javax.naming.directory.InitialDirContext.search(Unknown Source) at org.apache.catalina.realm.JNDIRealm.getUserBySearch(JNDIRealm.java:1438) at org.apache.catalina.realm.JNDIRealm.getUser(JNDIRealm.java:1289) at org.apache.catalina.realm.JNDIRealm.getUser(JNDIRealm.java:1225) at org.apache.catalina.realm.JNDIRealm.getPrincipal(JNDIRealm.java:2086) at org.apache.catalina.realm.JNDIRealm.getPrincipal(JNDIRealm.java:2005) at org.apache.catalina.realm.RealmBase.authenticate(RealmBase.java:523) at org.apache.catalina.realm.CombinedRealm.authenticate(CombinedRealm.java:295) at org.apache.catalina.realm.LockOutRealm.authenticate(LockOutRealm.java:249) at org.apache.catalina.authenticator.SpnegoAuthenticator.authenticate(SpnegoAuthenticator.java:250) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:544) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953) at org.apache.catalina.authenticator.SingleSignOn.invoke(SingleSignOn.java:341) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) at org.apache.coyote.ajp.AjpAprProcessor.process(AjpAprProcessor.java:197) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589) at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source) Caused by: java.net.SocketException: Connection reset at java.net.SocketInputStream.read(Unknown Source) at java.net.SocketInputStream.read(Unknown Source) at java.io.BufferedInputStream.fill(Unknown Source) at java.io.BufferedInputStream.read1(Unknown Source) at java.io.BufferedInputStream.read(Unknown Source) at com.sun.jndi.ldap.Connection.run(Unknown Source) ... 1 more It seems that the LDAP-Lookup tries to search for the user within LDAP but the server already closed the Connection. Looks like this cause: http://stackoverflow.com/questions/10911897/tomcat-7-0-14-ldap-authentication"}, {"bug_id": "55524", "ground_truth": ["java/org/apache/catalina/websocket/WsOutbound.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Pool RunnableAdapter TomcatWebSocket Lifecycle executeAsyncWrite complete Impl write doWriteBytes runWorker", "bug_title": " Deadlock produced during Websocket write operation (org.apache.catalina.websocket.WsOutbound)", "bug_description": "Created attachment 30800 [details] thread dump of the deadlock I use Tomcat with an application that uses Websockets. The websockets are handled by the Atmosphere framework: https://github.com/Atmosphere/atmosphere A deadlock occurs during write operations to the websocket. I have attached a thread dump of the deadlock. This issue is also duscussed here: https://github.com/Atmosphere/atmosphere/issues/1264 Here are the deadlocked threads: Found one Java-level deadlock: ============================= \"Atmosphere-Shared-AsyncOp-267\": waiting to lock monitor 0x00007efebc0015f8 (object 0x00000005ef4c6988, a org.apache.catalina.websocket.WsOutbound), which is held by \"Atmosphere-Scheduler-2\" \"Atmosphere-Scheduler-2\": waiting to lock monitor 0x00007efe8c290ac0 (object 0x00000005ef4b77f8, a org.atmosphere.cpr.AtmosphereResourceImpl), which is held by \"Atmosphere-Shared-AsyncOp-267\" Java stack information for the threads listed above: =================================================== \"Atmosphere-Shared-AsyncOp-267\": at org.apache.catalina.websocket.WsOutbound.writeTextMessage(WsOutbound.java:165) - waiting to lock <0x00000005ef4c6988> (a org.apache.catalina.websocket.WsOutbound) at org.atmosphere.container.version.TomcatWebSocket.write(TomcatWebSocket.java:49) at org.atmosphere.websocket.WebSocket.write(WebSocket.java:199) at org.atmosphere.websocket.WebSocket.write(WebSocket.java:168) at org.atmosphere.websocket.WebSocket.write(WebSocket.java:40) at org.atmosphere.cpr.AtmosphereResponse$2.write(AtmosphereResponse.java:574) at org.atmosphere.handler.AbstractReflectorAtmosphereHandler.onStateChange(AbstractReflectorAtmosphereHandler.java:169) at org.atmosphere.cpr.DefaultBroadcaster.invokeOnStateChange(DefaultBroadcaster.java:1027) at org.atmosphere.cpr.DefaultBroadcaster.prepareInvokeOnStateChange(DefaultBroadcaster.java:1047) at org.atmosphere.cpr.DefaultBroadcaster.executeAsyncWrite(DefaultBroadcaster.java:921) at org.atmosphere.cpr.DefaultBroadcaster$3.run(DefaultBroadcaster.java:580) - locked <0x00000005ef4b77f8> (a org.atmosphere.cpr.AtmosphereResourceImpl) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) at java.util.concurrent.FutureTask.run(FutureTask.java:166) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:724) \"Atmosphere-Scheduler-2\": at org.atmosphere.cpr.AsynchronousProcessor.completeLifecycle(AsynchronousProcessor.java:476) - waiting to lock <0x00000005ef4b77f8> (a org.atmosphere.cpr.AtmosphereResourceImpl) at org.atmosphere.cpr.AsynchronousProcessor.timedout(AsynchronousProcessor.java:437) at org.atmosphere.cpr.AsynchronousProcessor$AsynchronousProcessorHook.timedOut(AsynchronousProcessor.java:633) at org.atmosphere.websocket.DefaultWebSocketProcessor.close(DefaultWebSocketProcessor.java:483) at org.atmosphere.container.TomcatWebSocketHandler.onClose(TomcatWebSocketHandler.java:80) at org.apache.catalina.websocket.StreamInbound.doOnClose(StreamInbound.java:222) at org.apache.catalina.websocket.WsOutbound.doWriteBytes(WsOutbound.java:423) at org.apache.catalina.websocket.WsOutbound.doWriteText(WsOutbound.java:442) at org.apache.catalina.websocket.WsOutbound.writeTextMessage(WsOutbound.java:174) - locked <0x00000005ef4c6988> (a org.apache.catalina.websocket.WsOutbound) at org.atmosphere.container.version.TomcatWebSocket.write(TomcatWebSocket.java:49) at org.atmosphere.websocket.WebSocket.write(WebSocket.java:199) at org.atmosphere.websocket.WebSocket.write(WebSocket.java:168) at org.atmosphere.websocket.WebSocket.write(WebSocket.java:40) at org.atmosphere.cpr.AtmosphereResponse$2.write(AtmosphereResponse.java:574) at org.atmosphere.cpr.AtmosphereResponse.write(AtmosphereResponse.java:992) at org.atmosphere.interceptor.HeartbeatInterceptor$1$1.call(HeartbeatInterceptor.java:104) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) at java.util.concurrent.FutureTask.run(FutureTask.java:166) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:724)"}, {"bug_id": "55570", "ground_truth": ["embed-webapps/examples.war", "java/org/apache/catalina/authenticator/SpnegoAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "file org principal jaas REP Authenticator logging Local API org", "bug_title": " SpnegoAuthenticator: Resource file is missing placeholders for exceptions.", "bug_description": "In java/org/apache/catalina/authenticator/SpnegoAuthenticator.java problems are logged with an exception. The exception does not show up in the logging. The exception only shows up if I hack java/org/apache/catalina/authenticator/LocalStrings.properties in catalina.jar, and add a placeholder. REPRODUCE: - Configure SP-NEGO with Kerberos. - Mess up your principal in com.sun.security.jgss.krb5.accept in jaas.config. - Try to login. - See that you get something like: FINE [org.apache.catalina.authenticator.SpnegoAuthenticator authenticate] Failed to validate client supplied ticket FIX: In java/org/apache/catalina/authenticator/LocalStrings.properties please add [{0}] to the following lines: spnegoAuthenticator.ticketValidateFail=Failed to validate client supplied ticket spnegoAuthenticator.serviceLoginFail=Unable to login as the service principal In SpnegoAuthenticator.java you can verify that exceptions are indeed passed to the log. VALIDATE: - Reproduce again - See that you now get Failed to validate client supplied ticket [GSSException: Failure unspecified at GSS-API level (Mechanism level: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP REP - RC4 with HMAC)] The exception is not super-helpful, but at least it's something."}, {"bug_id": "55582", "ground_truth": ["java/org/apache/jasper/compiler/TagFileProcessor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "TagFileProcessor getRuntimeContext Uri Tag attachment concurrent ctxt wrapperUri TagFileProcessor details", "bug_title": " Concurrent issue of TagFileProcessor", "bug_description": "Created attachment 30871 [details] Unsynchronized getting wrapper from RuntimeContext The following code has concurrent issue. JspRuntimeContext rctxt = ctxt.getRuntimeContext(); JspServletWrapper wrapper = rctxt.getWrapper(wrapperUri); synchronized (rctxt) { if (wrapper == null) { .... It creates duplicated JspServletWrapper in this scenario, A.jsp --> C.tag B.jsp --> C.tag A.jsp and B.jsp are both compiling and come to the given lines. Two threads all get null from JspRuntimeContext(JspServletWrapper == null). So two instances of JspServletWrapper was created."}, {"bug_id": "55629", "ground_truth": ["java/org/apache/catalina/manager/StatusManagerServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Servlet addNotificationListener Manager listener Server Listener Listener Status Status notification", "bug_title": " StatusManagerServlet does not remove JMX notification listener", "bug_description": "StatusManagerServlet.destroy should call mBeanServer.removeNotificationListener because init method call mBeanServer.addNotificationListener."}, {"bug_id": "55656", "ground_truth": ["java/org/apache/catalina/startup/Catalina.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "patch realms Loader server thrown classes loader attachment loader Digester", "bug_title": " Server ClassLoader not used for Server creation", "bug_description": "Created attachment 30931 [details] proposed patch When configuring server.loader in catalina.properties with libraries containing valves or realms and their dependencies, if those classes are set in server.xml a CNFE is thrown. The reason is Digester using StandardServer's ClassLoader and not context ClassLoader."}, {"bug_id": "55684", "ground_truth": ["java/org/apache/catalina/loader/LocalStrings.properties", "java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Tomcat method WebappClassLoader Webapp Webapp Exception start parent getThread Group", "bug_title": " WebappClassLoader.getThread want an access to root ThreadGroup", "bug_description": "Tomcat may not have all permissions granted. The method WebappClassLoader.getThread try to access the root ThreadGroup in order to list all threads. You should either manage SecurityException or avoid to access the parent ThreadGroup of the thread which start Tomcat."}, {"bug_id": "55749", "ground_truth": ["java/org/apache/tomcat/util/net/AprEndpoint.java", "java/org/apache/tomcat/util/net/res/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "leads TLSv SSLCertificateKeyFile LifecycleException Threads HIGH SSLCipherSuite PASSWORD turned Tomcat", "bug_title": " Disabling SSLEngine in AprLifecycleListener leads to misleading error message at startup when SSL Connector is delcared", "bug_description": "Put a <Listener className=\"org.apache.catalina.core.AprLifecycleListener\" SSLEngine=\"off\" /> in you server.xml. Put the APR connector some weeks later in your server.xml: <Connector protocol=\"org.apache.coyote.http11.Http11AprProtocol\" port=\"@HTTPS_PORT@\" connectionTimeout=\"20000\" maxHttpHeaderSize=\"24576\" maxThreads=\"250\" URIEncoding=\"UTF-8\" bufferSize=\"4096\" scheme=\"https\" secure=\"true\" SSLEnabled=\"true\" SSLProtocol=\"TLSv1\" SSLCipherSuite=\"HIGH:!ADH\" SSLCertificateFile=\"@SSL_CERT_FILE@\" SSLCertificateKeyFile=\"@SSL_CERT_KEY_FILE@\" SSLPassword=\"@SSL_PASSWORD@\" /> Start your Tomcat and receive following confusing message: Nov 06, 2013 1:30:39 PM org.apache.coyote.http11.Http11AprProtocol start SEVERE: Error starting endpoint java.lang.Exception: Socket bind failed: [226] Adresse bereits im Zugriff at org.apache.tomcat.util.net.AprEndpoint.init(AprEndpoint.java:671) at org.apache.tomcat.util.net.AprEndpoint.start(AprEndpoint.java:851) at org.apache.coyote.http11.Http11AprProtocol.start(Http11AprProtocol.java:139) at org.apache.catalina.connector.Connector.start(Connector.java:1196) at org.apache.catalina.core.StandardService.start(StandardService.java:540) at org.apache.catalina.core.StandardServer.start(StandardServer.java:754) at org.apache.catalina.startup.Catalina.start(Catalina.java:595) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:606) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) Nov 06, 2013 1:30:39 PM org.apache.catalina.core.StandardService start SEVERE: Failed to start connector [Connector[HTTP/1.1-8444]] LifecycleException:  service.getName(): \"Catalina\";  Protocol handler start failed: java.lang.Exception: Socket bind failed: [226] Adresse bereits im Zugriff at org.apache.catalina.connector.Connector.start(Connector.java:1203) at org.apache.catalina.core.StandardService.start(StandardService.java:540) at org.apache.catalina.core.StandardServer.start(StandardServer.java:754) at org.apache.catalina.startup.Catalina.start(Catalina.java:595) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:606) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:289) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:414) This is of course not correct. The port IS availble but the SSL engine has been turned off. There should be a check at stratup which says that this is an illegal state."}, {"bug_id": "55778", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java", "webapps/docs/changelog.xml", "webapps/docs/config/realm.xml"], "repo": "tomcat70", "reformed_query": "addToEnvironment read Reply required Environment Unavailable Configure tested reproduce context", "bug_title": " JNDIRealm: Authentication with GSSAPI to LDAP with SSL connection causes an exception", "bug_description": "Whenever i try to authenticate with GSSAPI to a LDAP server with a SSL connection (ldaps), the following exception is thrown: javax.naming.ServiceUnavailableException: myserver.at:636; socket closed; remaining name 'dc=example,dc=org' at com.sun.jndi.ldap.Connection.readReply(Connection.java:452) at com.sun.jndi.ldap.LdapClient.getSearchReply(LdapClient.java:631) at com.sun.jndi.ldap.LdapClient.search(LdapClient.java:554) at com.sun.jndi.ldap.LdapCtx.doSearch(LdapCtx.java:1985) at com.sun.jndi.ldap.LdapCtx.searchAux(LdapCtx.java:1847) at com.sun.jndi.ldap.LdapCtx.c_search(LdapCtx.java:1772) ... Steps to reproduce: 1. Configure the valve org.apache.catalina.authenticator.SpnegoAuthenticator in the server.xml with storeDelegatedCredential=\"true\". 2. Configure the realm org.apache.catalina.realm.JNDIRealm in the server.xml with an SSL connection url (e.g. ldaps://myserver.at:636) 3. Configure an auth-method with SPNEGO, security-constraints and security-roles in the web.xml 4. Add required keystores to the jdk for the ldaps connection. 5. Try to authenticate I debugged into the JNDIRealm and figured out, that changing line 2082 from \"context.addToEnvironment(\"javax.security.sasl.qop\", \"auth-conf\");\" to \"context.addToEnvironment(\"javax.security.sasl.qop\", \"auth\");\" would solve the problem. I also tested the fix with a new written JNDIRealm. But i'm not sure, if this fix causes other security issues."}, {"bug_id": "55804", "ground_truth": ["java/org/apache/catalina/connector/LocalStrings.properties", "java/org/apache/catalina/connector/Request.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "issues RemainingLifeTime request User Remaining session GenericPrincipal credental returns renewed", "bug_title": " SPNEGOAUTHENTICATOR - GSSCredential does not get renewed after RemainingLifeTime is less than zero", "bug_description": "In SpnegoAuthenticator, we check for request.getUserPrincipal() if it returns a prinicpal we do not do a fresh authentication. This happens even when the GSSCredential returned by GenericPrincipal has remainingLife time less than zero. This causes issues in delegating the credential as the credential is not valid any more. Can we add additional check to reauthenticate when the credental has expired and put GSSCredential in the same session?"}, {"bug_id": "55851", "ground_truth": ["java/org/apache/catalina/authenticator/SpnegoAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "credential Accept failure Authenticator DIFF sincerely report solves version Sanyal", "bug_title": " Tomcat SPNEGO authenticator incompatible with IBM JDK: Accept Security Context needs to be wrapped around a Privileged Action in order for server side authentication", "bug_description": "Created attachment 31098 [details] Contains GNU unified diff of SpnegoAuthenticator and its modified format Hi Problem report:- In bug report 55760, a change was made in which system property javax.security.auth.useSubjectCredsOnly is no longer set to false. So it naturally follows that GSSAPI AcceptSecContext method is wrapped in a PrivilegedExceptionAction. It is found in IBM JDK that it fails otherwise. Cause of failure:- When IBM JDK tries to fetch credential in GSSAPI AcceptSecContext method, it does so from JAAS Subject. Since this call is not performed in Subject.doAs, the call fails as IBM JDK does not have access to a JAAS subject and cannot fetch a credential. Please find attached:- 1. File containing gnu unified diff format of SpnegoAuthenticator with its modified version. PLEASE NOTE THIS DIFF IS ON TOP OF BUG FIX REPORTED IN 55760. This file now also contains AcceptAction class which wraps GSSAPI AcceptSecContext as a PrivilegedExceptionAction. This fix solves the issue by allowing IBM JDK to fetch credential from JAAS Subject. Yours sincerely Arunav Sanyal"}, {"bug_id": "55905", "ground_truth": ["java/org/apache/catalina/startup/LocalStrings_es.properties", "java/org/apache/catalina/startup/LocalStrings.properties", "java/org/apache/catalina/startup/TldConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "doesn uri FileNotFoundException MalformedURLException TLD confusion helpful WEB TldConfig process", "bug_title": " Error message unhelpful when web.xml references a tld file that doesn't exist", "bug_description": "In your web-application web.xml add a taglib element but get the taglib-location wrong or forgot to include *.tld when packaging your archive <jsp-config> <taglib> <taglib-uri>http://www.example.org/mytaglib</taglib-uri> <taglib-location>/WEB-INF/wrong.tld</taglib-location> </taglib> </jsp-config> Start you web-app. Expected: Get a helpful message like WARN  org.apache.catalina.startup.TldConfig - Failed to process TLD with path [/WEB-INF/wrong.tld] and URI [http://www.example.org/mytaglib] java.io.FileNotFoundException: /WEB-INF/wrong.tld ... Actual: WARN  org.apache.catalina.startup.TldConfig - Failed to process TLD with path [http://www.example.org/mytaglib] and URI [/WEB-INF/wrong.tld] java.net.MalformedURLException: null ... Note also that with the current error message the path is labelled at the URI and vice versa, adding to the confusion."}, {"bug_id": "55958", "ground_truth": ["java/org/apache/catalina/ha/deploy/FarmWarDeployer.java", "java/org/apache/catalina/manager/HTMLManagerServlet.java", "java/org/apache/catalina/mbeans/MBeanUtils.java", "java/org/apache/catalina/startup/HostConfig.java", "java/org/apache/catalina/util/ContextName.java", "test/org/apache/catalina/startup/TestHostConfigAutomaticDeployment.java", "test/org/apache/catalina/util/TestContextName.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "zip deploy dirname automatically dir war dir deployment directory deploy", "bug_title": " Tomcat tries to deploy dir as zip archive even when it is a directory if the name ends with .war", "bug_description": "Webapp deployment fails if the dirname ends with .war because it is automatically considered as zip archive."}, {"bug_id": "55973", "ground_truth": ["java/org/apache/jasper/xmlparser/ParserUtils.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Configuration SERVLET parseXMLDocument valves sun Socket exception XMLError root dev", "bug_title": " Failure to parse MergedWebXml when validation is enabled in Jasper", "bug_description": "See e-mail on dev@: \"[7.0.x] Document is invalid: no grammar found. for MergedWebXml in Jasper\" http://markmail.org/message/jbnbmezbdegoufm5 This issue affects the current TC7 code (7.0.51-dev), since the following commit: http://svn.apache.org/r1552826 It does not affect 7.0.50. (The error is generated internally, but the list of error is not checked, so it is effectively ignored). Steps to reproduce: 1. Enable validation, by adding the following line to conf/catalina.properties org.apache.catalina.STRICT_SERVLET_COMPLIANCE=true 2. Set JAVA_HOME variable to point a Java 6 JDK. I am using 6u45. 3. Start Tomcat 4. Go to http://localhost:8080/ Expected: index.jsp of the ROOT web application Actual: Error 500, with the following message in localhost.DATE.log file: 08.01.2014 1:20:11 org.apache.catalina.core.StandardWrapperValve invoke SEVERE: Servlet.service() for servlet [jsp] in context with path [] threw exception [org.apache.jasper.JasperException: XML parsing error on file org.apache.tomcat.util.scan.MergedWebXml: (line 2, col 9)] with root cause org.xml.sax.SAXParseException: Document is invalid: no grammar found. at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:195) at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:131) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:384) at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:318) at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:250) at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:626) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3104) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:921) at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:647) at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:140) at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:511) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:808) at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:737) at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:119) at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:232) at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:284) at org.apache.jasper.xmlparser.ParserUtils.parseXMLDocument(ParserUtils.java:105) at org.apache.jasper.compiler.JspConfig.processWebDotXml(JspConfig.java:95) at org.apache.jasper.compiler.JspConfig.init(JspConfig.java:243) at org.apache.jasper.compiler.JspConfig.findJspProperty(JspConfig.java:302) at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:114) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:373) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:353) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:340) at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:657) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334) at javax.servlet.http.HttpServlet.service(HttpServlet.java:728) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:409) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1044) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918) at java.lang.Thread.run(Thread.java:662)"}, {"bug_id": "55996", "ground_truth": ["java/org/apache/tomcat/util/net/SocketWrapper.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "concurrent connection System exec orion Starting timeout reads Message Asyn", "bug_title": " Async context does not timeout with HTTP NIO connector", "bug_description": "Created attachment 31200 [details] Servlet with Async processing and Java Based client I created a ProblemServlet which receives request via a Java based client. The Servlet starts an Async processing for each request. Within the Async processing run() method there is a while loop which cyclically sends String messages to the client. The implementation of run method is shown. public void run() { try { String msg = \"\"; ServletOutputStream outputStream = publisherAsyncCtx.getResponse().getOutputStream(); boolean continu = true; while (continu) { msg = \"\"; msg = \"|\" + \" \" + new Date(); System.out.println(\"publishing message... \" + msg); outputStream.println(msg); publisherAsyncCtx.getResponse().flushBuffer(); try { Thread.sleep(1000); } catch (InterruptedException e) { System.out.println(\"sleep InterruptedException: \" + e.getMessage()); e.printStackTrace(); } } } When a Java based console application client hits this servlet and reads its output stream, for around 10 sec the messages arrive. But after 10 seconds the connection is closed by the server. Logs on the Server side: Starting the Async Context. publishing message... | Mon Jan 13 11:28:30 IST 2014 publishing message... | Mon Jan 13 11:28:31 IST 2014 publishing message... | Mon Jan 13 11:28:32 IST 2014 publishing message... | Mon Jan 13 11:28:33 IST 2014 publishing message... | Mon Jan 13 11:28:34 IST 2014 publishing message... | Mon Jan 13 11:28:35 IST 2014 publishing message... | Mon Jan 13 11:28:36 IST 2014 publishing message... | Mon Jan 13 11:28:37 IST 2014 publishing message... | Mon Jan 13 11:28:38 IST 2014 publishing message... | Mon Jan 13 11:28:39 IST 2014 publishing message... | Mon Jan 13 11:28:40 IST 2014 publishing message... | Mon Jan 13 11:28:41 IST 2014 Exception in thread \"http-bio-8080-exec-6\" java.lang.IllegalStateException: The request associated with the AsyncContext has already completed processing. at org.apache.catalina.core.AsyncContextImpl.check(AsyncContextImpl.java:521) at org.apache.catalina.core.AsyncContextImpl.getResponse(AsyncContextImpl.java:245) at com.pg.orion.artcloopcheck.ProblemServlet$AsynRunnable.run(ProblemServlet.java:67) at org.apache.catalina.core.AsyncContextImpl$RunnableWrapper.run(AsyncContextImpl.java:557) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:722) Issue is seen with \"apache-tomcat-7.0.50\", \"apache-tomcat-7.0.47\". Not tested with other release 7 variants. The same codebase when run on \"apache-tomcat-8.0.0-RC10\" there are no issues."}, {"bug_id": "56010", "ground_truth": ["java/javax/servlet/jsp/JspFactory.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "lang Factory Japser apache java http javax JspFactory JspWriter BUFFER", "bug_title": " JspFactory.getPageContext with JspWriter.DEFAULT_BUFFER throws IllegalArgumentException", "bug_description": "When a servlet calls JspFactory.getPageContext() with JspWriter.DEFAULT_BUFFER, Tomcat Japser throws IllegalArgumentException. PageContext pageContext = JspFactory.getDefaultFactory().getPageContext(this, req, resp, null, false, JspWriter.DEFAULT_BUFFER, true); java.lang.IllegalArgumentException: Buffer size <= 0 org.apache.jasper.runtime.JspWriterImpl.<init>(JspWriterImpl.java:81) org.apache.jasper.runtime.PageContextImpl._initialize(PageContextImpl.java:154) org.apache.jasper.runtime.PageContextImpl.initialize(PageContextImpl.java:125) org.apache.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFactoryImpl.java:112) org.apache.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.java:65) dvt.jsp.jaspertest.JspFactoryTestServlet.doGet(JspFactoryTestServlet.java:21) javax.servlet.http.HttpServlet.service(HttpServlet.java:621) javax.servlet.http.HttpServlet.service(HttpServlet.java:728) Based on the description of JspFactory.getPageContext(), if buffer size is JspWriter.DEFAULT_BUFFER(-1), PageContext must treat it as implementation default, which in case is org.apache.jasper.Constants#DEFAULT_BUFFER_SIZE(8192). buffer - size of buffer in bytes, JspWriter.NO_BUFFER if no buffer, JspWriter.DEFAULT_BUFFER if implementation default. from http://docs.oracle.com/javaee/7/api/javax/servlet/jsp/JspFactory.html#getPageContext(javax.servlet.Servlet, javax.servlet.ServletRequest, javax.servlet.ServletResponse, java.lang.String, boolean, int, boolean) Note that -Dorg.apache.jasper.runtime.JspFactoryImpl.USE_POOL=false should be specified."}, {"bug_id": "56013", "ground_truth": ["java/org/apache/catalina/authenticator/SpnegoAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "option java optionally Desired failure box SpnegoAuthenticator SpnegoAuthenticator chooses details", "bug_title": " SpnegoAuthenticator not working in IBM JDK v7 for Kerberos due to incorrect credential lifetime", "bug_description": "Created attachment 31208 [details] Unified GNU diff format of SpnegoAuthenticator.java and its updated version Hi SpnegoAuthenticator is not working with IBM JDK v7. The option GSSCredential.DEFAULT_LIFETIME specified while generating ticket creates the following exception:- major code: 11, minor code: 0 major string: General failure, unspecified at GSSAPI level minor string: Desired initLifetime zero or less) However specifying GSSCredential.INDEFINITE_LIFETIME as lifetime of credential resolves the issue. I am attaching a patch which optionally chooses cred lifetime as indefinite or default depending on whether the JDK is IBM JDK or Oracle/Sun JDK. This patch is with respect to SpnegoAuthenticator.java of tomcat v 7.0.50 Impact of fix:- 1. If not fixed then Tomcat does not work out of the box for Spnego Authentication(Kerberos) for IBM JDK v7 2. The fix affects only IBM JDK and does not change the execution flow for Oracle/Sun JDK Yours sincerely Arunav Sanyal"}, {"bug_id": "56025", "ground_truth": ["java/org/apache/tomcat/websocket/server/UpgradeUtil.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "extensions response getNegotiatedExtensions http repos headers application failure Subprotocol Config", "bug_title": " Order of invocation of method of ServerEndpointConfig.Configurator", "bug_description": "The current order of invocation (from http://svn.apache.org/repos/asf/tomcat/trunk/java/org/apache/tomcat/websocket/server/UpgradeUtil.java) is: checkOrigin() getNegotiatedSubprotocol() getEndpointInstance() modifyHandshake() JSR 356 is guilty for not specifying this order, but I believe a different order is more useful. Below I refer to \"the application\" as a subclass of the ServerEndpointConfig.Configurator implemented by end users. I'd like to propose this new order: modifyHandshake() as first: this allows applications to query/store information about the upgrade request (for example, the URI); checkOrigin() as second: this allows applications to check the origin with more information available, because the request/response are available from the previous call and therefore checks of the origin against the request URI and/or other HTTP headers will be possible; getNegotiatedSubprotocol() as third: this should be always invoked, while right now it is not invoked if the client does not specify the Sec-WebSocket-Protocol header; this is not ideal since the server may have been configured with a sub-protocol, but the application is never called to check what the client has sent; getEndPointInstance() as last: there is no point in creating the endpoint if the other methods returned a failure, nor there is point to invoke any other method if this one returned null. The current order also does not invoke method getNegotiatedExtensions(), but as far as I understand extensions are not yet supported. I believe this method should be eventually invoked as fourth, before getEndPointInstance(). Thanks !"}, {"bug_id": "56039", "ground_truth": ["java/org/apache/catalina/mbeans/JmxRemoteLifecycleListener.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Delegating Communication server RegistryContext endpoint catalina sun URL net rmi", "bug_title": " JmxRemoteLifecycleListener does not work with SSL", "bug_description": "Created attachment 31242 [details] Patch against http://svn.apache.org/repos/asf/tomcat/tc7.0.x/trunk Using JmxRemoteLifecycleListener with SSL results in the following error on startup: Jan 16, 2014 4:34:20 PM org.apache.catalina.mbeans.JmxRemoteLifecycleListener createServer SEVERE: The JMX connector server could not be created or failed to start for the Platform server java.io.IOException: Cannot bind to URL [rmi://localhost:1900/jmxrmi]: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: non-JRMP server at remote endpoint] at javax.management.remote.rmi.RMIConnectorServer.newIOException(Unknown Source) at javax.management.remote.rmi.RMIConnectorServer.start(Unknown Source) at org.apache.catalina.mbeans.JmxRemoteLifecycleListener.createServer(JmxRemoteLifecycleListener.java:304) at org.apache.catalina.mbeans.JmxRemoteLifecycleListener.lifecycleEvent(JmxRemoteLifecycleListener.java:258) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:402) at org.apache.catalina.util.LifecycleBase.setState(LifecycleBase.java:347) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:725) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.startup.Catalina.start(Catalina.java:691) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:322) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) at java.lang.reflect.Method.invoke(Unknown Source) at org.apache.commons.daemon.support.DaemonLoader.start(DaemonLoader.java:243) Caused by: javax.naming.CommunicationException [Root exception is java.rmi.ConnectIOException: non-JRMP server at remote endpoint] at com.sun.jndi.rmi.registry.RegistryContext.bind(Unknown Source) at com.sun.jndi.toolkit.url.GenericURLContext.bind(Unknown Source) at javax.naming.InitialContext.bind(Unknown Source) at javax.management.remote.rmi.RMIConnectorServer.bind(Unknown Source) ... 20 more Caused by: java.rmi.ConnectIOException: non-JRMP server at remote endpoint at sun.rmi.transport.tcp.TCPChannel.createConnection(Unknown Source) at sun.rmi.transport.tcp.TCPChannel.newConnection(Unknown Source) at sun.rmi.server.UnicastRef.newCall(Unknown Source) at sun.rmi.registry.RegistryImpl_Stub.bind(Unknown Source) ... 24 more The relevant configuration from server.xml: <Listener className=\"org.apache.catalina.mbeans.JmxRemoteLifecycleListener\" rmiRegistryPortPlatform=\"1900\" rmiServerPortPlatform=\"11900\" /> and java properties: -Djavax.net.ssl.keyStore=$KEYSTORE -Djavax.net.ssl.keyStorePassword=$KEY_PASS -Dcom.sun.management.jmxremote.ssl.need.client.auth=true -Djavax.net.ssl.trustStore=$TRUSTSTORE -Djavax.net.ssl.trustStorePassword=$TRUST_PASS -Dcom.sun.management.jmxremote.registry.ssl=true -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.authenticate=false -Djava.rmi.server.hostname=$HOST_IP -Dcom.sun.management.jmxremote.ssl=true If com.sun.management.jmxremote.ssl is changed to false everything works as expected except without SSL. Looking at the source code, I there is a property missing from the environment: env.put(\"com.sun.jndi.rmi.factory.socket\", csf); Adding this to JmxRemoteLifecycleListener allows SSL to work properly. Patch attatched."}, {"bug_id": "56045", "ground_truth": ["build.xml", "java/org/apache/tomcat/util/descriptor/DigesterFactory.java"], "repo": "tomcat70", "reformed_query": "DigesterFactory Digester ExceptionInInitializerError Tld Factory web", "bug_title": " Cannot start embedded container without Jasper", "bug_description": "If I don't have a web.xml and I'm not using JSPs I shoudln't need Jasper on the classpath (it worked in 7.0.47) Caused by: java.lang.ExceptionInInitializerError: null at org.apache.catalina.startup.TldConfig.createTldDigester(TldConfig.java:94) at org.apache.catalina.startup.TldConfig.init(TldConfig.java:576) at org.apache.catalina.startup.TldConfig.lifecycleEvent(TldConfig.java:559) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.util.LifecycleBase.setStateInternal(LifecycleBase.java:402) at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:110) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:139) ... 7 common frames omitted Caused by: java.lang.NullPointerException: null at org.apache.tomcat.util.descriptor.DigesterFactory.idFor(DigesterFactory.java:107) at org.apache.tomcat.util.descriptor.DigesterFactory.<clinit>(DigesterFactory.java:59) ... 15 common frames omitted"}, {"bug_id": "56096", "ground_truth": ["java/org/apache/catalina/mbeans/JmxRemoteLifecycleListener.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Address doesn address OPTS jmxremote Port management create address CATALINA", "bug_title": " Setting rmiBindAddress on JmxRemoteLifecycleListener prevents tomcat from starting", "bug_description": "Adding this Listener to the Server: <Listener className=\"org.apache.catalina.mbeans.JmxRemoteLifecycleListener\" rmiRegistryPortPlatform=\"10001\" rmiServerPortPlatform=\"10002\" rmiBindAddress=\"${ip.address}\" /> Along with this setenv.sh: CATALINA_OPTS=\"${CATALINA_OPTS} -Dcom.sun.management.jmxremote.password.file=$CATALINA_HOME/conf/jmxremote.password\" CATALINA_OPTS=\"${CATALINA_OPTS} -Dcom.sun.management.jmxremote.access.file=$CATALINA_HOME/conf/jmxremote.access\" CATALINA_OPTS=\"${CATALINA_OPTS} -Dcom.sun.management.jmxremote.ssl=false\" Prevents tomcat from starting as the two RMI components cannot talk to each other, producing this error: java.io.IOException: Cannot bind to URL [rmi://localhost:10001/jmxrmi]: javax.naming.ServiceUnavailableException [Root exception is java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: This is caused by the preparation of the URL in createServer, which doesn't take into account that rmiBindAddress has been used and useLocalPorts has not. I believe that if useLocalPorts was used tomcat would start, but this would force different instances to use different ports, which is what I'm trying to avoid."}, {"bug_id": "56172", "ground_truth": ["java/org/apache/coyote/ajp/AjpNioProcessor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "source fail buf Nio ajp Reading blockFirstRead Processor larger pos", "bug_title": " AjpNioProtocol sometimes corrupts (ignores) the request body", "bug_description": "Tomcat sometimes fails to read the request body when using the AjpNioProtocol connector. The symptom of this is the log message ERROR org.apache.coyote.ajp.AjpMessage - Invalid message received with signature  ... The cause of this problem is the fact that the read-method in  AjpNioProcessor may read more than the requested number of bytes, if more than one readSocket call is required. Thus, reading of an ajp-message can also wrongly read some or all of the next message(s) (if any). Reading of the next messages will then most likely fail with a signature error, or the content will be corrupt. This problem is unlikely to happen unless the FORWARD_REQUEST message is larger than a network packet, and there is a request body with Content-Length > 0, so that first body chunk message immediately follows the FORWARD_REQUEST message. I have reproduced and solved this problem with Tomcat 7.0.42, but looking at the source code I believe the problem should be present in trunk as well. Description of patch to fix the problem: The read-method may have to make several calls to readSocket to read the requested number of bytes. Alter the maximum bytes read per call so that the total bytes read is never more than requested. Index: org/apache/coyote/ajp/AjpNioProcessor.java =================================================================== --- org/apache/coyote/ajp/AjpNioProcessor.java  (revisjon 1570107) +++ org/apache/coyote/ajp/AjpNioProcessor.java  (arbeidskopi) @@ -155,7 +155,7 @@ boolean block = blockFirstRead; while (read < n) { -            res = readSocket(buf, read + pos, n, block); +            res = readSocket(buf, read + pos, n - read, block); if (res > 0) { read += res; } else if (res == 0 && !block) {"}, {"bug_id": "56213", "ground_truth": ["java/org/apache/tomcat/util/net/NioBlockingSelector.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "CMSInitiating Socket connector diff Heap KeyReference traffic sheer Threshold stopped", "bug_title": " Many KeyReference Objects Cause Long CMS-remark GC Times", "bug_description": "This is a request to prop the following fix to Tomcat 7. http://svn.apache.org/viewvc?diff_format=h&view=revision&revision=1388890 Using the NIO connector with a WebSocket application many (millions of) KeyReference objects are  created under traffic.  While the objects are small, the sheer number of them seems to overwhelm the CMS collector.  Before the above fix with our application the CMS remark stop the world phase was taking up to 8.8 seconds. 716.463: [GC[YG occupancy: 213377 K (392896 K)]716.463: [Rescan (parallel) , 5.7904380 secs]722.253: [weak refs processing, 2.3101000 secs] [1 CMS-remark: 1160677K(1703936K)] 1374054K(2096832K), 8.8005960 secs] [Times: user=107.17 sys=0.00, real=8.80 secs] Total time for which application threads were stopped: 8.8020690 seconds After applying the fix under the same traffic the time drops to 110ms. 1282.459: [GC[YG occupancy: 203760 K (392896 K)]1282.459: [Rescan (parallel) , 0.0594610 secs]1282.519: [weak refs processing, 0.0452530 secs] [1 CMS-remark: 1159948K(1703936K)] 1363708K(2096832K), 0.1084940 secs] [Times: user=1.12 sys=0.00, real=0.11 secs] Total time for which application threads were stopped: 0.1100650 seconds For a real time application the 9 second pause is a killer. These tests were executed under: RHEL 6.4 java version \"1.6.0_65\" Java(TM) SE Runtime Environment (build 1.6.0_65-b14-BR8013809) Java HotSpot(TM) 64-Bit Server VM (build 20.65-b04, mixed mode) With the following JVM parms: -server -XX:NewSize=384m -XX:MaxNewSize=384m -XX:+UseParNewGC -XX:MaxTenuringThreshold=0 -Xms2048m -Xmx2048m -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=68 -XX:+UseCMSInitiatingOccupancyOnly -XX:PermSize=96m -XX:MaxPermSize=96m -XX:+UseMembar -XX:+HeapDumpOnOutOfMemoryError -XX:+PrintClassHistogram"}, {"bug_id": "56248", "ground_truth": ["java/org/apache/catalina/manager/LocalStrings.properties", "java/org/apache/catalina/manager/ManagerServlet.java", "java/org/apache/catalina/startup/HostConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "version deploy localhost reasonable appears redeploy redeploy preserved Hmm WAR", "bug_title": " Automatic deployment with TCD deletes customized context.xml file", "bug_description": "I was very happy to see the changes to automatic deployment, and that customized context.xml files in conf/Catalina/localhost/<appname>.xml are preserved when a war file is replaced on the server. However, when using the ant tasks that come with TCD (and I suspect when using the Tomcat manager, although I have not tested that), it appears that the webapp is deleted and then uploaded (as opposed to just being replaced), which is causing the customized context.xml file to be lost and replaced with a default version. === Reply from Mark Thomas === Hmm. It looks like the update command does an undeployment followed by a deploy rather than a replacement of the WAR file and a redeploy. You aren't going to be able to fix that without code changes to Tomcat. Changing the behaviour seems reasonable here. I suggest you open a bugzilla issue for this."}, {"bug_id": "56293", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "apache Java readers XML leads Webapp cgi WebappClassLoader time", "bug_title": " WebappClassLoader does not cache META-INF/services which leads to performance issues", "bug_description": "Since Tomcat 7.0.28, the WebappClassLoader does not cache any resources on the classpath except .class and .properties files (see https://issues.apache.org/bugzilla/show_bug.cgi?id=53081). This leads to a massive performance problem in applications that contain .jars on the classpath that use the ServiceLoader mechanism of Java 6 to bind concrete XML readers and writers to their respective interfaces, since every time the concrete instance is loaded, the WebappClassLoader has to open the .jar to read which concrete implementation is used. A possible solution might be that caching is enabled for all resources that reside in the META-INF/services folder."}, {"bug_id": "56321", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Destroyed missing apps method System update removing System war war", "bug_title": " ServletContextListener.contextDestroyed not completely executed when updating war", "bug_description": "When the contextDestroyed accesses a static method on a class which has not been loaded yet, the rest of the contextDestroyed code is not executed,e.g.,: package contexttest; import javax.servlet.ServletContextEvent; import javax.servlet.ServletContextListener; public class ContextTest implements ServletContextListener { public void contextDestroyed(ServletContextEvent arg0) { System.out.println(\"Context Destroyed\"); MyTest.testStatic(); System.out.println(\"Context Destroyed Done\"); } public void contextInitialized(ServletContextEvent arg0) { System.out.println(\"Context Initialized\"); } } package contexttest; public class MyTest { public static void testStatic(){ System.out.println(\"My static method call\"); } } When I created a war based on this code, and copy this war to the tomcat web apps directory, it logs 'Context Initialized' as expected. When I remove the war it logs: Context Destroyed My static method call Context Destroyed Done as expected. However when I copy the war to web apps, wait till it is initialized, and then touch the war (to simulate the update of a the war). It logs for the destroy event only: 'Context Destroyed' So the static method call and the 'Context Destroyed Done' is missing. When I execute the above on tomcat 7.0.42 it behaves as I would expect, so no difference between removing a war or updating the war."}, {"bug_id": "56339", "ground_truth": ["java/org/apache/catalina/session/StandardSession.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "call process getAttribute getUserId listener Destroyed HttpSession code Sessions code", "bug_title": " session listener invalidate session", "bug_description": "we have sessionlistener in sessionDestroyed method we call session.invalidate() in version 7.0.42 its ok but newer versions loops code public void sessionDestroyed(HttpSessionEvent arg0) { if(arg0 !=null && arg0.getSession() !=null) { HttpSession session = arg0.getSession(); String sessionId = session.getId(); if(sessionId != null) { UserPrincipal userPrincipal = (UserPrincipal)session.getAttribute(ContextVar.USERPRINCIPLE); if (userPrincipal != null) { UserOpBLO userOpBLO = new UserOpBLO(new ResourcePool()); userOpBLO.processLogoutActivity(sessionId, userPrincipal.getUserId()); CurrentSessions.SESSIONS.remove(sessionId); session.invalidate(); } } } }"}, {"bug_id": "56369", "ground_truth": ["java/org/apache/tomcat/util/modeler/BaseModelMBean.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "file attributeBroadcaster collected jmx remote optional attribute opt BaseModelMBean opt", "bug_title": " BaseModelMBean does not clean-up attributeBroadcaster in removeNotificationListener()", "bug_description": "BaseModelMBean.addNotificationListener() registers the listener on attributeBroadcaster, while BaseModelMBean.removeNotificationListener() fails to clean that up. The end result is a memory leak that is very apparent when you embed directly in your WAR file jmxremote_optional.jar as the com.sun.jmx.remote.opt.internal.ArrayNotificationBuffer$BufferListener' classloader cannot be garbage collected which end up depleting the perm gen merely after a few redeploys."}, {"bug_id": "56406", "ground_truth": ["java/org/apache/naming/resources/VirtualDirContext.java"], "repo": "tomcat70", "reformed_query": "mywebapp Virtual correct Users webapp src pictures code hard error", "bug_title": " VirtualDirContext.setExtraResourcePaths incorrect separator in example semicolon instead comma", "bug_description": "The description and the code is using a comma to separate paths. The documentation is using a semicolon which results in a very hard to detect error when copying the example. * Example: <code> * /=/Users/slaurent/mywebapp/src/main/webapp;/pictures=/Users/slaurent/sharedpictures * </code> correct is: * Example: <code> * /=/Users/slaurent/mywebapp/src/main/webapp,/pictures=/Users/slaurent/sharedpictures * </code>"}, {"bug_id": "56409", "ground_truth": ["java/org/apache/catalina/core/ApplicationContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Paths named Config Resource   StackOverflowError Create", "bug_title": " A file called \\ causes StackOverflowError in tldScanResourcePaths during startup", "bug_description": "at org.apache.catalina.startup.TldConfig.tldScanResourcePaths(TldConfig.java:366) at org.apache.catalina.startup.TldConfig.tldScanResourcePaths(TldConfig.java:398) at org.apache.catalina.startup.TldConfig.tldScanResourcePaths(TldConfig.java:398) at org.apache.catalina.startup.TldConfig.tldScanResourcePaths(TldConfig.java:398) at org.apache.catalina.startup.TldConfig.tldScanResourcePaths(TldConfig.java:398) (... repeats a lot of times) Steps to reproduce: 1) Create a file named \"\\\" below WEB-INF in an own folder 2) Start Tomcat7"}, {"bug_id": "56418", "ground_truth": ["java/org/apache/catalina/manager/ManagerServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "war filesystem proposed deploying deployment uploading uploading factors server webapp", "bug_title": " Manager incorrectly reports deployment as OK even though it failed", "bug_description": "Created attachment 31536 [details] Proposed patch on tomcat7 trunk When using the Manager to deploy a webapp remotely (uploading the war with an http PUT), the deployment status is incorrectly reported. It does not occur when deploying a WAR that is on the server filesystem. The proposed patch factors the check for the context state."}, {"bug_id": "56441", "ground_truth": ["java/org/apache/tomcat/util/IntrospectionUtils.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "call misleading lang Misleading type url innerRun   Base", "bug_title": " Misleading error message in FilterBase cause by invalid regex", "bug_description": "An invalid regex in the allow parameter leads to raising of a misleading exception: The property \"allow\" is not defined for filters of type \"org.apache.catalina.filters.RemoteAddrFilter\". Test config in web.xml <filter> <filter-name>TestFilter</filter-name> <filter-class>org.apache.catalina.filters.RemoteAddrFilter</filter-class> <init-param> <param-name>allow</param-name> <param-value>127\\.0\\.\\0.1</param-value> </init-param> </filter> <filter-mapping> <filter-name>TestFilter</filter-name> <url-pattern>*</url-pattern> </filter-mapping> Apr 22, 2014 3:50:10 PM org.apache.catalina.core.StandardContext filterStart SEVERE: Exception starting filter TestFilter javax.servlet.ServletException: The property \"allow\" is not defined for filters of type \"org.apache.catalina.filters.RemoteAddrFilter\" at org.apache.catalina.filters.FilterBase.init(FilterBase.java:53) at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:269) at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:258) at org.apache.catalina.core.ApplicationFilterConfig.setFilterDef(ApplicationFilterConfig.java:382) at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:103) at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4650) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5306) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559) at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549) at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) at java.util.concurrent.FutureTask.run(FutureTask.java:166) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603) at java.lang.Thread.run(Thread.java:722)"}, {"bug_id": "56449", "ground_truth": ["java/org/apache/tomcat/websocket/pojo/PojoEndpointBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "captured thousands exception open Open close getAsynRemote   IOException", "bug_title": " WebSocket session get closed if in onOpen will sendText (sync mode)", "bug_description": "Created attachment 31552 [details] The exception captured @ServerEndpoint(\"/push/echo\") public class EchoAnnotation { @OnOpen public void open(Session session) { try { if(session.isOpen()) session.getBasicRemote().sendText( \"Welcome!\"); } catch(Exception e) { try { session.close(); } catch (IOException e1) { // Ignore } } } Doing session.getAsynRemote() is working. Important: This errors happens with thousands of websockets."}, {"bug_id": "56472", "ground_truth": ["java/org/apache/catalina/core/NamingContextListener.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "hash held String Bind service BindAuthenticator naming User Webapp services", "bug_title": " All classes remain in memory after stop of web application, when LDAP was used.", "bug_description": "Created attachment 31573 [details] Classes that hold a reference to WebappClassLoader I have a problem with unloading casses of a web application when I stop it. All threads are closed, but all 6.000 classes remain in memory. The GC cannot destroy WebappClassLoader because it is held by a static hashMap of the naming services which is hold by the VM. See attached image. The problem occurs only when the application uses the naming service. I identified the first method in my application that triggers the problem: public class MyBindAuthenticator extends BindAuthenticator { ... @Override public DirContextOperations authenticate(Authentication authentication) { ... List<String> userns=getUserDns(username); ... } ... } When I replace this line by a hardcoded list of strings, then the problem gets triggered by the next call of any naming service method. When I replace the whole authenticate() method by an empty one, then the problem disappears. But I need it for security reason. Unfortunately, the problematic hashmap (with name securityTokens) is not accessible to me, so I cannot remove the references. I seems that all related classes are part of Catalina and not reachable from outside. I would appreciate a workaround, if not bugfix is available."}, {"bug_id": "56523", "ground_truth": ["java/org/apache/catalina/authenticator/SpnegoAuthenticator.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "enabled appears trace SpnegoAuthenticator PrivilegedActionExceptions Created Action diff SpnegoAuthenticator privilegedactions", "bug_title": " SPNEGO auth failures are leading to stack trace prints of PrivilegedActionExceptions", "bug_description": "Created attachment 31620 [details] GNU Unified diff format of proposed fix In the event of a privilegedactionexception in SpnegoAuthenticator, the error is always logged. Hence the stack trace of the error always appears in catalina.out. This leads to spurious logs even when debugging is not enabled In the event of GSSException, its logged only when debugging is enabled. It is imperative to note that The privilegedactions are AcceptAction and action both of which only have the capacity to throw GSSException. Hence I am suggesting a fix which logs privileged action exception only when debugging is enabled in tomcat. This is added as an attachment and is a unified diff of the SpnegoAuthenticator before and after the change. Please let me know if you have any doubts about the fix or if you need a sample catalina.out highlighting the problem."}, {"bug_id": "56536", "ground_truth": ["java/org/apache/catalina/session/StandardSession.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "localhost demo process Classloader process valueUnbound Created loader StandardSession holds", "bug_title": " HttpSessionBindingListener.valueUnbound uses wrong classloader when SingleSignOn valve is used", "bug_description": "Created attachment 31630 [details] Reproduction war (including sources inside) We are encountering an issue with the call to the valueUnbound listener of our application. We rely on the SingleSignOn valve (org.apache.catalina.authenticator.SingleSignOn) to invalidate all user sessions for all web applications when the user chooses to logout (session invalidate) on one webapp. It seems that the valueUnboud is always called with the WebappClassLoader of the application where the original Session.invalidate was called. In the SingleSignOn scenario this is not always the webappclassloader. I have added reproduction steps and .wars below. It seems that the HttpSessionListener methods _are_ being called with the correct classloader from org.apache.catalina.session.StandardSession.expire(boolean). The expire method holds functionality to set the classloader to the webapp classloader, and restore it after calling. In the patch i have moved the classloader restore code down. This makes that also the valueUnbound calls are now done using the right webappclassloader. But i am not sure if this is valid as also a number of internal calls are being executed in the process. I will add the patch in the comments as i can only add a single attachment it seems. = Reproduction = I have created a very small demo project (code to be found in the war). == Preparation == - Use a Tomcat 7 runtime. - Make sure you can login with a user that gets role 'test' by editing <tomcat>/conf/tomcat-users.xml. - Make sure SingleSignOn valve is enabled in server.xml - Place SingleSignOut.war in <tomcat>/webapps/ - Make a copy of this <tomcat>/webapps/SingleSignOut.war to <tomcat>/webapps/SingleSignOut2.war (now you have two web applications that expect a user with role test, and answer to a request on / and on /logout) == Running the repro == - Go to http://localhost:8080/SingleSignOut/ - login: test/test - Go to http://localhost:8080/SingleSignOut2/ - No login needed - Go to http://localhost:8080/SingleSignOut2/logout - See the following log on stdout: <begin stdout snippet> Calling session invalidate from /SingleSignOut2 using classloader WebappClassLoader context: /SingleSignOut2 delegate: false repositories: /WEB-INF/classes/ ----------> Parent Classloader: org.apache.catalina.loader.StandardClassLoader@7a1f0683 /SingleSignOut VALUE UNBOUND using classloader WebappClassLoader context: /SingleSignOut2 delegate: false repositories: /WEB-INF/classes/ ----------> Parent Classloader: org.apache.catalina.loader.StandardClassLoader@7a1f0683 /SingleSignOut2 VALUE UNBOUND using classloader WebappClassLoader context: /SingleSignOut2 delegate: false repositories: /WEB-INF/classes/ ----------> Parent Classloader: org.apache.catalina.loader.StandardClassLoader@7a1f0683 </end stdout snippet> - Observe that the value unboud for /SingleSignOut is being called with the classloader for /SingleSignOut2!"}, {"bug_id": "56545", "ground_truth": ["java/org/apache/catalina/security/SecurityClassLoad.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "checkPermission NIO Created App security denied web HttpParser Cache ClassLoader", "bug_title": " Examples app security exceptions", "bug_description": "Created attachment 31637 [details] (1) localhost.2014-05-20.log Testing examples web application in 8.0.8 release candidate running with Security Manager enabled, with NIO connector, JDK 7u55 32-bit, Win7, I see several issues. Steps to reproduce (1). 1. Edit conf/tomcat-users.xml  and uncomment sample roles there. 2. Start bin/catalina.bat start -security 3. Access the following page: http://localhost:8080/examples/jsp/security/protected/index.jsp Expected: Login page Actual: Error 500 Access denied (\"java.lang.RuntimePermission\" \"accessClassInPackage.org.apache.tomcat.util.http.parser\") The stack trace is: java.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"accessClassInPackage.org.apache.tomcat.util.http.parser\") at java.security.AccessControlContext.checkPermission(AccessControlContext.java:372) at java.security.AccessController.checkPermission(AccessController.java:559) at java.lang.SecurityManager.checkPermission(SecurityManager.java:549) at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1525) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:305) at java.lang.ClassLoader.loadClass(ClassLoader.java:412) at java.lang.ClassLoader.loadClass(ClassLoader.java:358) at org.apache.tomcat.util.http.parser.HttpParser.skipConstant(HttpParser.java:305) at org.apache.tomcat.util.http.parser.HttpParser.parseMediaType(HttpParser.java:192) at org.apache.tomcat.util.http.parser.MediaTypeCache.parse(MediaTypeCache.java:54) at org.apache.catalina.connector.Response.setContentType(Response.java:712) at org.apache.jsp.jsp.security.protected_.login_jsp._jspService(login_jsp.java:52) at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) at javax.servlet.http.HttpServlet.service(HttpServlet.java:725) See attached \"(1) localhost.2014-05-20.log\" for the full stack trace."}, {"bug_id": "56577", "ground_truth": ["java/org/apache/tomcat/websocket/server/WsServerContainer.java", "webapps/docs/changelog.xml", "webapps/docs/web-socket-howto.xml"], "repo": "tomcat70", "reformed_query": "WsSession DefaultSessionManager core WebSocketServer Unsafe locks Close Exception Impl trace", "bug_title": " [websocket] Inappropriate executor in WsServerContainer", "bug_description": "The executor service to process SendHandler for sendAsync calls is initialized in WsServerContainer, which is using an unbounded queue. Thus, no more than corePoolSize threads will ever be created. (And the value of the maximumPoolSize therefore doesn't have any effect.)  [1] The corePoolSize has a default value to be 1, though it could be changed by context parameter, it's still hard to find an optimized value. This will create an issue if using the SendHandler to close the session after sending the last message. An example stack trace is like the following: \"WebSocketServer-/spring-websocket-test-1\" daemon prio=10 tid=0x00007f9f040ec000 nid=0x7499 waiting on condition [0x00007f9f73af8000] java.lang.Thread.State: TIMED_WAITING (parking) at sun.misc.Unsafe.park(Native Method) - parking to wait for  <0x000000075d52f018> (a java.util.concurrent.CountDownLatch$Sync) at java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:226) at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1033) at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1326) at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:282) at org.apache.tomcat.websocket.FutureToSendHandler.get(FutureToSendHandler.java:93) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessageBlock(WsRemoteEndpointImplBase.java:238) at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:487) at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:418) - locked <0x000000075d7dc388> (a java.lang.Object) at org.apache.tomcat.websocket.WsSession.close(WsSession.java:395) at org.apache.tomcat.websocket.WsSession.close(WsSession.java:389) at com.tango.test.spring.test.service.DefaultSessionManager$CloseSessionHandler.onResult(DefaultSessionManager.java:133) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$StateUpdateSendHandler.onResult(WsRemoteEndpointImplBase.java:1083) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.endMessage(WsRemoteEndpointImplBase.java:320) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase$EndMessageHandler.onResult(WsRemoteEndpointImplBase.java:468) at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer$OnResultRunnable.run(WsRemoteEndpointImplServer.java:234) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:745) If all the threads are in this state, there will be no available threads to clear any SendHandler and all Remote.send methods would throw TimeoutException though actually the clients could receive the messages. [1] http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html"}, {"bug_id": "56606", "ground_truth": ["java/org/apache/catalina/realm/MemoryRuleSet.java", "res/tomcat.nsi", "webapps/docs/config/realm.xml", "webapps/docs/manager-howto.xml", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "user procedure exe nsi admin StrCpy roles xml installation attribute", "bug_title": " Tomcat Installer: old attribute generated in tomcat-users.xml instead of the new one", "bug_description": "Hi all, using the Tomcat Installer (for example apache-tomcat-7.0.42.exe) I see that when the admin user is created (in tomcat-users.xml), the tag inside the xml has the (old?) attribute name instead of username (as seen in other parts in the same file). I see this in all three source files from tomcat6, 7 and 8, for example here: http://svn.apache.org/repos/asf/tomcat/tc7.0.x/trunk/res/tomcat.nsi this is the line related: StrCpy $R5 '<user name=\"$R1\" password=\"$R2\" roles=\"$R3\" />$\\r$\\n' so I think the fix should be trivial (change name with username). Note that even in the published doc in the web site there are some references to <user name=  ... Last (using the same installation procedure, using the exe), if I don't set a password for the admin, the line in the tomcat-users.xml won't be generated Thanks for now, Sandro"}, {"bug_id": "56608", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "appears stack conf WatchedResource Log docbase uploaded day triggering network", "bug_title": " WatchedResource configured in $TomcatHome\\conf\\Catalina\\localhost context XML file not triggering context reload after working for several days", "bug_description": "Created attachment 31700 [details] Log files for the day the error occurred and context reloading stopped being automatic.  Context file for app in question included. I have set up a context XML file within $TOMCAT_HOME\\conf\\Catalina\\localhost which has a docbase on a network fileshare.  I have set up a WatchedResource for a handful of files on this fileshare so that whenever one of the files is updated, the context is refreshed.  This works fine for sometime, but after a while, I see an error in the logs saying \"java.io.IOException: The semaphore timeout period has expired\" (Log file with full stack trace is uploaded). After we notice this error, I had to start the context back via the Tomcat manager (to be expected, since it appears that a short network unavailability caused the issue).  However, once the application is started manually, the WatchedResources being updated no longer force the context to reload.  We have to reload the context manually until we do a full restart of the Tomcat service."}, {"bug_id": "56657", "ground_truth": ["java/org/apache/catalina/connector/CoyoteAdapter.java", "webapps/docs/changelog.xml", "java/org/apache/catalina/connector/CoyoteAdapter.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "tags web request loop CoyoteAdapter request http webapp tomcat Adapter", "bug_title": " Parallel deployment. If sessionid belongs to the latest version of webapp, use the latest version.", "bug_description": "In 8.0.9, 7.0.54: [1] Reviewing the loop that finds correct web application version by a sessionid. Looking at [1], there shall be a \"break;\" after line 921. This matters in the following rare scenario: 1. There are several versions of the same web application that are deployed in parallel. 2. The same sessionid is valid both for the latest version and for some older one. 3. Expected result: map request to the latest version of the webapp. Actual result: the latest version will be skipped and the request will be mapped to an older version. [1] http://svn.apache.org/viewvc/tomcat/tc8.0.x/tags/TOMCAT_8_0_9/java/org/apache/catalina/connector/CoyoteAdapter.java?view=markup#l916"}, {"bug_id": "56665", "ground_truth": ["java/org/apache/catalina/deploy/WebXml.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "mapping arithmetic Mappings web mrel URL revision XML Config jsp", "bug_title": " XML schema validation exception for effective web.xml generated for servlet-mapping with empty url-pattern", "bug_description": "I am observing this with the current Tomcat 7 (built from revision 1605072) If the following 3 conditions are met: 1) Server is running in \"strict compliance\" mode 2) There is a servlet that is mapped to context root using URL pattern \"\" (empty string) - per Servlet 3.0 mrel spec chapter 12.2 Specification of Mappings Then whenever Tomcat tries to compile a JSP page, it fails when trying to validate effective merged web.xml against the schema. WORKAROUND: To work around the issue I disabled XML validation for this specific context, via <Context xmlValidation=\"false\"/> STEPS TO REPRODUCE: 1. Add the following mapping at the end of webapps/examples/WEB-INF/web.xml: [[[ <servlet-mapping> <servlet-name>RequestInfoExample</servlet-name> <url-pattern /> </servlet-mapping> ]]] 2. Configure Tomcat in \"strict compliance\" mode by adding the following line to conf/catalina.properties: org.apache.catalina.STRICT_SERVLET_COMPLIANCE=true 3. Purge the work/ directory to remove compiled JSPs, if there are any. 4. Start Tomcat 5. Access http://localhost:8080/examples/ The \"Request Information Example\" page is shown. Thus the empty URL mapping is working correctly. 6. Access a JSP page, http://localhost:8080/examples/jsp/jsp2/el/basic-arithmetic.jsp Expected: Some arithmetics demo page Actual: Error 500 HTTP Status 500 - org.apache.jasper.JasperException: XML parsing error on file org.apache.tomcat.util.scan.MergedWebXml: (line 176, col 21) Stack Trace: org.apache.jasper.JasperException: org.apache.jasper.JasperException: XML parsing error on file org.apache.tomcat.util.scan.MergedWebXml: (line 176, col 21) org.apache.jasper.compiler.JspConfig.processWebDotXml(JspConfig.java:230) org.apache.jasper.compiler.JspConfig.init(JspConfig.java:243) org.apache.jasper.compiler.JspConfig.findJspProperty(JspConfig.java:302) org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:114) (...)"}, {"bug_id": "56677", "ground_truth": ["java/org/apache/catalina/core/ApplicationHttpRequest.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "apache Application Http Servlet ServletContext Servlet core org crossContext javax", "bug_title": " ApplicationHttpRequest does not override javax.servlet.ServletRequestWrapper#getServletContext()", "bug_description": "org.apache.catalina.core.ApplicationHttpRequest does not override one of the Servlet 3.0 APIs, javax.servlet.ServletRequestWrapper#getServletContext(). So ApplicationHttpRequest.getServletContext() does not return its mapped ServletContext in the crossContext situation."}, {"bug_id": "56736", "ground_truth": ["java/org/apache/coyote/AsyncStateMachine.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "asyncDispatch Async Adapter servlet asyncTimeout error Http Ubuntu async Dispatch", "bug_title": " IllegalStateException after calling AsyncContext.dispatch", "bug_description": "Requests timeout occasionally with the following error after calling AsyncContext.dispatch: 10-Jul-2014 01:40:33.145 SEVERE [http-nio-8080-exec-2] org.apache.catalina.connector.CoyoteAdapter.asyncDispatch Exception while processing an asynchronous request java.lang.IllegalStateException: Calling [asyncTimeout()] is not valid for a request with Async state [DISPATCHING] at org.apache.coyote.AsyncStateMachine.asyncTimeout(AsyncStateMachine.java:267) ... Happens also with the Java Blocking Connector (Http11Protocol). Could not reproduce on Tomcat 7.0.54. Can be reproduced with the sample project with the following request: http://localhost:8080/servlet3-async/error2?fail=true Sample code and more information about the test can be found here: https://github.com/marko-asplund/servlet3-async Verified on: Ubuntu 14.04 / OpenJDK 1.7.0_55 Mac OS X 10.8.5 / Oracle Java 1.7.0_55"}, {"bug_id": "56746", "ground_truth": ["java/org/apache/tomcat/websocket/AsyncChannelWrapperSecure.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Channel tomcat AsyncChannelWrapperSecure Secure Async tomcat IOThread classloader SecureIOThreadFactory Removing", "bug_title": " Webssocket secure client thread cannot access webapp resources", "bug_description": "The new SecureIOThreadFactory method in org.apache.tomcat.websocket.AsyncChannelWrapperSecure sets the context class loader of the secure websocket client threads to it's own standard class loader - thus preventing the them from accessing webapp resources. Removing this line restores access, as the new threads then have the classloader of the calling (webapp) thread"}, {"bug_id": "56771", "ground_truth": ["java/org/apache/naming/resources/BaseDirContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "AliasResult getString INF Check doLookupWithoutNFE CPU Object checking dir locations", "bug_title": " Avoid throwing NameNotFoundException in BaseDirContext#lookup()", "bug_description": "Created attachment 31848 [details] The issue NameNotFoundException is thrown when the resource can't be found in this DirContext. In the method BaseDirContext, it also goes through all the alternate or backup DirContexts to lookup the resource one by one until the resource is found. A NameNotFoundException is thrown in the alternate DirContext when the given resource name isn't in this DirContext. \u00ef\u00bb\u00bf  public final Object lookup(String name) throws NamingException { // First check for aliases if (!aliases.isEmpty()) { AliasResult result = findAlias(name); if (result.dirContext != null) { return result.dirContext.lookup(result.aliasName); } } // Next do a standard lookup Object obj = doLookup(name); if (obj != null) return obj; // Check the alternate locations for (DirContext altDirContext : altDirContexts) { try { obj = altDirContext.lookup(\"/META-INF/resources\" + name); if (obj != null) return obj; } catch ( NamingException ex) { // ignore } } // Really not found throw new NameNotFoundException( sm.getString(\"resources.notFound\", name)); } It takes much CPU time.   It could be optimized by checking result is null or not. Here is the optimized code, public final Object lookup(String name) throws NamingException { // First check for aliases Object obj = doLookupWithoutNFE(name); if (obj != null) { return obj; } // Really not found throw new NameNotFoundException( sm.getString(\"resources.notFound\", name)); } protected Object doLookupWithoutNFE(String name) throws NamingException { if (!aliases.isEmpty()) { AliasResult result = findAlias(name); if (result.dirContext != null) { return result.dirContext.lookup(result.aliasName); } } // Next do a standard lookup Object obj = doLookup(name); if (obj != null) return obj; // Check the alternate locations String resourceName = \"/META-INF/resources\" + name; for (DirContext altDirContext : altDirContexts) { if (altDirContext instanceof BaseDirContext) { obj = ((BaseDirContext)altDirContext).doLookupWithoutNFE(resourceName); } else { try { obj = altDirContext.lookup(resourceName); } catch ( NamingException ex) { // ignore } } if (obj != null) { return obj; } } //Return null instead return null; }"}, {"bug_id": "56777", "ground_truth": ["java/org/apache/catalina/realm/MemoryRealm.java", "java/org/apache/catalina/users/MemoryUserDatabase.java", "java/org/apache/naming/resources/ClasspathURLStreamHandler.java", "java/org/apache/naming/resources/DirContextURLStreamHandlerFactory.java", "java/org/apache/naming/resources/LocalStrings.properties", "java/org/apache/tomcat/util/file/ConfigFileLoader.java", "java/org/apache/tomcat/util/net/AbstractEndpoint.java", "java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java", "test/org/apache/naming/resources/TestClasspathUrlStreamHandler.java", "test/org/apache/tomcat/util/file/TestConfigFileLoader.java", "webapps/docs/changelog.xml", "webapps/docs/config/http.xml", "webapps/docs/config/realm.xml", "webapps/docs/jndi-resources-howto.xml"], "repo": "tomcat70", "reformed_query": "key archive create allowing broader store readable boot store desired", "bug_title": " Allow configuration resources to be loaded from places other than straight off the filesystem", "bug_description": "We're using embedded Tomcat in Spring Boot (https://github.com/spring-projects/spring-boot). Spring Boot allows a user to create an executable jar file that contains Tomcat and their application. The idea is that an application can, if so desired, be entirely contained within the jar with no external dependencies. Currently, this breaks down if a key store or trust store is required for SSL configuration as Tomcat requires them to be readable directly from the filesystem rather than from within a jar file. I'd like to propose an enhancement to Tomcat that introduces a resource abstraction, allowing configuration resources to be loaded from within an archive and perhaps even broader than that. (Jetty, for example, allows a resource to be loaded from a URL)."}, {"bug_id": "56780", "ground_truth": ["java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java", "java/org/apache/tomcat/util/net/jsse/res/LocalStrings.properties", "java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "happen server RFC startup ssf bad jsse Java org create", "bug_title": " IBM Java: server.startup gives error \"java.lang.IllegalArgumentException: Only TLS1.2 protocol can be enabl ed in SP800_131 strict mode\"", "bug_description": "The problem is a change made in Tomcat 7.0.39. The offending code is in org.apache.tomcat.util.net.jsse.JSSESocketFactory.{...}: try { context = SSLContext.getInstance(\"TLS\"); ... SSLServerSocket socket = (SSLServerSocket) ssf.createServerSocket(); ... } catch (NoSuchAlgorithmException e) { // Assume no RFC 5746 support } catch (KeyManagementException e) { // Assume no RFC 5746 support } catch (IOException e) { // Unable to determine default ciphers/protocols so use none } With the IBM JVM configured for strict SP800-131a mode, the ssf.createServerSocket() will throw an IllegalArgumentException, which is a very bad thing to have happen in a class initializer. IBM JRE: 6.0 (SR16) : Email me direct for the JRE if you want to test it."}, {"bug_id": "56801", "ground_truth": ["java/org/apache/tomcat/util/file/Matcher.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "matchName duplicated loop toCharArray Avoid Created conversion toCharArray duplicated charArray", "bug_title": " Avoid duplicated String to CharArray conversion in the loop of Matcher#matchName", "bug_description": "Created attachment 31865 [details] Patch for Matcher The loop in matchName, public static boolean matchName(Set<String> patternSet, String fileName) { for (String pattern: patternSet) { if (match(pattern, fileName, true)) { return true; } } return false; } Optimized, public static boolean matchName(Set<String> patternSet, String fileName) { char[] charArray = fileName.toCharArray(); for (String pattern: patternSet) { if (match(pattern, charArray, true)) { return true; } } return false; }"}, {"bug_id": "56857", "ground_truth": ["java/org/apache/catalina/core/ApplicationContextFacade.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "HashMap nid ApplicationContextFacade ApplicationContextFacade Application consuming Cache objects org util", "bug_title": " Thread safety issue in ApplicationContextFacade.invokeMethod", "bug_description": "Multiple subsequent Thread dumps were exhibiting lots of threads hanging in HashMap.get() while in RUNNABLE status, and consuming high CPU - a typical indicator of a thread safety issue with these non-threadsafe Maps. Thread stacks all as below. ApplicationContextFacade implements ServletContext, these objects are singletons per webapp, and get passed around among multiple threads. Their private member \"objectCache\" is a HashMap, i.e. not thread safe, but gets accessed AND modified without any synchronization in invokeMethod(). Suggested remedy: change to a ConcurrentHashMap, which is thread-safe, and performs much better than synchronizing on every access. \"connector-93: userId=_101_1, sessionId=C9EC1C59DD2244557BC6231A5476000E\" daemon prio=10 tid=0x00007fb1e40cf800 nid=0x7b90 runnable [0x00007fb1e82c3000] java.lang.Thread.State: RUNNABLE at java.util.HashMap.get(HashMap.java:326) at org.apache.catalina.core.ApplicationContextFacade.invokeMethod(ApplicationContextFacade.java:789) at org.apache.catalina.core.ApplicationContextFacade.doPrivileged(ApplicationContextFacade.java:767) at org.apache.catalina.core.ApplicationContextFacade.getContextPath(ApplicationContextFacade.java:428) at blackboard.portal.servlet.ModuleCustomizationServlet.service(ModuleCustomizationServlet.java:88) at javax.servlet.http.HttpServlet.service(HttpServlet.java:728) ..."}, {"bug_id": "56902", "ground_truth": ["java/org/apache/catalina/servlets/DefaultServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "exceptions attached copy Range variable exceptions details DefaultServlet DefaultServlet method", "bug_title": " DefaultServlet could leak resource in method copy - CID-45243", "bug_description": "Created attachment 31955 [details] always close istream in DefaultServlet#copy In method copy istream could be left unclosed, if write operations on ostream would throw an exception before copyRange is called. A simple fix is to wrap the ostream-operations together with copyRange in a try-finally block. If the exceptions should be catched into the variable exception like copyRange does, it could be done so in an additionally catch block (which is missing from the attached patch)."}, {"bug_id": "56905", "ground_truth": ["java/org/apache/tomcat/websocket/server/LocalStrings.properties", "webapps/docs/changelog.xml", "java/org/apache/tomcat/websocket/server/WsServerContainer.java"], "repo": "tomcat70", "reformed_query": "threadGroup WebSocketServer xhtml issue setDaemon destroy webapps Count Thoughts count", "bug_title": " \"Unable to destroy WebSocket thread group\" warning when reloading examples webapp", "bug_description": "Testing 8.0.12 release candidate. Windows, JDK 7u67 (32-bit), NIO connector. Steps to reproduce: ========== 1. Start Tomcat 2. Visit \"Echo\" websockets example and do the following http://localhost:8080/examples/websocket/echo.xhtml - Select any connection option (I like \"(*) annotation API (stream)\", but the issue is reproducible with any of the 3 connection options) - Press \"Connect\" button - Press \"Echo message\" button - Press \"Disconnect\" button 3. Touch file webapps\\examples\\WEB-INF\\web.xml and wait for the web application to be reloaded by Tomcat Actual: Webapp reloading completes successfully, but a \"Unable to destroy WebSocket thread group\" warning is logged into logs/catalina.2014-08-31.log file: Expected: No warning. [[[ 31-Aug-2014 18:20:22.357 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/examples] has started 31-Aug-2014 18:20:22.362 WARNING [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.tomcat.websocket.server.WsServerContainer.destroy Unable to destroy WebSocket thread group [WebSocketServer-localhost-/examples] as some threads were still running when the web application was stopped 31-Aug-2014 18:20:22.877 INFO [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.core.StandardContext.reload Reloading Context with name [/examples] is completed ]]] Evaluation, notes ========== 1) Reproduction rate is less than 100%. Sometimes the warning does not happen. Steps 2-4 can be repeated without restarting Tomcat until the issue shows itself. In the example, any connection option can be used. The issue does not depend on it. 2) The message is printed by org.apache.tomcat.websocket.server.WsServerContainer.destroy() method and originates from r1589043 3) I tried to get more information, by adding the following debug code: [[[ StringBuilder buf = new StringBuilder(); buf.append(threadGroup.getName()); buf.append(\" activeCount: \").append(threadGroup.activeCount()); buf.append(\" isDestroyed: \").append(threadGroup.isDestroyed()); Thread[] threads = new Thread[100]; int threadCount = threadGroup.enumerate(threads, false); buf.append(\"\\nactual Thread count: \").append(threadCount); for (int i=0; i<threadCount; i++) { buf.append(\"\\n\\n\").append(threads[i]); StackTraceElement[] stack = threads[i].getStackTrace(); for (StackTraceElement ste: stack) { buf.append(\"\\n\\t\").append(ste); } } log.warn(buf.toString()); ]]] The results: 1. activeCount: 0 isDestroyed: false 2. actual Thread count: 0, threadGroup.enumerate() have not returned any thread. 3. If I add second threadGroup.destroy(); call after the above code, it succeeds. 4) There are no PermGen memory leaks. (No thread stack traces are printed by WebappClassLoader leak detection code. No leaks detected by Find leaks command in Tomcat Manager webapp). Missing a ThreadGroup.destroy() call will keep this thread group in its parent thread group's list, so there will be a small java object leak. 5) In this case we were safe, but generally there might be threads that are still running, as they perform some web application code. So the warning is justified. Thoughts on a possible fix ========== 1) Use threadGroup.setDaemon(true) [1]. The daemon flag on a thread group means that its destroy() method will be called automatically when its thread count reaches zero. Generally it either shall be done in a synchronized(threadGroup) block, or we shall call some synchronized methods later to make sure that the change is propagated. (E.g. calling ThreadGroup.isDestroyed(), ThreadGroup.activeCount() is good for this). The goal is to avoid the java object leak. [1] http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadGroup.html#setDaemon%28boolean%29 2) Ask for threadGroup.activeCount() and include the count in the warning message."}, {"bug_id": "56907", "ground_truth": ["java/org/apache/tomcat/websocket/WsWebSocketContainer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "newFixedThreadPool issue increasing Configuration result Secure Wrapper WsWebSocketContainer ExecutorService noticed", "bug_title": " Threads leak", "bug_description": "Hello. While using WebSocket implementation of versions 7.0.55 and 8.0.11 leaking threads were noticed. Use method WsWebSocketContainer.connection (endpoint, clientEndpointConfiguration, path) to reproduce this issue. The URL to specify a non-existent page. As a result, the connection will return an error \"404 Not Found\", but the threads that have been created in the class AsyncChannelWrapperSecure will stay alive for a long time (source of threads creation: private final ExecutorService executor = Executors.newFixedThreadPool (2, new SecureIOThreadFactory ());). Count of threads are increasing with every reconnect attempt to non-existent URL. Those will live for a very long time, until you disable the application that calls the connection WsWebSocketContainer.connection (...). Leakage threads can be observed using the jvisualvm program. Please, make it possible to deal with such kind of situations and destroy unused threads."}, {"bug_id": "56910", "ground_truth": ["java/org/apache/tomcat/util/net/AprEndpoint.java", "java/org/apache/tomcat/util/net/res/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Vista fixed main fixed Internal Max Timeouts Base org getMaxConnections", "bug_title": " when maxConnections=\"-1\" AprEndpoint init error", "bug_description": "use apr connector set maxConnections=\"-1\" in server.xml when start tomcat, exceptions occur: java.lang.NegativeArraySizeException at org.apache.tomcat.util.net.AprEndpoint$SocketTimeouts.<init>(AprEndpoint.java:1145) at org.apache.tomcat.util.net.AprEndpoint$Poller.init(AprEndpoint.java:1382) at org.apache.tomcat.util.net.AprEndpoint.startInternal(AprEndpoint.java:602) at org.apache.tomcat.util.net.AbstractEndpoint.start(AbstractEndpoint.java:650) at org.apache.coyote.AbstractProtocol.start(AbstractProtocol.java:449) at org.apache.catalina.connector.Connector.startInternal(Connector.java:1007) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.StandardService.startInternal(StandardService.java:459) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:731) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.startup.Catalina.start(Catalina.java:689) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:606) at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:321) at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455) In AprEndpoint.init() method\u00ef\u00bc\u0161 protected void init() { pool = Pool.create(serverSockPool); // Single poller by default int defaultPollerSize = getMaxConnections(); if ((OS.IS_WIN32 || OS.IS_WIN64) && (defaultPollerSize > 1024)) { // The maximum per poller to get reasonable performance is 1024 // Adjust poller size so that it won't reach the limit. This is // a limitation of XP / Server 2003 that has been fixed in // Vista / Server 2008 onwards. actualPollerSize = 1024; } else { actualPollerSize = defaultPollerSize; } timeouts = new SocketTimeouts(defaultPollerSize); //here !!! did not check getMaxConnections() maybe return -1."}, {"bug_id": "57011", "ground_truth": ["java/org/apache/catalina/connector/CoyoteAdapter.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Created Handler checkRecycled check Protocol exception NioProtocol exception CoyoteAdapter Worker", "bug_title": " Exception when writing HTTP response in the AsyncListener onTimeout method (servlet 3 HTTP-NIO)", "bug_description": "Created attachment 32050 [details] Servlet Get the following exception every time the onTimeout method has been called INFO: Encountered a non-recycled request and recycled it forcedly. org.apache.catalina.connector.CoyoteAdapter$RecycleRequiredException at org.apache.catalina.connector.CoyoteAdapter.checkRecycled(CoyoteAdapter.java:717) at org.apache.coyote.http11.AbstractHttp11Processor.recycle(AbstractHttp11Processor.java:1791) at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.release(Http11NioProtocol.java:239) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:733) at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:222) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1566) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1523) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:724)"}, {"bug_id": "57016", "ground_truth": ["java/org/apache/catalina/session/PersistentManagerBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Store removeSuper org java inserts properly properly implementation PersistentManagerBase comment", "bug_title": " PersistentValve deletes sessions right after it creates them", "bug_description": "PersistentValve is broken as it stands and always delete sessions right after it creates them. cf. the following lines in https://github.com/apache/tomcat/blob/TOMCAT_7_0_42/java/org/apache/catalina/valves/PersistentValve.java#L178-L179 store.save(session); ((PersistentManager) manager).removeSuper(session); I have setup my PersistentManager with a JDBCStore, and if I set a breakpoint between these two lines, I can see the `save` call inserts a row into the database properly, and then take one step past the `removeSuper` call, and it deletes the row from the database. The removeSuper (used by PersistentValve) method has the following comment on it: \"Remove this Session from the active Sessions for this Manager, but not from the Store.\" The implementation of remove in PersistentManagerBase has the following comment: \"Remove this Session from the active Sessions for this Manager, and from the Store.\" There is clearly a break in the API here. The PersistentValve is expecting the PersistentManager.removeSuper to do one thing (which method has a comment saying it exists only for the sake of PersistentValve, btw.), but PersistentManagerBase which implements this does a different thing than expected."}, {"bug_id": "57047", "ground_truth": ["test/org/apache/tomcat/websocket/TestWsWebSocketContainer.java"], "repo": "tomcat70", "reformed_query": "JDK doBufferTest Send call WebSocket Client rare argument Test entry", "bug_title": " Occasional failure in TestWsWebSocketContainer.testSmallTextBufferClientTextMessage test", "bug_description": "This is a rare minor issue that I encountered when testing 7.0.56 release candidate. Platform: Windows 7, 32-bit JDK 6u45 + 7u67. I encountered it when running the whole testsuite. After that I did ~50 runs in a loop of this specific test with all 3 connectors with test.entry=org.apache.tomcat.websocket.TestWsWebSocketContainer test.entry.methods=testSmallTextBufferClientTextMessage The issue reproduced 2 times with NIO, 1 time with APR and 1 time with BIO - all from 50x3 connectors runs. Stacktraces are the same (it is websocket client's stacktrace, it does not depend on server side). This one is from running with NIO: [[[ Testcase: testSmallTextBufferClientTextMessage took 2,587 sec Caused an ERROR java.util.concurrent.ExecutionException: java.io.IOException: Unable to write the complete message as the WebSocket connection has been closed java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: Unable to write the complete message as the WebSocket connection has been closed at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:229) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendString(WsRemoteEndpointImplBase.java:172) at org.apache.tomcat.websocket.WsRemoteEndpointBasic.sendText(WsRemoteEndpointBasic.java:37) at org.apache.tomcat.websocket.TestWsWebSocketContainer.doBufferTest(TestWsWebSocketContainer.java:256) at org.apache.tomcat.websocket.TestWsWebSocketContainer.testSmallTextBufferClientTextMessage(TestWsWebSocketContainer.java:156) Caused by: java.util.concurrent.ExecutionException: java.io.IOException: Unable to write the complete message as the WebSocket connection has been closed at org.apache.tomcat.websocket.FutureToSendHandler.get(FutureToSendHandler.java:102) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.sendPartialString(WsRemoteEndpointImplBase.java:224) Caused by: java.io.IOException: Unable to write the complete message as the WebSocket connection has been closed at org.apache.tomcat.websocket.WsSession.doClose(WsSession.java:447) at org.apache.tomcat.websocket.WsSession.close(WsSession.java:418) at org.apache.tomcat.websocket.WsFrameClient.close(WsFrameClient.java:86) at org.apache.tomcat.websocket.WsFrameClient.access$300(WsFrameClient.java:26) at org.apache.tomcat.websocket.WsFrameClient$WsFrameClientCompletionHandler.completed(WsFrameClient.java:115) at org.apache.tomcat.websocket.WsFrameClient$WsFrameClientCompletionHandler.completed(WsFrameClient.java:100) at sun.nio.ch.Invoker.invokeUnchecked(Invoker.java:126) at sun.nio.ch.Invoker$2.run(Invoker.java:218) at sun.nio.ch.AsynchronousChannelGroupImpl$1.run(AsynchronousChannelGroupImpl.java:112) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:745) ]]] (The stack traces look a bit confusing, because they span Future and different threads. The main one is at the top, in \"WsRemoteEndpointImplBase.sendPartialString()\"). My assessment ============== I think that this is a variant of expected behaviour. The test case testSmallTextBufferClientTextMessage is essentially a call to { doBufferTest(true, false, true, false); } where 4th argument is pass:=false. It is expected to fail."}, {"bug_id": "57136", "ground_truth": ["java/org/apache/jasper/compiler/AttributeParser.java", "java/org/apache/jasper/compiler/ELParser.java", "java/org/apache/jasper/compiler/JspDocumentParser.java", "java/org/apache/jasper/compiler/JspReader.java", "java/org/apache/jasper/compiler/Parser.java", "test/org/apache/el/TestELInJsp.java", "test/org/apache/jasper/compiler/TestAttributeParser.java", "test/org/apache/jasper/compiler/TestELParser.java", "test/org/apache/jasper/compiler/TestParser.java", "test/webapp-3.0/bug45nnn/bug45427.jsp", "test/webapp-3.0/bug45nnn/bug45451.jspf", "test/webapp-3.0/bug45nnn/bug45451a.jsp", "test/webapp-3.0/el-method.jsp", "test/webapp-3.0/el-misc.jsp", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "output expr expression javascript passing literal escape issue dollar escapes", "bug_title": " EL Parser escaping dollar sign not ${ or ${...}", "bug_description": "In the EL 3.0 spec it says... Alternatively, the escape characters \\$ and \\# can be used to escape what would otherwise be treated as an eval-expression. Given the literal-expressions: \\${exprA} \\#{exprB} The resulting values would again be the strings ${exprA} and #{exprB}. I believe that means it should not escape lets say \"Price: \\\\$500.00\" it should instead output \"Price: \\$500.00\"(it currently would output \"Price: $500.00\") but should instead escape \"Price: \\\\${500.00}\" and the output of that would be \"Price: ${500.00}\". Normally this wouldn't be run into, but I happened to run into this issue passing javascript code through the EL processor, that happens to have some escaped dollar signs inside some regex strings. It maybe a little more acceptable to use \\${ and \\#{ as the escapes, as that is a better indication that there is about to be an expression"}, {"bug_id": "57180", "ground_truth": ["java/org/apache/catalina/filters/CorsFilter.java", "webapps/docs/changelog.xml", "java/org/apache/catalina/filters/CorsFilter.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "method Filter Cors PATCH support method method method CorsFilter CorsFilter", "bug_title": " CorsFilter does not support PATCH method", "bug_description": "The CorsFilter provided with Tomcat 7 should support the PATCH method."}, {"bug_id": "57208", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Ids credentials Role realm create realm userPassword Insert userPassword org", "bug_title": " NullPointerException on JNDIRealm when search finds no results - org.apache.catalina.realm.JNDIRealm", "bug_description": "When JNDIRealm does a \"getUserBySearch\", and no results are found, a null object is returned.  This causes a NPE in the next few lines where it tries to create a user. if (userPatternFormatArray != null && curUserPattern >= 0) { user = getUserByPattern(context, username, credentials, attrIds, curUserPattern); } else { user = getUserBySearch(context, username, attrIds); } if (userPassword == null && credentials != null) { // The password is available. Insert it since it may be required for // role searches. return new User(user.getUserName(), user.getDN(), credentials, user.getRoles(), user.getUserRoleId()); } Should probably be changed to: if (userPatternFormatArray != null && curUserPattern >= 0) { user = getUserByPattern(context, username, credentials, attrIds, curUserPattern); containerLog.debug(\"Found user by pattern (\" + user + \")\"); } else { user = getUserBySearch(context, username, attrIds); containerLog.debug(\"Found user by search (\" + user + \")\"); } if (userPassword == null && credentials != null && user != null) { // The password is available. Insert it since it may be required for // role searches. return new User(user.getUserName(), user.getDN(), credentials, user.getRoles(), user.getUserRoleId()); }"}, {"bug_id": "57209", "ground_truth": ["java/org/apache/catalina/realm/JNDIRealm.java", "java/org/apache/catalina/realm/mbeans-descriptors.xml", "webapps/docs/changelog.xml", "webapps/docs/config/realm.xml"], "repo": "tomcat70", "reformed_query": "Credentials fine operatins Credentials cleaner object disabled getUserByPattern attrIds Ids", "bug_title": " JNDIRealm userSearch does not work against active directory with roles", "bug_description": "JNDIRealm without connectionPassword/connectionName on role lookups - role search as user does not work as intended.  If you want to search the system as the logged in user for roles: userBase = DC=Company,DC=com userSearch = (&(objectCategory=person)(sAMAccountName={0})) userSubTree = true This works fine and you can bind as a user, but searching fails.  Search fails because there's no user credentials to bind with and binding anonymously is disabled.  If you have isRoleSearchAsUser turned on the expectation protected User getUser(DirContext context, String username, String credentials, int curUserPattern) does not add the binding user credentials for searching.  A VERY simple fix around line 1297 is to do the following so that searches work with the bound user: // Use pattern or search for user entry if (userPatternFormatArray != null && curUserPattern >= 0) { user = getUserByPattern(context, username, credentials, attrIds, curUserPattern); } else { if (isRoleSearchAsUser()) { userCredentialsAdd(context, username, credentials); } user = getUserBySearch(context, username, attrIds); } There's probably a cleaner way to do this, but this is how I've managed to get things working at this point.  I'd imagine a property \"userSearchDNPattern\" could be added so that you can specify the pattern for the DN to bind with.  And switch the \"userCredentialsAdd\" to use that userSearchDNPattern\" instead.  With the above fix binding as a user and role lookups now work.  Another option is to change \"roleSearchAsUser\" to something that says \"do all operatins with the authenticated user, assuming he's authorized\""}, {"bug_id": "57281", "ground_truth": ["java/org/apache/catalina/security/SecurityUtil.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Illegal StandardEngineValve Illegal doPrivileged internalDoFilter webapp targetObject xml targetObject JIo", "bug_title": " Tomcat fails to call method of non-public filter class configured via Servlet 3.0 API when running with SecurityManager", "bug_description": "There is a report on StackOverflow that Spring Boot (1.1.6) application fails on Tomcat 7.0.52 when running with SecurityManager enabled. https://stackoverflow.com/questions/27189047/springboot-webapp-under-java-securitymanager-throws-exceptions-when-granted-allp The error is [[[ java.lang.IllegalAccessException: Class org.apache.catalina.security.SecurityUtil$1 can not access a member of class org.springframework.boot.context.web.ErrorPageFilter with modifiers \"public\" at sun.reflect.Reflection.ensureMemberAccess(Reflection.java:109) ~[na:1.7.0_65] at java.lang.reflect.AccessibleObject.slowCheckMemberAccess(AccessibleObject.java:261) ~[na:1.7.0_65] at java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:253) ~[na:1.7.0_65] at java.lang.reflect.Method.invoke(Method.java:599) ~[na:1.7.0_65] at org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:277) ~[catalina.jar:7.0.52] at org.apache.catalina.security.SecurityUtil$1.run(SecurityUtil.java:274) ~[catalina.jar:7.0.52] at java.security.AccessController.doPrivileged(Native Method) ~[na:1.7.0_65] at javax.security.auth.Subject.doAsPrivileged(Subject.java:536) ~[na:1.7.0_65] at org.apache.catalina.security.SecurityUtil.execute(SecurityUtil.java:309) ~[catalina.jar:7.0.52] at org.apache.catalina.security.SecurityUtil.doAsPrivilege(SecurityUtil.java:249) ~[catalina.jar:7.0.52] at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237) ~[catalina.jar:7.0.52] at org.apache.catalina.core.ApplicationFilterChain.access$000(ApplicationFilterChain.java:55) ~[catalina.jar:7.0.52] at org.apache.catalina.core.ApplicationFilterChain$1.run(ApplicationFilterChain.java:191) ~[catalina.jar:7.0.52] at org.apache.catalina.core.ApplicationFilterChain$1.run(ApplicationFilterChain.java:187) ~[catalina.jar:7.0.52] at java.security.AccessController.doPrivileged(Native Method) ~[na:1.7.0_65] at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:186) ~[catalina.jar:7.0.52] at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) ~[catalina.jar:7.0.52] at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) [catalina.jar:7.0.52] at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501) [catalina.jar:7.0.52] at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170) [catalina.jar:7.0.52] at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) [catalina.jar:7.0.52] at org.apache.catalina.valves.RemoteIpValve.invoke(RemoteIpValve.java:683) [catalina.jar:7.0.52] at ch.qos.logback.access.tomcat.LogbackValve.invoke(LogbackValve.java:178) [logback-access-1.0.13.jar:na] at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) [catalina.jar:7.0.52] at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) [catalina.jar:7.0.52] at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040) [tomcat-coyote.jar:7.0.52] at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607) [tomcat-coyote.jar:7.0.52] at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313) [tomcat-coyote.jar:7.0.52] at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_65] at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_65] at java.lang.Thread.run(Thread.java:745) [na:1.7.0_65] ]]] Looking at the current sources of Spring Boot, the org.springframework.boot.context.web.ErrorPageFilter class is not public, but package-visible. Reflection call fails, as Java Language rules prohibit access to that class. Such filter cannot be configured via web.xml (as its constructor is not accessible), but can be configured programmatically via ServletContext.addFilter(String, Filter). It is a rare situation, but I think that it is a valid one. My idea of the fix is that method lookup in catalina SecurityUtil shall not use targetObject.getClass().getMethod(..), but Filter.class.getMethod(). My expectation is that it will be allowed to invoke java.lang.reflect.Method declared by javax.servlet.Filter class on the targetObject object regardless of accessibility of targetObject class, but testing is needed. A bonus point is that the method cache shall become smaller."}, {"bug_id": "57323", "ground_truth": ["java/org/apache/catalina/manager/ManagerServlet.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Correct incorrect iplahbcanujbqoo Actual markmail path message configuration maxCount context", "bug_title": " Correct display of outdated sessions in sessions count listing in Manager application", "bug_description": "A minor issue, reported in Re:r1614165, http://markmail.org/message/4iplahbcanujbqoo The Manager application has commands that display distribution of sessions according to their idle time. (The commands are \"/text/sessions\", \"/text/expire\" in Test GUI and \"Expire Sessions\" button in HTML GUI.) The commands display how many sessions have idle time <1 minute, from 1 up to 2 minutes (1 - <2), from 2 to 3 (2 - <3) and so on. Lets assume that a web application is configured with session-timeout of 30 minutes. Before r1614165 (in 7.0.56)/r1614163 (in 8.0.11) the last time slot in that statistics was labeled \">= 30\". In those revisions it was fixed to be labeled \"29 - <30\". Actually it should have been labeled \">= 29\", as sessions that have idle time more than 30 minutes are actually added to the value, else if (time >= maxCount) timeout[maxCount-1]++; It would be better to count outdated sessions in a separate time slot, so that  \"29 - <30\" and \">=30\" were two distinct numbers. One may see \">=30\" sessions if the thread that performs expiration have not run yet (or is stuck). An incorrect configuration to test this behaviour: 1. Configure examples application with the following text in its web.xml <session-config> <session-timeout>2</session-timeout> </session-config> and the following META-INF/context.xml <Context backgroundProcessorDelay=\"10\"/> 2. Configure a user with roles manager-script and manager-gui. Start Tomcat. 3. Visit example webapp -> Servlet examples -> Session example to create a session. 4. Visit http://localhost:8080/manager/html, click on sessions number on the row for the examples webapp. A list of sessions opens. Use it to check idle time of the session. 5. Visit http://localhost:8080/manager/text/sessions?path=/examples to see sessions statistics. 6. Wait for 2 minutes. Expected output of /text/sessions command is that you have a session that is idle for more than 2 minutes. Actual output is \"1 - <2 minutes: 1 sessions\""}, {"bug_id": "57331", "ground_truth": ["java/org/apache/catalina/filters/ExpiresFilter.java", "webapps/docs/changelog.xml", "webapps/docs/config/filter.xml"], "repo": "tomcat70", "reformed_query": "init duration misses code replaces http YEAR configuration MONTH synonym", "bug_title": " Allow ExpiresFilter to use \"year\" as synonym for \"years\" in its configuration", "bug_description": "The current code is if (\"years\".equalsIgnoreCase(currentToken)) { durationUnit = DurationUnit.YEAR; } else if (\"month\".equalsIgnoreCase(currentToken) || \"months\".equalsIgnoreCase(currentToken)) { durationUnit = DurationUnit.MONTH; ... The above if/else tree misses \"year\" case. All other time units have support for singular form, e.g. \"months\"/\"month\" above. This was observed by a stackoverflow user [1]. The following configuration fails: <init-param> <param-name>ExpiresDefault</param-name> <param-value>access plus 1 year</param-value> </init-param> but succeeds if one replaces s/year/years/. [1] http://stackoverflow.com/questions/27353512/how-to-configure-expires-filter-in-tomcat-7"}, {"bug_id": "57340", "ground_truth": ["java/org/apache/tomcat/util/net/NioEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "receives event responses NioConnector NioChannel thread Processor Configuration adds read", "bug_title": " NioConnector caches get corrupted on concurrent comet close", "bug_description": "Configuration: Tomcat 7.0.47 NioConnector, nginx 1.6.2, atmosphere 2.2.3. It happens when nginx and atmosphere close the same comet connection concurrently. In NioEndpoint.Poller thread(A) the SocketChannel becomes ready for read when nginx closes it. Poller unregisters the channel for read and forks another thread(B) to handle close event. (see NioEndpoint:1239) Then atmosphere calls close on the connection in thread(C) and Tomcat receives internal action with code ActionCode.COMET_CLOSE and adds the channel to the Poller, which registers it for read again. (see Http11NioProcessor.java:462). The SocketChannel is still readable in case thread(B) hasn\u00e2\u20ac\u2122t invalidated the SelectionKey yet, so Poller in thread(A) initiates the closing process again and forks thread(D). Thread(B) completes the closing process and puts NioChannel and AttachmentKey into the corresponding caches. Then Thread(D) tries to close the channel again and realizes that it has already been closed (see AbstractProtocol.java:564) and puts the same NioChannel and AttachmentKey into caches. Caches become corrupted because they contain 2 references to the same object. Then any 2 subsequent requests may get the same NioChannel and AttachmentKey and some crazy stuff may happen (mixed up responses, etc)."}, {"bug_id": "57377", "ground_truth": ["java/org/apache/catalina/mbeans/JmxRemoteLifecycleListener.java", "java/org/apache/catalina/mbeans/LocalStrings.properties", "webapps/docs/changelog.xml", "webapps/docs/config/listeners.xml"], "repo": "tomcat70", "reformed_query": "selectively Lifecycle control SslRMIServerSocketFactory JMXConnnectorServer sun protocol bugs request reached", "bug_title": " Incorrect use of standard SSL properties for JMX in JMXRemoteLifecycleListener", "bug_description": "This ticket references some older bugs and changes related to them as below: - https://issues.apache.org/bugzilla/show_bug.cgi?id=55017 - Ability to provide an RMI bind address (so that the RMI server can be selectively bound to loopback only) - https://issues.apache.org/bugzilla/show_bug.cgi?id=56039 - This is a symptom to my problem, but was fixed and works fine. Here is the problem: The standard JMX properties (http://docs.oracle.com/javase/7/docs/technotes/guides/management/agent.html, http://docs.oracle.com/javase/7/docs/technotes/guides/management/agent.html#gdevf) are different for enabling SSL/TLS for the RMI registry (where jmxrmi is registered) and the JMX RMI server (which carries the JMX operations), being com.sun.management.jmxremote.registry.ssl and com.sun.management.jmxremote.ssl respectively. When 55017 was done, the RMI server factories thus created were used in creating the RMI registry (http://svn.apache.org/viewvc/tomcat/trunk/java/org/apache/catalina/mbeans/JmxRemoteLifecycleListener.java?revision=1498340&view=markup, line number 274) This works fine as long as we are not using SSL and I guess this is one of the reasons Alexey Noskov said \"rmiBindAddress incompatible with rmiSSL\". This side effect was noticed in bug# 56039 and was fixed to allow RMI registry clients to use com.sun.jndi.rmi.factory.socket. Recommendation: Would it be possible to have separate RMIServerSocketFactory for JMX/RMI and RMI registry, one dictated by com.sun.management.jmxremote.ssl (which results in the rmiSSL flag) and the other by com.sun.management.jmxremote.registry.ssl. This way the agent will be more compliant and we'd still have the ability to leave the RMI registry non SSL (which is to get the JMX/RMI connection stub). We can also fix the \"rmiBindAddress incompatible with rmiSSL\" problem by creating a custom SslRMIServerSocketFactory (basically extending the one in JDK and re-implementing the createServerSocket method to use the given rmiBindAddress. I'd be happy to do these changes, and can provide the changed version of this file, if this request seems reasonable. May be a patch as well if I learn SVN quickly. PS: The whole reason I reached here is that we in our products use custom JMX authentication and SSL/TLS implementation. We implement the jmx.remote.protocol.provider.pkgs approach to inject our SSL factories for JMXConnnectorServer. This recently broke because we have no control over how the server socket for RMI registry is created. We ended up setting com.sun.management.jmxremote.ssl to false to avoid this JMXRemoteLifecycleListener to stop doing SSL anywhere."}, {"bug_id": "57420", "ground_truth": ["java/org/apache/naming/resources/DirContextURLConnection.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "startup lculgians UEncoder getInputStream liconaftgiuroatni Jndi rare problem garbage RunnableAdapter", "bug_title": " Wrong class names generated since URL_ENCODER in DirContextURLConnection is not thread safe", "bug_description": "We've been debugging this for a long time. Sometimes when tomcat starts up, it will fail to deploy a webapp since it cannot find a certain class. That class name is always complete garbage. The error stack trace always is: SEVERE: Unable to process resource element [jndi:/localhost/testapp/WEB-INF/classes/ch/blabli/dNlewrP.lculgiansDisalog$3.class] for annotations java.io.FileNotFoundException: jndi:/localhost/testapp/WEB-INF/classes/ch/blabli/dNlewrP.lculgiansDisalog$3.class at org.apache.naming.resources.DirContextURLConnection.getInputStream(DirContextURLConnection.java:389) From time to time we see, that the referenced class name is actually a mix of the real class name and one or more other classes that exist in the vicinity of that class. Finally I was able to catch this exception with the debugger. What I see is that the problem stems from rg.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986): - dcUrlConn (DirContextURLConnection) contains the correct entries of the WAR file - Enumeration<String> dirs = dcUrlConn.list()  however does not. Calling list() again from the debugger yields the correct results. Here's the contents of that dirs variable: [lCsosn, oCrAopnpfliigcEadtiitoonr$AEpdpiltiocraMtoidoen.$c2l.acslsass, , tCioonnfi$gu4r.aticolnaLsosad, liconaftgiuroatni$o5n.LocadlLaisstsen, cCaotnifiognur$a6.clastsi, lCaonsfsig, s, cluaiss, CwoindgfetisegtEditorApplication$9.class, ConfigEditorApplication$ApplicationConfigLoadListener.class, ConfigEditorApplication$ConfigEditorToParameterHandlerIntegration.class, ConfigEditorApplication$EditorMode$1.class, ConfigEditorApplication$EditorMode$2.class, ConfigEditorApplication$EditorMode.class, ConfigEditorApplication.class, ConfigLoader$1.class, ConfigLoader.class, ConfigurationLoadListener$ConfigType.class, ConfigurationLoadListener$ConfigurationLoadedEvent.class, ConfigurationLoadListener$FailedToLoadConfigurationEvent.class, ConfigurationLoadListener.class, command, data, field, rendering, session, ui, util, widgetset] walking into the list() command leads to collection.list(\"/\") which in turn is encoded using an URL_ENCODER (class UEncoder). This URL_ENCODER is *not* thread safe and can result in exactly such garbage if used concurrently. It is interesting to note that every single failure we had at this step was always caused by classes in the WEB-INF/classes directory, never in JAR files in WEB-INF/lib. To me it appears that there are two different DirContextURLConnections with rare concurrency issues when both use the same URL_ENCODER. Here's the full stacktrace when the error occurs: at org.apache.naming.resources.DirContextURLConnection.getInputStream(DirContextURLConnection.java:389) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1994) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1902) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1298) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:876) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:374) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5378) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649) at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1083) at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1880) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) at java.util.concurrent.FutureTask.run(FutureTask.java:262) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:744) Jan 06, 2015 3:43:44 PM org.apache.catalina.startup.ContextConfig processAnnotationsJndi SEVERE: Unable to process resource element [jndi:/localhost/medusa-config-editor-5.48.0/WEB-INF/classes/ch/ergon/medusa/configeditor/ui/dialog/TeerstRelgeaxsDialog.class] for annotations java.io.FileNotFoundException: jndi:/localhost/medusa-config-editor-5.48.0/WEB-INF/classes/ch/ergon/medusa/configeditor/ui/dialog/TeerstRelgeaxsDialog.class at org.apache.naming.resources.DirContextURLConnection.getInputStream(DirContextURLConnection.java:389) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1994) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1902) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1298) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:876) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:374) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5378) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649) at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1083) at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1880) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) at java.util.concurrent.FutureTask.run(FutureTask.java:262) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:744) Jan 06, 2015 3:43:44 PM org.apache.catalina.startup.ContextConfig processAnnotationsJndi SEVERE: Unable to process resource element [jndi:/localhost/medusa-config-editor-5.48.0/WEB-INF/classes/ch/ergon/medusa/configeditor/ui/dialog/aTsesxtAreaDialog$2.class] for annotations java.io.FileNotFoundException: jndi:/localhost/medusa-config-editor-5.48.0/WEB-INF/classes/ch/ergon/medusa/configeditor/ui/dialog/aTsesxtAreaDialog$2.class at org.apache.naming.resources.DirContextURLConnection.getInputStream(DirContextURLConnection.java:389) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1994) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsJndi(ContextConfig.java:1986) at org.apache.catalina.startup.ContextConfig.processAnnotationsUrl(ContextConfig.java:1902) at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1298) at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:876) at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:374) at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117) at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90) at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5378) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:901) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:877) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:649) at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:1083) at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1880) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) at java.util.concurrent.FutureTask.run(FutureTask.java:262) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at java.lang.Thread.run(Thread.java:744)"}, {"bug_id": "57490", "ground_truth": ["java/org/apache/tomcat/websocket/AsyncChannelGroupUtil.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "OpenJDK EventHandlerTask unused timeout JSP openjdk loading IOThread waits AllPermission", "bug_title": " Websocket client cannot connect from Tomcat servlet with a SecurityManager in place", "bug_description": "Created attachment 32393 [details] Repeat JSP file When using the Tomcat websocket client to connect to a websocket server from a servlet running with a SecurityManager, an AccessControlException is thrown even with a Java security policy that allows everything. This is an issue with the fix for bug 57091, which does not work when the websocket client is used where access to the \"org.apache.tomcat.\" packages is restricted (as it is in the Catalina servlet container). Repeat using unmodified Tomcat 8.0.17 and JDK 8u31 in Win7 x64: 1) Add the following at the end of $CATALINA_BASE/conf/catalina.policy: grant { permission java.security.AllPermission; }; 2) Put the attached JSP file (repeat.jsp) into $CATALINA_BASE/webapps/examples/jsp (The repeat opens a websocket client to the echo websocket example server, sends a text message and then waits for and outputs the echoed response.) 3) Launch Tomcat from $CATALINA_BASE/bin with \"catalina run -security\" 4) Open http://127.0.0.1:8080/examples/jsp/repeat.jsp in a web browser Expected results: Output \"Response from echo: Hello World!\" in the browser. Actual results: An exception is printed to the console, and no output in the browser (until timeout). Exception in thread \"anInnocuousThread\" java.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"accessClassInPackage.org.apache.tomcat.websocket\") at java.security.AccessControlContext.checkPermission(AccessControlContext.java:457) at java.security.AccessController.checkPermission(AccessController.java:884) at java.lang.SecurityManager.checkPermission(SecurityManager.java:549) at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:305) at java.lang.ClassLoader.loadClass(ClassLoader.java:411) at java.lang.ClassLoader.loadClass(ClassLoader.java:357) at org.apache.tomcat.websocket.AsyncChannelGroupUtil$AsyncIOThreadFactory.newThread(AsyncChannelGroupUtil.java:116) at java.util.concurrent.ThreadPoolExecutor$Worker.<init>(ThreadPoolExecutor.java:612) at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:925) at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1368) at org.apache.tomcat.util.threads.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:161) at org.apache.tomcat.util.threads.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:141) at sun.nio.ch.AsynchronousChannelGroupImpl.executeOnPooledThread(AsynchronousChannelGroupImpl.java:188) at sun.nio.ch.Invoker.invokeIndirectly(Invoker.java:212) at sun.nio.ch.Invoker.invoke(Invoker.java:188) at sun.nio.ch.Invoker.invoke(Invoker.java:297) at sun.nio.ch.WindowsAsynchronousSocketChannelImpl$WriteTask.completed(WindowsAsynchronousSocketChannelImpl.java:839) at sun.nio.ch.Iocp$EventHandlerTask.run(Iocp.java:397) at java.lang.Thread.run(Thread.java:745) at sun.misc.InnocuousThread.run(InnocuousThread.java:74) Exception in thread \"anInnocuousThread\" java.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"accessClassInPackage.org.apache.tomcat.websocket\") at java.security.AccessControlContext.checkPermission(AccessControlContext.java:457) at java.security.AccessController.checkPermission(AccessController.java:884) at java.lang.SecurityManager.checkPermission(SecurityManager.java:549) at java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1564) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:305) at java.lang.ClassLoader.loadClass(ClassLoader.java:411) at java.lang.ClassLoader.loadClass(ClassLoader.java:357) at org.apache.tomcat.websocket.AsyncChannelGroupUtil$AsyncIOThreadFactory.newThread(AsyncChannelGroupUtil.java:116) at java.util.concurrent.ThreadPoolExecutor$Worker.<init>(ThreadPoolExecutor.java:612) at java.util.concurrent.ThreadPoolExecutor.addWorker(ThreadPoolExecutor.java:925) at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1368) at org.apache.tomcat.util.threads.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:161) at org.apache.tomcat.util.threads.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:141) at sun.nio.ch.AsynchronousChannelGroupImpl.executeOnPooledThread(AsynchronousChannelGroupImpl.java:188) at sun.nio.ch.Invoker.invokeIndirectly(Invoker.java:212) at sun.nio.ch.Invoker.invoke(Invoker.java:188) at sun.nio.ch.Invoker.invoke(Invoker.java:297) at sun.nio.ch.WindowsAsynchronousSocketChannelImpl$ReadTask.completed(WindowsAsynchronousSocketChannelImpl.java:581) at sun.nio.ch.Iocp$EventHandlerTask.run(Iocp.java:397) at java.lang.Thread.run(Thread.java:745) at sun.misc.InnocuousThread.run(InnocuousThread.java:74) (The repeat is of course artificial. In reality the websocket client is used outside of the servlet page rendering, but the same exception occurs.) The fix for bug 57091 tried to overcome the limitations of the InnocuousThread that serves the completion handler, by wrapping the implementation of AsyncChannelGroupUtil.AsyncIOThreadFactory.newThread in a privileged block. However, due to the null protection domain of InnocuousThread, the method is in this case not even allowed to load its own anonymous PrivilegedAction class! The anonymous class is called \"org.apache.tomcat.websocket.AsyncChannelGroupUtil$AsyncIOThreadFactory$1\", which triggers the check for the \"accessClassInPackage.org.apache.tomcat.websocket\" runtime permission. Normally this permission is granted to all code by catalina.policy, but the InnocuousThread has no permissions regardless of policy. A dirty workaround is to uncomment this line at the top of the JSP code: Class.forName(\"org.apache.tomcat.websocket.AsyncChannelGroupUtil$AsyncIOThreadFactory$1\"); Then the anonymous class is loaded by the application class loader at a time when there are permissions to do so (i.e. outside of the InnocuousThread), and the repeat will then work without exception (even after commenting out this line again, as long as Tomcat isn't restarted). Running Tomcat without \"-security\" also makes the repeat work without exception. There is an open OpenJDK issue about the InnocuousThread being used for the completion handler (https://bugs.openjdk.java.net/browse/JDK-8051403), but it would be good if this could be fixed in Tomcat until (or if not) the JDK is fixed. One fix is to use a non-anonymous PrivilegedAction in AsyncChannelGroupUtil.AsyncIOThreadFactory.newThread and then force it to be loaded when AsyncChannelGroupUtil.AsyncIOThreadFactory is initialized, by accessing the class in a static initializer: --- AsyncChannelGroupUtil.java.old      2015-01-09 16:04:42.000000000 +0100 +++ AsyncChannelGroupUtil.java  2015-01-24 01:30:33.660184500 +0100 @@ -113,16 +113,32 @@ // the thread inherits the current ProtectionDomain which is // essential to be able to use this with a Java Applet. See // https://issues.apache.org/bugzilla/show_bug.cgi?id=57091 -            return AccessController.doPrivileged(new PrivilegedAction<Thread>() { -                @Override -                public Thread run() { -                    Thread t = new Thread(r); -                    t.setName(\"WebSocketClient-AsyncIO-\" + count.incrementAndGet()); -                    t.setContextClassLoader(this.getClass().getClassLoader()); -                    t.setDaemon(true); -                    return t; -                } -            }); +            return AccessController.doPrivileged(new NewThreadPrivilegedAction(r)); } + +        // Non-anonymous class due to class loading hack below +        private class NewThreadPrivilegedAction implements PrivilegedAction<Thread> { + +            private final Runnable r; + +            public NewThreadPrivilegedAction(Runnable r) { +                this.r = r; +            } + +            @Override +            public Thread run() { +                Thread t = new Thread(r); +                t.setName(\"WebSocketClient-AsyncIO-\" + count.incrementAndGet()); +                t.setContextClassLoader(this.getClass().getClassLoader()); +                t.setDaemon(true); +                return t; +            } +        } + +        // Load the privileged action class on initialization, since newThread is +        // not be allowed to load it when called from an InnocuousThread, see +        // https://issues.apache.org/bugzilla/show_bug.cgi?id=XXXXX +        @SuppressWarnings(\"unused\") +        private static final Class newThreadPrivilegedActionClass = NewThreadPrivilegedAction.class; } } When I applied this patch to Tomcat 8.0.17, the repeat worked without any exception. Maybe there is another cleaner fix. Either way, it would be good if the fix could be applied to 7.0.x as well, since the bug is also repeatable there (I tried in 7.0.57)."}, {"bug_id": "57504", "ground_truth": ["java/org/apache/jasper/JspC.java"], "repo": "tomcat70", "reformed_query": "attachment sun uriroot Delegating validate Compilation Actual project Execute attached", "bug_title": " Jasper task (JspC) throws NPE on taglibs in 7.0.58", "bug_description": "Created attachment 32400 [details] Repeat build.xml It seems like revision 1645615 broke the ant jasper task in 7.0.58 for taglibs. Repeat: 1) Download and unzip apache-tomcat-7.0.58.zip and apache-ant-1.9.4-bin.zip to a temporary directory. 2) Put the following into a new file build.xml in the directory: (attached, based on http://tomcat.apache.org/tomcat-7.0-doc/jasper-howto.html#Web_Application_Compilation) <project> <import file=\"apache-tomcat-7.0.58/bin/catalina-tasks.xml\"/> <target name=\"jspc\"> <jasper validateXml=\"false\" uriroot=\"apache-tomcat-7.0.58/webapps/examples\" webXmlFragment=\"tmp/WEB-INF/generated_web.xml\" outputDir=\"tmp/WEB-INF/src\" /> </target> </project> 3) Execute \"apache-ant-1.9.4/bin/ant jspc\" in the directory. Expected result: Compiled output in tmp/WEB-INF Actual result: Exception is thrown and only partial output to tmp/WEB-INF: jspc: [jasper] java.lang.NullPointerException [jasper] \tat org.apache.jasper.JspCompilationContext.getTldLocation(JspCompilationContext.java:618) [jasper] \tat org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:409) [jasper] \tat org.apache.jasper.compiler.Parser.parseDirective(Parser.java:475) [jasper] \tat org.apache.jasper.compiler.Parser.parseElements(Parser.java:1410) [jasper] \tat org.apache.jasper.compiler.Parser.parse(Parser.java:138) [jasper] \tat org.apache.jasper.compiler.ParserController.doParse(ParserController.java:242) [jasper] \tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:102) [jasper] \tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199) [jasper] \tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:374) [jasper] \tat org.apache.jasper.JspC.processFile(JspC.java:1213) [jasper] \tat org.apache.jasper.JspC.execute(JspC.java:1364) [jasper] \tat org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292) [jasper] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [jasper] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [jasper] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [jasper] \tat java.lang.reflect.Method.invoke(Method.java:606) [jasper] \tat org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106) [jasper] \tat org.apache.tools.ant.Task.perform(Task.java:348) [jasper] \tat org.apache.tools.ant.Target.execute(Target.java:435) [jasper] \tat org.apache.tools.ant.Target.performTasks(Target.java:456) [jasper] \tat org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393) [jasper] \tat org.apache.tools.ant.Project.executeTarget(Project.java:1364) [jasper] \tat org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41) [jasper] \tat org.apache.tools.ant.Project.executeTargets(Project.java:1248) [jasper] \tat org.apache.tools.ant.Main.runBuild(Main.java:851) [jasper] \tat org.apache.tools.ant.Main.startAnt(Main.java:235) [jasper] \tat org.apache.tools.ant.launch.Launcher.run(Launcher.java:280) [jasper] \tat org.apache.tools.ant.launch.Launcher.main(Launcher.java:109) If 7.0.58 is replaced by 7.0.57 then the repeat runs without any exception and with complete output. The problem seems to be the cleanup of the tldLocationsCache initialization in revision 1645615, partially backported from revision 1541041, since it's still used by JspCompilationContext.getTldLocation. Possibly the fix is as easy as bringing back the initialization line."}, {"bug_id": "57509", "ground_truth": ["java/org/apache/coyote/http11/AbstractOutputBuffer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "max Status Response header exec AbstractOutputBuffer entity HTTP Exception sendStatus", "bug_title": " maxHttpHeaderSize maybe case ArrayIndexOutOfBoundsException", "bug_description": "Modify the server.xml, add the maxHttpHeaderSize attribute: <Connector port=\"8080\" protocol=\"HTTP/1.1\" connectionTimeout=\"20000\" redirectPort=\"8443\" maxHttpHeaderSize=\"24\"/> I deliberately modify the maxHttpHeaderSize to a small value, then I make a normal request, Sure, the request header is more than 24 bytes. Then the server is report following error: 28-Jan-2015 16:08:01.870 SEVERE [http-nio-8080-exec-1] org.apache.coyote.http11.AbstractHttp11Processor.endRequest Error finishing response java.lang.ArrayIndexOutOfBoundsException: 24 at org.apache.coyote.http11.AbstractOutputBuffer.sendStatus(AbstractOutputBuffer.java:445) at org.apache.coyote.http11.AbstractHttp11Processor.prepareResponse(AbstractHttp11Processor.java:1554) at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:739) at org.apache.coyote.Response.action(Response.java:179) ... Is not check the maxHttpHeaderSize? Normal circumstances, it's should response 413-request entity is too large. I think this is better and reasonable."}, {"bug_id": "57544", "ground_truth": ["java/org/apache/coyote/http11/AbstractInputBuffer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "AbstractNioInputBuffer AbstractInputBuffer Input core RUNNABLE lang org net org tomcat", "bug_title": " Server CPU maxed out (100% per core) randomly after 10 to 30 hours", "bug_description": "\"uniwar-exec-18\" #59 daemon prio=5 os_prio=0 tid=0x000000000096a000 nid=0x58da runnable [0x000000004457c000] java.lang.Thread.State: RUNNABLE at org.apache.coyote.http11.AbstractInputBuffer.nextRequest(AbstractInputBuffer.java:298) at org.apache.coyote.http11.AbstractNioInputBuffer.nextRequest(AbstractNioInputBuffer.java:150) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1152) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:659) at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1558) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1515) - locked <0x00000006771385a8> (a org.apache.tomcat.util.net.NioChannel) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:745)"}, {"bug_id": "57546", "ground_truth": ["java/org/apache/coyote/http11/upgrade/AbstractProcessor.java", "java/org/apache/coyote/http11/upgrade/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "sendCloseMessage SocketChannelImpl AbstractServletOutputStream AbstractProcessor runWorker startMessage threads Read Memory java", "bug_title": " Memory Leak in SecureNioChannel", "bug_description": "Created attachment 32440 [details] Too many instances in  hashmap We are connecting mobile devices via websocket to Tomcat 8.0.18 server. The physical mobile connection can die at random times. When the connection goes down the instance of org.apache.coyote.http11.upgrade.NioProcessor is not removed from the connections HashMap in class org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler. There are 4,181 entries in the connections HashMap. However, there are in fact 1,400 real socket connections. See DumpHprof1.jpg. This displays a drill-down into one of the HashMap entries. The instance of SafeCommConnection is my ServerEndpoint POJO. When onClose is called in my ServerEndpoint I set a flag called isClosing to true. You can see on the right side that it is set to true so I have removed it from my app but the instance remains in memory held by the NioProtocol's connections HashMap. It seems that http11NioProtocol.release method is not getting called. Also, here is a stack trace in the stderr log file. It gets hundreds of these: 06-Feb-2015 14:12:05.255 INFO [http-nio-443-exec-385] org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doClose Failed to close the ServletOutputStream connection cleanly java.io.IOException: An existing connection was forcibly closed by the remote host at sun.nio.ch.SocketDispatcher.write0(Native Method) at sun.nio.ch.SocketDispatcher.write(Unknown Source) at sun.nio.ch.IOUtil.writeFromNativeBuffer(Unknown Source) at sun.nio.ch.IOUtil.write(Unknown Source) at sun.nio.ch.SocketChannelImpl.write(Unknown Source) at org.apache.tomcat.util.net.SecureNioChannel.flush(SecureNioChannel.java:134) at org.apache.tomcat.util.net.SecureNioChannel.close(SecureNioChannel.java:370) at org.apache.tomcat.util.net.SecureNioChannel.close(SecureNioChannel.java:398) at org.apache.coyote.http11.upgrade.NioServletOutputStream.doClose(NioServletOutputStream.java:138) at org.apache.coyote.http11.upgrade.AbstractServletOutputStream.close(AbstractServletOutputStream.java:137) at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doClose(WsRemoteEndpointImplServer.java:143) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.close(WsRemoteEndpointImplBase.java:638) at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.onWritePossible(WsRemoteEndpointImplServer.java:118) at org.apache.tomcat.websocket.server.WsRemoteEndpointImplServer.doWrite(WsRemoteEndpointImplServer.java:81) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.writeMessagePart(WsRemoteEndpointImplBase.java:450) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessage(WsRemoteEndpointImplBase.java:338) at org.apache.tomcat.websocket.WsRemoteEndpointImplBase.startMessageBlock(WsRemoteEndpointImplBase.java:270) at org.apache.tomcat.websocket.WsSession.sendCloseMessage(WsSession.java:563) at org.apache.tomcat.websocket.WsSession.onClose(WsSession.java:503) at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.close(WsHttpUpgradeHandler.java:183) at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.access$200(WsHttpUpgradeHandler.java:48) at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler$WsReadListener.onDataAvailable(WsHttpUpgradeHandler.java:214) at org.apache.coyote.http11.upgrade.AbstractServletInputStream.onDataAvailable(AbstractServletInputStream.java:194) at org.apache.coyote.http11.upgrade.AbstractProcessor.upgradeDispatch(AbstractProcessor.java:96) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:654) at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.process(Http11NioProtocol.java:223) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1558) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1515) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Unknown Source)"}, {"bug_id": "57581", "ground_truth": ["java/org/apache/coyote/Request.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "grater bytesRead change coyote bug Read negative request getBytesRead request", "bug_title": " request.getBytesRead() should be long", "bug_description": "Class org.apache.coyote.Request has bytesRead variable's return type is int. When file upload (grater than 2 GB), it returns negative value. Return type should be change to long. This bug affected all version of tomcat 6, 7, 8, 9. --------------------------------------------------------- * AS-IS private int bytesRead=0; public int getBytesRead() { return bytesRead; } * TO-BE private long bytesRead=0; public long getBytesRead() { return bytesRead; }"}, {"bug_id": "57643", "ground_truth": ["java/org/apache/jasper/servlet/JspCServletContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "tmp Created directory jasper app simple Utils Dispatcher contained tools", "bug_title": " jasper ant task fails when there is a space in uriroot", "bug_description": "Created attachment 32525 [details] zip file containing a simple web app and ant build file to compile the jsps When invoking the jasper ant task, it will fail if there is a space in the path specified by the uriroot attribute. Possibly a side effect from 57316. See attached example. Extract the attached zip file, then extract both the 7.0.57 and 7.0.59 versions of tomcat into the \"jasper compile test\" directory. I used the 64-bit Windows zip. Run ant. output: PS C:\\work\\jasper compile test> ant Buildfile: C:\\work\\jasper compile test\\build.xml jsp_compile_both: jsp_compile: [echo] ********************* C:\\work\\jasper compile test/apache-tomcat-7.0.57 ********************* [delete] Deleting directory C:\\work\\jasper compile test\\tmp [jasper2] Feb 27, 2015 8:29:14 AM org.apache.jasper.compiler.TldLocationsCache tldScanJar [jasper2] INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time. [jasper2] Feb 27, 2015 8:29:14 AM org.apache.jasper.JspC processFile [jasper2] INFO: Built File: \\index.jsp [delete] Deleting directory C:\\work\\jasper compile test\\tmp [echo] ********************* Complete ********************* jsp_compile: [echo] ********************* C:\\work\\jasper compile test/apache-tomcat-7.0.59 ********************* [jasper2] Feb 27, 2015 8:29:14 AM org.apache.jasper.compiler.TldLocationsCache tldScanJar [jasper2] INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time. BUILD FAILED C:\\work\\jasper compile test\\build.xml:11: The following error occurred while executing this line: C:\\work\\jasper compile test\\build.xml:36: org.apache.jasper.JasperException: The absolute uri: http://java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application at org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:56) at org.apache.jasper.compiler.ErrorDispatcher.dispatch(ErrorDispatcher.java:445) at org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:117) at org.apache.jasper.compiler.TagLibraryInfoImpl.generateTLDLocation(TagLibraryInfoImpl.java:325) at org.apache.jasper.compiler.TagLibraryInfoImpl.<init>(TagLibraryInfoImpl.java:154) at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:410) at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:475) at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1410) at org.apache.jasper.compiler.Parser.parse(Parser.java:138) at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:242) at org.apache.jasper.compiler.ParserController.parse(ParserController.java:102) at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199) at org.apache.jasper.compiler.Compiler.compile(Compiler.java:374) at org.apache.jasper.JspC.processFile(JspC.java:1213) at org.apache.jasper.JspC.execute(JspC.java:1364) at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291) at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:606) at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106) at org.apache.tools.ant.Task.perform(Task.java:348) at org.apache.tools.ant.Target.execute(Target.java:392) at org.apache.tools.ant.Target.performTasks(Target.java:413) at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399) at org.apache.tools.ant.helper.SingleCheckExecutor.executeTargets(SingleCheckExecutor.java:38) at org.apache.tools.ant.Project.executeTargets(Project.java:1251) at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:442) at org.apache.tools.ant.taskdefs.CallTarget.execute(CallTarget.java:105) at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:606) at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106) at org.apache.tools.ant.Task.perform(Task.java:348) at org.apache.tools.ant.Target.execute(Target.java:392) at org.apache.tools.ant.Target.performTasks(Target.java:413) at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1399) at org.apache.tools.ant.Project.executeTarget(Project.java:1368) at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41) at org.apache.tools.ant.Project.executeTargets(Project.java:1251) at org.apache.tools.ant.Main.runBuild(Main.java:811) at org.apache.tools.ant.Main.startAnt(Main.java:217) at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280) at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109) Total time: 1 second PS C:\\work\\jasper compile test>"}, {"bug_id": "57683", "ground_truth": ["webapps/docs/changelog.xml", "webapps/examples/WEB-INF/classes/async/AsyncStockServlet.java"], "repo": "tomcat70", "reformed_query": "Software stockticker stockticker indicator examples crashed catalina ISE mentioned util", "bug_title": " Crash of stockticket async example caused by an aborted client request", "bug_description": "I mentioned this issue in \"Time for 7.0.60\" thread on dev@. It is a bug with error handling in example webapp. It is not a regression from recent changes. It is reproducible with 7.0.59. Steps to reproduce: Using Tomcat 7.0.59, JDK 6u45. 1. Start Tomcat 2. Visit stockicker example, http://localhost:8080/examples/async/stockticker 3. Abort the request while the page is being loaded (Press \"Esc\" key on keyboard) 4. Re-visit the example http://localhost:8080/examples/async/stockticker Expected: Working stockicker example. Actual: 1) Browser waits for a response. After several seconds the progress indicator stops. A blank page is displayed. 2) Access log shows response status 200, but byte counter is zero (\"-\"). 127.0.0.1 - - [10/Mar/2015:17:45:31 +0300] \"GET /examples/async/stockticker HTTP/1.1\" 200 - 3) Looking into catalina.2015-03-10.log, there is the following exception: [[[ 10.03.2015 17:36:58 org.apache.coyote.AbstractProcessor setErrorState INFO: An error occurred in processing while on a non-container thread. The connection will be closed immediately java.net.SocketException: Software caused connection abort: socket write error at java.net.SocketOutputStream.socketWrite0(Native Method) at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:92) at java.net.SocketOutputStream.write(SocketOutputStream.java:136) at org.apache.coyote.http11.InternalOutputBuffer.realWriteBytes(InternalOutputBuffer.java:215) at org.apache.tomcat.util.buf.ByteChunk.flushBuffer(ByteChunk.java:480) at org.apache.coyote.http11.InternalOutputBuffer.flush(InternalOutputBuffer.java:119) at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:800) at org.apache.coyote.Response.action(Response.java:172) at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:363) at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:331) at org.apache.catalina.connector.CoyoteWriter.flush(CoyoteWriter.java:98) at async.AsyncStockServlet.writeStock(AsyncStockServlet.java:98) at async.AsyncStockServlet.tick(AsyncStockServlet.java:81) at async.Stockticker.run(Stockticker.java:84) at java.lang.Thread.run(Thread.java:662) ]]] 4) Looking at console, There is the same exception as in \"3)\", followed by the following exception: [[[ java.lang.IllegalStateException: The request associated with the AsyncContext has already completed processing. at org.apache.catalina.core.AsyncContextImpl.check(AsyncContextImpl.java:553) at org.apache.catalina.core.AsyncContextImpl.getResponse(AsyncContextImpl.java:265) at async.AsyncStockServlet.writeStock(AsyncStockServlet.java:86) at async.AsyncStockServlet.tick(AsyncStockServlet.java:81) at async.Stockticker.run(Stockticker.java:84) at java.lang.Thread.run(Thread.java:662) ]]] Essentially, the async.Stockticker thread crashed due to a non handled ISE. This explains the behaviour. 5) The exception in \"4)\" is logged to the console only. It is not logged into Tomcat log files."}, {"bug_id": "57708", "ground_truth": ["java/org/apache/catalina/Realm.java", "java/org/apache/catalina/authenticator/AuthenticatorBase.java", "java/org/apache/catalina/authenticator/BasicAuthenticator.java", "java/org/apache/catalina/authenticator/DigestAuthenticator.java", "java/org/apache/catalina/authenticator/FormAuthenticator.java", "java/org/apache/catalina/authenticator/LocalStrings.properties", "java/org/apache/catalina/authenticator/NonLoginAuthenticator.java", "java/org/apache/catalina/authenticator/SSLAuthenticator.java", "java/org/apache/catalina/authenticator/SpnegoAuthenticator.java", "java/org/apache/catalina/connector/CoyoteAdapter.java", "java/org/apache/catalina/connector/LocalStrings.properties", "java/org/apache/catalina/realm/CombinedRealm.java", "java/org/apache/catalina/realm/RealmBase.java", "java/org/apache/coyote/Request.java", "java/org/apache/coyote/ajp/AbstractAjpProcessor.java", "java/org/apache/coyote/ajp/AbstractAjpProtocol.java", "java/org/apache/coyote/ajp/AjpAprProtocol.java", "java/org/apache/coyote/ajp/AjpNioProtocol.java", "java/org/apache/coyote/ajp/AjpProtocol.java", "webapps/docs/changelog.xml", "webapps/docs/config/ajp.xml", "webapps/docs/security-howto.xml", "webapps/docs/windows-auth-howto.xml"], "repo": "tomcat70", "reformed_query": "Authorization request current reverse proxy current implementation flag user USER", "bug_title": " [Patch] Authentication by reverse proxy, authorization by Tomcat", "bug_description": "Created attachment 32567 [details] Patch for tomcat v7.0.x In the current implementation of the tomcatAuthentication parameter, this allows the REMOTE_USER variable from the webserver to be used as the principal for the tomcat request. A side effect of this option is that if the web application uses roles (authorization), the roles will be silently ignored, and the user will be locked out. This limits the usefulness of tomcatAuthentication. The attached patches introduce the tomcatAuthorization flag. When true, the REMOTE-USER will be used as the principal, while authorization will continue in Tomcat as normal. What this means practically is that it now becomes possible to place a webserver in front of a web application, and the authentication performed by the webserver will cleanly replace the authentication performed by tomcat, while leaving the web application authorization configuration intact."}, {"bug_id": "57723", "ground_truth": ["java/org/apache/catalina/startup/Tomcat.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Doc ctx easier include java host add createContext url invalid", "bug_title": " An incomplete fix for invalid context paths in StandardContext.java / JNDI fails", "bug_description": "The fix for #57216 is aimed handle invalid context paths, such as \"/\". When using Tomcat.addWebapp() the (wrong) name for the context is already set in Line 534. public Context addWebapp(Host host, String url, String path) { return addWebapp(host, url, url, path); } public Context addWebapp(Host host, String url, String name, String path) { silence(host, url); Context ctx = createContext(host, url); ctx.setName(name); ctx.setPath(url); ctx.setDocBase(path); ... Therefore StandardContext.setPath()#2198 does not set the corrected name for the context. This causes JNDI to fail, i.e. in JSPCompilationContext.getLastModified()#410 and #421. if(invalid) should also include setting the new corrected name. Or fail hard - that would have made it easier to find. Best regards, Christian"}, {"bug_id": "57765", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "detect sample atomically works attempted invalid incorrectly autodeployment happening redeploy", "bug_title": " autodeploy sometimes fails to redeploy the latest war", "bug_description": "if a war file is updated multiple times within a 1s window the autodeployment logic may fail to deploy the latest war. this is particularly a problem if doing something like wget to install a war directly to the webapps directory.  it may fail (because the zip is invalid) but then not retry when the download completes (presumably because the file timestamp is not different to the failed timestamp, even though the file *is* different.) for example, try the following script: while [ true ]  ; do curl http://path/to/large/sample.war -o sample.war sleep 15 if [ ! -d sample ] ; then exit ; fi done with the sleep 15, tomcat should be guaranteed to unpack the war (running with its default 10s detect audodeployment files). however this script usually fails one in 20 times with a sufficiently large war file (where download time is >5s). in such cases the last autodeployment attempt logs an invalid zip, there is no subsequent autodeployment, and the timestamp of the completed (valid) download is identical to the log timestamp of the failed autodeployment, at least to a one-second resolution (common on filesystems). what i suspect is happening is, for example: 00:00:00.100 sample.war is partially written 00:00:00.200 autodeployment is attempted, and fails 00:00:00.300 sample.war is completely written 00:00:10.200 subsequent autodeployment cycle does not attempt re-deployment i suspect that at time 00:00:00.200, when the deployment fails, it records a \"last update\" timestamp.  10 seconds later it checks the timestamp of the file on disk, which will be 00:00:00 (note no milliseconds) which is not later than the \"last update\" timestamp and so it incorrectly skips the redeployment. this could probably also result in the following situation 00:00:00.100 sample.war v1 is written 00:00:00.200 autodeployment is done 00:00:00.300 sample.war v2 is written 00:00:10.200 subsequent autodeployment cycle does not attempt re-deployment and so v1 is deployed even though v2 was subsequently written. i suggest that autodeployment should wait for files to stabilise, i.e. skipping any file updated within the 1s window immediately prior to autodeployment (and ensuring that it is picked up on the next autodeployment cycle, unless it is still being changed). there are workarounds: * download to a tmp directory then atomically `mv` the file to the webapps directory upon completion * use the manager webapp instead of autodeployment but it would be nice to fix this so that autodeployment works as advertised (and i think the fix sketched here should be fairly straightforward)."}, {"bug_id": "57779", "ground_truth": ["java/org/apache/coyote/AbstractProcessor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "deadlock Worker tomcat flush error holds AbstractProcessor prio ConditionObject container", "bug_title": " Deadlock if using separate thread to write to ServletOutputStream", "bug_description": "If using a separate (non-container) thread to write to a ServletOutputStream, a deadlock can occur, if an io-error occurs during write. For example, if the client drops the connection. This is caused by a synchronized operation on the the underlying socket-object. The servlet handling thread is blocked, while waiting for the end of output from the separate thread, and holds a lock on the socket-object: \"http-bio-25030-exec-10\" daemon prio=10 tid=0x0000000001804800 nid=0x3fd0 waiting on condition [0x00007f767aeeb000] java.lang.Thread.State: WAITING (parking) at sun.misc.Unsafe.park(Native Method) - parking to wait for  <0x00000000c3b273b8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) ... at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:314) - locked <0x00000000c38ef6d8> (a org.apache.tomcat.util.net.SocketWrapper) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:745) The separate thread trys to write, but an io-error occurs: \"Thread-13\" daemon prio=10 tid=0x00007f767c5c8000 nid=0x3fda waiting for monitor entry [0x00007f767a4e2000] java.lang.Thread.State: BLOCKED (on object monitor) at org.apache.tomcat.util.net.JIoEndpoint.processSocketAsync(JIoEndpoint.java:560) - waiting to lock <0x00000000c38ef6d8> (a org.apache.tomcat.util.net.SocketWrapper) at org.apache.coyote.AbstractProcessor.setErrorState(AbstractProcessor.java:84) at org.apache.coyote.http11.AbstractHttp11Processor.action(AbstractHttp11Processor.java:802) at org.apache.coyote.Response.action(Response.java:172) at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:363) at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:331) at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:101) Now it trys to get a lock on the socket-object and both threads are blocked forever. In the former tomcat version we used (7.0.53) this was not an issue. I had a look in the source code and saw that the failing code was invented later."}, {"bug_id": "57833", "ground_truth": ["java/org/apache/tomcat/util/net/NioEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Loop ssl SSLEngineImpl AccessController Managers common close SocketChannelImpl SecureNioChannel Key", "bug_title": " NIO connector fails SSL handshake due to uppercase letters in keyAlias name", "bug_description": "Created attachment 32664 [details] Patch for fixing NIO connector SSL handshake exception due to uppercase letters in keyAlias If we create a SSL enabled NIO connector with keyAlias name containing mixed case of letters i.e. uppercase and lowercase, for instance, \"externalCA\" and try to connect to that port using SSL, then the handshake fails with following exception: ==================================================== FINE: Error during SSL handshake javax.net.ssl.SSLHandshakeException: no cipher suites in common at sun.security.ssl.Handshaker.checkThrown(Handshaker.java:1336) at sun.security.ssl.SSLEngineImpl.checkTaskThrown(SSLEngineImpl.java:519) at sun.security.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1197) at sun.security.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1169) at javax.net.ssl.SSLEngine.wrap(SSLEngine.java:469) at org.apache.tomcat.util.net.SecureNioChannel.handshakeWrap(SecureNioChannel.java:301) at org.apache.tomcat.util.net.SecureNioChannel.handshake(SecureNioChannel.java:175) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1715) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:745) Caused by: javax.net.ssl.SSLHandshakeException: no cipher suites in common at sun.security.ssl.Alerts.getSSLException(Alerts.java:192) at sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1639) at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:281) at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:269) at sun.security.ssl.ServerHandshaker.chooseCipherSuite(ServerHandshaker.java:901) at sun.security.ssl.ServerHandshaker.clientHello(ServerHandshaker.java:629) at sun.security.ssl.ServerHandshaker.processMessage(ServerHandshaker.java:167) at sun.security.ssl.Handshaker.processLoop(Handshaker.java:901) at sun.security.ssl.Handshaker$1.run(Handshaker.java:841) at sun.security.ssl.Handshaker$1.run(Handshaker.java:839) at java.security.AccessController.doPrivileged(Native Method) at sun.security.ssl.Handshaker$DelegatedTask.run(Handshaker.java:1273) at org.apache.tomcat.util.net.SecureNioChannel.tasks(SecureNioChannel.java:285) at org.apache.tomcat.util.net.SecureNioChannel.handshakeUnwrap(SecureNioChannel.java:343) at org.apache.tomcat.util.net.SecureNioChannel.handshake(SecureNioChannel.java:193) ... 6 more Apr 16, 2015 8:55:00 PM org.apache.tomcat.util.net.NioEndpoint$Poller cancelledKey FINE: Failed to close socket java.nio.channels.ClosedChannelException at sun.nio.ch.SocketChannelImpl.ensureWriteOpen(SocketChannelImpl.java:265) at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:474) at org.apache.tomcat.util.net.SecureNioChannel.flush(SecureNioChannel.java:135) at org.apache.tomcat.util.net.SecureNioChannel.close(SecureNioChannel.java:370) at org.apache.tomcat.util.net.SecureNioChannel.close(SecureNioChannel.java:398) at org.apache.tomcat.util.net.NioEndpoint$Poller.cancelledKey(NioEndpoint.java:1115) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1767) at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1698) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:745) ====================================================== Found out that the actual issue is not due to the mentioned exception message \"no cipher suites in common\" but instead the issue is due to the way X509KeyManager stores the private key. It uses map with keyAlias as key (converted to lowercase). And the calling code has to take care of passing keyAlias in lowercase while retrieving. This is correctly handled in JSSESocketFactory.getKeyManagers() method @line 594 if the key store type is default (JKS). But in case of NioEndpoint, the conversion of keyAlias to lowercase is missed and due to that, the private key is returned null causing the handshake to fail. Please find attached the patch to fix the issue. It would be good if we can throw exception with relevant message which would help us locate the issue faster. Steps to reproduce: ------------------ 1. Create a SSL enabled NIO connector with keyAlias name containing uppercase letters. 2. Try to connect to the NIO port over https. Then above exception can be seen if juli logging is enabled."}, {"bug_id": "57931", "ground_truth": ["java/org/apache/tomcat/util/net/SecureNioChannel.java", "java/org/apache/tomcat/util/net/res/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Traceback closing EOF Desired SunX Size handshake linux EOF failure", "bug_title": " NIO connector incorrectly closes connection when client certificate verification fails", "bug_description": "Created attachment 32738 [details] Test program to reproduce the issue If tomcat is set to use TLS and clientAuth=\"want\" or clientAuth=\"true\", it appears the NIO connector closes the connection in response to an untrusted client certificate.  This behavior differs from the BIO connector, and violates RFC 5246, which states that a fatal alert must be provided if \"some aspect of the cert chain was unacceptable\".  By closing the connection, this causes OpenSSL to provide an obscure error \"Unexpected EOF\", which indicates the TLS protocol was violated. I have attached a Python test program which demonstrates this behavior.  Simply run this program against a tomcat server, configured with the given server.xml Connector shown below.  Removal of the protocol attribute will use the BIO connector, and inclusion of the protocol attribute will demonstrate the NIO connector. Steps to reproduce: 1) Setup a tomcat server with the connector configuration shown below 2) Install Python as well as pyOpenSSL 3) (If necessary) Modify the test.py program to communicate with the appropriate server and port. 4) Run the test.py program. (Alternatively, if Python is not available, you should be able to use Desired behavior: Instead of closing the connection, the NIO connector should provide a fatal error response to an invalid certificate, like the BIO connector. I would strongly prefer if the response would match the response provided by Java through the BIO connector: \"alert certificate unknown\".  This would allow our program to use either connector without any changes. Impact: Due to this bug, when using the NIO connector, our program cannot differentiate between an unexpected network problem and a certificate issue during the handshake.  Because of this, the program is not able to flag and react to the possibility the certificate is invalid--it assumes an unexpected network error occurred. RFC 5246, 7.4.6.  Client Certificate: If the client does not send any certificates, the server MAY at its discretion either continue the handshake without client authentication, or respond with a fatal handshake_failure alert.  Also, if some aspect of the certificate chain was unacceptable (e.g., it was not signed by a known, trusted CA), the server MAY at its discretion either continue the handshake (considering the client unauthenticated) or send a fatal alert. NIO Connector (Incorrect behavior): python test.py Connecting... Performing SSL handshake... Traceback (most recent call last): File \"test.py\", line 18, in <module> conn.do_handshake() OpenSSL.SSL.SysCallError: (-1, 'Unexpected EOF') BIO connector (Correct behavior): python test.py Connecting... Performing SSL handshake... Traceback (most recent call last): File \"test.py\", line 18, in <module> conn.do_handshake() File \"build/bdist.linux-x86_64/egg/OpenSSL/SSL.py\", line 1442, in do_handshake File \"build/bdist.linux-x86_64/egg/OpenSSL/SSL.py\", line 1187, in _raise_ssl_error File \"build/bdist.linux-x86_64/egg/OpenSSL/_util.py\", line 48, in exception_from_error_queue OpenSSL.SSL.Error: [('SSL routines', 'SSL3_READ_BYTES', 'sslv3 alert certificate unknown')] Connector Configuration: <Connector port=\"10443\" maxHttpHeaderSize=\"4096\" maxThreads=\"75\" minSpareThreads=\"25\" maxKeepAliveRequests=\"-1\" keepAliveTimeout=\"180000\" enableLookups=\"false\" disableUploadTimeout=\"true\" acceptCount=\"10\" scheme=\"https\" secure=\"true\" SSLEnabled=\"true\" clientAuth=\"want\" sslProtocol=\"TLS\" sslEnabledProtocols=\"TLSv1.2,TLSv1\" connectionTimeout=\"10000\" protocol=\"org.apache.coyote.http11.Http11NioProtocol\" keystoreFile=\"example.keystore\" keystorePass=\"example\" algorithm=\"SunX509\" truststoreFile=\"example.keystore\" truststorePass=\"example\" truststoreType=\"JKS\" keyAlias=\"tomcat\" compression=\"on\" compressionMinSize=\"2048\" ciphers=\"TLS_DHE_RSA_WITH_AES_128_CBC_SHA\"/>"}, {"bug_id": "57943", "ground_truth": ["java/org/apache/tomcat/util/net/NioEndpoint.java", "java/org/apache/tomcat/util/net/res/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Poller process tomcat accept Exception Modification Client lang Nio nio", "bug_title": " NioEndpoint, one poller thread died", "bug_description": "when i restart tomcat,the tomcat can not process request soon\u00ef\u00bc\u0152i find an error log Exception in thread \"http-nio-7001-ClientPoller-1\" java.util.ConcurrentModificationException at java.util.HashMap$HashIterator.nextEntry(HashMap.java:793) at java.util.HashMap$KeyIterator.next(HashMap.java:828) at java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1010) at org.apache.tomcat.util.net.NioEndpoint$Poller.timeout(NioEndpoint.java:1421) at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:1215) at java.lang.Thread.run(Thread.java:662) tomcat poller thread is not catch this exception,so this thread is died. connection is accept but has no poller thread to process."}, {"bug_id": "57959", "ground_truth": ["java/org/apache/juli/FileHandler.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "java readLock order code code correct readLock latest log acquire", "bug_title": " Deadlock in FileHandler.java when log is rotated", "bug_description": "Tomcat 7 will deadlock when a log file is rotated.  This issue has been fixed in latest tomcat 6 and tomcat 8 but not in tomcat 7. The issue is in following code (apache-tomcat-7.0.62-src/java/org/apache/juli/FileHandler.java:188) } finally { writerLock.writeLock().unlock(); // Down grade to read-lock. This ensures the writer remains valid // until the log message is written writerLock.readLock().lock(); } } Despite the comment the order is wrong, you have to acquire a read lock then release write lock to make sure the race condition does not occur. The correct way to do it is: } finally { writerLock.readLock().lock(); writerLock.writeLock().unlock(); } } In tomcat 6 (apache-tomcat-6.0.44-src/java/org/apache/juli/FileHandler.java:187) and tomcat 8 (apache-tomcat-8.0.22-src/java/org/apache/juli/FileHandler.java:186) the order is correct."}, {"bug_id": "57977", "ground_truth": ["java/org/apache/catalina/valves/PersistentValve.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Valve method isn current isn restored loader bind attachment patch", "bug_title": " The original class loader isn't re-bound to the thread in PersistentValve.invoke()", "bug_description": "Created attachment 32769 [details] patch against trunk In PersistentValve.invoke(Request, Response) method, The Webapp class loader has been bound to the current thread. However, the original class loader that had been used before bind isn't restored to the thread. The original class loader should be re-bound to the thread."}, {"bug_id": "58023", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "signed heap test heap occur Loader WebappClassLoader instances WebappClassLoader elapsed", "bug_title": " Memory Leak in WebappClassLoader", "bug_description": "Memory leak occur because a reference of entry.manifest is never removed. Problem: 1 - ${class}.class.getResource( ${resource.name1} ); 2 - JarFile load a manifest. 3- resourceEntries put a new ResourceEntry with a manifest reference. 4 - ${class}.class.getResource( ${resource.name2} ); 5 - resourceEntries put a new ResourceEntry with a manifest reference. Manifest contains ~20MB, but, no problem because the JarFile is the same reference. In other words, only one Manifest in the Heap space. 6 - wait for 90000 milliseconds. 7 - ${class}.class.getResource( ${resource.name3} ); 8 - WebappClassLoader.closeJARs because time is elapsed 90000 milliseconds and load a new JarFile instances. 9 - JarFile load a new manifest. 10 - resourceEntries put a new ResourceEntry with a new manifest reference. 11 - wait for 90000 milliseconds ... And this will be memory leak in little time (See resourceEntries.png). In attachment, a scenario to simulate this problem. PS.: A jar file need to be signed for accelerate leak, because of Manifest.entries ~5MB (see manifests.png) retained heap (in test case, but, my real app is ~20MB). I attached the heap dump used in this test case (heap.zip). Solution: Always release the manifest reference. Workaround: public class WebappClassLoader extends org.apache.catalina.loader.WebappClassLoader { @Override public InputStream getResourceAsStream( String name ) { InputStream in = super.getResourceAsStream( name ); ResourceEntry entry = resourceEntries.get( name ); if ( entry != null ) { // prevent a memory leak entry.manifest = null; entry.certificates = null; } return in; } @Override public URL getResource( String name ) { URL url = super.getResource( name ); ResourceEntry entry = resourceEntries.get( name ); if ( entry != null ) { // prevent a memory leak entry.manifest = null; entry.certificates = null; } return url; } }"}, {"bug_id": "58110", "ground_truth": ["java/org/apache/jasper/compiler/ErrorDispatcher.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "UTF JDT Wrapper JspCompilationContext size DefaultErrorHandler contentType javacError \u00e4\u00b8\u00aa\u00e9\u201d\u2122\u00e8\u00af\u00af Dispatcher", "bug_title": " JSP compiler points error to wrong line number when there are two same return statements.", "bug_description": "Created attachment 32888 [details] Apache Tomcat_7.0.61 - Error report.html I forgot to delete the last return \"\" statement, and JSP compile point error to line number #8 which is same as the last return statement. Code: ---------------------------------------------------------------------------------------------------- <%@ page pageEncoding='UTF-8' contentType='text/html'%> <%@ page import = 'java.util.*' %> <%! String test () { List<Object> listObjectClasses = null; if (listObjectClasses==null || listObjectClasses.size()==0) return \"\"; String sImageIconFile = null; for (Object objectClass : listObjectClasses) { //sImageIconFile = \"active-directory-objectClass-\" + (String)objectClass + \".png\"; } boolean isImageIconFileExist = false; if (! (sImageIconFile==null || sImageIconFile.isEmpty())) { sImageIconFile = \"images/\" + sImageIconFile; //File fileImageIcon = new File (application.getRealPath (sImageIconFile)); //isImageIconFileExist = fileImageIcon.exists (); } return (sImageIconFile==null || sImageIconFile.isEmpty()) ? \"\" : \"<img src='\" + sImageIconFile + \"'/>\"; return \"\"; // This statement above will cause tomcat JDT compiler point error to line #8\u00e3\u20ac\u201a But if move this line into the above line, then compiler will point error to the right line number #23 } %> ---------------------------------------------------------------------------------------------------- JSP compile exception ---------------------------------------------------------------------------------------------------- org.apache.jasper.JasperException: Unable to compile class for JSP: An error occurred at line: 8 in the jsp file: /test.jsp Unreachable code 5: { 6: \tList<Object> listObjectClasses = null; 7: \tif (listObjectClasses==null || listObjectClasses.size()==0) 8: \t\treturn \"1\"; 9: 10: \tString sImageIconFile = null; 11: \tfor (Object objectClass : listObjectClasses) Stacktrace: org.apache.jasper.compiler.DefaultErrorHandler.javacError(DefaultErrorHandler.java:103) org.apache.jasper.compiler.ErrorDispatcher.javacError(ErrorDispatcher.java:366) org.apache.jasper.compiler.JDTCompiler.generateClass(JDTCompiler.java:485) org.apache.jasper.compiler.Compiler.compile(Compiler.java:379) org.apache.jasper.compiler.Compiler.compile(Compiler.java:354) org.apache.jasper.compiler.Compiler.compile(Compiler.java:341) org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:657) org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357) org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:395) org.apache.jasper.servlet.JspServlet.service(JspServlet.java:339) javax.servlet.http.HttpServlet.service(HttpServlet.java:731) org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:108) ---------------------------------------------------------------------------------------------------- If I put the test() function into a .java file and use javac to compile it, javac will point error to right line number. ---------------------------------------------------------------------------------------------------- $ javac Test.java Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=lcd Test.java:24: \u00e9\u201d\u2122\u00e8\u00af\u00af: \u00e6\u2014\u00a0\u00e6\u00b3\u2022\u00e8\u00ae\u00bf\u00e9\u2014\u00ae\u00e7\u0161\u201e\u00e8\u00af\u00ad\u00e5?\u00a5 return \"\"; ^ 1 \u00e4\u00b8\u00aa\u00e9\u201d\u2122\u00e8\u00af\u00af ----------------------------------------------------------------------------------------------------"}, {"bug_id": "58119", "ground_truth": ["java/org/apache/jasper/compiler/JspUtil.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "tags jasper notice Util   tag", "bug_title": " Compiled tags are not put in correct directory", "bug_description": "You will notice that when tags are compiled they are placed in the org\\apache\\jsp\\tag directory with a prefix of web. They should instead be placed in org\\apache\\jsp\\tag\\web directory and not have a prefix. This is a regression which was introduced in revision 1297213. http://svn.apache.org/viewvc/tomcat/trunk/java/org/apache/jasper/compiler/JspUtil.java?r1=1297213&r2=1297212&pathrev=1297213 The extra dot on the end of the string was omitted. This bug is was introduced in Jetty 7 so the fix should be applied there too."}, {"bug_id": "58157", "ground_truth": ["java/org/apache/coyote/AsyncStateMachine.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "dispatching onTimeout occasionally servlet Actual JMeter java recycled cancelled Coyote", "bug_title": " RecycleRequiredException and missing AsyncListener.onTimeout call", "bug_description": "Created attachment 32916 [details] Servlet which starts asynchronous processing and intentionally waits for a timeout before dispatching to a static HTML file. Overview: When repeatedly polling an asynchronous servlet which (intentionally) times out, I occasionally see the following exception in the console: Jul 20, 2015 8:58:45 AM org.apache.catalina.connector.CoyoteAdapter checkRecycled INFO: Encountered a non-recycled request and recycled it forcedly. org.apache.catalina.connector.CoyoteAdapter$RecycleRequiredException at org.apache.catalina.connector.CoyoteAdapter.checkRecycled(CoyoteAdapter.java:590) at org.apache.coyote.http11.AbstractHttp11Processor.recycle(AbstractHttp11Processor.java:1809) at org.apache.coyote.http11.Http11NioProtocol$Http11ConnectionHandler.release(Http11NioProtocol.java:199) at org.apache.tomcat.util.net.NioEndpoint$Poller.cancelledKey(NioEndpoint.java:1100) at org.apache.tomcat.util.net.NioEndpoint$Poller.timeout(NioEndpoint.java:1466) at org.apache.tomcat.util.net.NioEndpoint$Poller.run(NioEndpoint.java:1234) at java.lang.Thread.run(Thread.java:745) This coincides with a request not receiving any response. The majority of times the servlet is called, the correct response is returned as expected once the request times out, however on occasion (sometimes within 1 min, sometimes not until 30 mins of successful requests have passed) I see this exception and AsyncListener.onTimeout() is never called to produce the response. Steps to reproduce: 0) Configure Tomcat to use the NIO connector 1) Deploy the attached TimeoutServlet (note: add a static HTML page 'timeout.html' to the root of the web application to serve as the timeout response). 2) Using a tool of your choice (I used JMeter), repeatedly send a request to the servlet and wait for the timeout response before sending the next request. Actual Results: Eventually, one of the requests will receive no response and the above exception will be written to the console. Expected Results: Every request should receive the timeout response (timeout.html) after 1 second and no exception should appear in the console. Additional Information: Appears to be very similar to https://bz.apache.org/bugzilla/show_bug.cgi?id=57011."}, {"bug_id": "58166", "ground_truth": ["java/org/apache/tomcat/websocket/Util.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "websocket CloseCodes Tomcat support apache Util", "bug_title": " Tomcat does not support application-specific close codes", "bug_description": "org.apache.tomcat.websocket.Util.getCloseCode() converts codes between 3000 and 4999 to 1000. This behaviour is non-standard and differs from the behaviour of javax.websocket.CloseReason$CloseCodes which returns the correct close codes. return new CloseReason.CloseCode() { @Override public int getCode() { return code; } };"}, {"bug_id": "58179", "ground_truth": ["java/org/apache/catalina/core/ApplicationContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Singapore bug occurs listener ApplicationContext context catalina core apache java", "bug_title": " Atomicity violation", "bug_description": "My name is Bai Guangdong, a research fellow from National University of Singapore. I find an atomicity violation similar to bug 53498. The problem occurs in the same file java/org/apache/catalina/core/ApplicationContext.java. Look at the code snippet below. L791         oldValue = attributes.get(name); L792         if (oldValue != null) L793             replaced = true; L794         attributes.put(name, value); ...          ... L801         if (replaced) L802             event = L803                 new ServletContextAttributeEvent(context.getServletContext(), L804                                                  name, oldValue); L805         else L806             event = L807                 new ServletContextAttributeEvent(context.getServletContext(), L808                                                  name, value); ...          ... L816                 if (replaced) { L817                     context.fireContainerEvent L818                         (\"beforeContextAttributeReplaced\", listener); L819                     listener.attributeReplaced(event); L820                     context.fireContainerEvent(\"afterContextAttributeReplaced\", L821                                                listener); L822                 } else { L823                     context.fireContainerEvent(\"beforeContextAttributeAdded\", L824                                                listener); L825                     listener.attributeAdded(event); L826                     context.fireContainerEvent(\"afterContextAttributeAdded\", L827                                                listener); Suppose two threads T1 and T2 executes this code snippet with the same key (\"name\"). Initially, \"attributes\" is empty. T1 executes line 791 and \"oldValue\" in T1 becomes null. Before T1 executes line 794, T2 executes 791 and \"oldValue\" in T2 becomes null as well. Then T1 executes line 794, and later T2 replaces T1's \"value\" at line 794. Afterwards, both T1 and T2 fire the \"beforeContextAttributeAdded\" event at line 823. However, in the above situation, \"replaced\" in T2 should be true and \"beforeContextAttributeReplaced\" should be fired at line 817."}, {"bug_id": "58187", "ground_truth": ["java/org/apache/catalina/startup/HostConfig.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "appears text manager deploy start update process status deployment ends", "bug_title": " Tomcat manager incorrect deployment status", "bug_description": "When using the manager to deploy a war file (using html or text version of the manager), the response sent from the tomcat manager appears before the application ends its starting. It appears after deployment but before application's context is fully up. That means if the application fails in its start process, Tomcat manager will already have answered that the application has been deployed. It was not the case with Tomcat 7.0.61. It affects versions 7.0.63, and 7.0.62 of the Tomcat manager. The parameters used are: - war file located on server (/home/xxx.war), - update = true, - simple context (my-context) Maybe the response has become asynchronous when Tomcat manager is deploying war file ? It would be very strange since the reload is not asynchronous in all Tomcat versions."}, {"bug_id": "58192", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoader.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Illegal discussion lang Lifecycle GEOS Context ticket working", "bug_title": " ImageIO based applications fail to deploy in Tomcat 8.0.24 (worked in 8.0.23)", "bug_description": "We have received several reports recently that GeoServer fails to deploy in Tomcat 8, and with some discussion, we poinpointed 8.0.24 as the version where this start happening, we have reports of deploys working without problems on 8.0.21 and 8.0.23 instead. The issue happens as we try to initialize the ImageIO subsystem, here is the stack trace: java.util.ServiceConfigurationError: javax.imageio.spi.ImageReaderSpi: Provider com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReaderSpi could not be instantiated at java.util.ServiceLoader.fail(ServiceLoader.java:232) at java.util.ServiceLoader.access$100(ServiceLoader.java:185) at java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:384) at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404) at java.util.ServiceLoader$1.next(ServiceLoader.java:480) at javax.imageio.spi.IIORegistry.registerApplicationClasspathSpis(IIORegistry.java:210) at javax.imageio.spi.IIORegistry.<init>(IIORegistry.java:138) at javax.imageio.spi.IIORegistry.getDefaultInstance(IIORegistry.java:159) at org.geoserver.GeoserverInitStartupListener.contextDestroyed(GeoserverInitStartupListener.java:295) at org.apache.catalina.core.StandardContext.listenerStop(StandardContext.java:4776) at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5390) at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:232) at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:160) at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:725) at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:701) at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:717) at org.apache.catalina.startup.HostConfig.deployWAR(HostConfig.java:945) at org.apache.catalina.startup.HostConfig$DeployWar.run(HostConfig.java:1768) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)at java.lang.Thread.run(Thread.java:745) Caused by: java.lang.IllegalArgumentException: vendorName == null! at javax.imageio.spi.IIOServiceProvider.<init>(IIOServiceProvider.java:76) at javax.imageio.spi.ImageReaderWriterSpi.<init>(ImageReaderWriterSpi.java:231) at javax.imageio.spi.ImageReaderSpi.<init>(ImageReaderSpi.java:212) at com.sun.media.imageioimpl.plugins.jpeg.CLibJPEGImageReaderSpi.<init>(CLibJPEGImageReaderSpi.java:80) at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) at java.lang.reflect.Constructor.newInstance(Constructor.java:422) at java.lang.Class.newInstance(Class.java:442) at java.util Here is the associated GeoServer ticket: https://osgeo-org.atlassian.net/browse/GEOS-7122"}, {"bug_id": "58275", "ground_truth": ["java/org/apache/tomcat/util/net/jsse/JSSESocketFactory.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "ciphers bugzilla request method Docs SSYKE RSA list bug security", "bug_title": " TLS prefixed ciphers are discarded with IBM JRE", "bug_description": "Regarding IBM JRE ciphersuites, below IBM documentation says that https://www-01.ibm.com/support/knowledgecenter/SSYKE2_7.0.0/com.ibm.java.security.component.71.doc/security-component/jsse2Docs/ciphersuites.html +++++++ Note: In the following list, the string \"SSL\" is interchangeable with \"TLS\" and vice versa. For example, where SSL_RSA_WITH_AES_128_CBC_SHA is specified, TLS_RSA_WITH_AES_128_CBC_SHA also applies. ++++++++ However if I set TLS prefixed ciphers using the setCiphers method of org.apache.coyote.http11.Http11Protocol object, it is not taking effect. I see the following bugzilla thread which says https://bz.apache.org/bugzilla/show_bug.cgi?id=57718 +++ IBM uses SSL_XXX for all it ciphers although it will accept TLS_XXX. When Tomcat compares the available ciphers against the requested ciphers it can't tell that SSL_XXX and TLS_XXX are the same. +++++++++++ My request here is to see we have some option to avoid this check of cipher list against the available ciphers?. If not, can we have such option, as a JVM parameter or something, so that we can make use of it to allow TLS prefixed ciphers with IBM JRE?"}, {"bug_id": "58296", "ground_truth": ["java/org/apache/jasper/util/FastRemovalDequeue.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Map reproducible FastRemovalDequeue open ParserController entries open apache max JspCompilationContext", "bug_title": " Possible memory leak in JspRuntimeContext", "bug_description": "Limitation of maxLoadedJsps and usage of tag files may result in a memory leak in JspRuntimeContext. Steps to reproduce the leak: 1) Set Tomcat in its web.xml to production mode and limit the max jsp count to 2 <init-param> <param-name>maxLoadedJsps</param-name> <param-value>2</param-value> </init-param> <init-param> <param-name>development</param-name> <param-value>false</param-value> </init-param> 2) deploy the attach WAR-file \"tomcat-test.war\". The WAR contains one HttpServlet, three jsps and one tag file. GET-Requests to http://localhost:8080/tomcat-test/test render the jsps in the sequence \"1.jsp\" -> \"2.jsp\" -> \"3.jsp\". JSPs 1.jsp and 3.jsp use the tag \"test.tag\", 2.jsp contains only html. 3) make at least 5 GET-Requests to http://localhost:8080/tomcat-test/test 4) take a heap dump 5) open the dump with Eclipse MAT 6) execute the OOQL-Query select * from org.apache.jasper.util.FastRemovalDequeue$Entry e where e.valid=false 7) \"Path To GC Roots\" (right click on one result) shows that the invalid entries are in the retained heap of the tag's JspServletWrapper and hence in the retained heap of JspRuntimeContext. The retained heap of JspRuntimeContext grows with every unloaded Jsp (its Entry in the jspQueue). The bug is reproducible with Tomcat 7.0.52 and 8.0.26. Supposed causes: 1) FastRemovalDequeue: removed Entry-instances are flagged as invalid. The \"previous\"-field of removed elements isn't set to null. So removed elements still reference their \"previous\" element (which still may be in the jspQueue of JspRuntimeContext) 2) JspServletWrappers of currently loaded jsps and tag files are stored in the ConcurrentHashMap \"jsps\" in JspRuntimeContext. JspServletWrappers of Tag files hold (indirectly over JspCompilationContext -> JasperTagInfo -> ImplicitTagLibraryInfo -> ParserController) references to JspServletWrapper instances with already removed \"unloadHandles\" (FastRemovalDequeue$Entry instances with valid == false). 2) leads in combination with 1) to a reproducible memory leak: the chain of \"previous\" linked entries contains all JspServletWrappers of unloaded and currently loaded jsps. In combination with maxLoadedJsps != -1, the chain can grow till an OutOfMemoryError occurs."}, {"bug_id": "58342", "ground_truth": ["bin/catalina.sh", "webapps/docs/changelog.xml", "java/org/apache/tomcat/websocket/WsSession.java"], "repo": "tomcat70", "reformed_query": "removeMessageHandler versions Handler WsSession repeated older patch Session older apache", "bug_title": " org.apache.tomcat.websocket.WsSession has repeated conditional tests", "bug_description": "Created attachment 33078 [details] Patch file In the method WsSession.removeMessageHandler(), two `if` statements have repeated conditional tests. I did not investigate whether older versions of Tomcat have it however they're present in trunk. I am attaching a patch to fix it. I ran the tests and they passed with my changes."}, {"bug_id": "58357", "ground_truth": ["java/org/apache/coyote/http11/LocalStrings.properties", "java/org/apache/coyote/http11/InternalAprInputBuffer.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "WstxIOException IOException BasicStreamReader coyote fill apr Tomcat BasicStreamReader read serverside", "bug_title": " Read failed with APR/native error code [20,014]", "bug_description": "Created attachment 33090 [details] Solr webapp log Tomcat throws exception while reading from SSL/TLS APR connector. I attached detailed log. 04-Sep-2015 01:14:15.665 SEVERE [http-apr-9443-exec-6] org.apache.solr.common.SolrException.log org.apache.solr.common.SolrException: Read failed with APR/native error code [20,014] at org.apache.solr.handler.loader.XMLLoader.load(XMLLoader.java:176) ... Caused by: com.ctc.wstx.exc.WstxIOException: Read failed with APR/native error code [20,014] at com.ctc.wstx.sr.StreamScanner.throwFromIOE(StreamScanner.java:708) at com.ctc.wstx.sr.BasicStreamReader.next(BasicStreamReader.java:1086) at org.apache.solr.handler.loader.XMLLoader.readDoc(XMLLoader.java:391) ... Caused by: java.io.IOException: Read failed with APR/native error code [20,014] at org.apache.coyote.http11.InternalAprInputBuffer.fill(InternalAprInputBuffer.java:607) at org.apache.coyote.http11.InternalAprInputBuffer$SocketInputBuffer.doRead(InternalAprInputBuffer.java:688) at org.apache.coyote.http11.filters.ChunkedInputFilter.readBytes(ChunkedInputFilter.java:314) The serverside exception cause an exception on the SolrJ client. Additional logs and server.xml forthcoming."}, {"bug_id": "58497", "ground_truth": ["java/org/apache/coyote/http11/AbstractHttp11Processor.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "outputFilters versions Filters marked Processor ActionCode code coyote implementation grepcode", "bug_title": " Unable to have a custom implementation of AbstractHttp11Processor due to package private methods", "bug_description": "http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-coyote/7.0.54/org/apache/coyote/http11/AbstractHttp11Processor.java#AbstractHttp11Processor Class org.apache.coyote.http11.AbstractHttp11Processor is marked as a \"public abstract\" class. However: abstract boolean  [More ...] prepareSendfile(OutputFilter[] outputFilters); The above method \"prepareSendfile\" is not marked as public ( i.e. made a package private) and thus cannot be overridden from an extending class which is outside of the \"org.apache.coyote.http11\" package. Same can be said for :   \"abstract void  actionInternal(ActionCode actionCode, Object param)\" method as well. We have a requirement of having a custom implementation for AbstractHttp11Processor but now we cannot because these methods cannot be overridden unless we modify in the tomcat source code. Thus this is proving a blocker for us. Is there any specific reason these were made \"package private\" because the class itself is abstract & public ? Am not too sure but this might be applicable to latest tomcat (e.g.8 ) versions too."}, {"bug_id": "58508", "ground_truth": ["java/org/apache/catalina/mbeans/MBeanUtils.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "soleil tomcat find users connection server froid", "bug_title": " role_name in tomcat-users.xml : invalid character", "bug_description": "Bonjour, My tomcat server send exception about invalid characters with a role name \"ubx:5485\" ; My first question is : why ? ;o) and I would like find specifications about valid characters for a role name. do you have some solution , because I used Ldap connection, and all my groups are this format \"xx:yyy:zzz\" . Thanks a lot , Frederic (de Bordeaux : soleil et froid )"}, {"bug_id": "58522", "ground_truth": ["java/org/apache/naming/resources/WARDirContext.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Entry method error performs discovered concurrency flow Arrays WARDirContext files", "bug_title": " concurrency problem corrupts WARDirContext.Entry children", "bug_description": "We discovered a problem where calling ServletContext.getResourcePaths from a jsp may corrupt WARDirContext.Entry.children. The WARDirContext.list(Entry) method performs an Arrays.sort(children) call which is not thread-safe. Calling this from multiple request threads may result in the children array losing some entries and duplicating others. When entries representing directories in the war are lost, Tomcat cannot load resources from there. Static resource requests result in http error code 404 and jsp compliation can throw JasperException when included files are not found. We have seen this on CentOS 6.5 (and newer versions) with Tomcat 7.0.52 and Java 1.7.0_51. The following are attached in the zip: * Test case project which demonstrates this corruption. It usually requires multiple runs. * A stack trace illustrating the problematic flow. * A patch file for WARDirContext.java."}, {"bug_id": "58568", "ground_truth": ["java/org/apache/catalina/loader/WebappClassLoaderBase.java"], "repo": "tomcat70", "reformed_query": "Loader apache exposes Webapp instance system fixed introduced", "bug_title": " WebappClassLoaderBase exposes null \"system\" instance member", "bug_description": "The WebappClassLoaderBase contains a \"system\" instance member that is never initialized. It seems like this bug was introduced when https://bz.apache.org/bugzilla/show_bug.cgi?id=55943 was fixed."}, {"bug_id": "58603", "ground_truth": ["java/org/apache/catalina/filters/RemoteIpFilter.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "HttpServletRequestWrapper implementation Wrapper CloudFront correctly RemoteIpFilter Details containers existing haven", "bug_title": " RemoteIpFilter does not adjust getRequestURL()", "bug_description": "Created attachment 33272 [details] Details for how to reproduce the bug When putting an HTTP server behind a forwarder -- such as nginx or Amazon CloudFront -- special HTTP headers are sent -- such as X-Forwarded-Proto and X-Forwarded-For -- to allow the server to reconstruct the URL that the client used for making the request. This is important, for example, to construct a meaningful \"Location\" HTTP response header. The purpose of the RemoteIpFilter is to give servlets the impression that they are operating on the original, pre-forwarded request. Hence, without changing any line of code, the existing servlets can construct meaningful URL for the client. Unfortunately, the wrapped request that RemoteIpFilter produces does not correctly implement getRequestURL(). In fact, it simply forwards this call to the wrapped request, which contains non-meaningful information about e.g., the HTTP schema [1][2]. This currently breaks Jetty, which relies on getRequestURL to construct a correct \"Location\" header [3]. (See attachment for details on how to reproduce the bug.) I'm not sure what the best technical solution would be. Should RemoteIpFilter.XForwardedRequest implement its own getRequestURL? I haven't found an implementation for it. Could somebody point me to it? [1] http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-catalina/8.0.24/org/apache/catalina/filters/RemoteIpFilter.java#444 [2] http://grepcode.com/file/repo1.maven.org/maven2/org.apache.tomcat/tomcat-servlet-api/8.0.24/javax/servlet/http/HttpServletRequestWrapper.java#212 [3] http://grepcode.com/file/repo1.maven.org/maven2/org.glassfish.jersey.containers/jersey-container-servlet-core/2.19/org/glassfish/jersey/servlet/ServletContainer.java#253"}, {"bug_id": "58701", "ground_truth": ["webapps/docs/changelog.xml", "java/org/apache/catalina/core/StandardWrapper.java"], "repo": "tomcat70", "reformed_query": "field Exception RuntimeException subsequent Access JSP reset fails StandardWrapper Initialization", "bug_title": " JSP Reloading Initialization Problem", "bug_description": "Created attachment 33332 [details] The logs for the tomcat reloading bug. My company uses a custom inhouse tomcat library for hotloading generated source into tomcat at runtime. This custom classloader requires tomcat's JSP engine to perform a reload, so that it can recognize the newly generated classes. We are performing the following code to facilitate this: Context context = this.getContext(); Wrapper jspWrapper = (Wrapper)context.findChild(\"jsp\"); // There might not be any jsps if we're just getting started. if (jspWrapper==null) return; jspWrapper.unload(); jspWrapper.load(); This code works just fine on Tomcat 6. However, when migrating this custom classloader to Tomcat 8, a subsequent JSP page load fails with the attached stacktrace. I have investigated this stack trace and come to the conclusion that, in StandardWrapper.java on line 1473, although the instance itself is set to null, the field \"instanceInitialized\" is still set to true. This means that my next call to load will recreate the JspServlet, but it will not be initialized correctly, thus causing the error in the attached stacktrace. I have seen in the debugger that it is indeed the case that the JspServlet is not being initialized properly. A fix for this bug is to simply add this line: instanceInitialized = false; to line 1474 in StandardWrapper.java. I have successfully been able to work around this bug in my own code with the following hack: Context context = this.getContext(); Wrapper jspWrapper = (Wrapper)context.findChild(\"jsp\"); // There might not be any jsps if we're just getting started. if (jspWrapper==null) return; jspWrapper.unload(); // tomcat-catalina 8.0.29 // This custom hack is required to fix a bug in the StandardWrapper catalina sourcecode. This custom field in their source was not reset back to false // after calling unload, so the underlying JspServlet (the instance) did not get initialized properly upon calling load. // This bug happens in tomcat 7 and 8. AccessController.doPrivileged(new PrivilegedAction<Boolean>() { public Boolean run() { try { Field field = ((StandardWrapper)jspWrapper).getClass().getDeclaredField(\"instanceInitialized\"); field.setAccessible(true); field.setBoolean(jspWrapper, false); } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) { throw new RuntimeException(e); } return Boolean.TRUE; } }); jspWrapper.load(); Although as you can see it is far from ideal."}, {"bug_id": "59015", "ground_truth": ["java/org/apache/tomcat/util/net/AprEndpoint.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Connector Base xfdf poller startup apr startup prio apache Wrapper", "bug_title": " Endless loop in APR poller during connector shutdown", "bug_description": "While running the TC 8 test suite and endless loop int he APR poller occured during the test org.apache.catalina.core.TestStandardWrapper. The situation might be a race condition that is not related to the specific test. Code was TC 8 HEAD plus APR 1.2.4 based on OpenSSL 1.0.2f and APR 1.5.2. Platform Sun Solaris 10 Sparc. The machine was pretty busy, when the problem occured. Error message occuring before the loop starts (only one such message): [junit] 16-Feb-2016 17:30:31.285 SEVERE [http-apr-127.0.0.1-auto-6-Poller] org.apache.tomcat.util.net.AprEndpoint$Poller.run Poller failed with error [9] : [Bad file number] Relevant stacks: main seems to hang in [junit] \"main\" prio=3 tid=0x0002a400 nid=0x2 runnable [0xfdf7d000] [junit]    java.lang.Thread.State: RUNNABLE [junit]     at org.apache.tomcat.jni.Pool.destroy(Native Method) [junit]     at org.apache.tomcat.util.net.AprEndpoint$Sendfile.destroy(AprEndpoint.java:2147) [junit]     at org.apache.tomcat.util.net.AprEndpoint.stopInternal(AprEndpoint.java:781) [junit]     at org.apache.tomcat.util.net.AbstractEndpoint.stop(AbstractEndpoint.java:814) [junit]     at org.apache.coyote.AbstractProtocol.stop(AbstractProtocol.java:517) [junit]     at org.apache.catalina.connector.Connector.stopInternal(Connector.java:1011) [junit]     at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:224) [junit]     - locked <0xe6337060> (a org.apache.catalina.connector.Connector) [junit]     at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:517) [junit]     - locked <0xe633eb28> (a java.lang.Object) [junit]     at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:224) [junit]     - locked <0xe633ea58> (a org.apache.catalina.core.StandardService) [junit]     at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:790) [junit]     at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:224) [junit]     - locked <0xe633e2c8> (a org.apache.catalina.core.StandardServer) [junit]     at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:355) [junit]     at org.apache.catalina.startup.TomcatBaseTest.tearDown(TomcatBaseTest.java:218) Poller seems to loop, whenever I look it is in: [junit] \"http-apr-127.0.0.1-auto-6-Poller\" daemon prio=3 tid=0x004fbc00 nid=0x4d runnable [0xb2aff000] [junit]    java.lang.Thread.State: RUNNABLE [junit]     at org.apache.tomcat.jni.Poll.create(Native Method) [junit]     at org.apache.tomcat.util.net.AprEndpoint.allocatePoller(AprEndpoint.java:881) [junit]     at org.apache.tomcat.util.net.AprEndpoint$Poller.run(AprEndpoint.java:1988) [junit]     at java.lang.Thread.run(Thread.java:745) [junit] Regards, Rainer"}, {"bug_id": "59043", "ground_truth": ["java/org/apache/catalina/authenticator/AuthenticatorBase.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "nio register Session doe SSO invoking Authenticator FORM expiring unable", "bug_title": " SingleSignOn valve warns about missing session when invoking HttpServletRequest.logout", "bug_description": "When HttpServletRequest.logout() is invoked, first the ID of the current session is changed, then all the sessions in SingleSignOnEntry are expired, but the current one has changed its ID, hence the annoying warning. From the log: ... FINE [http-nio-8080-exec-3] AuthenticatorBase.register Authenticated 'john.doe' with type 'FORM' FINE [http-nio-8080-exec-3] AuthenticatorBase.register Session ID changed on authentication from [6F6874832A811D2B69AA06F3745C4CC7] to [FD2777025AC71CA72A44545472DAB5C2] FINE [http-nio-8080-exec-3] SingleSignOn.register SSO registering SSO session [9284A1891047D0FA96629C9059528302] for user [john.doe] with authentication type [FORM] FINE [http-nio-8080-exec-3] SingleSignOn.associate SSO associating application session [StandardSession[FD2777025AC71CA72A44545472DAB5C2]] with SSO session [9284A1891047D0FA96629C9059528302] ... FINE [http-nio-8080-exec-4] AuthenticatorBase.register Authenticated 'none' with type 'null' FINE [http-nio-8080-exec-4] AuthenticatorBase.register Session ID changed on authentication from [FD2777025AC71CA72A44545472DAB5C2] to [DCE8372B4BF6AD84F63BF5664D8E941E] FINE [http-nio-8080-exec-4] SingleSignOn.deregister SSO expiring application session [Host: [localhost], Context: [/app], SessionID: [FD2777025AC71CA72A44545472DAB5C2]] associated with SSO session [9284A1891047D0FA96629C9059528302] WARNING [http-nio-8080-exec-4] SingleSignOn.expire SSO unable to expire session [Host: [localhost], Context: [/app], SessionID: [FD2777025AC71CA72A44545472DAB5C2]] because the Session could not be found ..."}, {"bug_id": "59054", "ground_truth": ["java/org/apache/catalina/session/Constants.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "passing WrappingRunnable catalina attribute Crawler attribute Connection org source Endpoint", "bug_title": " CrawlerSessionManagerValve is not serializable, and throws exception when passing itself as sessionAttribute", "bug_description": "During first request to the application when user agent matches crawler pattern the execution reaches the point where it tries to store itself in sessionAttribute (s1.setAttribute(this.getClass().getName(), this)). Since CrawlerSessionManagerValve does not implement Serializable it throws exception: java.lang.IllegalArgumentException: setAttribute: Non-serializable attribute org.apache.catalina.valves.CrawlerSessionManagerValve at org.apache.catalina.session.StandardSession.setAttribute(StandardSession.java:1465) at org.apache.catalina.session.StandardSession.setAttribute(StandardSession.java:1426) at org.apache.catalina.session.StandardSessionFacade.setAttribute(StandardSessionFacade.java:154) at org.apache.catalina.valves.CrawlerSessionManagerValve.invoke(CrawlerSessionManagerValve.java:190) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423) at org.apache.coyote.ajp.AjpProcessor.process(AjpProcessor.java:190) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:316) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:745) I was able to fix this bug by modyfing source code to implement Serializable interface."}, {"bug_id": "59123", "ground_truth": ["webapps/docs/changelog.xml", "java/org/apache/catalina/realm/JNDIRealm.java"], "repo": "tomcat70", "reformed_query": "connction Attribute User invoke entry won html DirContext getRoles versions", "bug_title": " The JNDIRealm does not close the NamingEnumeration", "bug_description": "The JNDIRealm does not close any of the NamingEnumeration it uses in the following methods : - getUserBySearch, line 1685 - getRoles, line 1974 - addAttributeValues, line 2125 (this is from trunk, I saw the same issue in Tomcat 8, I suspect the problem is the same for all the tomcat versions) The problem is that if a NamingEnumeration is not close, then the associated DirContext won't be closed, even if a DirContext.close() is explicitly called, leving the DirContext opened until it times out. The consequence is that if this DirContext is taken from a Pool of connection, you pretty quickly exhaust this pool, as the connction will be back into the available connections only when they timeout (an dthe default timeout is 30s, from the top of my head). This is explicitely said on https://docs.oracle.com/javase/tutorial/jndi/ldap/close.html : \"You invoke Context.close() on a Context instance to indicate that you no longer need to use it. If the Context instance being closed is using a dedicated connection, the connection is also closed. If the Context instance is sharing a connection with other Context and unterminated NamingEnumeration instances, the connection will not be closed until close() has been invoked on all such Context and NamingEnumeration instances.\" or in https://blogs.oracle.com/moazam/entry/jndi_connections_not_closing_remember"}, {"bug_id": "59138", "ground_truth": ["java/org/apache/catalina/loader/LocalStrings.properties", "java/org/apache/catalina/loader/LocalStrings_es.properties", "webapps/docs/changelog.xml", "java/org/apache/catalina/loader/WebappClassLoaderBase.java"], "repo": "tomcat70", "reformed_query": "weakly acceptable Threads leaks loader instance java difficult read real", "bug_title": " checkThreadLocalMapForLeaks has false positives", "bug_description": "ThreadLocal$ThreadLocalMap weakly references keys but strongly references values.  However, it appears the checkThreadLocalMapForLeaks checking reports false positives if the key is a ThreadLocal subclass (e.g., anonymous class) but the value does not strongly reference the class loader (e.g., Integer, int[], List<SimpleDateFormatter>, etc.).  Example output: 07-Mar-2016 11:27:08.258 SEVERE [localhost-startStop-2] org.apache.catalina.loader.WebappClassLoaderBase.checkThreadLocalMapForLeaks The web application [servlettest-0.1] created a ThreadLocal with key of type [servlettest.TestServlet$1] (value [servlettest.TestServlet$1@40d92399]) and a value of type [java.lang.Integer] (value [1]) but failed to remove it when the web application was stopped. Threads are going to be renewed over time to try and avoid a probable memory leak. For large web applications with many such false positives, this output makes tracking down (or even noticing new) real issues more difficult.  Third party libraries refuse to adjust their use of ThreadLocal because they believe (IMO rightly) their code is not causing leaks.  I have read bug 50175 comment 6, but given that the current heuristic has false positives, can some compromise be reached?  Perhaps some configuration for stifling the warning on a per key class name basis could be added?  It would even be acceptable for us if that configuration hid the per-instance message but issued a single overall \"suppressing N ThreadLocal warnings based on config\" info/warning message."}, {"bug_id": "59145", "ground_truth": ["java/org/apache/catalina/authenticator/SingleSignOn.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Sign invalidates sources invalidate localhost Context Incorrect reproduced catalina combination", "bug_title": " Incorrect warning logging on invalidate session when using SingleSignOn valve", "bug_description": "Created attachment 33650 [details] Zip file containing java and xml sources I have created a simple Servlet which is configured to use the SingleSignOn valve in combination with BASIC authentication. When the servlet invalidates the session it results in a warning: Mar 08, 2016 12:20:06 PM org.apache.catalina.authenticator.SingleSignOn expire WARNING: SSO unable to expire session [Host: [localhost], Context: [/webproject], SessionID: [B2F3A538F5971CA3FC1EEE38CC2FFE95]] because the Session could not be found The problem can also be reproduced on Tomcat 8.0.32"}, {"bug_id": "59206", "ground_truth": ["java/org/apache/tomcat/util/file/ConfigFileLoader.java", "java/org/apache/tomcat/util/file/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "File base started ExceptionInInitializerError updating application bugzilla cgi ConfigFileLoader blob", "bug_title": " When catalina.base is not specified, ConfigFileLoader throws an NPE in a static initializer", "bug_description": "Using Tomcat 7 as an embedded servlet and updating to Tomcat 7.0.68, we found our application no longer started due to an ExceptionInInitializerError. This problem was introduced by the change for https://bz.apache.org/bugzilla/show_bug.cgi?id=56777, which includes https://github.com/apache/tomcat70/blob/trunk/java/org/apache/tomcat/util/file/ConfigFileLoader.java. This file, on line 37, loads the system property \"catalina.base\" and, when it is not set, throws a NullPointerException. It seems like it would be preferable if, when catalina.base is not specified, to avoid this NPE."}, {"bug_id": "59217", "ground_truth": ["java/org/apache/tomcat/util/http/ServerCookie.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Cookie Duplication Server Cookie details attachment recycling recycling Cookie code", "bug_title": " Duplication of the recycling of the path in the ServerCookie", "bug_description": "Created attachment 33695 [details] patch The recycling of the path is invoked twice in the ServerCookie.recycle() method. This is a duplicate code."}, {"bug_id": "59849", "ground_truth": ["modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "pool workaround Millis SunOS borrowConnection Millis running time Hot trunk", "bug_title": " initSQL not executed when JDBC connection created under load", "bug_description": "Tomcat: 7.0.57 OS: SunOS HOST 5.10 Generic_150401-20 i86pc i386 i86pc $ java -version java version \"1.8.0_65\" Java(TM) SE Runtime Environment (build 1.8.0_65-b17) Java HotSpot(TM) 64-Bit Server VM (build 25.65-b01, mixed mode) Our application relies on initSQL to set the current_schema on each JDBC connection. We noticed that when our application is under heavy load (maxActive DB connections), the application sometimes gets handed a connection that did not have initSQL executed on it. We had a look at the ConnectionPool.java source code (TOMCAT_7_0_57 and trunk) and found that there is a scenario where the pool creates a new connection without running `PooledConnection#validate(PooledConnection.VALIDATE_INIT)` on it. To reproduce this issue, two conditions need to coincide: 1) The server has to be under load. The pool needs to be saturated to the point where no new connections get created for incoming requests (requests > maxActive). Threads block on the 'idle' queue/the waitcount atomic is > 0. 2) Active connections need to be released from the pool (unhandled exceptions, maxAge, suspectTimeout etc.) Under load, the ConnectionPool#release method will create an 'ad-hoc' connection to replace the active connection it just removed from the ConnectionPool: if (waitcount.get() > 0) { idle.offer(create(true)); } The #connect call for a PooledConnection object created this way follows in #borrowConnection instead of #createConnection. In #borrowConnection there is no call to #validate(VALIDATE_INIT) before that 'ad-hoc' connection is returned to the requesting thread. Our best \"workaround\" at the moment: - Use a validationQuery that fails when initSQL was not run - enable testOnBorrow - validationInterval at 1ms The short validation interval is necessary because the 'ad-hoc' connection object will have its lastValidation time stamp set to currentTimeMillis on object creation, causing it to skip onBorrow validation immediately after it is being created. Needless to say this workaround comes at a significant performance cost to the entire application (short validationInterval) in addition to creating those uninitialized DB connections just to throw them away immediately when they inevitably fail onBorrow validation."}, {"bug_id": "59850", "ground_truth": ["modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/interceptor/StatementCache.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Result api result retrieve statement StatementCache StatementCache close closed http", "bug_title": " StatementCache interceptor does not seem to close ResultSets", "bug_description": "It seems that when enabling the StatementCache interceptor, closeing the (proxy) statement does not cause open ResultSets to be closed. This seems to be incorrect according to the Javadoc for Statement: \"A ResultSet object is automatically closed when the Statement object that generated it is closed, re-executed, or used to retrieve the next result from a sequence of multiple results.\" -- <http://docs.oracle.com/javase/6/docs/api/java/sql/ResultSet.html>"}, {"bug_id": "59908", "ground_truth": ["java/org/apache/tomcat/websocket/FutureToSendHandler.java", "java/org/apache/tomcat/websocket/LocalStrings.properties", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "tryes tomcat Message TimeoutException TimeUnit Unit Message tomcat Failure constructor", "bug_title": " Tomcat reports empty(null) close reason if send operation timed out.", "bug_description": "If Tomcat tryes to send large enough message thought websoket (I've tested binary messages) not to fit into 20 sec timeout, session is closed with null reason. \"null\" reason goes from org.apache.tomcat.websocket.FutureToSendHandler.get(long, TimeUnit) method, which throws \"TimeoutException\" constructed with default constructor. Later, in org.apache.tomcat.websocket.WsRemoteEndpointImplBase.handleSendFailureWithEncode(Throwable) CloseReason object is created, calling t.getMessage(), which returns null. The expected behaviour is not to report null close reason, but instead report, that operation timed out."}, {"bug_id": "59923", "ground_truth": ["modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/PoolProperties.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "reboots attribute Queue validationInterval validationInterval Interval fair disable result testOnBorrow", "bug_title": " The default value of validationInterval attribute is too long.", "bug_description": "The validationInterval attribute is 30 seconds by default. In case of DB reboots, trigger some problems. For example, the following events will be considered. 1. The connection is validated. 2. DB reboots. 3. getConnection() within 30 seconds. 4. The connection isn't validated by testOnBorrow. 5. Get the invalid connection. And worse, the default value of fairQueue is true. As a result, invalid connection is continued to use. Therefore, I think the default value should be more short or \"0(disable)\"."}, {"bug_id": "60008", "ground_truth": ["java/org/apache/catalina/filters/CorsFilter.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "POST Mozilla returning KHTML Origin HTTP Safari accesses Agent Version", "bug_title": " Tomcat CORS filter not allowing origin with file:// when resource access done from WebView", "bug_description": "The CORS filter not allowing request and returning 403 when the request is as follows. Request Headers POST http://kodiakptt.com/poc/ HTTP/1.1 Accept: application/json, text/plain, */* Origin: file:// User-Agent: Mozilla/5.0 (Linux; Android 4.4.2; XT1033 Build/KXB20.25-1.31) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/30.0.0.0 Mobile Safari/537.36 Content-Type: application/json;charset=UT We have a app which accesses the resource from tomcat web server, if UI is part of the app and using hosted JSCDE/mobile API js file, the webview send the request with Origin: file:// which tomcat rejects with 403 Forbidden."}, {"bug_id": "60041", "ground_truth": ["java/org/apache/catalina/loader/LocalStrings.properties", "webapps/docs/changelog.xml", "java/org/apache/catalina/loader/WebappClassLoaderBase.java"], "repo": "tomcat70", "reformed_query": "WebappClassLoaderBase method ioe Entry manifest JarFile thrown NullPointerException log reason", "bug_title": " NPE in WebappClassLoaderBase", "bug_description": "After deploy war in tomcat, delete the jar in WEB-INF/lib/, then it may throws NullPointerException when load class The reason as follow: WebappClassLoaderBase (between line 3093 and 3110 in method openJARs()) protected boolean openJARs() { if (started && (jarFiles.length > 0)) { lastJarAccessed = System.currentTimeMillis(); if (jarFiles[0] == null) { for (int i = 0; i < jarFiles.length; i++) { try { jarFiles[i] = new JarFile(jarRealFiles[i]); } catch (IOException e) { if (log.isDebugEnabled()) { log.debug(\"Failed to open JAR\", e); } return false; } } } } return true; } If IOException is thrown in line 3099, the jarFiles will be [file1,file2,NULL,NULL,...]. after that, it will return true when invoke openJARs(), beacuse jarFiles[0] != null. WebappClassLoaderBase (between line 3271 and 3285 in method openJARs()) if (openJARs()) { for (int i = 0; i < jarFiles.length; i++) { jarEntry = jarFiles[i].getJarEntry(jarEntryPath); if (jarEntry != null) { try { entry.manifest = jarFiles[i].getManifest(); } catch (IOException ioe) { // Ignore } break; } } } beacuse jarFiles=[file1,file2,NULL,NULL,...], so jarFiles[i] may be null, This will cause NullPointerException in line 3274. In this case, it is difficult to judge what went wrong. I attached a patch that fixes it"}, {"bug_id": "60043", "ground_truth": ["modules/jdbc-pool/src/main/java/org/apache/tomcat/jdbc/pool/ConnectionPool.java", "webapps/docs/changelog.xml"], "repo": "tomcat70", "reformed_query": "Pool simply condition check hanging tomcat documentation Cleaner warning configure", "bug_title": " suspectTimeout does not work as expected without removeAbandoned=\"true\" which does not match its documentation", "bug_description": "Already posted this to the mailinglist here: http://tomcat.10.x6.nabble.com/Question-about-suspectTimeout-property-of-pool-configuration-possible-Bug-does-only-work-with-removed-td5054070.html If you configure the pool to have: logAbandoned=\"true\" suspectTimeout=\"120\" set it does not report leaked connections even if you got leaked connections hanging in the busy queue. To me this looks like a bug. Docs tell this: Similar to to the removeAbandonedTimeout value but instead of treating the connection as abandoned, and potentially closing the connection, this simply logs the warning if logAbandoned is set to true. Looking at the code however the suspect() method of a connection is only called from the PoolCleaner thread in the \"checkAbandoned()\" method. But before calling that one it does check the pool configuration like this: if (pool.getPoolProperties().isRemoveAbandoned()) pool.checkAbandoned(); but i don't want to configure removeAbandoned to true - i just want to get the suspect working like expected from reading the documentation of the property without actually removing the leaked connections. Imho this needs to be changed - either the condition here is extended to look for suspectTimeout or the suspect is called in an extra method - i don't care which one is used ;)."}]